var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}))(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PlayerLoadInfo,H5Event,H5EventdispatcherCore,H5ToAIO,DeviceAndEnvironment,LZMA=(!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.FxDecoder=e()}(this,function(){var global;function initglobal(){(global=this)||("undefined"!=typeof window?global=window:"undefined"!=typeof self&&(global=self))}function error(t){}function assert(t,e){t||error(e)}return initglobal(),function(){"use strict";var getModule=function(_broadwayOnHeadersDecoded,_broadwayOnPictureDecoded){var window=this,Module=(window._broadwayOnHeadersDecoded=_broadwayOnHeadersDecoded,window._broadwayOnPictureDecoded=_broadwayOnPictureDecoded,{print:function(t){},printErr:function(t){}});function d(t){throw t}var g=void 0,i=!0,k=null,m=!1,p;function n(){return function(){}}var p=p||eval("(function() { try { return Module || {} } catch(e) { return {} } })()"),aa={},r;for(r in p)p.hasOwnProperty(r)&&(aa[r]=p[r]);var t="object"==typeof process&&"function"==typeof require,ba="object"==typeof window,ca="function"==typeof importScripts,da=!ba&&!t&&!ca,fa,ga;function ha(t){eval.call(k,t)}for(r in t?(p.print||(p.print=function(t){process.stdout.write(t+"\n")}),p.printErr||(p.printErr=function(t){process.stderr.write(t+"\n")}),fa=require("fs"),ga=require("path"),p.read=function(t,e){var t=ga.normalize(t),i=fa.readFileSync(t);return i||t==ga.resolve(t)||(t=path.join(__dirname,"..","src",t),i=fa.readFileSync(t)),i=i&&!e?i.toString():i},p.readBinary=function(t){return p.read(t,i)},p.load=function(t){ha(read(t))},p.thisProgram=1<process.argv.length?process.argv[1].replace(/\\/g,"/"):"unknown-program",p.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=p),process.on("uncaughtException",function(t){t instanceof ia||d(t)})):da?(p.print||(p.print=print),"undefined"!=typeof printErr&&(p.printErr=printErr),p.read="undefined"!=typeof read?read:function(){d("no read() available (jsc?)")},p.readBinary=function(t){return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(w("object"==typeof(t=read(t,"binary"))),t)},"undefined"!=typeof scriptArgs?p.arguments=scriptArgs:void 0!==arguments&&(p.arguments=arguments),this.Module=p,eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined")):ba||ca?(p.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,m),e.send(k),e.responseText},void 0!==arguments&&(p.arguments=arguments),"undefined"!=typeof console?(p.print||(p.print=function(t){}),p.printErr||(p.printErr=function(t){})):p.print||(p.print=n()),ba?window.Module=p:p.load=importScripts):d("Unknown runtime environment. Where are we?"),!p.load&&p.read&&(p.load=function(t){ha(p.read(t))}),p.print||(p.print=n()),p.printErr||(p.printErr=p.print),p.arguments||(p.arguments=[]),p.thisProgram||(p.thisProgram="./this.program"),p.print=p.print,p.fa=p.printErr,p.preRun=[],p.postRun=[],aa)aa.hasOwnProperty(r)&&(p[r]=aa[r]);var z={Yd:function(t){ja=t},xd:function(){return ja},Tb:function(){return y},Sb:function(t){y=t},oc:function(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return"*"===t[t.length-1]?z.ia:"i"===t[0]?(w(0==(t=parseInt(t.substr(1)))%8),t/8):0}},vd:function(t){return Math.max(z.oc(t),z.ia)},Qf:16,ng:function(t,e,i){return i||"i64"!=t&&"double"!=t?t?Math.min(e||(t?z.vd(t):0),z.ia):Math.min(e,8):8},Fa:function(t,e,i){return i&&i.length?((i=i.splice?i:Array.prototype.slice.call(i)).splice(0,0,e),p["dynCall_"+t].apply(k,i)):p["dynCall_"+t].call(k,e)},eb:[],Vc:function(t){for(var e=0;e<z.eb.length;e++)if(!z.eb[e])return z.eb[e]=t,2*(1+e);d("Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.")},Sd:function(t){z.eb[(t-2)/2]=k},og:function(a,b){z.wb||(z.wb={});var c=z.wb[a];if(c)return c;for(var c=[],e=0;e<b;e++)c.push(String.fromCharCode(36)+e);e=ka(a),'"'===e[0]&&(e.indexOf('"',1)===e.length-1?e=e.substr(1,e.length-2):A("invalid EM_ASM input |"+e+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)"));try{var f=eval("(function(Module, FS) { return function("+c.join(",")+"){ "+e+" } })")(p,void 0!==B?B:k)}catch(h){p.fa("error in executing inline EM_ASM code: "+h+" on: \n\n"+e+"\n\nwith args |"+c+"| (make sure to use the right one out of EM_ASM, EM_ASM_ARGS, etc.)"),d(h)}return z.wb[a]=f},Aa:function(t){z.Aa.Rb||(z.Aa.Rb={}),z.Aa.Rb[t]||(z.Aa.Rb[t]=1,p.fa(t))},Cb:{},rg:function(t,e){w(e),z.Cb[e]||(z.Cb[e]={});var i=z.Cb[e];return i[t]||(i[t]=function(){return z.Fa(e,t,arguments)}),i[t]},Da:function(){var a=[],o=0;this.nb=function(t){var e,i,n;return t&=255,0==a.length?0==(128&t)?String.fromCharCode(t):(a.push(t),o=192==(224&t)?1:224==(240&t)?2:3,""):o&&(a.push(t),0<--o)?"":(t=a[0],e=a[1],i=a[2],n=a[3],t=2==a.length?String.fromCharCode((31&t)<<6|63&e):3==a.length?String.fromCharCode((15&t)<<12|(63&e)<<6|63&i):(t=(7&t)<<18|(63&e)<<12|(63&i)<<6|63&n,String.fromCharCode(55296+((t-65536)/1024|0),(t-65536)%1024+56320)),a.length=0,t)},this.Ac=function(t){for(var t=unescape(encodeURIComponent(t)),e=[],i=0;i<t.length;i++)e.push(t.charCodeAt(i));return e}},pg:function(){d("You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work")},pb:function(t){var e=y;return y=(y=y+t|0)+15&-16,e},Ec:function(t){var e=D;return D=(D=D+t|0)+15&-16,e},bb:function(t){var e=E;return F<=(E=(E=E+t|0)+15&-16)&&A("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+F+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs."),e},ub:function(t,e){return Math.ceil(t/(e||16))*(e||16)},Fg:function(t,e,i){return i?(t>>>0)+4294967296*(e>>>0):(t>>>0)+4294967296*(0|e)},Pc:8,ia:4,Rf:0},H=(p.Runtime=z,z.addFunction=z.Vc,z.removeFunction=z.Sd,m),la,ma,ja,oa,pa;function w(t,e){t||A("Assertion failed: "+e)}function na(a){var b=p["_"+a];if(!b)try{b=eval("_"+a)}catch(c){}return w(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)"),b}function sa(t,e,i){switch(i="*"===(i=i||"i8").charAt(i.length-1)?"i32":i){case"i1":case"i8":I[t>>0]=e;break;case"i16":J[t>>1]=e;break;case"i32":K[t>>2]=e;break;case"i64":ma=[e>>>0,1<=+ta(la=e)?0<la?(0|va(+wa(la/4294967296),4294967295))>>>0:~~+xa((la-(~~la>>>0))/4294967296)>>>0:0],K[t>>2]=ma[0],K[t+4>>2]=ma[1];break;case"float":ya[t>>2]=e;break;case"double":za[t>>3]=e;break;default:A("invalid type for setValue: "+i)}}function Aa(t,e){switch(e="*"===(e=e||"i8").charAt(e.length-1)?"i32":e){case"i1":case"i8":return I[t>>0];case"i16":return J[t>>1];case"i32":case"i64":return K[t>>2];case"float":return ya[t>>2];case"double":return za[t>>3];default:A("invalid type for setValue: "+e)}return k}!function(){function a(t){return{arguments:(t=t.toString().match(e).slice(1))[0],body:t[1],returnValue:t[2]}}var b={stackSave:function(){z.Tb()},stackRestore:function(){z.Sb()},arrayToC:function(t){var e=z.pb(t.length);return qa(t,e),e},stringToC:function(t){var e=0;return t!==k&&t!==g&&0!==t&&ra(t,e=z.pb(1+(t.length<<2))),e}},c={string:b.stringToC,array:b.arrayToC},e=(pa=function(t,e,i,n){var a=na(t),o=[],t=0;if(n)for(var r=0;r<n.length;r++){var s=c[i[r]];s?(0===t&&(t=z.Tb()),o[r]=s(n[r])):o[r]=n[r]}return i=a.apply(k,o),"string"===e&&(i=ka(i)),0!==t&&z.Sb(t),i},/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/),f={},h;for(h in b)b.hasOwnProperty(h)&&(f[h]=a(b[h]));oa=function(b,c,e){var e=e||[],h=na(b),b=e.every(function(t){return"number"===t}),x="string"!==c;if(x&&b)return h;var s=e.map(function(t,e){return"$"+e}),c="(function("+s.join(",")+") {",v=e.length;if(!b)for(var c=c+("var stack = "+f.stackSave.body)+";",G=0;G<v;G++){var ua=s[G],ea=e[G];"number"!==ea&&(ea=f[ea+"ToC"],c+="var "+ea.arguments+" = "+ua+";",c+=ea.body+";",c+=ua+"="+ea.returnValue+";")}return e=a(function(){return h}).returnValue,c+="var ret = "+e+"("+s.join(",")+");",x||(e=a(function(){return ka}).returnValue,c+="ret = "+e+"(ret);"),b||(c+=f.stackRestore.body.replace("()","(stack)")+";"),eval(c+"return ret})")}}(),p.cwrap=oa,p.ccall=pa,p.setValue=sa,p.getValue=Aa;var L=2,Ba=4;function M(t,e,n,a){var o,r="number"==typeof t?(o=i,t):(o=m,t.length),s="string"==typeof e?e:k,n=n==Ba?a:[Ca,z.pb,z.Ec,z.bb][n===g?L:n](Math.max(r,s?1:e.length));if(o){for(w(0==(3&(a=n))),t=n+(-4&r);a<t;a+=4)K[a>>2]=0;for(t=n+r;a<t;)I[a++>>0]=0}else if("i8"===s)t.subarray||t.slice?N.set(t,n):N.set(new Uint8Array(t),n);else for(var h,l,a=0;a<r;){var c=t[a];"function"==typeof c&&(c=z.sg(c)),0===(o=s||e[a])?a++:(sa(n+a,c,o="i64"==o?"i32":o),l!==o&&(h=z.oc(o),l=o),a+=h)}return n}function ka(t,e){if(0===e||!t)return"";for(var n,a=m,o=0;;){if(128<=(n=N[t+o>>0]))a=i;else if(0==n&&!e)break;if(o++,e&&o==e)break}e=e||o;var r="";if(a)for(a=new z.Da,o=0;o<e;o++)n=N[t+o>>0],r+=a.nb(n);else for(;0<e;)n=String.fromCharCode.apply(String,N.subarray(t,t+Math.min(e,1024))),r=r?r+n:n,t+=1024,e-=1024;return r}function Da(u){var t=!!p.___cxa_demangle;if(t)try{var e=Ca(u.length),n=(ra(u.substr(1),e),Ca(4)),a=p.___cxa_demangle(e,0,0,n);if(0===Aa(n,"i32")&&a)return ka(a)}catch(t){}finally{e&&Ea(e),n&&Ea(n),a&&Ea(a)}var f=3,_={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},g=[],v=i,e=u;try{if("Object._main"==u||"_main"==u)return"main()";if("_"!==(u="number"==typeof u?ka(u):u)[0]||"_"!==u[1]||"Z"!==u[2])return u;switch(u[3]){case"n":return"operator new()";case"d":return"operator delete()"}e=function t(e,n,a){var o,n=n||1/0,r="",s=[];if("N"===u[f]){for("K"===u[++f]&&f++,o=[];"E"!==u[f];)if("S"===u[f]){f++;var h=u.indexOf("_",f);o.push(g[u.substring(f,h)||0]||"?"),f=h+1}else if("C"===u[f])o.push(o[o.length-1]),f+=2;else{var l=(h=parseInt(u.substr(f))).toString().length;if(!h||!l){f--;break}var c=u.substr(f+l,h);o.push(c),g.push(c),f+=l+h}if(f++,o=o.join("::"),0==--n)return e?[o]:o}else("K"===u[f]||v&&"L"===u[f])&&f++,(h=parseInt(u.substr(f)))&&(l=h.toString().length,o=u.substr(f+l,h),f+=l+h);v=m,"I"===u[f]?(f++,h=t(i),r+=(l=t(i,1,i))[0]+" "+o+"<"+h.join(", ")+">"):r=o;t:for(;f<u.length&&0<n--;)if(o=u[f++],o in _)s.push(_[o]);else switch(o){case"P":s.push(t(i,1,i)[0]+"*");break;case"R":s.push(t(i,1,i)[0]+"&");break;case"L":f++,h=u.indexOf("E",f)-f,s.push(u.substr(f,h)),f+=h+2;break;case"A":h=parseInt(u.substr(f)),f+=h.toString().length,"_"!==u[f]&&d("?"),f++,s.push(t(i,1,i)[0]+" ["+h+"]");break;case"E":break t;default:r+="?"+o;break t}return a||1!==s.length||"void"!==s[0]||(s=[]),e?(r&&s.push(r+"?"),s):r+("("+s.join(", "))+")"}()}catch(t){e+="?"}return 0<=e.indexOf("?")&&!t&&z.Aa("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function Fa(){var e;t:{if(!(e=Error()).stack){try{d(Error(0))}catch(t){e=t}if(!e.stack){e="(no stack trace available)";break t}}e=e.stack.toString()}return e.replace(/__Z[\w\d_]+/g,function(t){var e=Da(t);return t===e?t:t+" ["+e+"]"})}p.ALLOC_NORMAL=0,p.ALLOC_STACK=1,p.ALLOC_STATIC=L,p.ALLOC_DYNAMIC=3,p.ALLOC_NONE=Ba,p.allocate=M,p.Pointer_stringify=ka,p.UTF16ToString=function(t){for(var e=0,i="";;){var n=J[t+2*e>>1];if(0==n)return i;++e,i+=String.fromCharCode(n)}},p.stringToUTF16=function(t,e){for(var i=0;i<t.length;++i)J[e+2*i>>1]=t.charCodeAt(i);J[e+2*t.length>>1]=0},p.UTF32ToString=function(t){for(var e=0,i="";;){var n=K[t+4*e>>2];if(0==n)return i;++e,65536<=n?(n-=65536,i+=String.fromCharCode(55296|n>>10,56320|1023&n)):i+=String.fromCharCode(n)}},p.stringToUTF32=function(t,e){for(var i=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);55296<=a&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++n)),K[e+4*i>>2]=a,++i}K[e+4*i>>2]=0},p.stackTrace=function(){return Fa()};for(var I,N,J,Ga,K,Ha,ya,za,Ia=0,D=0,Ja=0,y=0,Ka=0,La=0,E=0,Ma=p.TOTAL_STACK||5242880,F=p.TOTAL_MEMORY||52428800,O=65536;O<F||O<2*Ma;)O=O<16777216?2*O:O+16777216;O!==F&&(p.fa("increasing TOTAL_MEMORY to "+O+" to be compliant with the asm.js spec"),F=O),w("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var Q=new ArrayBuffer(F);function Na(t){for(;0<t.length;){var e,i=t.shift();"function"==typeof i?i():"number"==typeof(e=i.ja)?i.Xa===g?z.Fa("v",e):z.Fa("vi",e,[i.Xa]):e(i.Xa===g?k:i.Xa)}}I=new Int8Array(Q),J=new Int16Array(Q),K=new Int32Array(Q),N=new Uint8Array(Q),Ga=new Uint16Array(Q),Ha=new Uint32Array(Q),ya=new Float32Array(Q),za=new Float64Array(Q),K[0]=255,w(255===N[0]&&0===N[3],"Typed arrays 2 must be run on a little-endian system"),p.HEAP=g,p.buffer=Q,p.HEAP8=I,p.HEAP16=J,p.HEAP32=K,p.HEAPU8=N,p.HEAPU16=Ga,p.HEAPU32=Ha,p.HEAPF32=ya,p.HEAPF64=za;var Oa=[],R=[],Pa=[],Qa=[],Ra=[],Sa=m;function Ta(t){Oa.unshift(t)}function Ua(t){Ra.unshift(t)}function Va(t,e,i){return t=(new z.Da).Ac(t),i&&(t.length=i),e||t.push(0),t}function ra(t,e,i){for(t=Va(t,i),i=0;i<t.length;)I[e+i>>0]=t[i],i+=1}function qa(t,e){for(var i=0;i<t.length;i++)I[e+i>>0]=t[i]}p.addOnPreRun=p.Xf=Ta,p.addOnInit=p.Uf=function(t){R.unshift(t)},p.addOnPreMain=p.Wf=function(t){Pa.unshift(t)},p.addOnExit=p.Tf=function(t){Qa.unshift(t)},p.addOnPostRun=p.Vf=Ua,p.intArrayFromString=Va,p.intArrayToString=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];255<n&&(n&=255),e.push(String.fromCharCode(n))}return e.join("")},p.writeStringToMemory=ra,p.writeArrayToMemory=qa,p.writeAsciiToMemory=function(t,e,i){for(var n=0;n<t.length;n++)I[e+n>>0]=t.charCodeAt(n);i||(I[e+t.length>>0]=0)},Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(t,e){var i=65535&t,n=65535&e;return i*n+((t>>>16)*n+i*(e>>>16)<<16)|0}),Math.vg=Math.imul;var ta=Math.abs,xa=Math.ceil,wa=Math.floor,va=Math.min,S=0,Wa=k,Xa=k;function Ya(){S++,p.monitorRunDependencies&&p.monitorRunDependencies(S)}function Za(){var t;S--,p.monitorRunDependencies&&p.monitorRunDependencies(S),0==S&&(Wa!==k&&(clearInterval(Wa),Wa=k),Xa)&&(t=Xa,Xa=k,t())}p.addRunDependency=Ya,p.removeRunDependency=Za,p.preloadedImages={},p.preloadedAudios={};var T=k,Ia=8,D=Ia+7808,$a=(R.push(),M([0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8,0,0,0,0,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,0,0,0,0,10,0,0,0,13,0,0,0,16,0,0,0,11,0,0,0,14,0,0,0,18,0,0,0,13,0,0,0,16,0,0,0,20,0,0,0,14,0,0,0,18,0,0,0,23,0,0,0,16,0,0,0,20,0,0,0,25,0,0,0,18,0,0,0,23,0,0,0,29,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,34,0,0,0,35,0,0,0,35,0,0,0,36,0,0,0,36,0,0,0,37,0,0,0,37,0,0,0,37,0,0,0,38,0,0,0,38,0,0,0,38,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,128,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,12,0,0,0,13,0,0,0,10,0,0,0,11,0,0,0,14,0,0,0,15,0,0,0,47,31,15,0,23,27,29,30,7,11,13,14,39,43,45,46,16,3,5,10,12,19,21,26,28,35,37,42,44,1,2,4,8,17,18,20,24,6,9,22,25,32,33,34,36,40,38,41,0,16,1,2,4,8,32,3,5,10,12,15,47,7,11,13,14,6,9,31,35,37,42,44,33,34,36,40,39,43,45,46,17,18,20,24,19,21,26,28,23,27,29,30,22,25,38,41,17,1,0,0,0,0,0,0,34,18,1,1,0,0,0,0,50,34,18,2,0,0,0,0,67,51,34,34,18,18,2,2,83,67,51,35,18,18,2,2,19,35,67,51,99,83,2,2,0,0,101,85,68,68,52,52,35,35,35,35,19,19,19,19,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,249,233,217,200,200,184,184,167,167,167,167,151,151,151,151,134,134,134,134,134,134,134,134,118,118,118,118,118,118,118,118,230,214,198,182,165,165,149,149,132,132,132,132,116,116,116,116,100,100,100,100,84,84,84,84,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,3,3,3,3,3,3,3,3,214,182,197,197,165,165,149,149,132,132,132,132,84,84,84,84,68,68,68,68,4,4,4,4,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,197,181,165,5,148,148,116,116,52,52,36,36,131,131,131,131,99,99,99,99,83,83,83,83,67,67,67,67,19,19,19,19,181,149,164,164,132,132,36,36,20,20,4,4,115,115,115,115,99,99,99,99,83,83,83,83,67,67,67,67,51,51,51,51,166,6,21,21,132,132,132,132,147,147,147,147,147,147,147,147,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,83,83,83,83,83,83,83,83,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,150,6,21,21,116,116,116,116,131,131,131,131,131,131,131,131,99,99,99,99,99,99,99,99,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,134,6,37,37,20,20,20,20,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,22,6,117,117,36,36,36,36,83,83,83,83,83,83,83,83,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,21,5,100,100,35,35,35,35,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,4,20,35,35,51,51,83,83,65,65,65,65,65,65,65,65,4,20,67,67,34,34,34,34,49,49,49,49,49,49,49,49,3,19,50,50,33,33,33,33,2,18,33,33,0,0,0,0,0,0,0,0,0,0,102,32,38,16,6,8,101,24,101,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,0,0,0,0,0,0,0,0,106,64,74,48,42,40,10,32,105,56,105,56,73,40,73,40,41,32,41,32,9,24,9,24,104,48,104,48,104,48,104,48,72,32,72,32,72,32,72,32,40,24,40,24,40,24,40,24,8,16,8,16,8,16,8,16,103,40,103,40,103,40,103,40,103,40,103,40,103,40,103,40,71,24,71,24,71,24,71,24,71,24,71,24,71,24,71,24,110,96,78,88,46,80,14,80,110,88,78,80,46,72,14,72,13,64,13,64,77,72,77,72,45,64,45,64,13,56,13,56,109,80,109,80,77,64,77,64,45,56,45,56,13,48,13,48,107,72,107,72,107,72,107,72,107,72,107,72,107,72,107,72,75,56,75,56,75,56,75,56,75,56,75,56,75,56,75,56,43,48,43,48,43,48,43,48,43,48,43,48,43,48,43,48,11,40,11,40,11,40,11,40,11,40,11,40,11,40,11,40,0,0,0,0,47,104,47,104,16,128,80,128,48,128,16,120,112,128,80,120,48,120,16,112,112,120,80,112,48,112,16,104,111,112,111,112,79,104,79,104,47,96,47,96,15,96,15,96,111,104,111,104,79,96,79,96,47,88,47,88,15,88,15,88,0,0,0,0,0,0,0,0,102,56,70,32,38,32,6,16,102,48,70,24,38,24,6,8,101,40,101,40,37,16,37,16,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,0,0,0,0,0,0,0,0,105,72,73,56,41,56,9,48,8,40,8,40,72,48,72,48,40,48,40,48,8,32,8,32,103,64,103,64,103,64,103,64,71,40,71,40,71,40,71,40,39,40,39,40,39,40,39,40,7,24,7,24,7,24,7,24,0,0,0,0,109,120,109,120,110,128,78,128,46,128,14,128,46,120,14,120,78,120,46,112,77,112,77,112,13,112,13,112,109,112,109,112,77,104,77,104,45,104,45,104,13,104,13,104,109,104,109,104,77,96,77,96,45,96,45,96,13,96,13,96,12,88,12,88,12,88,12,88,76,88,76,88,76,88,76,88,44,88,44,88,44,88,44,88,12,80,12,80,12,80,12,80,108,96,108,96,108,96,108,96,76,80,76,80,76,80,76,80,44,80,44,80,44,80,44,80,12,72,12,72,12,72,12,72,107,88,107,88,107,88,107,88,107,88,107,88,107,88,107,88,75,72,75,72,75,72,75,72,75,72,75,72,75,72,75,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,11,64,11,64,11,64,11,64,11,64,11,64,11,64,11,64,107,80,107,80,107,80,107,80,107,80,107,80,107,80,107,80,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,11,56,11,56,11,56,11,56,11,56,11,56,11,56,11,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,24,70,56,38,56,6,16,102,72,70,48,38,48,6,8,37,40,37,40,69,40,69,40,37,32,37,32,69,32,69,32,37,24,37,24,101,64,101,64,69,24,69,24,37,16,37,16,100,56,100,56,100,56,100,56,100,48,100,48,100,48,100,48,100,40,100,40,100,40,100,40,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,68,16,68,16,68,16,68,16,36,8,36,8,36,8,36,8,4,0,4,0,4,0,4,0,0,0,10,128,106,128,74,128,42,128,10,120,106,120,74,120,42,120,10,112,106,112,74,112,42,112,10,104,41,104,41,104,9,96,9,96,73,104,73,104,41,96,41,96,9,88,9,88,105,104,105,104,73,96,73,96,41,88,41,88,9,80,9,80,104,96,104,96,104,96,104,96,72,88,72,88,72,88,72,88,40,80,40,80,40,80,40,80,8,72,8,72,8,72,8,72,104,88,104,88,104,88,104,88,72,80,72,80,72,80,72,80,40,72,40,72,40,72,40,72,8,64,8,64,8,64,8,64,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,48,7,48,7,48,7,48,7,48,7,48,7,48,7,48,71,72,71,72,71,72,71,72,71,72,71,72,71,72,71,72,7,40,7,40,7,40,7,40,7,40,7,40,7,40,7,40,103,80,103,80,103,80,103,80,103,80,103,80,103,80,103,80,71,64,71,64,71,64,71,64,71,64,71,64,71,64,71,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,7,32,7,32,7,32,7,32,7,32,7,32,7,32,7,32,6,8,38,8,0,0,6,0,6,16,38,16,70,16,0,0,6,24,38,24,70,24,102,24,6,32,38,32,70,32,102,32,6,40,38,40,70,40,102,40,6,48,38,48,70,48,102,48,6,56,38,56,70,56,102,56,6,64,38,64,70,64,102,64,6,72,38,72,70,72,102,72,6,80,38,80,70,80,102,80,6,88,38,88,70,88,102,88,6,96,38,96,70,96,102,96,6,104,38,104,70,104,102,104,6,112,38,112,70,112,102,112,6,120,38,120,70,120,102,120,6,128,38,128,70,128,102,128,0,0,67,16,2,0,2,0,33,8,33,8,33,8,33,8,103,32,103,32,72,32,40,32,71,24,71,24,39,24,39,24,6,32,6,32,6,32,6,32,6,24,6,24,6,24,6,24,6,16,6,16,6,16,6,16,102,24,102,24,102,24,102,24,38,16,38,16,38,16,38,16,6,8,6,8,6,8,6,8,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,3,0,0,0,19,0,0,0,1,0,0,0,18,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,3,0,0,0,23,0,0,0,1,0,0,0,22,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,1,0,0,0,19,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,17,0,0,0,255,0,0,0,16,0,0,0,1,0,0,0,23,0,0,0,2,0,0,0,22,0,0,0,4,0,0,0,21,0,0,0,255,0,0,0,20,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,1,0,0,0,18,0,0,0,1,0,0,0,19,0,0,0,4,0,0,0,16,0,0,0,4,0,0,0,17,0,0,0,1,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,4,0,0,0,20,0,0,0,4,0,0,0,21,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,0,0,0,0,19,0,0,0,4,0,0,0,18,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,4,0,0,0,22,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,3,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,5,6,7,8,9,10,12,13,15,17,20,22,25,28,32,36,40,45,50,56,63,71,80,90,101,113,127,144,162,182,203,226,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,3,3,3,3,4,4,4,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,2,1,2,3,1,2,3,2,2,3,2,2,4,2,3,4,2,3,4,3,3,5,3,4,6,3,4,6,4,5,7,4,5,8,4,6,9,5,7,10,6,8,11,6,8,13,7,10,14,8,11,16,9,12,18,10,13,20,11,15,23,13,17,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,69,67,79,68,69,82,32,73,78,73,84,73,65,76,73,90,65,84,73,79,78,32,70,65,73,76,69,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",Ba,z.Pc),z.ub(M(12,"i8",L),8)),U=(w(0==$a%8),{O:1,Q:2,Ef:3,De:4,ha:5,Zb:6,be:7,$e:8,V:9,oe:10,Ca:11,Of:11,Mc:12,qb:13,ye:14,mf:15,ga:16,Xb:17,Oc:18,Qa:19,Sa:20,pa:21,B:22,Ve:23,Lc:24,Nc:25,Lf:26,ze:27,hf:28,Ua:29,Bf:30,Oe:31,uf:32,ve:33,yf:34,df:42,Be:43,pe:44,Fe:45,Ge:46,He:47,Ne:48,Mf:49,Ye:50,Ee:51,te:35,af:37,ge:52,je:53,Pf:54,We:55,ke:56,le:57,ue:35,me:59,kf:60,Ze:61,If:62,jf:63,ef:64,ff:65,Af:66,bf:67,ee:68,Ff:69,qe:70,vf:71,Qe:72,we:73,ie:74,qf:76,he:77,zf:78,Ie:79,Je:80,Me:81,Le:82,Ke:83,lf:38,sb:39,Re:36,rb:40,Ta:95,tf:96,se:104,Xe:105,fe:97,xf:91,of:88,gf:92,Cf:108,Wb:111,ce:98,re:103,Ue:101,Se:100,Jf:110,Ae:112,Yb:113,Jc:115,Hc:114,Ic:89,Pe:90,wf:93,Df:94,de:99,Te:102,Kc:106,Ra:107,Kf:109,Nf:87,xe:122,Gf:116,pf:95,cf:123,Ce:84,rf:75,ne:125,nf:131,sf:130,Hf:86}),ab={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},bb=0;function V(t){return K[bb>>2]=t}function cb(t,e){for(var i=0,n=t.length-1;0<=n;n--){var a=t[n];"."===a?t.splice(n,1):".."===a?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;)t.unshift("..");return t}function db(t){var e="/"===t.charAt(0),i="/"===t.substr(-1);return(t=(t=cb(t.split("/").filter(function(t){return!!t}),!e).join("/"))||e?t:".")&&i&&(t+="/"),(e?"/":"")+t}function eb(t){var t=(e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1))[0],e=e[1];return t||e?t+(e=e&&e.substr(0,e.length-1)):"."}function W(t){var e;return"/"===t?"/":-1===(e=t.lastIndexOf("/"))?t:t.substr(e+1)}function fb(){return db(Array.prototype.slice.call(arguments,0).join("/"))}function X(t,e){return db(t+"/"+e)}function gb(){for(var t="",e=m,i=arguments.length-1;-1<=i&&!e;i--){if("string"!=typeof(e=0<=i?arguments[i]:B.yb())&&d(new TypeError("Arguments to path.resolve must be strings")),!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=cb(t.split("/").filter(function(t){return!!t}),!e).join("/"))||"."}function hb(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;0<=i&&""===t[i];i--);return i<e?[]:t.slice(e,i-e+1)}for(var t=gb(t).substr(1),e=gb(e).substr(1),n=i(t.split("/")),a=i(e.split("/")),o=Math.min(n.length,a.length),r=o,s=0;s<o;s++)if(n[s]!==a[s]){r=s;break}for(o=[],s=r;s<n.length;s++)o.push("..");return(o=o.concat(a.slice(r))).join("/")}var ib=[];function jb(t,e){ib[t]={input:[],K:[],sa:e},B.Ob(t,kb)}var kb={open:function(t){var e=ib[t.g.ob];e||d(new B.e(U.Qa)),t.N=e,t.seekable=m},close:function(t){t.N.sa.flush(t.N)},flush:function(t){t.N.sa.flush(t.N)},M:function(t,e,i,n){t.N&&t.N.sa.rc||d(new B.e(U.Zb));for(var a,o=0,r=0;r<n;r++){try{a=t.N.sa.rc(t.N)}catch(t){d(new B.e(U.ha))}if(a===g&&0===o&&d(new B.e(U.Ca)),a===k||a===g)break;o++,e[i+r]=a}return o&&(t.g.timestamp=Date.now()),o},write:function(t,e,i,n){t.N&&t.N.sa.Lb||d(new B.e(U.Zb));for(var a=0;a<n;a++)try{t.N.sa.Lb(t.N,e[i+a])}catch(t){d(new B.e(U.ha))}return n&&(t.g.timestamp=Date.now()),a}},mb={rc:function(e){if(!e.input.length){var n=k;if(t){if(!(n=process.stdin.read()))return process.stdin._readableState&&process.stdin._readableState.ended?k:void 0}else void 0!==window&&"function"==typeof window.prompt?(n=window.prompt("Input: "))!==k&&(n+="\n"):"function"==typeof readline&&(n=readline())!==k&&(n+="\n");if(!n)return k;e.input=Va(n,i)}return e.input.shift()},flush:function(t){t.K&&0<t.K.length&&(p.print(t.K.join("")),t.K=[])},Lb:function(t,e){e===k||10===e?(p.print(t.K.join("")),t.K=[]):t.K.push(lb.nb(e))}},nb={Lb:function(t,e){e===k||10===e?(p.printErr(t.K.join("")),t.K=[]):t.K.push(lb.nb(e))},flush:function(t){t.K&&0<t.K.length&&(p.printErr(t.K.join("")),t.K=[])}},Y={U:k,F:function(){return Y.createNode(k,"/",16895,0)},createNode:function(t,e,i,n){return(B.Bd(i)||B.Cd(i))&&d(new B.e(U.O)),Y.U||(Y.U={dir:{g:{S:Y.n.S,I:Y.n.I,ra:Y.n.ra,ba:Y.n.ba,rename:Y.n.rename,za:Y.n.za,Oa:Y.n.Oa,Na:Y.n.Na,ca:Y.n.ca},A:{$:Y.p.$}},file:{g:{S:Y.n.S,I:Y.n.I},A:{$:Y.p.$,M:Y.p.M,write:Y.p.write,Ea:Y.p.Ea,Ja:Y.p.Ja}},link:{g:{S:Y.n.S,I:Y.n.I,ta:Y.n.ta},A:{}},ec:{g:{S:Y.n.S,I:Y.n.I},A:B.bd}}),i=B.createNode(t,e,i,n),B.J(i.mode)?(i.n=Y.U.dir.g,i.p=Y.U.dir.A,i.k={}):B.isFile(i.mode)?(i.n=Y.U.file.g,i.p=Y.U.file.A,i.q=0,i.k=k):B.Ia(i.mode)?(i.n=Y.U.link.g,i.p=Y.U.link.A):B.ib(i.mode)&&(i.n=Y.U.ec.g,i.p=Y.U.ec.A),i.timestamp=Date.now(),t&&(t.k[e]=i),i},ud:function(t){if(t.k&&t.k.subarray){for(var e=[],i=0;i<t.q;++i)e.push(t.k[i]);return e}return t.k},qg:function(t){return t.k?t.k.subarray?t.k.subarray(0,t.q):new Uint8Array(t.k):new Uint8Array},lc:function(t,e){if(t.k&&t.k.subarray&&e>t.k.length&&(t.k=Y.ud(t),t.q=t.k.length),!t.k||t.k.subarray){var i=t.k?t.k.buffer.byteLength:0;e<=i||(e=Math.max(e,i*(i<1048576?2:1.125)|0),0!=i&&(e=Math.max(e,256)),i=t.k,t.k=new Uint8Array(e),0<t.q&&t.k.set(i.subarray(0,t.q),0))}else for(!t.k&&0<e&&(t.k=[]);t.k.length<e;)t.k.push(0)},Ud:function(t,e){if(t.q!=e)if(0==e)t.k=k,t.q=0;else{if(!t.k||t.k.subarray){var i=t.k;t.k=new Uint8Array(new ArrayBuffer(e)),i&&t.k.set(i.subarray(0,Math.min(e,t.q)))}else if(t.k||(t.k=[]),t.k.length>e)t.k.length=e;else for(;t.k.length<e;)t.k.push(0);t.q=e}},n:{S:function(t){var e={};return e.gg=B.ib(t.mode)?t.id:1,e.wg=t.id,e.mode=t.mode,e.Ig=1,e.uid=0,e.ug=0,e.ob=t.ob,e.size=B.J(t.mode)?4096:B.isFile(t.mode)?t.q:B.Ia(t.mode)?t.link.length:0,e.Zf=new Date(t.timestamp),e.Hg=new Date(t.timestamp),e.eg=new Date(t.timestamp),e.Zc=4096,e.$f=Math.ceil(e.size/e.Zc),e},I:function(t,e){e.mode!==g&&(t.mode=e.mode),e.timestamp!==g&&(t.timestamp=e.timestamp),e.size!==g&&Y.Ud(t,e.size)},ra:function(){d(B.Db[U.Q])},ba:function(t,e,i,n){return Y.createNode(t,e,i,n)},rename:function(t,e,i){if(B.J(t.mode)){var n;try{n=B.aa(e,i)}catch(t){}if(n)for(var a in n.k)d(new B.e(U.sb))}delete t.parent.k[t.name],t.name=i,(e.k[i]=t).parent=e},za:function(t,e){delete t.k[e]},Oa:function(t,e){for(var i in B.aa(t,e).k)d(new B.e(U.sb));delete t.k[e]},Na:function(t){var e,i=[".",".."];for(e in t.k)t.k.hasOwnProperty(e)&&i.push(e);return i},ca:function(t,e,i){return(t=Y.createNode(t,e,41471,0)).link=i,t},ta:function(t){return B.Ia(t.mode)||d(new B.e(U.B)),t.link}},p:{M:function(t,e,i,n,a){var o=t.g.k;if(a>=t.g.q)return 0;if(w(0<=(t=Math.min(t.g.q-a,n))),8<t&&o.subarray)e.set(o.subarray(a,a+t),i);else for(n=0;n<t;n++)e[i+n]=o[a+n];return t},write:function(t,e,i,n,a,o){if(!n)return 0;if((t=t.g).timestamp=Date.now(),e.subarray&&(!t.k||t.k.subarray)){if(o)return t.k=e.subarray(i,i+n),t.q=n;if(0===t.q&&0===a)return t.k=new Uint8Array(e.subarray(i,i+n)),t.q=n;if(a+n<=t.q)return t.k.set(e.subarray(i,i+n),a),n}if(Y.lc(t,a+n),t.k.subarray&&e.subarray)t.k.set(e.subarray(i,i+n),a);else for(o=0;o<n;o++)t.k[a+o]=e[i+o];return t.q=Math.max(t.q,a+n),n},$:function(t,e,i){return 1===i?e+=t.position:2===i&&B.isFile(t.g.mode)&&(e+=t.g.q),e<0&&d(new B.e(U.B)),e},Ea:function(t,e,i){Y.lc(t.g,e+i),t.g.q=Math.max(t.g.q,e+i)},Ja:function(t,e,n,a,o,r,s){return B.isFile(t.g.mode)||d(new B.e(U.Qa)),n=t.g.k,2&s||n.buffer!==e&&n.buffer!==e.buffer?((0<o||o+a<t.g.q)&&(n=n.subarray?n.subarray(o,o+a):Array.prototype.slice.call(n,o,o+a)),t=i,(a=Ca(a))||d(new B.e(U.Mc)),e.set(n,a)):(t=m,a=n.byteOffset),{Lg:a,Yf:t}}}},ob=M(1,"i32*",L),pb=M(1,"i32*",L),qb=M(1,"i32*",L),B={root:k,La:[],ic:[k],oa:[],Jd:1,T:k,hc:"/",hb:m,vc:i,H:{},Gc:{yc:{Rc:1,Sc:2}},e:k,Db:{},sc:function(t){return t instanceof B.e||d(t+" : "+Fa()),V(t.cb)},u:function(t,e){if(e=e||{},!(t=gb(B.yb(),t)))return{path:"",g:k};for(o in n={Bb:i,Nb:0})e[o]===g&&(e[o]=n[o]);8<e.Nb&&d(new B.e(U.rb));for(var n=cb(t.split("/").filter(function(t){return!!t}),m),a=B.root,o="/",r=0;r<n.length;r++){var s=r===n.length-1;if(s&&e.parent)break;if(a=B.aa(a,n[r]),o=X(o,n[r]),!B.ka(a)||s&&!e.Bb||(a=a.Ka.root),!s||e.R)for(s=0;B.Ia(a.mode);)a=B.ta(o),o=gb(eb(o),a),a=B.u(o,{Nb:e.Nb}).g,40<s++&&d(new B.e(U.rb))}return{path:o,g:a}},da:function(t){for(var e;;){if(B.jb(t))return t=t.F.Id,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}},Fb:function(t,e){for(var i=0,n=0;n<e.length;n++)i=(i<<5)-i+e.charCodeAt(n)|0;return(t+i>>>0)%B.T.length},tc:function(t){var e=B.Fb(t.parent.id,t.name);t.ma=B.T[e],B.T[e]=t},uc:function(t){var e=B.Fb(t.parent.id,t.name);if(B.T[e]===t)B.T[e]=t.ma;else for(e=B.T[e];e;){if(e.ma===t){e.ma=t.ma;break}e=e.ma}},aa:function(t,e){var i=B.Gd(t);for(i&&d(new B.e(i,t)),i=B.T[B.Fb(t.id,e)];i;i=i.ma){var n=i.name;if(i.parent.id===t.id&&n===e)return i}return B.ra(t,e)},createNode:function(t,e,i,n){return B.Va||(B.Va=function(t,e,i,n){this.parent=t=t||this,this.F=t.F,this.Ka=k,this.id=B.Jd++,this.name=e,this.mode=i,this.n={},this.p={},this.ob=n},B.Va.prototype={},Object.defineProperties(B.Va.prototype,{M:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}},Dd:{get:function(){return B.J(this.mode)}},Gb:{get:function(){return B.ib(this.mode)}}})),t=new B.Va(t,e,i,n),B.tc(t),t},zb:function(t){B.uc(t)},jb:function(t){return t===t.parent},ka:function(t){return!!t.Ka},isFile:function(t){return 32768==(61440&t)},J:function(t){return 16384==(61440&t)},Ia:function(t){return 40960==(61440&t)},ib:function(t){return 8192==(61440&t)},Bd:function(t){return 24576==(61440&t)},Cd:function(t){return 4096==(61440&t)},Ed:function(t){return 49152==(49152&t)},rd:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},wc:function(t){var e=B.rd[t];return void 0===e&&d(Error("Unknown file open mode: "+t)),e},sd:function(t){var e=["r","w","rw"][2097155&t];return 512&t&&(e+="w"),e},na:function(t,e){return B.vc||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:U.qb},Gd:function(t){var e=B.na(t,"x");return e||(t.n.ra?0:U.qb)},Jb:function(t,e){try{return B.aa(t,e),U.Xb}catch(t){}return B.na(t,"wx")},kb:function(t,e,i){var n;try{n=B.aa(t,e)}catch(t){return t.cb}if(t=B.na(t,"wx"))return t;if(i){if(!B.J(n.mode))return U.Sa;if(B.jb(n)||B.da(n)===B.yb())return U.ga}else if(B.J(n.mode))return U.pa;return 0},Hd:function(t,e){return t?B.Ia(t.mode)?U.rb:B.J(t.mode)&&(0!=(2097155&e)||512&e)?U.pa:B.na(t,B.sd(e)):U.Q},Qc:4096,Kd:function(t,e){for(var e=e||B.Qc,i=t||0;i<=e;i++)if(!B.oa[i])return i;d(new B.e(U.Lc))},qa:function(t){return B.oa[t]},fc:function(t,e,i){B.Wa||(B.Wa=n(),B.Wa.prototype={},Object.defineProperties(B.Wa.prototype,{object:{get:function(){return this.g},set:function(t){this.g=t}},yg:{get:function(){return 1!=(2097155&this.D)}},zg:{get:function(){return 0!=(2097155&this.D)}},xg:{get:function(){return 1024&this.D}}}));var a,o=new B.Wa;for(a in t)o[a]=t[a];return t=o,e=B.Kd(e,i),t.C=e,B.oa[e]=t},dd:function(t){B.oa[t]=k},pc:function(t){return B.oa[t-1]},Eb:function(t){return t?t.C+1:0},bd:{open:function(t){t.p=B.td(t.g.ob).p,t.p.open&&t.p.open(t)},$:function(){d(new B.e(U.Ua))}},Ib:function(t){return t>>8},Gg:function(t){return 255&t},la:function(t,e){return t<<8|e},Ob:function(t,e){B.ic[t]={p:e}},td:function(t){return B.ic[t]},nc:function(t){for(var e=[],t=[t];t.length;){var i=t.pop();e.push(i),t.push.apply(t,i.La)}return e},Fc:function(e,n){function a(t){if(t){if(!a.pd)return a.pd=i,n(t)}else++r>=o.length&&n(k)}"function"==typeof e&&(n=e,e=m);var o=B.nc(B.root.F),r=0;o.forEach(function(t){if(!t.type.Fc)return a(k);t.type.Fc(t,e,a)})},F:function(t,e,i){var n,a="/"===i,o=!i;return a&&B.root&&d(new B.e(U.ga)),a||o||(i=(n=B.u(i,{Bb:m})).path,n=n.g,B.ka(n)&&d(new B.e(U.ga)),B.J(n.mode))||d(new B.e(U.Sa)),((t=t.F(e={type:t,Kg:e,Id:i,La:[]})).F=e).root=t,a?B.root=t:n&&(n.Ka=e,n.F)&&n.F.La.push(e),t},Qg:function(t){t=B.u(t,{Bb:m}),B.ka(t.g)||d(new B.e(U.B));var e=(t=t.g).Ka,i=B.nc(e);Object.keys(B.T).forEach(function(t){for(t=B.T[t];t;){var e=t.ma;-1!==i.indexOf(t.F)&&B.zb(t),t=e}}),t.Ka=k,w(-1!==(e=t.F.La.indexOf(e))),t.F.La.splice(e,1)},ra:function(t,e){return t.n.ra(t,e)},ba:function(t,e,n){var a=B.u(t,{parent:i}).g,o=((t=W(t))&&"."!==t&&".."!==t||d(new B.e(U.B)),B.Jb(a,t));return o&&d(new B.e(o)),a.n.ba||d(new B.e(U.O)),a.n.ba(a,t,e,n)},create:function(t,e){return e=4095&(e!==g?e:438),B.ba(t,e|=32768,0)},ea:function(t,e){return e=1023&(e!==g?e:511),B.ba(t,e|=16384,0)},lb:function(t,e,i){return void 0===i&&(i=e,e=438),B.ba(t,8192|e,i)},ca:function(t,e){gb(t)||d(new B.e(U.Q));var n=B.u(e,{parent:i}).g,e=(n||d(new B.e(U.Q)),W(e)),a=B.Jb(n,e);return a&&d(new B.e(a)),n.n.ca||d(new B.e(U.O)),n.n.ca(n,e,t)},rename:function(t,e){var n,a,o,r,s=eb(t),h=eb(e),l=W(t),c=W(e);try{a=(n=B.u(t,{parent:i})).g,o=(n=B.u(e,{parent:i})).g}catch(t){d(new B.e(U.ga))}a&&o||d(new B.e(U.Q)),a.F!==o.F&&d(new B.e(U.Oc)),n=B.aa(a,l),"."!==(h=hb(t,h)).charAt(0)&&d(new B.e(U.B)),"."!==(h=hb(e,s)).charAt(0)&&d(new B.e(U.sb));try{r=B.aa(o,c)}catch(t){}if(n!==r){s=B.J(n.mode),(l=B.kb(a,l,s))&&d(new B.e(l)),(l=r?B.kb(o,c,s):B.Jb(o,c))&&d(new B.e(l)),a.n.rename||d(new B.e(U.O)),(B.ka(n)||r&&B.ka(r))&&d(new B.e(U.ga)),o!==a&&(l=B.na(a,"w"))&&d(new B.e(l));try{B.H.willMovePath&&B.H.willMovePath(t,e)}catch(t){}B.uc(n);try{a.n.rename(n,o,c)}catch(t){d(t)}finally{B.tc(n)}try{B.H.onMovePath&&B.H.onMovePath(t,e)}catch(t){}}},Oa:function(t){var e=B.u(t,{parent:i}).g,n=W(t),a=B.aa(e,n),o=B.kb(e,n,i);o&&d(new B.e(o)),e.n.Oa||d(new B.e(U.O)),B.ka(a)&&d(new B.e(U.ga));try{B.H.willDeletePath&&B.H.willDeletePath(t)}catch(t){}e.n.Oa(e,n),B.zb(a);try{B.H.onDeletePath&&B.H.onDeletePath(t)}catch(t){}},Na:function(t){return(t=B.u(t,{R:i}).g).n.Na||d(new B.e(U.Sa)),t.n.Na(t)},za:function(t){var e=B.u(t,{parent:i}).g,n=W(t),a=B.aa(e,n),o=B.kb(e,n,m);o&&(o===U.pa&&(o=U.O),d(new B.e(o))),e.n.za||d(new B.e(U.O)),B.ka(a)&&d(new B.e(U.ga));try{B.H.willDeletePath&&B.H.willDeletePath(t)}catch(t){}e.n.za(e,n),B.zb(a);try{B.H.onDeletePath&&B.H.onDeletePath(t)}catch(t){}},ta:function(t){return(t=B.u(t).g)||d(new B.e(U.Q)),t.n.ta||d(new B.e(U.B)),t.n.ta(t)},Dc:function(t,e){t=B.u(t,{R:!e}).g;return t||d(new B.e(U.Q)),t.n.S||d(new B.e(U.O)),t.n.S(t)},Eg:function(t){return B.Dc(t,i)},Ya:function(t,e,i){(t="string"==typeof t?B.u(t,{R:!i}).g:t).n.I||d(new B.e(U.O)),t.n.I(t,{mode:4095&e|-4096&t.mode,timestamp:Date.now()})},Bg:function(t,e){B.Ya(t,e,i)},jg:function(t,e){t=B.qa(t);t||d(new B.e(U.V)),B.Ya(t.g,e)},dc:function(t,e,i,n){(t="string"==typeof t?B.u(t,{R:!n}).g:t).n.I||d(new B.e(U.O)),t.n.I(t,{timestamp:Date.now()})},Cg:function(t,e,n){B.dc(t,e,n,i)},kg:function(t,e,i){(t=B.qa(t))||d(new B.e(U.V)),B.dc(t.g,e,i)},truncate:function(t,e){e<0&&d(new B.e(U.B)),(t="string"==typeof t?B.u(t,{R:i}).g:t).n.I||d(new B.e(U.O)),B.J(t.mode)&&d(new B.e(U.pa)),B.isFile(t.mode)||d(new B.e(U.B));var n=B.na(t,"w");n&&d(new B.e(n)),t.n.I(t,{size:e,timestamp:Date.now()})},mg:function(t,e){t=B.qa(t);t||d(new B.e(U.V)),0==(2097155&t.D)&&d(new B.e(U.B)),B.truncate(t.g,e)},Rg:function(t,e,n){(t=B.u(t,{R:i}).g).n.I(t,{timestamp:Math.max(e,n)})},open:function(t,e,n,a,o){""===t&&d(new B.e(U.Q));var r,n=64&(e="string"==typeof e?B.wc(e):e)?4095&(void 0===n?438:n)|32768:0;if("object"==typeof t)r=t;else{t=db(t);try{r=B.u(t,{R:!(131072&e)}).g}catch(t){}}var s=m;64&e&&(r?128&e&&d(new B.e(U.Xb)):(r=B.ba(t,n,0),s=i)),r||d(new B.e(U.Q)),B.ib(r.mode)&&(e&=-513),s||(n=B.Hd(r,e))&&d(new B.e(n)),512&e&&B.truncate(r,0),e&=-641,(a=B.fc({g:r,path:B.da(r),D:e,seekable:i,position:0,p:r.p,$d:[],error:m},a,o)).p.open&&a.p.open(a),!p.logReadFiles||1&e||(B.Mb||(B.Mb={}),t in B.Mb)||(B.Mb[t]=1,p.printErr("read file: "+t));try{B.H.onOpenFile&&(o=0,1!=(2097155&e)&&(o|=B.Gc.yc.Rc),0!=(2097155&e)&&(o|=B.Gc.yc.Sc),B.H.onOpenFile(t,o))}catch(t){}return a},close:function(t){try{t.p.close&&t.p.close(t)}catch(t){d(t)}finally{B.dd(t.C)}},$:function(t,e,i){return t.seekable&&t.p.$||d(new B.e(U.Ua)),t.position=t.p.$(t,e,i),t.$d=[],t.position},M:function(t,e,n,a,o){(a<0||o<0)&&d(new B.e(U.B)),1==(2097155&t.D)&&d(new B.e(U.V)),B.J(t.g.mode)&&d(new B.e(U.pa)),t.p.M||d(new B.e(U.B));var r=i;return void 0===o?(o=t.position,r=m):t.seekable||d(new B.e(U.Ua)),e=t.p.M(t,e,n,a,o),r||(t.position+=e),e},write:function(t,e,n,a,o,r){(a<0||o<0)&&d(new B.e(U.B)),0==(2097155&t.D)&&d(new B.e(U.V)),B.J(t.g.mode)&&d(new B.e(U.pa)),t.p.write||d(new B.e(U.B)),1024&t.D&&B.$(t,0,2);var s=i;void 0===o?(o=t.position,s=m):t.seekable||d(new B.e(U.Ua)),e=t.p.write(t,e,n,a,o,r),s||(t.position+=e);try{t.path&&B.H.onWriteToFile&&B.H.onWriteToFile(t.path)}catch(t){}return e},Ea:function(t,e,i){(e<0||i<=0)&&d(new B.e(U.B)),0==(2097155&t.D)&&d(new B.e(U.V)),B.isFile(t.g.mode)||B.J(node.mode)||d(new B.e(U.Qa)),t.p.Ea||d(new B.e(U.Ta)),t.p.Ea(t,e,i)},Ja:function(t,e,i,n,a,o,r){return 1==(2097155&t.D)&&d(new B.e(U.qb)),t.p.Ja||d(new B.e(U.Qa)),t.p.Ja(t,e,i,n,a,o,r)},Ha:function(t,e,i){return t.p.Ha||d(new B.e(U.Nc)),t.p.Ha(t,e,i)},Mg:function(t,e){(e=e||{}).D=e.D||"r",e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding&&d(Error('Invalid encoding type "'+e.encoding+'"'));var i=B.open(t,e.D),n=B.Dc(t).size,a=new Uint8Array(n);if(B.M(i,a,0,n,0),"utf8"===e.encoding)for(var o="",r=new z.Da,s=0;s<n;s++)o+=r.nb(a[s]);else"binary"===e.encoding&&(o=a);return B.close(i),o},Sg:function(t,e,i){(i=i||{}).D=i.D||"w",i.encoding=i.encoding||"utf8","utf8"!==i.encoding&&"binary"!==i.encoding&&d(Error('Invalid encoding type "'+i.encoding+'"')),t=B.open(t,i.D,i.mode),"utf8"===i.encoding?(e=new Uint8Array((new z.Da).Ac(e)),B.write(t,e,0,e.length,0,i.ad)):"binary"===i.encoding&&B.write(t,e,0,e.length,0,i.ad),B.close(t)},yb:function(){return B.hc},bg:function(t){t=B.u(t,{R:i}),B.J(t.g.mode)||d(new B.e(U.Sa));var e=B.na(t.g,"x");e&&d(new B.e(e)),B.hc=t.path},fd:function(){B.ea("/tmp"),B.ea("/home"),B.ea("/home/web_user")},ed:function(){var e,i;B.ea("/dev"),B.Ob(B.la(1,3),{M:function(){return 0},write:function(){return 0}}),B.lb("/dev/null",B.la(1,3)),jb(B.la(5,0),mb),jb(B.la(6,0),nb),B.lb("/dev/tty",B.la(5,0)),B.lb("/dev/tty1",B.la(6,0)),i="undefined"!=typeof crypto?(e=new Uint8Array(1),function(){return crypto.getRandomValues(e),e[0]}):t?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0},B.X("/dev","random",i),B.X("/dev","urandom",i),B.ea("/dev/shm"),B.ea("/dev/shm/tmp")},od:function(){p.stdin?B.X("/dev","stdin",p.stdin):B.ca("/dev/tty","/dev/stdin"),p.stdout?B.X("/dev","stdout",k,p.stdout):B.ca("/dev/tty","/dev/stdout"),p.stderr?B.X("/dev","stderr",k,p.stderr):B.ca("/dev/tty1","/dev/stderr");var t=B.open("/dev/stdin","r");K[ob>>2]=B.Eb(t),w(0===t.C,"invalid handle for stdin ("+t.C+")"),t=B.open("/dev/stdout","w"),K[pb>>2]=B.Eb(t),w(1===t.C,"invalid handle for stdout ("+t.C+")"),t=B.open("/dev/stderr","w"),K[qb>>2]=B.Eb(t),w(2===t.C,"invalid handle for stderr ("+t.C+")")},jc:function(){B.e||(B.e=function(t,e){this.g=e,this.Xd=function(t){for(var e in this.cb=t,U)if(U[e]===t){this.code=e;break}},this.Xd(t),this.message=ab[t]},B.e.prototype=Error(),[U.Q].forEach(function(t){B.Db[t]=new B.e(t),B.Db[t].stack="<generic error, no stack>"}))},Zd:function(){B.jc(),B.T=Array(4096),B.F(Y,{},"/"),B.fd(),B.ed()},Ga:function(t,e,n){w(!B.Ga.hb,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),B.Ga.hb=i,B.jc(),p.stdin=t||p.stdin,p.stdout=e||p.stdout,p.stderr=n||p.stderr,B.od()},Qd:function(){B.Ga.hb=m;for(var t=0;t<B.oa.length;t++){var e=B.oa[t];e&&B.close(e)}},fb:function(t,e){var i=0;return t&&(i|=365),e&&(i|=146),i},Ag:function(t,e){t=fb.apply(k,t);return t=e&&"/"==t[0]?t.substr(1):t},Sf:function(t,e){return gb(e,t)},Pg:function(t){return db(t)},lg:function(t,e){t=B.vb(t,e);return t.Ab?t.object:(V(t.error),k)},vb:function(t,e){try{var n=B.u(t,{R:!e}),t=n.path}catch(t){}var a={jb:m,Ab:m,error:0,name:k,path:k,object:k,Md:m,Od:k,Nd:k};try{n=B.u(t,{parent:i}),a.Md=i,a.Od=n.path,a.Nd=n.g,a.name=W(t),n=B.u(t,{R:!e}),a.Ab=i,a.path=n.path,a.object=n.g,a.name=n.g.name,a.jb="/"===n.path}catch(t){a.error=t.cb}return a},hd:function(t,e,i,n){return t=X("string"==typeof t?t:B.da(t),e),B.ea(t,B.fb(i,n))},ld:function(t,e){for(var t="string"==typeof t?t:B.da(t),i=e.split("/").reverse();i.length;){var n=i.pop();if(n){var a=X(t,n);try{B.ea(a)}catch(t){}t=a}}return a},gd:function(t,e,i,n,a){return t=X("string"==typeof t?t:B.da(t),e),B.create(t,B.fb(n,a))},xb:function(t,e,i,n,a,o){if(t=e?X("string"==typeof t?t:B.da(t),e):t,n=B.fb(n,a),a=B.create(t,n),i){if("string"==typeof i){for(var t=Array(i.length),e=0,r=i.length;e<r;++e)t[e]=i.charCodeAt(e);i=t}B.Ya(a,146|n),t=B.open(a,"w"),B.write(t,i,0,i.length,0,o),B.close(t),B.Ya(a,n)}return a},X:function(t,e,s,o){t=X("string"==typeof t?t:B.da(t),e),e=B.fb(!!s,!!o),B.X.Ib||(B.X.Ib=64);var i=B.la(B.X.Ib++,0);return B.Ob(i,{open:function(t){t.seekable=m},close:function(){o&&o.buffer&&o.buffer.length&&o(10)},M:function(t,e,i,n){for(var a,o=0,r=0;r<n;r++){try{a=s()}catch(t){d(new B.e(U.ha))}if(a===g&&0===o&&d(new B.e(U.Ca)),a===k||a===g)break;o++,e[i+r]=a}return o&&(t.g.timestamp=Date.now()),o},write:function(t,e,i,n){for(var a=0;a<n;a++)try{o(e[i+a])}catch(t){d(new B.e(U.ha))}return n&&(t.g.timestamp=Date.now()),a}}),B.lb(t,e,i)},kd:function(t,e,i){return t=X("string"==typeof t?t:B.da(t),e),B.ca(i,t)},mc:function(t){if(t.Gb||t.Dd||t.link||t.k)return i;var e=i;if("undefined"!=typeof XMLHttpRequest&&d(Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")),p.read)try{t.k=Va(p.read(t.url),i),t.q=t.k.length}catch(t){e=m}else d(Error("Cannot load without read() or XMLHttpRequest."));return e||V(U.ha),e},jd:function(t,e,l,n,a){function o(){this.Hb=m,this.Za=[]}o.prototype.get=function(t){var e;if(!(t>this.length-1||t<0))return e=t%this.cd,this.yd(t/this.cd|0)[e]},o.prototype.Wd=function(t){this.yd=t},o.prototype.bc=function(){var t=new XMLHttpRequest,r=(t.open("HEAD",l,m),t.send(k),200<=t.status&&t.status<300||304===t.status||d(Error("Couldn't load "+l+". Status: "+t.status)),Number(t.getResponseHeader("Content-length"))),s=1048576,h=((t=t.getResponseHeader("Accept-Ranges"))&&"bytes"===t||(s=r),this);h.Wd(function(t){var e,n,a=t*s,o=(t+1)*s-1,o=Math.min(o,r-1);return void 0===h.Za[t]&&(e=h.Za,o<a&&d(Error("invalid range ("+a+", "+o+") or no bytes requested!")),r-1<o&&d(Error("only "+r+" bytes available! programmer error!")),(n=new XMLHttpRequest).open("GET",l,m),r!==s&&n.setRequestHeader("Range","bytes="+a+"-"+o),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(k),200<=n.status&&n.status<300||304===n.status||d(Error("Couldn't load "+l+". Status: "+n.status)),a=n.response!==g?new Uint8Array(n.response||[]):Va(n.responseText||"",i),e[t]=a),void 0===h.Za[t]&&d(Error("doXHR failed!")),h.Za[t]}),this.Uc=r,this.Tc=s,this.Hb=i},r="undefined"!=typeof XMLHttpRequest?(ca||d("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc"),r=new o,Object.defineProperty(r,"length",{get:function(){return this.Hb||this.bc(),this.Uc}}),Object.defineProperty(r,"chunkSize",{get:function(){return this.Hb||this.bc(),this.Tc}}),{Gb:m,k:r}):{Gb:m,url:l};var r,s=B.gd(t,e,r,n,a),h=(r.k?s.k=r.k:r.url&&(s.k=k,s.url=r.url),Object.defineProperty(s,"usedBytes",{get:function(){return this.k.length}}),{});return Object.keys(s.p).forEach(function(t){var e=s.p[t];h[t]=function(){return B.mc(s)||d(new B.e(U.ha)),e.apply(k,arguments)}}),h.M=function(t,e,i,n,a){if(B.mc(s)||d(new B.e(U.ha)),a>=(t=t.g.k).length)return 0;if(w(0<=(n=Math.min(t.length-a,n))),t.slice)for(var o=0;o<n;o++)e[i+o]=t[a+o];else for(o=0;o<n;o++)e[i+o]=t.get(a+o);return n},s.p=h,s},md:function(o,r,t,s,h,l,c,u,d){function e(){rb=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f||document.msPointerLockElement===f}function a(e){function n(t){u||B.xb(o,r,t,s,h,d),l&&l(),Za()}var a=m;p.preloadPlugins.forEach(function(t){!a&&t.canHandle(_)&&(t.handle(e,_,n,function(){c&&c(),Za()}),a=i)}),a||n(e)}if(p.preloadPlugins||(p.preloadPlugins=[]),!tb){tb=i;try{new Blob,ub=i}catch(t){ub=m}vb="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:ub?k:void 0,wb=void 0!==window?window.URL||window.webkitURL:g,p.xc||void 0!==wb||(p.xc=i),p.preloadPlugins.push({canHandle:function(t){return!p.xc&&/\.(jpg|jpeg|png|bmp)$/i.test(t)},handle:function(e,i,n,t){var a=k;if(ub)try{(a=new Blob([e],{type:xb(i)})).size!==e.length&&(a=new Blob([new Uint8Array(e).buffer],{type:xb(i)}))}catch(t){z.Aa("Blob constructor present but fails: "+t+"; falling back to blob builder")}a||((a=new vb).append(new Uint8Array(e).buffer),a=a.getBlob());var o=wb.createObjectURL(a),r=new Image;r.onload=function(){w(r.complete,"Image "+i+" could not be decoded");var t=document.createElement("canvas");t.width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0),p.preloadedImages[i]=t,wb.revokeObjectURL(o),n&&n(e)},r.onerror=function(){t&&t()},r.src=o}}),p.preloadPlugins.push({canHandle:function(t){return!p.Jg&&t.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(o,r,e,t){function s(t){h||(h=i,p.preloadedAudios[r]=t,e&&e(o))}function n(){h||(h=i,p.preloadedAudios[r]=new Audio,t&&t())}var h=m;if(!ub)return n();try{var a=new Blob([o],{type:xb(r)})}catch(t){return n()}var a=wb.createObjectURL(a),l=new Audio;l.addEventListener("canplaythrough",function(){s(l)},m),l.onerror=function(){if(!h){for(var t="",e=0,i=0,n=0;n<o.length;n++)for(e=e<<8|o[n],i+=8;6<=i;)var a=e>>i-6&63,i=i-6,t=t+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];2==i?t=t+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&e)<<4]+"==":4==i&&(t=t+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&e)<<2]+"="),l.src="data:audio/x-"+r.substr(-3)+";base64,"+t,s(l)}},l.src=a,p.noExitRuntime=i,setTimeout(function(){H||s(l)},1e4)}});var f=p.canvas;f&&(f.Pb=f.requestPointerLock||f.mozRequestPointerLock||f.webkitRequestPointerLock||f.msRequestPointerLock||n(),f.kc=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||n(),f.kc=f.kc.bind(document),document.addEventListener("pointerlockchange",e,m),document.addEventListener("mozpointerlockchange",e,m),document.addEventListener("webkitpointerlockchange",e,m),document.addEventListener("mspointerlockchange",e,m),p.elementPointerLock)&&f.addEventListener("click",function(t){!rb&&f.Pb&&(f.Pb(),t.preventDefault())},m)}var _=r?gb(X(o,r)):o;Ya(),"string"==typeof t?yb(t,function(t){a(t)},c):a(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},Ub:function(){return"EM_FS_"+window.location.pathname},Vb:20,Ba:"FILE_DATA",Og:function(o,r,s){var r=r||n(),s=s||n(),t=B.indexedDB();try{var h=t.open(B.Ub(),B.Vb)}catch(t){return s(t)}h.Ld=function(){h.result.createObjectStore(B.Ba)},h.onsuccess=function(){var t=h.result.transaction([B.Ba],"readwrite"),e=t.objectStore(B.Ba),i=0,n=0,a=o.length;o.forEach(function(t){(t=e.put(B.vb(t).object.k,t)).onsuccess=function(){++i+n==a&&(0==n?r:s)()},t.onerror=function(){i+ ++n==a&&(0==n?r:s)()}}),t.onerror=s},h.onerror=s},Dg:function(s,h,l){var h=h||n(),l=l||n(),t=B.indexedDB();try{var c=t.open(B.Ub(),B.Vb)}catch(t){return l(t)}c.Ld=l,c.onsuccess=function(){var t=c.result;try{var e=t.transaction([B.Ba],"readonly")}catch(t){return void l(t)}var n=e.objectStore(B.Ba),a=0,o=0,r=s.length;s.forEach(function(t){var e=n.get(t);e.onsuccess=function(){B.vb(t).Ab&&B.za(t),B.xb(eb(t),W(t),e.result,i,i,i),++a+o==r&&(0==o?h:l)()},e.onerror=function(){a+ ++o==r&&(0==o?h:l)()}}),e.onerror=l},c.onerror=l}};function zb(){d("TODO")}var Z={F:function(){return p.websocket=p.websocket&&"object"==typeof p.websocket?p.websocket:{},p.websocket.tb={},p.websocket.on=function(t,e){return"function"==typeof e&&(this.tb[t]=e),this},p.websocket.P=function(t,e){"function"==typeof this.tb[t]&&this.tb[t].call(this,e)},B.createNode(k,"/",16895,0)},nd:function(t,e,i){return i&&w(1==e==(6==i)),t={qd:t,type:e,protocol:i,G:k,error:k,Ma:{},Kb:[],ua:[],wa:Z.L},e=Z.mb(),(i=B.createNode(Z.root,e,49152,0)).va=t,e=B.fc({path:e,g:i,D:B.wc("r+"),seekable:m,p:Z.p}),t.A=e,t},wd:function(t){return(t=B.qa(t))&&B.Ed(t.g.mode)?t.g.va:k},p:{zc:function(t){return(t=t.g.va).wa.zc(t)},Ha:function(t,e,i){return(t=t.g.va).wa.Ha(t,e,i)},M:function(t,e,i,n){return(n=(t=t.g.va).wa.Rd(t,n))?(e.set(n.buffer,i),n.buffer.length):0},write:function(t,e,i,n){return(t=t.g.va).wa.Vd(t,e,i,n)},close:function(t){(t=t.g.va).wa.close(t)}},mb:function(){return Z.mb.gc||(Z.mb.gc=0),"socket["+Z.mb.gc+++"]"},L:{$a:function(e,i,n){if("object"==typeof i&&(a=i,n=i=k),a)n=a._socket?(i=a._socket.remoteAddress,a._socket.remotePort):((n=/ws[s]?:\/\/([^:]+):(\d+)/.exec(a.url))||d(Error("WebSocket URL must be in the format ws(s)://address:port")),i=n[1],parseInt(n[2],10));else try{var a,o=p.websocket&&"object"==typeof p.websocket,r="ws:#".replace("#","//"),s=("ws://"!==(r=o&&"string"==typeof p.websocket.url?p.websocket.url:r)&&"wss://"!==r||(r=r+(s=i.split("/"))[0]+":"+n+"/"+s.slice(1).join("/")),s="binary",(s=o&&"string"==typeof p.websocket.subprotocol?p.websocket.subprotocol:s).replace(/^ +| +$/g,"").split(/ *, */)),h=t?{protocol:s.toString()}:s;(a=new(t?require("ws"):window.WebSocket)(r,h)).binaryType="arraybuffer"}catch(t){d(new B.e(U.Yb))}return Z.L.$b(e,i={W:i,port:n,o:a,ab:[]}),Z.L.zd(e,i),2===e.type&&void 0!==e.ya&&i.ab.push(new Uint8Array([255,255,255,255,112,111,114,116,(65280&e.ya)>>8,255&e.ya])),i},gb:function(t,e,i){return t.Ma[e+":"+i]},$b:function(t,e){t.Ma[e.W+":"+e.port]=e},Bc:function(t,e){delete t.Ma[e.W+":"+e.port]},zd:function(n,a){function e(){p.websocket.P("open",n.A.C);try{for(var t=a.ab.shift();t;)a.o.send(t),t=a.ab.shift()}catch(t){a.o.close()}}function o(t){w("string"!=typeof t&&t.byteLength!==g);var t=new Uint8Array(t),e=r;r=m,e&&10===t.length&&255===t[0]&&255===t[1]&&255===t[2]&&255===t[3]&&112===t[4]&&111===t[5]&&114===t[6]&&116===t[7]?(t=t[8]<<8|t[9],Z.L.Bc(n,a),a.port=t,Z.L.$b(n,a)):(n.ua.push({W:a.W,port:a.port,data:t}),p.websocket.P("message",n.A.C))}var r=i;t?(a.o.on("open",e),a.o.on("message",function(t,e){e.binary&&o(new Uint8Array(t).buffer)}),a.o.on("close",function(){p.websocket.P("close",n.A.C)}),a.o.on("error",function(){n.error=U.Wb,p.websocket.P("error",[n.A.C,n.error,"ECONNREFUSED: Connection refused"])})):(a.o.onopen=e,a.o.onclose=function(){p.websocket.P("close",n.A.C)},a.o.onmessage=function(t){o(t.data)},a.o.onerror=function(){n.error=U.Wb,p.websocket.P("error",[n.A.C,n.error,"ECONNREFUSED: Connection refused"])})},zc:function(t){var e,i;return 1===t.type&&t.G?t.Kb.length?65:0:(e=0,i=1===t.type?Z.L.gb(t,t.Y,t.Z):k,(t.ua.length||!i||i&&i.o.readyState===i.o.Pa||i&&i.o.readyState===i.o.CLOSED)&&(e|=65),i&&i.o.readyState!==i.o.OPEN||(e|=4),(i&&i.o.readyState===i.o.Pa||i&&i.o.readyState===i.o.CLOSED)&&(e|=16),e)},Ha:function(t,e,i){return 21531!==e?U.B:(e=0,t.ua.length&&(e=t.ua[0].data.length),K[i>>2]=e,0)},close:function(t){if(t.G){try{t.G.close()}catch(t){}t.G=k}for(var e=Object.keys(t.Ma),i=0;i<e.length;i++){var n=t.Ma[e[i]];try{n.o.close()}catch(t){}Z.L.Bc(t,n)}return 0},bind:function(t,e,i){if(void 0===t.Qb&&void 0===t.ya||d(new B.e(U.B)),t.Qb=e,t.ya=i||zb(),2===t.type){t.G&&(t.G.close(),t.G=k);try{t.wa.Fd(t,0)}catch(t){t instanceof B.e||d(t),t.cb!==U.Ta&&d(t)}}},cg:function(t,e,i){var n;t.G&&d(new B.e(U.Ta)),void 0!==t.Y&&void 0!==t.Z&&(n=Z.L.gb(t,t.Y,t.Z))&&(n.o.readyState===n.o.CONNECTING&&d(new B.e(U.Hc)),d(new B.e(U.Kc))),e=Z.L.$a(t,e,i),t.Y=e.W,t.Z=e.port,d(new B.e(U.Jc))},Fd:function(i){t||d(new B.e(U.Ta)),i.G&&d(new B.e(U.B));var e=require("ws").Server;i.G=new e({host:i.Qb,port:i.ya}),p.websocket.P("listen",i.A.C),i.G.on("connection",function(t){var e;1===i.type?(e=Z.nd(i.qd,i.type,i.protocol),t=Z.L.$a(e,t),e.Y=t.W,e.Z=t.port,i.Kb.push(e),p.websocket.P("connection",e.A.C)):(Z.L.$a(i,t),p.websocket.P("connection",i.A.C))}),i.G.on("closed",function(){p.websocket.P("close",i.A.C),i.G=k}),i.G.on("error",function(){i.error=U.Yb,p.websocket.P("error",[i.A.C,i.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(t){t.G||d(new B.e(U.B));var e=t.Kb.shift();return e.A.D=t.A.D,e},tg:function(t,e){var i,e=e?(t.Y!==g&&t.Z!==g||d(new B.e(U.Ra)),i=t.Y,t.Z):(i=t.Qb||0,t.ya||0);return{W:i,port:e}},Vd:function(t,e,i,n,a,o){2===t.type?(a!==g&&o!==g||(a=t.Y,o=t.Z),a!==g&&o!==g||d(new B.e(U.Ic))):(a=t.Y,o=t.Z);var r=Z.L.gb(t,a,o);if(1===t.type&&(r&&r.o.readyState!==r.o.Pa&&r.o.readyState!==r.o.CLOSED||d(new B.e(U.Ra)),r.o.readyState===r.o.CONNECTING)&&d(new B.e(U.Ca)),e=e instanceof Array||e instanceof ArrayBuffer?e.slice(i,i+n):e.buffer.slice(e.byteOffset+i,e.byteOffset+i+n),2===t.type&&(!r||r.o.readyState!==r.o.OPEN))return(r=r&&r.o.readyState!==r.o.Pa&&r.o.readyState!==r.o.CLOSED?r:Z.L.$a(t,a,o)).ab.push(e),n;try{return r.o.send(e),n}catch(t){d(new B.e(U.B))}},Rd:function(t,e){1===t.type&&t.G&&d(new B.e(U.Ra));var i=t.ua.shift();if(!i){if(1===t.type){if(n=Z.L.gb(t,t.Y,t.Z)){if(n.o.readyState===n.o.Pa||n.o.readyState===n.o.CLOSED)return k;d(new B.e(U.Ca))}d(new B.e(U.Ra))}d(new B.e(U.Ca))}var n=i.data.byteLength||i.data.length,a=i.data.byteOffset||0,o=i.data.buffer||i.data,e=Math.min(e,n),r={buffer:new Uint8Array(o,a,e),W:i.W,port:i.port};return 1===t.type&&e<n&&(i.data=new Uint8Array(o,a+e,n-e),t.ua.unshift(i)),r}}};function Ab(t,e,i){if(!(t=B.qa(t)))return V(U.V),-1;try{return B.write(t,I,e,i)}catch(t){return B.sc(t),-1}}function Cb(t){return(t=B.pc(t))?t.C:-1}function Db(t,e){return Ab(Cb(e),t,Bb(t))}function Eb(t,e){t&=255;return t=0<=t?t:Math.pow(2,g)+t,I[Eb.Cc>>0]=t,-1==Ab(Cb(e),Eb.Cc,1)?((t=B.pc(e))&&(t.error=i),-1):t}function Fb(t){Fb.$c||(E=E+4095&-4096,Fb.$c=i,w(z.bb),Fb.Wc=z.bb,z.bb=function(){A("cannot dynamically allocate, sbrk now has control")});var e=E;return 0!=t&&Fb.Wc(t),e}function Hb(t,e,i){window._broadwayOnPictureDecoded(t,e,i)}function Ib(){window._broadwayOnHeadersDecoded()}function Jb(t,e){return Kb=t,Lb=e,Mb?(0==t?(Nb=function(){setTimeout(Ob,e)},Pb="timeout"):1==t&&(Nb=function(){Qb(Ob)},Pb="rAF"),0):1}function Rb(n,t,e,a){p.noExitRuntime=i,w(!Mb,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Mb=n,Sb=a;var o=Tb;Ob=function(){if(!H)if(0<Ub.length){Date.now();var t,e,i=Ub.shift();i.ja(i.Xa),Vb&&(e=0==(t=Vb)%1?t-1:Math.floor(t),Vb=i.dg?e:(8*t+(e+.5))/9),p.setStatus&&(e=p.statusMessage||"Please wait...",i=Vb,t=Wb.ig,i?i<t?p.setStatus(e+" ("+(t-i)+"/"+t+")"):p.setStatus(e):p.setStatus("")),setTimeout(Ob,0)}else if(!(o<Tb))if(Xb=Xb+1|0,1==Kb&&1<Lb&&0!=Xb%Lb)Nb();else{"timeout"===Pb&&p.fg&&(p.fa("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Pb="");t:if(!(H||p.preMainLoop&&p.preMainLoop()===m)){try{void 0!==a?z.Fa("vi",n,[a]):z.Fa("v",n)}catch(t){if(t instanceof ia)break t;t&&"object"==typeof t&&t.stack&&p.fa("exception thrown: "+[t,t.stack]),d(t)}p.postMainLoop&&p.postMainLoop()}o<Tb||("object"==typeof SDL&&SDL.ac&&SDL.ac.Pd&&SDL.ac.Pd(),Nb())}},t&&0<t?Jb(0,1e3/t):Jb(1,1),Nb(),e&&d("SimulateInfiniteLoop")}p._strlen=Bb,p._memset=Gb,p._broadwayOnPictureDecoded=Hb,p._broadwayOnHeadersDecoded=Ib;var Nb=k,Pb="",Tb=0,Mb=k,Sb=0,Kb=0,Lb=0,Xb=0,Ub=[],Wb={},Ob,Vb,Yb=m,rb=m,Zb=m,$b=g,ac=g,bc=0;function cc(t){var e=Date.now();if(0===bc)bc=e+1e3/60;else for(;bc<=e+2;)bc+=1e3/60;e=Math.max(bc-e,0),setTimeout(t,e)}function Qb(t){void 0===window?cc(t):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||cc),window.requestAnimationFrame(t))}function xb(t){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/assets",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[t.substr(t.lastIndexOf(".")+1)]}function yb(e,n,t){function a(){t?t():d('Loading data file "'+e+'" failed.')}var o=new XMLHttpRequest;o.open("GET",e,i),o.responseType="arraybuffer",o.onload=function(){var t;(200==o.status||0==o.status&&o.response?(w(t=o.response,'Loading data file "'+e+'" failed (no arrayBuffer).'),n(new Uint8Array(t)),Za):a)()},o.onerror=a,o.send(k),Ya()}var dc=[],tb,ub,vb,wb;function ec(){var e=p.canvas;dc.forEach(function(t){t(e.width,e.height)})}function fc(t,e,i){e&&i?(t.ae=e,t.Ad=i):(e=t.ae,i=t.Ad);var n,a=e,o=i;p.forcedAspectRatio&&0<p.forcedAspectRatio&&(a/o<p.forcedAspectRatio?a=Math.round(o*p.forcedAspectRatio):o=Math.round(a/p.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===t.parentNode&&"undefined"!=typeof screen&&(n=Math.min(screen.width/a,screen.height/o),a=Math.round(a*n),o=Math.round(o*n)),ac?(t.width!=a&&(t.width=a),t.height!=o&&(t.height=o),void 0!==t.style&&(t.style.removeProperty("width"),t.style.removeProperty("height"))):(t.width!=e&&(t.width=e),t.height!=i&&(t.height=i),void 0!==t.style&&(a!=e||o!=i?(t.style.setProperty("width",a+"px","important"),t.style.setProperty("height",o+"px","important")):(t.style.removeProperty("width"),t.style.removeProperty("height"))))}p._memcpy=gc,B.Zd(),R.unshift({ja:function(){p.noFSInit||B.Ga.hb||B.Ga()}}),Pa.push({ja:function(){B.vc=m}}),Qa.push({ja:function(){B.Qd()}}),p.FS_createFolder=B.hd,p.FS_createPath=B.ld,p.FS_createDataFile=B.xb,p.FS_createPreloadedFile=B.md,p.FS_createLazyFile=B.jd,p.FS_createLink=B.kd,p.FS_createDevice=B.X,bb=z.Ec(4),K[bb>>2]=0,R.unshift({ja:n()}),Qa.push({ja:n()});var lb=new z.Da,$=(t&&(require("fs"),process.platform.match(/^win/)),R.push({ja:function(){Z.root=B.F(Z,{},k)}}),Eb.Cc=M([0],"i8",L),p.requestFullScreen=function(t,e){function a(){Yb=m;var t=o.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===t?(o.cc=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||n(),o.cc=o.cc.bind(document),$b&&o.Pb(),Yb=i,ac&&("undefined"!=typeof SDL&&(t=Ha[SDL.screen+0*z.ia>>2],K[SDL.screen+0*z.ia>>2]=8388608|t),ec())):(t.parentNode.insertBefore(o,t),t.parentNode.removeChild(t),ac&&("undefined"!=typeof SDL&&(t=Ha[SDL.screen+0*z.ia>>2],K[SDL.screen+0*z.ia>>2]=-8388609&t),ec())),p.onFullScreen&&p.onFullScreen(Yb),fc(o)}void 0===($b=t)&&($b=i),void 0===(ac=e)&&(ac=m);var o=p.canvas,r=(Zb||(Zb=i,document.addEventListener("fullscreenchange",a,m),document.addEventListener("mozfullscreenchange",a,m),document.addEventListener("webkitfullscreenchange",a,m),document.addEventListener("MSFullscreenChange",a,m)),document.createElement("div"));o.parentNode.insertBefore(r,o),r.appendChild(o),r.Td=r.requestFullScreen||r.mozRequestFullScreen||r.msRequestFullscreen||(r.webkitRequestFullScreen?function(){r.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:k),r.Td()},p.requestAnimationFrame=function(t){Qb(t)},p.setCanvasSize=function(t,e,i){fc(p.canvas,t,e),i||ec()},p.pauseMainLoop=function(){Nb=k,Tb++},p.resumeMainLoop=function(){Tb++;var t=Kb,e=Lb,i=Mb;Mb=k,Rb(i,0,m,Sb),Jb(t,e)},p.getUserMedia=function(){window.qc||(window.qc=navigator.getUserMedia||navigator.mozGetUserMedia),window.qc(g)},Ja=y=z.ub(D),Ka=Ja+Ma,La=E=z.ub(Ka),w(La<F,"TOTAL_MEMORY not big enough for stack"),p.Xc={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},p.Yc={abort:A,assert:w,min:va,invoke_viiiii:function(t,e,i,n,a,o){try{p.dynCall_viiiii(t,e,i,n,a,o)}catch(t){"number"!=typeof t&&"longjmp"!==t&&d(t),$.setThrew(1,0)}},_broadwayOnPictureDecoded:Hb,_puts:function(t){var e=K[pb>>2];return(t=Db(t,e))<0?t:Eb(10,e)<0?-1:t+1},_fflush:n(),_fputc:Eb,_send:function(t,e,i){return Z.wd(t)?Ab(t,e,i):(V(U.V),-1)},_pwrite:function(t,e,i,n){if(!(t=B.qa(t)))return V(U.V),-1;try{return B.write(t,I,e,i,n)}catch(t){return B.sc(t),-1}},_fputs:Db,_emscripten_set_main_loop:Rb,_abort:function(){p.abort()},___setErrNo:V,_sbrk:Fb,_mkport:zb,_emscripten_set_main_loop_timing:Jb,_emscripten_memcpy_big:function(t,e,i){return N.set(N.subarray(e,e+i),t),t},_fileno:Cb,_broadwayOnHeadersDecoded:Ib,_write:Ab,_time:function(t){var e=Date.now()/1e3|0;return t&&(K[t>>2]=e),e},_sysconf:function(t){switch(t){case 30:return 4096;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return V(U.B),-1},___errno_location:function(){return bb},STACKTOP:y,STACK_MAX:Ka,tempDoublePtr:$a,ABORT:H,NaN:NaN,Infinity:1/0},function(t,e,i){"use asm";var Kt=new t.Int8Array(i);var Jt=new t.Int16Array(i);var qt=new t.Int32Array(i);var Qt=new t.Uint8Array(i);var X=new t.Uint16Array(i);var a=new t.Uint32Array(i);var o=new t.Float32Array(i);var r=new t.Float64Array(i);var Zt=e.STACKTOP|0;var s=e.STACK_MAX|0;var n=e.tempDoublePtr|0;var h=e.ABORT|0;var l=0;var c=0;var u=0;var d=0;var p=+e.NaN,f=+e.Infinity;var g=0,v=0,y=0,P=0,S=0.0,I=0,B=0,M=0,L=0.0;var E=0;var A=0;var D=0;var R=0;var K=0;var J=0;var q=0;var Q=0;var Z=0;var $=0;var tt=t.Math.floor;var et=t.Math.abs;var it=t.Math.sqrt;var nt=t.Math.pow;var at=t.Math.cos;var ot=t.Math.sin;var rt=t.Math.tan;var st=t.Math.acos;var ht=t.Math.asin;var lt=t.Math.atan;var ct=t.Math.atan2;var ut=t.Math.exp;var dt=t.Math.log;var pt=t.Math.ceil;var $t=t.Math.imul;var gt=e.abort;var vt=e.assert;var yt=e.min;var Pt=e.invoke_viiiii;var St=e._broadwayOnPictureDecoded;var bt=e._puts;var It=e._fflush;var Bt=e._fputc;var Ct=e._send;var kt=e._pwrite;var Tt=e._fputs;var xt=e._emscripten_set_main_loop;var N=e._abort;var Mt=e.___setErrNo;var O=e._sbrk;var wt=e._mkport;var Lt=e._emscripten_set_main_loop_timing;var Et=e._emscripten_memcpy_big;var At=e._fileno;var Dt=e._broadwayOnHeadersDecoded;var Rt=e._write;var Nt=e._time;var Ot=e._sysconf;var Ut=e.___errno_location;var Vt=0.0;function Gt(t){t=t|0;var e=0;e=Zt;Zt=Zt+t|0;Zt=Zt+15&-16;return e|0}function Ft(){return Zt|0}function Xt(t){t=t|0;Zt=t}function Ht(t,e){t=t|0;e=e|0;if(!l){l=t;c=e}}function jt(t){t=t|0;Kt[n>>0]=Kt[t>>0];Kt[n+1>>0]=Kt[t+1>>0];Kt[n+2>>0]=Kt[t+2>>0];Kt[n+3>>0]=Kt[t+3>>0]}function Wt(t){t=t|0;Kt[n>>0]=Kt[t>>0];Kt[n+1>>0]=Kt[t+1>>0];Kt[n+2>>0]=Kt[t+2>>0];Kt[n+3>>0]=Kt[t+3>>0];Kt[n+4>>0]=Kt[t+4>>0];Kt[n+5>>0]=Kt[t+5>>0];Kt[n+6>>0]=Kt[t+6>>0];Kt[n+7>>0]=Kt[t+7>>0]}function Yt(t){t=t|0;E=t}function zt(){return E|0}function ne(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0;r=Zt;o=Qt[8+e>>0]|0;s=Qt[64+e>>0]|0;a=qt[120+(s*12|0)>>2]<<o;e=qt[124+(s*12|0)>>2]<<o;o=qt[128+(s*12|0)>>2]<<o;if(!i)qt[t>>2]=$t(qt[t>>2]|0,a)|0;t:do{if(!(n&65436)){if(n&98){c=t+4|0;o=$t(qt[c>>2]|0,e)|0;h=t+20|0;l=$t(qt[h>>2]|0,a)|0;a=t+24|0;s=$t(qt[a>>2]|0,e)|0;n=qt[t>>2]|0;i=(o>>1)-s|0;s=o+(s>>1)|0;e=l+n+32|0;o=e+s>>6;qt[t>>2]=o;l=n-l+32|0;n=l+i>>6;qt[c>>2]=n;i=l-i>>6;qt[t+8>>2]=i;s=e-s>>6;qt[t+12>>2]=s;qt[t+48>>2]=o;qt[t+32>>2]=o;qt[t+16>>2]=o;qt[t+52>>2]=n;qt[t+36>>2]=n;qt[h>>2]=n;qt[t+56>>2]=i;qt[t+40>>2]=i;qt[a>>2]=i;qt[t+60>>2]=s;qt[t+44>>2]=s;qt[t+28>>2]=s;if((o+512|0)>>>0>1023|(n+512|0)>>>0>1023|(i+512|0)>>>0>1023|(s+512|0)>>>0>1023)a=1;else break;Zt=r;return a|0}a=(qt[t>>2]|0)+32>>6;if((a+512|0)>>>0>1023){c=1;Zt=r;return c|0}else{qt[t+60>>2]=a;qt[t+56>>2]=a;qt[t+52>>2]=a;qt[t+48>>2]=a;qt[t+44>>2]=a;qt[t+40>>2]=a;qt[t+36>>2]=a;qt[t+32>>2]=a;qt[t+28>>2]=a;qt[t+24>>2]=a;qt[t+20>>2]=a;qt[t+16>>2]=a;qt[t+12>>2]=a;qt[t+8>>2]=a;qt[t+4>>2]=a;qt[t>>2]=a;break}}else{b=t+4|0;_=t+56|0;y=t+60|0;m=qt[y>>2]|0;g=$t(qt[b>>2]|0,e)|0;qt[_>>2]=$t(qt[_>>2]|0,e)|0;qt[y>>2]=$t(m,o)|0;y=t+8|0;m=qt[y>>2]|0;_=t+16|0;S=$t(qt[t+20>>2]|0,a)|0;u=$t(qt[_>>2]|0,o)|0;p=t+12|0;d=qt[p>>2]|0;h=$t(qt[t+32>>2]|0,e)|0;l=$t(qt[t+24>>2]|0,e)|0;f=qt[t+28>>2]|0;c=$t(qt[t+48>>2]|0,o)|0;i=$t(qt[t+36>>2]|0,e)|0;s=qt[t+44>>2]|0;o=$t(qt[t+40>>2]|0,o)|0;n=$t(qt[t+52>>2]|0,e)|0;P=qt[t>>2]|0;v=S+P|0;S=P-S|0;P=(g>>1)-l|0;g=(l>>1)+g|0;l=g+v|0;qt[t>>2]=l;qt[b>>2]=P+S;qt[y>>2]=S-P;qt[p>>2]=v-g;p=$t(e,f+m|0)|0;f=$t(m-f|0,e)|0;e=(u>>1)-c|0;u=(c>>1)+u|0;c=u+p|0;qt[_>>2]=c;qt[t+20>>2]=e+f;qt[t+24>>2]=f-e;qt[t+28>>2]=p-u;u=$t(a,s+d|0)|0;e=$t(d-s|0,a)|0;a=(h>>1)-n|0;h=(n>>1)+h|0;n=h+u|0;qt[t+32>>2]=n;qt[t+36>>2]=a+e;qt[t+40>>2]=e-a;qt[t+44>>2]=u-h;h=t+56|0;u=qt[h>>2]|0;a=u+i|0;u=i-u|0;i=t+60|0;e=qt[i>>2]|0;s=(o>>1)-e|0;e=(e>>1)+o|0;o=e+a|0;qt[t+48>>2]=o;qt[t+52>>2]=s+u;qt[h>>2]=u-s;qt[i>>2]=a-e;i=3;e=l;a=c;while(1){y=(a>>1)-o|0;a=(o>>1)+a|0;P=n+e+32|0;S=P+a>>6;qt[t>>2]=S;e=e-n+32|0;b=e+y>>6;qt[t+16>>2]=b;e=e-y>>6;qt[t+32>>2]=e;a=P-a>>6;qt[t+48>>2]=a;if((S+512|0)>>>0>1023|(b+512|0)>>>0>1023){a=1;e=14;break}if((e+512|0)>>>0>1023|(a+512|0)>>>0>1023){a=1;e=14;break}e=t+4|0;if(!i)break t;n=qt[t+36>>2]|0;a=qt[t+20>>2]|0;o=qt[t+52>>2]|0;t=e;i=i+-1|0;e=qt[e>>2]|0}if((e|0)==14){Zt=r;return a|0}}}while(0);b=0;Zt=r;return b|0}function ae(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0;B=Zt;b=Kt[64+e>>0]|0;S=Kt[8+e>>0]|0;k=t+8|0;u=qt[k>>2]|0;g=qt[t+20>>2]|0;I=t+16|0;d=qt[I>>2]|0;i=t+32|0;m=qt[i>>2]|0;T=t+12|0;_=qt[T>>2]|0;o=qt[t+24>>2]|0;f=qt[t+28>>2]|0;n=t+48|0;l=qt[n>>2]|0;C=qt[t+36>>2]|0;P=qt[t+40>>2]|0;x=qt[t+44>>2]|0;p=qt[t+52>>2]|0;a=qt[t>>2]|0;c=g+a|0;g=a-g|0;a=t+4|0;h=qt[a>>2]|0;s=h-o|0;h=o+h|0;o=h+c|0;qt[t>>2]=o;r=s+g|0;qt[a>>2]=r;s=g-s|0;qt[k>>2]=s;h=c-h|0;qt[T>>2]=h;T=f+u|0;f=u-f|0;u=d-l|0;d=l+d|0;l=d+T|0;qt[I>>2]=l;c=u+f|0;qt[t+20>>2]=c;u=f-u|0;qt[t+24>>2]=u;d=T-d|0;qt[t+28>>2]=d;T=x+_|0;x=_-x|0;_=m-p|0;m=p+m|0;p=m+T|0;qt[t+32>>2]=p;f=_+x|0;qt[t+36>>2]=f;_=x-_|0;qt[t+40>>2]=_;m=T-m|0;qt[t+44>>2]=m;T=t+56|0;x=qt[T>>2]|0;k=x+C|0;x=C-x|0;C=t+60|0;g=qt[C>>2]|0;y=P-g|0;P=g+P|0;g=P+k|0;qt[t+48>>2]=g;v=y+x|0;qt[t+52>>2]=v;y=x-y|0;qt[T>>2]=y;P=k-P|0;qt[C>>2]=P;S=S&255;b=qt[120+((b&255)*12|0)>>2]|0;if(e>>>0>11){x=b<<S+-2;k=p+o|0;e=o-p|0;C=l-g|0;T=g+l|0;qt[t>>2]=$t(T+k|0,x)|0;qt[I>>2]=$t(C+e|0,x)|0;qt[i>>2]=$t(e-C|0,x)|0;qt[n>>2]=$t(k-T|0,x)|0;T=f+r|0;k=r-f|0;C=c-v|0;e=v+c|0;qt[a>>2]=$t(e+T|0,x)|0;qt[t+20>>2]=$t(C+k|0,x)|0;qt[t+36>>2]=$t(k-C|0,x)|0;qt[t+52>>2]=$t(T-e|0,x)|0;e=_+s|0;T=s-_|0;C=u-y|0;k=y+u|0;qt[t+8>>2]=$t(k+e|0,x)|0;qt[t+24>>2]=$t(C+T|0,x)|0;qt[t+40>>2]=$t(T-C|0,x)|0;qt[t+56>>2]=$t(e-k|0,x)|0;k=m+h|0;e=h-m|0;C=d-P|0;T=P+d|0;qt[t+12>>2]=$t(T+k|0,x)|0;qt[t+28>>2]=$t(C+e|0,x)|0;qt[t+44>>2]=$t(e-C|0,x)|0;qt[t+60>>2]=$t(k-T|0,x)|0;Zt=B}else{T=(e+-6|0)>>>0<6?1:2;x=2-S|0;C=p+o|0;S=o-p|0;e=l-g|0;k=g+l|0;qt[t>>2]=($t(k+C|0,b)|0)+T>>x;qt[I>>2]=($t(e+S|0,b)|0)+T>>x;qt[i>>2]=($t(S-e|0,b)|0)+T>>x;qt[n>>2]=($t(C-k|0,b)|0)+T>>x;k=f+r|0;C=r-f|0;e=c-v|0;I=v+c|0;qt[a>>2]=($t(I+k|0,b)|0)+T>>x;qt[t+20>>2]=($t(e+C|0,b)|0)+T>>x;qt[t+36>>2]=($t(C-e|0,b)|0)+T>>x;qt[t+52>>2]=($t(k-I|0,b)|0)+T>>x;I=_+s|0;k=s-_|0;e=u-y|0;C=y+u|0;qt[t+8>>2]=($t(C+I|0,b)|0)+T>>x;qt[t+24>>2]=($t(e+k|0,b)|0)+T>>x;qt[t+40>>2]=($t(k-e|0,b)|0)+T>>x;qt[t+56>>2]=($t(I-C|0,b)|0)+T>>x;C=m+h|0;I=h-m|0;e=d-P|0;k=P+d|0;qt[t+12>>2]=($t(k+C|0,b)|0)+T>>x;qt[t+28>>2]=($t(e+I|0,b)|0)+T>>x;qt[t+44>>2]=($t(I-e|0,b)|0)+T>>x;qt[t+60>>2]=($t(C-k|0,b)|0)+T>>x;Zt=B}}function oe(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0;i=qt[120+((Qt[64+e>>0]|0)*12|0)>>2]|0;if(e>>>0>5){i=i<<(Qt[8+e>>0]|0)+-1;e=0}else e=1;h=qt[t>>2]|0;a=t+8|0;o=qt[a>>2]|0;c=o+h|0;o=h-o|0;h=t+4|0;s=qt[h>>2]|0;l=t+12|0;n=qt[l>>2]|0;r=s-n|0;s=n+s|0;qt[t>>2]=($t(s+c|0,i)|0)>>e;qt[h>>2]=($t(c-s|0,i)|0)>>e;qt[a>>2]=($t(r+o|0,i)|0)>>e;qt[l>>2]=($t(o-r|0,i)|0)>>e;l=t+16|0;r=qt[l>>2]|0;o=t+24|0;a=qt[o>>2]|0;h=a+r|0;a=r-a|0;r=t+20|0;s=qt[r>>2]|0;t=t+28|0;c=qt[t>>2]|0;n=s-c|0;s=c+s|0;qt[l>>2]=($t(s+h|0,i)|0)>>e;qt[r>>2]=($t(h-s|0,i)|0)>>e;qt[o>>2]=($t(n+a|0,i)|0)>>e;qt[t>>2]=($t(a-n|0,i)|0)>>e}function re(t,e){t=t|0;e=e|0;var i=0,n=0;n=Zt;e=1<<e+-1;if(!(e&t)){i=e;e=0}else{t=0;Zt=n;return t|0}do{e=e+1|0;i=i>>>1}while((i|0)!=0&(i&t|0)==0);Zt=n;return e|0}function se(t){t=t|0;var e=0,i=0;i=Zt;e=8-(qt[t+8>>2]|0)|0;t=k(t,e)|0;if((t|0)==-1){e=1;Zt=i;return e|0}e=(t|0)!=(qt[400+(e+-1<<2)>>2]|0)&1;Zt=i;return e|0}function he(t){t=t|0;var e=0,i=0,n=0,a=0;i=Zt;a=qt[t+12>>2]<<3;n=qt[t+16>>2]|0;e=a-n|0;if((a|0)==(n|0)){a=0;Zt=i;return a|0}if(e>>>0>8){a=1;Zt=i;return a|0}else{a=((V(t)|0)>>>(32-e|0)|0)!=(1<<e+-1|0)&1;Zt=i;return a|0}return 0}function le(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0;a=Zt;n=qt[t+(i<<2)>>2]|0;do{i=i+1|0;if(i>>>0>=e>>>0)break}while((qt[t+(i<<2)>>2]|0)!=(n|0));Zt=a;return((i|0)==(e|0)?0:i)|0}function ce(t,e){t=t|0;e=e|0;var i=0,n=0,a=0;n=qt[t+4>>2]|0;a=(e>>>0)%(n>>>0)|0;i=e-a|0;e=$t(qt[t+8>>2]|0,n)|0;n=qt[t>>2]|0;qt[t+12>>2]=n+((i<<8)+(a<<4));i=(a<<3)+(e<<8)+(i<<6)|0;qt[t+16>>2]=n+i;qt[t+20>>2]=n+(i+(e<<6))}function te(t,e,i){t=t|0;e=e|0;i=i|0;if((i|0)>=(t|0))t=(i|0)>(e|0)?e:i;return t|0}function ue(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0;f=Zt;t:do{if(((e>>>0>3?(Kt[t>>0]|0)==0:0)?(Kt[t+1>>0]|0)==0:0)?(a=Kt[t+2>>0]|0,(a&255)<2):0){e:do{if((e|0)!=3){u=-3;d=3;s=t+3|0;o=2;while(1){if(a<<24>>24)if(a<<24>>24==1&o>>>0>1){c=d;a=0;h=0;l=s;s=0;break}else o=0;else o=o+1|0;r=d+1|0;if((r|0)==(e|0))break e;u=~d;a=Kt[s>>0]|0;d=r;s=s+1|0}while(1){p=Kt[l>>0]|0;o=c+1|0;r=p<<24>>24!=0;s=(r&1^1)+s|0;a=p<<24>>24==3&(s|0)==2?1:a;if(p<<24>>24==1&s>>>0>1){p=14;break}if(r){h=s>>>0>2?1:h;s=0}if((o|0)==(e|0)){p=18;break}else{c=o;l=l+1|0}}if((p|0)==14){l=u+c-s|0;qt[i+12>>2]=l;o=d;s=s-(s>>>0<3?s:3)|0;break t}else if((p|0)==18){l=u+e-s|0;qt[i+12>>2]=l;o=d;break t}}}while(0);qt[n>>2]=e;p=1;Zt=f;return p|0}else p=19}while(0);if((p|0)==19){qt[i+12>>2]=e;l=e;a=1;o=0;h=0;s=0}r=t+o|0;qt[i>>2]=r;qt[i+4>>2]=r;qt[i+8>>2]=0;qt[i+16>>2]=0;c=i+12|0;qt[n>>2]=s+o+l;if(h){p=1;Zt=f;return p|0}if(!a){p=0;Zt=f;return p|0}s=qt[c>>2]|0;a=r;h=r;o=0;t:while(1){while(1){n=s;s=s+-1|0;if(!n){p=31;break t}r=Kt[a>>0]|0;if((o|0)!=2)break;if(r<<24>>24!=3){p=29;break}if(!s){a=1;p=32;break t}a=a+1|0;if((Qt[a>>0]|0)>3){a=1;p=32;break t}else o=0}if((p|0)==29){p=0;if((r&255)<3){a=1;p=32;break}else o=2}Kt[h>>0]=r;a=a+1|0;h=h+1|0;o=r<<24>>24==0?o+1|0:0}if((p|0)==31){qt[c>>2]=h-a+(qt[c>>2]|0);p=0;Zt=f;return p|0}else if((p|0)==32){Zt=f;return a|0}return 0}function de(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0;d=Zt;Zt=Zt+16|0;u=d;mt(e,0,92);a=k(t,8)|0;t:do{if((((a|0)!=-1?(qt[e>>2]=a,k(t,1)|0,k(t,1)|0,(k(t,1)|0)!=-1):0)?(k(t,5)|0)!=-1:0)?(n=k(t,8)|0,(n|0)!=-1):0){c=e+4|0;qt[c>>2]=n;a=e+8|0;i=w(t,a)|0;if(!i)if((qt[a>>2]|0)>>>0<=31){i=w(t,u)|0;if(!i){a=qt[u>>2]|0;if(a>>>0<=12){qt[e+12>>2]=1<<a+4;i=w(t,u)|0;if(!i){a=qt[u>>2]|0;if(a>>>0<=2){qt[e+16>>2]=a;e:do{if((a|0)==1){a=k(t,1)|0;if((a|0)==-1){i=1;break t}qt[e+24>>2]=(a|0)==1&1;i=T(t,e+28|0)|0;if(i)break t;i=T(t,e+32|0)|0;if(i)break t;r=e+36|0;i=w(t,r)|0;if(i)break t;a=qt[r>>2]|0;if(a>>>0>255){i=1;break t}if(!a){qt[e+40>>2]=0;break}a=_(a<<2)|0;n=e+40|0;qt[n>>2]=a;if(!a){i=65535;break t}if(qt[r>>2]|0){o=0;while(1){i=T(t,a+(o<<2)|0)|0;o=o+1|0;if(i)break t;if(o>>>0>=(qt[r>>2]|0)>>>0)break e;a=qt[n>>2]|0}}}else if(!a){i=w(t,u)|0;if(i)break t;a=qt[u>>2]|0;if(a>>>0>12){i=1;break t}qt[e+20>>2]=1<<a+4}}while(0);l=e+44|0;i=w(t,l)|0;if(!i)if((qt[l>>2]|0)>>>0<=16?(h=k(t,1)|0,(h|0)!=-1):0){qt[e+48>>2]=(h|0)==1&1;i=w(t,u)|0;if(!i){a=e+52|0;qt[a>>2]=(qt[u>>2]|0)+1;i=w(t,u)|0;if(!i){h=e+56|0;qt[h>>2]=(qt[u>>2]|0)+1;r=k(t,1)|0;if((!((r|0)==0|(r|0)==-1)?(k(t,1)|0)!=-1:0)?(s=k(t,1)|0,(s|0)!=-1):0){s=(s|0)==1;qt[e+60>>2]=s&1;if(s){n=e+64|0;i=w(t,n)|0;if(i)break;r=e+68|0;i=w(t,r)|0;if(i)break;s=e+72|0;i=w(t,s)|0;if(i)break;o=e+76|0;i=w(t,o)|0;if(i)break;a=qt[a>>2]|0;if((qt[n>>2]|0)>((a<<3)+~qt[r>>2]|0)){i=1;break}n=qt[h>>2]|0;if((qt[s>>2]|0)>((n<<3)+~qt[o>>2]|0)){i=1;break}}else{n=qt[h>>2]|0;a=qt[a>>2]|0}i=$t(n,a)|0;do{switch(qt[c>>2]|0){case 11:{a=396;n=345600;o=58;break}case 12:{a=396;n=912384;o=58;break}case 13:{a=396;n=912384;o=58;break}case 20:{a=396;n=912384;o=58;break}case 21:{a=792;n=1824768;o=58;break}case 22:{a=1620;n=3110400;o=58;break}case 30:{a=1620;n=3110400;o=58;break}case 31:{a=3600;n=6912e3;o=58;break}case 32:{a=5120;n=7864320;o=58;break}case 40:{a=8192;n=12582912;o=58;break}case 41:{a=8192;n=12582912;o=58;break}case 42:{a=8704;n=13369344;o=58;break}case 50:{a=22080;n=42393600;o=58;break}case 51:{a=36864;n=70778880;o=58;break}case 10:{a=99;n=152064;o=58;break}default:o=60}}while(0);do{if((o|0)==58){if(a>>>0<i>>>0){o=60;break}n=(n>>>0)/((i*384|0)>>>0)|0;n=n>>>0<16?n:16;qt[u>>2]=n;a=qt[l>>2]|0;if(a>>>0>n>>>0){n=a;o=61}}}while(0);if((o|0)==60){qt[u>>2]=2147483647;n=qt[l>>2]|0;o=61}if((o|0)==61)qt[u>>2]=n;o=e+88|0;qt[o>>2]=n;i=k(t,1)|0;if((i|0)==-1){i=1;break}u=(i|0)==1;qt[e+80>>2]=u&1;do{if(u){n=_(952)|0;a=e+84|0;qt[a>>2]=n;if(!n){i=65535;break t}i=Ni(t,n)|0;if(i)break t;i=qt[a>>2]|0;if(!(qt[i+920>>2]|0))break;n=qt[i+948>>2]|0;if((qt[i+944>>2]|0)>>>0>n>>>0){i=1;break t}if(n>>>0<(qt[l>>2]|0)>>>0){i=1;break t}if(n>>>0>(qt[o>>2]|0)>>>0){i=1;break t}qt[o>>2]=(n|0)==0?1:n}}while(0);se(t)|0;i=0}else i=1}}}else i=1}else i=1}}else i=1}}else i=1}else i=1}while(0);Zt=d;return i|0}function pe(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0;s=Zt;t:do{if((((((((((qt[t>>2]|0)==(qt[e>>2]|0)?(qt[t+4>>2]|0)==(qt[e+4>>2]|0):0)?(qt[t+12>>2]|0)==(qt[e+12>>2]|0):0)?(i=qt[t+16>>2]|0,(i|0)==(qt[e+16>>2]|0)):0)?(qt[t+44>>2]|0)==(qt[e+44>>2]|0):0)?(qt[t+48>>2]|0)==(qt[e+48>>2]|0):0)?(qt[t+52>>2]|0)==(qt[e+52>>2]|0):0)?(qt[t+56>>2]|0)==(qt[e+56>>2]|0):0)?(r=qt[t+60>>2]|0,(r|0)==(qt[e+60>>2]|0)):0)?(qt[t+80>>2]|0)==(qt[e+80>>2]|0):0){if(!i){if((qt[t+20>>2]|0)!=(qt[e+20>>2]|0)){i=1;break}}else if((i|0)==1){if((qt[t+24>>2]|0)!=(qt[e+24>>2]|0)){i=1;break}if((qt[t+28>>2]|0)!=(qt[e+28>>2]|0)){i=1;break}if((qt[t+32>>2]|0)!=(qt[e+32>>2]|0)){i=1;break}i=qt[t+36>>2]|0;if((i|0)!=(qt[e+36>>2]|0)){i=1;break}if(i){n=qt[t+40>>2]|0;a=qt[e+40>>2]|0;o=0;do{if((qt[n+(o<<2)>>2]|0)!=(qt[a+(o<<2)>>2]|0)){i=1;break t}o=o+1|0}while(o>>>0<i>>>0)}}if(r){if((qt[t+64>>2]|0)!=(qt[e+64>>2]|0)){i=1;break}if((qt[t+68>>2]|0)!=(qt[e+68>>2]|0)){i=1;break}if((qt[t+72>>2]|0)!=(qt[e+72>>2]|0)){i=1;break}if((qt[t+76>>2]|0)!=(qt[e+76>>2]|0)){i=1;break}}i=0}else i=1}while(0);Zt=s;return i|0}function fe(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0;l=Zt;Zt=Zt+16|0;s=l+4|0;h=l;mt(e,0,72);i=w(t,e)|0;t:do{if(!i)if((qt[e>>2]|0)>>>0<=255){n=e+4|0;i=w(t,n)|0;if(!i)if(((qt[n>>2]|0)>>>0<=31?(k(t,1)|0)==0:0)?(a=k(t,1)|0,(a|0)!=-1):0){qt[e+8>>2]=(a|0)==1&1;i=w(t,s)|0;if(!i){i=(qt[s>>2]|0)+1|0;r=e+12|0;qt[r>>2]=i;if(i>>>0<=8){e:do{if(i>>>0>1){n=e+16|0;i=w(t,n)|0;if(i)break t;i=qt[n>>2]|0;if(i>>>0>6){i=1;break t}switch(i|0){case 6:{i=w(t,s)|0;if(i)break t;o=(qt[s>>2]|0)+1|0;a=e+40|0;qt[a>>2]=o;o=_(o<<2)|0;n=e+44|0;qt[n>>2]=o;if(!o){i=65535;break t}i=qt[432+((qt[r>>2]|0)+-1<<2)>>2]|0;if(!(qt[a>>2]|0))break e;else o=0;do{c=k(t,i)|0;qt[(qt[n>>2]|0)+(o<<2)>>2]=c;o=o+1|0;if(c>>>0>=(qt[r>>2]|0)>>>0){i=1;break t}}while(o>>>0<(qt[a>>2]|0)>>>0);break}case 5:case 4:case 3:{i=k(t,1)|0;if((i|0)==-1){i=1;break t}qt[e+32>>2]=(i|0)==1&1;i=w(t,s)|0;if(i)break t;qt[e+36>>2]=(qt[s>>2]|0)+1;break e}case 0:{c=_(qt[r>>2]<<2)|0;a=e+20|0;qt[a>>2]=c;if(!c){i=65535;break t}if(!(qt[r>>2]|0))break e;else n=0;do{i=w(t,s)|0;if(i)break t;qt[(qt[a>>2]|0)+(n<<2)>>2]=(qt[s>>2]|0)+1;n=n+1|0}while(n>>>0<(qt[r>>2]|0)>>>0);break}case 2:{o=e+24|0;qt[o>>2]=_((qt[r>>2]<<2)+-4|0)|0;c=_((qt[r>>2]<<2)+-4|0)|0;a=e+28|0;qt[a>>2]=c;if((qt[o>>2]|0)==0|(c|0)==0){i=65535;break t}if((qt[r>>2]|0)==1)break e;else n=0;do{i=w(t,s)|0;if(i)break t;qt[(qt[o>>2]|0)+(n<<2)>>2]=qt[s>>2];i=w(t,s)|0;if(i)break t;qt[(qt[a>>2]|0)+(n<<2)>>2]=qt[s>>2];n=n+1|0}while(n>>>0<((qt[r>>2]|0)+-1|0)>>>0);break}default:break e}}}while(0);i=w(t,s)|0;if(!i){i=qt[s>>2]|0;if(i>>>0<=31){qt[e+48>>2]=i+1;i=w(t,s)|0;if(!i)if(((qt[s>>2]|0)>>>0<=31?(k(t,1)|0)==0:0)?(k(t,2)|0)>>>0<=2:0){i=T(t,h)|0;if(!i){i=(qt[h>>2]|0)+26|0;if(i>>>0<=51){qt[e+52>>2]=i;i=T(t,h)|0;if(!i)if(((qt[h>>2]|0)+26|0)>>>0>51)i=1;else{i=T(t,h)|0;if(i)break;i=qt[h>>2]|0;if((i+12|0)>>>0>24){i=1;break}qt[e+56>>2]=i;i=k(t,1)|0;if((i|0)==-1){i=1;break}qt[e+60>>2]=(i|0)==1&1;i=k(t,1)|0;if((i|0)==-1){i=1;break}qt[e+64>>2]=(i|0)==1&1;i=k(t,1)|0;if((i|0)==-1){i=1;break}qt[e+68>>2]=(i|0)==1&1;se(t)|0;i=0}}else i=1}}else i=1}else i=1}}else i=1}}else i=1}else i=1}while(0);Zt=l;return i|0}function _e(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0;P=Zt;Zt=Zt+32|0;m=P+20|0;_=P+16|0;d=P+12|0;l=P+8|0;y=P+4|0;g=P;mt(e,0,988);v=$t(qt[i+56>>2]|0,qt[i+52>>2]|0)|0;h=w(t,y)|0;if(h){y=h;Zt=P;return y|0}u=qt[y>>2]|0;qt[e>>2]=u;if(u>>>0>=v>>>0){y=1;Zt=P;return y|0}h=w(t,y)|0;if(h){y=h;Zt=P;return y|0}h=qt[y>>2]|0;c=e+4|0;qt[c>>2]=h;if((h|0)==5|(h|0)==0)s=5;else if(!((h|0)==7|(h|0)==2)){y=1;Zt=P;return y|0}if((s|0)==5){if((qt[a>>2]|0)==5){y=1;Zt=P;return y|0}if(!(qt[i+44>>2]|0)){y=1;Zt=P;return y|0}}h=w(t,y)|0;if(h){y=h;Zt=P;return y|0}u=qt[y>>2]|0;qt[e+8>>2]=u;if((u|0)!=(qt[n>>2]|0)){y=1;Zt=P;return y|0}u=i+12|0;h=qt[u>>2]|0;s=0;while(1)if(!(h>>>s))break;else s=s+1|0;h=k(t,s+-1|0)|0;if((h|0)==-1){y=1;Zt=P;return y|0}s=(qt[a>>2]|0)==5;if(s&(h|0)!=0){y=1;Zt=P;return y|0}qt[e+12>>2]=h;if(s){h=w(t,y)|0;if(h){y=h;Zt=P;return y|0}h=qt[y>>2]|0;qt[e+16>>2]=h;if(h>>>0>65535){y=1;Zt=P;return y|0}}o=i+16|0;h=qt[o>>2]|0;if(!h){r=i+20|0;h=qt[r>>2]|0;s=0;while(1)if(!(h>>>s))break;else s=s+1|0;h=k(t,s+-1|0)|0;if((h|0)==-1){y=1;Zt=P;return y|0}s=e+20|0;qt[s>>2]=h;do{if(qt[n+8>>2]|0){h=T(t,g)|0;if(!h){qt[e+24>>2]=qt[g>>2];break}else{y=h;Zt=P;return y|0}}}while(0);if((qt[a>>2]|0)==5){h=qt[s>>2]|0;if(h>>>0>(qt[r>>2]|0)>>>1>>>0){y=1;Zt=P;return y|0}s=qt[e+24>>2]|0;if((h|0)!=(((s|0)>0?0:0-s|0)|0)){y=1;Zt=P;return y|0}}h=qt[o>>2]|0}if((h|0)==1?(qt[i+24>>2]|0)==0:0){h=T(t,g)|0;if(h){y=h;Zt=P;return y|0}h=e+28|0;qt[h>>2]=qt[g>>2];do{if(qt[n+8>>2]|0){s=T(t,g)|0;if(!s){qt[e+32>>2]=qt[g>>2];break}else{y=s;Zt=P;return y|0}}}while(0);if((qt[a>>2]|0)==5?(s=qt[h>>2]|0,h=(qt[i+32>>2]|0)+s+(qt[e+32>>2]|0)|0,(((s|0)<(h|0)?s:h)|0)!=0):0){y=1;Zt=P;return y|0}}if(qt[n+68>>2]|0){h=w(t,y)|0;if(h){y=h;Zt=P;return y|0}h=qt[y>>2]|0;qt[e+36>>2]=h;if(h>>>0>127){y=1;Zt=P;return y|0}}h=qt[c>>2]|0;if((h|0)==5|(h|0)==0){h=k(t,1)|0;if((h|0)==-1){y=1;Zt=P;return y|0}qt[e+40>>2]=h;do{if(!h){h=qt[n+48>>2]|0;if(h>>>0>16){y=1;Zt=P;return y|0}else{qt[e+44>>2]=h;break}}else{h=w(t,y)|0;if(h){y=h;Zt=P;return y|0}h=qt[y>>2]|0;if(h>>>0>15){y=1;Zt=P;return y|0}else{qt[e+44>>2]=h+1;break}}}while(0);h=qt[c>>2]|0}do{if((h|0)==5|(h|0)==0){o=qt[e+44>>2]|0;s=qt[u>>2]|0;h=k(t,1)|0;if((h|0)==-1){y=1;Zt=P;return y|0}qt[e+68>>2]=h;if(h){r=0;t:while(1){if(r>>>0>o>>>0){p=1;s=110;break}h=w(t,l)|0;if(h){p=h;s=110;break}h=qt[l>>2]|0;if(h>>>0>3){p=1;s=110;break}qt[e+(r*12|0)+72>>2]=h;do{if(h>>>0<2){h=w(t,d)|0;if(h){p=h;s=110;break t}h=qt[d>>2]|0;if(h>>>0>=s>>>0){p=1;s=110;break t}qt[e+(r*12|0)+76>>2]=h+1}else{if((h|0)!=2)break;h=w(t,d)|0;if(h){p=h;s=110;break t}qt[e+(r*12|0)+80>>2]=qt[d>>2]}}while(0);if((qt[l>>2]|0)==3){s=61;break}else r=r+1|0}if((s|0)==61){if(!r)p=1;else break;Zt=P;return p|0}else if((s|0)==110){Zt=P;return p|0}}}}while(0);do{if(qt[a+4>>2]|0){u=qt[i+44>>2]|0;a=(qt[a>>2]|0)==5;h=k(t,1)|0;s=(h|0)==-1;if(a){if(s){y=1;Zt=P;return y|0}qt[e+276>>2]=h;o=k(t,1)|0;if((o|0)==-1){y=1;Zt=P;return y|0}qt[e+280>>2]=o;if((u|0)!=0|(o|0)==0)break;else p=1;Zt=P;return p|0}if(s){y=1;Zt=P;return y|0}qt[e+284>>2]=h;if(h){s=(u<<1)+2|0;r=0;i=0;o=0;l=0;c=0;while(1){if(r>>>0>s>>>0){p=1;s=110;break}h=w(t,_)|0;if(h){p=h;s=110;break}h=qt[_>>2]|0;if(h>>>0>6){p=1;s=110;break}qt[e+(r*20|0)+288>>2]=h;if((h&-3|0)==1){h=w(t,m)|0;if(h){p=h;s=110;break}qt[e+(r*20|0)+292>>2]=(qt[m>>2]|0)+1;h=qt[_>>2]|0}if((h|0)==2){h=w(t,m)|0;if(h){p=h;s=110;break}qt[e+(r*20|0)+296>>2]=qt[m>>2];h=qt[_>>2]|0}if((h|0)==3|(h|0)==6){h=w(t,m)|0;if(h){p=h;s=110;break}qt[e+(r*20|0)+300>>2]=qt[m>>2];h=qt[_>>2]|0}if((h|0)==4){h=w(t,m)|0;if(h){p=h;s=110;break}h=qt[m>>2]|0;if(h>>>0>u>>>0){p=1;s=110;break}if(!h)qt[e+(r*20|0)+304>>2]=65535;else qt[e+(r*20|0)+304>>2]=h+-1;h=qt[_>>2]|0;f=o+1|0}else f=o;l=((h|0)==5&1)+l|0;i=((h|0)!=0&h>>>0<4&1)+i|0;c=((h|0)==6&1)+c|0;if(!h){s=90;break}else{r=r+1|0;o=f}}if((s|0)==90){if(f>>>0>1|l>>>0>1|c>>>0>1){y=1;Zt=P;return y|0}if((i|0)!=0&(l|0)!=0)p=1;else break;Zt=P;return p|0}else if((s|0)==110){Zt=P;return p|0}}}}while(0);o=T(t,g)|0;if(o){y=o;Zt=P;return y|0}m=qt[g>>2]|0;qt[e+48>>2]=m;m=m+(qt[n+52>>2]|0)|0;qt[g>>2]=m;if(m>>>0>51){y=1;Zt=P;return y|0}do{if(qt[n+60>>2]|0){o=w(t,y)|0;if(o){y=o;Zt=P;return y|0}o=qt[y>>2]|0;qt[e+52>>2]=o;if(o>>>0>2){y=1;Zt=P;return y|0}if((o|0)==1)break;o=T(t,g)|0;if(o){y=o;Zt=P;return y|0}o=qt[g>>2]|0;if((o+6|0)>>>0>12){y=1;Zt=P;return y|0}qt[e+56>>2]=o<<1;o=T(t,g)|0;if(o){y=o;Zt=P;return y|0}o=qt[g>>2]|0;if((o+6|0)>>>0>12){y=1;Zt=P;return y|0}else{qt[e+60>>2]=o<<1;break}}}while(0);do{if((qt[n+12>>2]|0)>>>0>1?((qt[n+16>>2]|0)+-3|0)>>>0<3:0){h=n+36|0;s=qt[h>>2]|0;s=(((v>>>0)%(s>>>0)|0|0)==0?1:2)+((v>>>0)/(s>>>0)|0)|0;r=0;while(1){o=r+1|0;if(!(-1<<o&s))break;else r=o}o=k(t,((1<<r)+-1&s|0)==0?r:o)|0;qt[y>>2]=o;if((o|0)==-1){y=1;Zt=P;return y|0}qt[e+64>>2]=o;y=qt[h>>2]|0;if(o>>>0>(((v+-1+y|0)>>>0)/(y>>>0)|0)>>>0)p=1;else break;Zt=P;return p|0}}while(0);y=0;Zt=P;return y|0}function me(t,e){t=t|0;e=e|0;var i=0,n=0,a=0;a=Zt;Zt=Zt+32|0;n=a+20|0;i=a;qt[i+0>>2]=qt[t+0>>2];qt[i+4>>2]=qt[t+4>>2];qt[i+8>>2]=qt[t+8>>2];qt[i+12>>2]=qt[t+12>>2];qt[i+16>>2]=qt[t+16>>2];t=w(i,n)|0;if(t){e=t;Zt=a;return e|0}t=w(i,n)|0;if(t){e=t;Zt=a;return e|0}t=w(i,n)|0;if(t){e=t;Zt=a;return e|0}t=qt[n>>2]|0;if(t>>>0>255){e=1;Zt=a;return e|0}qt[e>>2]=t;e=0;Zt=a;return e|0}function ge(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0;o=Zt;Zt=Zt+32|0;n=o+20|0;a=o;qt[a+0>>2]=qt[t+0>>2];qt[a+4>>2]=qt[t+4>>2];qt[a+8>>2]=qt[t+8>>2];qt[a+12>>2]=qt[t+12>>2];qt[a+16>>2]=qt[t+16>>2];t=w(a,n)|0;if(t){i=t;Zt=o;return i|0}t=w(a,n)|0;if(t){i=t;Zt=o;return i|0}t=w(a,n)|0;if(!t)t=0;else{i=t;Zt=o;return i|0}while(1)if(!(e>>>t))break;else t=t+1|0;t=k(a,t+-1|0)|0;if((t|0)==-1){i=1;Zt=o;return i|0}qt[i>>2]=t;i=0;Zt=o;return i|0}function ve(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0;r=Zt;Zt=Zt+32|0;a=r+20|0;o=r;if((i|0)!=5){o=1;Zt=r;return o|0}qt[o+0>>2]=qt[t+0>>2];qt[o+4>>2]=qt[t+4>>2];qt[o+8>>2]=qt[t+8>>2];qt[o+12>>2]=qt[t+12>>2];qt[o+16>>2]=qt[t+16>>2];i=w(o,a)|0;if(i){o=i;Zt=r;return o|0}i=w(o,a)|0;if(i){o=i;Zt=r;return o|0}i=w(o,a)|0;if(!i)i=0;else{o=i;Zt=r;return o|0}while(1)if(!(e>>>i))break;else i=i+1|0;if((k(o,i+-1|0)|0)==-1){o=1;Zt=r;return o|0}o=w(o,n)|0;Zt=r;return o|0}function ye(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0;h=Zt;Zt=Zt+32|0;r=h+20|0;s=h;qt[s+0>>2]=qt[t+0>>2];qt[s+4>>2]=qt[t+4>>2];qt[s+8>>2]=qt[t+8>>2];qt[s+12>>2]=qt[t+12>>2];qt[s+16>>2]=qt[t+16>>2];t=w(s,r)|0;if(t){n=t;Zt=h;return n|0}t=w(s,r)|0;if(t){n=t;Zt=h;return n|0}t=w(s,r)|0;if(t){n=t;Zt=h;return n|0}t=qt[e+12>>2]|0;a=0;while(1)if(!(t>>>a))break;else a=a+1|0;if((k(s,a+-1|0)|0)==-1){n=1;Zt=h;return n|0}if((i|0)==5?(o=w(s,r)|0,(o|0)!=0):0){n=o;Zt=h;return n|0}a=qt[e+20>>2]|0;t=0;while(1)if(!(a>>>t))break;else t=t+1|0;a=k(s,t+-1|0)|0;if((a|0)==-1){n=1;Zt=h;return n|0}qt[n>>2]=a;n=0;Zt=h;return n|0}function Pe(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0;h=Zt;Zt=Zt+32|0;r=h+20|0;s=h;qt[s+0>>2]=qt[t+0>>2];qt[s+4>>2]=qt[t+4>>2];qt[s+8>>2]=qt[t+8>>2];qt[s+12>>2]=qt[t+12>>2];qt[s+16>>2]=qt[t+16>>2];t=w(s,r)|0;if(t){s=t;Zt=h;return s|0}t=w(s,r)|0;if(t){s=t;Zt=h;return s|0}t=w(s,r)|0;if(t){s=t;Zt=h;return s|0}t=qt[e+12>>2]|0;a=0;while(1)if(!(t>>>a))break;else a=a+1|0;if((k(s,a+-1|0)|0)==-1){s=1;Zt=h;return s|0}if((i|0)==5?(o=w(s,r)|0,(o|0)!=0):0){s=o;Zt=h;return s|0}a=qt[e+20>>2]|0;t=0;while(1)if(!(a>>>t))break;else t=t+1|0;if((k(s,t+-1|0)|0)==-1){s=1;Zt=h;return s|0}s=T(s,n)|0;Zt=h;return s|0}function Se(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0;c=Zt;Zt=Zt+32|0;s=c+20|0;l=c;qt[l+0>>2]=qt[t+0>>2];qt[l+4>>2]=qt[t+4>>2];qt[l+8>>2]=qt[t+8>>2];qt[l+12>>2]=qt[t+12>>2];qt[l+16>>2]=qt[t+16>>2];o=w(l,s)|0;if(o){l=o;Zt=c;return l|0}o=w(l,s)|0;if(o){l=o;Zt=c;return l|0}o=w(l,s)|0;if(o){l=o;Zt=c;return l|0}o=qt[e+12>>2]|0;t=0;while(1)if(!(o>>>t))break;else t=t+1|0;if((k(l,t+-1|0)|0)==-1){l=1;Zt=c;return l|0}if((i|0)==5?(r=w(l,s)|0,(r|0)!=0):0){l=r;Zt=c;return l|0}o=T(l,a)|0;if(o){l=o;Zt=c;return l|0}if((n|0)!=0?(h=T(l,a+4|0)|0,(h|0)!=0):0){l=h;Zt=c;return l|0}l=0;Zt=c;return l|0}function be(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0;c=Zt;Zt=Zt+32|0;l=c+24|0;s=c+20|0;h=c;qt[h+0>>2]=qt[e+0>>2];qt[h+4>>2]=qt[e+4>>2];qt[h+8>>2]=qt[e+8>>2];qt[h+12>>2]=qt[e+12>>2];qt[h+16>>2]=qt[e+16>>2];a=w(h,l)|0;if(a){n=a;Zt=c;return n|0}a=w(h,l)|0;if(a){n=a;Zt=c;return n|0}a=w(h,l)|0;if(a){n=a;Zt=c;return n|0}a=qt[i+12>>2]|0;e=0;while(1)if(!(a>>>e))break;else e=e+1|0;if((k(h,e+-1|0)|0)==-1){n=1;Zt=c;return n|0}a=w(h,l)|0;if(a){n=a;Zt=c;return n|0}o=i+16|0;a=qt[o>>2]|0;if(!a){e=qt[i+20>>2]|0;a=0;while(1)if(!(e>>>a))break;else a=a+1|0;if((k(h,a+-1|0)|0)==-1){n=1;Zt=c;return n|0}if((qt[n+8>>2]|0)!=0?(r=T(h,s)|0,(r|0)!=0):0){n=r;Zt=c;return n|0}a=qt[o>>2]|0}if((a|0)==1?(qt[i+24>>2]|0)==0:0){a=T(h,s)|0;if(a){n=a;Zt=c;return n|0}if((qt[n+8>>2]|0)!=0?(u=T(h,s)|0,(u|0)!=0):0){n=u;Zt=c;return n|0}}if((qt[n+68>>2]|0)!=0?(d=w(h,l)|0,(d|0)!=0):0){n=d;Zt=c;return n|0}n=k(h,1)|0;qt[t>>2]=n;n=(n|0)==-1&1;Zt=c;return n|0}function Ie(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0;k=Zt;Zt=Zt+448|0;m=k+8|0;I=k+4|0;b=k;m=m+(0-m&15)|0;g=qt[e+3376>>2]|0;c=qt[n>>2]|0;qt[I>>2]=0;v=e+1192|0;qt[v>>2]=(qt[v>>2]|0)+1;u=e+1200|0;qt[u>>2]=0;d=e+12|0;qt[b>>2]=(qt[n+48>>2]|0)+(qt[(qt[d>>2]|0)+52>>2]|0);p=n+36|0;f=e+1212|0;y=n+52|0;P=n+56|0;S=n+60|0;_=n+4|0;r=n+44|0;s=e+1220|0;h=e+1172|0;C=e+1176|0;l=g+12|0;B=0;a=0;while(1){n=qt[f>>2]|0;if((qt[p>>2]|0)==0?(qt[n+(c*216|0)+196>>2]|0)!=0:0){a=1;n=22;break}o=qt[(qt[d>>2]|0)+56>>2]|0;M=qt[y>>2]|0;x=qt[P>>2]|0;T=qt[S>>2]|0;qt[n+(c*216|0)+4>>2]=qt[v>>2];qt[n+(c*216|0)+8>>2]=M;qt[n+(c*216|0)+12>>2]=x;qt[n+(c*216|0)+16>>2]=T;qt[n+(c*216|0)+24>>2]=o;o=qt[_>>2]|0;if((o|0)!=2?!((o|0)==7|(a|0)!=0):0){a=w(t,I)|0;if(a){n=22;break}n=qt[I>>2]|0;if(n>>>0>((qt[C>>2]|0)-c|0)>>>0){a=1;n=22;break}if(!n)a=0;else{mt(l,0,164);qt[g>>2]=0;a=1}}n=qt[I>>2]|0;if(!n){a=Ce(t,g,(qt[f>>2]|0)+(c*216|0)|0,qt[_>>2]|0,qt[r>>2]|0)|0;if(!a)o=0;else{n=22;break}}else{qt[I>>2]=n+-1;o=a}a=Me((qt[f>>2]|0)+(c*216|0)|0,g,i,s,b,c,qt[(qt[d>>2]|0)+64>>2]|0,m)|0;if(a){n=22;break}B=((qt[(qt[f>>2]|0)+(c*216|0)+196>>2]|0)==1&1)+B|0;if(!(he(t)|0))n=(qt[I>>2]|0)!=0;else n=1;M=qt[_>>2]|0;if((M|0)==7|(M|0)==2)qt[u>>2]=c;c=le(qt[h>>2]|0,qt[C>>2]|0,c)|0;if(!((c|0)!=0|n^1)){a=1;n=22;break}if(!n){n=20;break}else a=o}if((n|0)==20){n=e+1196|0;a=(qt[n>>2]|0)+B|0;if(a>>>0>(qt[C>>2]|0)>>>0){M=1;Zt=k;return M|0}qt[n>>2]=a;M=0;Zt=k;return M|0}else if((n|0)==22){Zt=k;return a|0}return 0}function Be(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0;h=Zt;s=qt[t+1192>>2]|0;i=qt[t+1200>>2]|0;r=t+1212|0;t:do{if(!i)i=e;else{a=t+16|0;n=0;do{do{i=i+-1|0;if(i>>>0<=e>>>0)break t}while((qt[(qt[r>>2]|0)+(i*216|0)+4>>2]|0)!=(s|0));n=n+1|0;o=qt[(qt[a>>2]|0)+52>>2]|0}while(n>>>0<(o>>>0>10?o:10)>>>0)}}while(0);o=t+1172|0;a=t+1176|0;n=i;while(1){i=qt[r>>2]|0;if((qt[i+(n*216|0)+4>>2]|0)!=(s|0)){i=11;break}i=i+(n*216|0)+196|0;e=qt[i>>2]|0;if(!e){i=11;break}qt[i>>2]=e+-1;n=le(qt[o>>2]|0,qt[a>>2]|0,n)|0;if(!n){i=11;break}}if((i|0)==11){Zt=h}}function Ce(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0;B=Zt;Zt=Zt+32|0;g=B+20|0;v=B+16|0;p=B+12|0;d=B+8|0;b=B+4|0;S=B;mt(e,0,2088);h=w(t,b)|0;l=qt[b>>2]|0;do{if((n|0)==2|(n|0)==7){l=l+6|0;if(l>>>0>31|(h|0)!=0){t=1;Zt=B;return t|0}else{qt[e>>2]=l;u=l;break}}else{l=l+1|0;if(l>>>0>31|(h|0)!=0){t=1;Zt=B;return t|0}else{qt[e>>2]=l;u=l;break}}}while(0);t:do{if((u|0)!=31){e:do{if(u>>>0>=6){u=(u|0)!=6;d=u&1;if((d|0)==1)m=52;else if(!d){qt[v>>2]=0;p=0;while(1){n=V(t)|0;qt[g>>2]=n;m=n>>>31;qt[e+(p<<2)+12>>2]=m;if(!m){qt[e+(p<<2)+76>>2]=n>>>28&7;l=n<<4;c=1}else{l=n<<1;c=0}h=p|1;m=l>>>31;qt[e+(h<<2)+12>>2]=m;if(!m){qt[e+(h<<2)+76>>2]=l>>>28&7;n=l<<4;c=c+1|0}else n=l<<1;l=h+1|0;m=n>>>31;qt[e+(l<<2)+12>>2]=m;if(!m){qt[e+(l<<2)+76>>2]=n>>>28&7;l=n<<4;c=c+1|0}else l=n<<1;h=p|3;m=l>>>31;qt[e+(h<<2)+12>>2]=m;if(!m){qt[e+(h<<2)+76>>2]=l>>>28&7;n=l<<4;c=c+1|0}else n=l<<1;l=h+1|0;m=n>>>31;qt[e+(l<<2)+12>>2]=m;if(!m){qt[e+(l<<2)+76>>2]=n>>>28&7;n=n<<4;c=c+1|0}else n=n<<1;l=h+2|0;m=n>>>31;qt[e+(l<<2)+12>>2]=m;if(!m){qt[e+(l<<2)+76>>2]=n>>>28&7;n=n<<4;c=c+1|0}else n=n<<1;l=h+3|0;m=n>>>31;qt[e+(l<<2)+12>>2]=m;if(!m){qt[e+(l<<2)+76>>2]=n>>>28&7;n=n<<4;c=c+1|0}else n=n<<1;l=p|7;m=n>>>31;qt[e+(l<<2)+12>>2]=m;if(!m){qt[e+(l<<2)+76>>2]=n>>>28&7;l=n<<4;c=c+1|0}else l=n<<1;qt[g>>2]=l;if((G(t,(c*3|0)+8|0)|0)==-1){y=1;m=68;break e}m=(qt[v>>2]|0)+1|0;qt[v>>2]=m;if((m|0)<2)p=p+8|0;else{m=52;break}}}if((m|0)==52){v=(w(t,g)|0)!=0;h=qt[g>>2]|0;if(v|h>>>0>3){y=1;m=68;break}qt[e+140>>2]=h}if(u){v=qt[e>>2]|0;_=v+-7|0;g=_>>>2;qt[e+4>>2]=(_>>>0>11?g+268435453|0:g)<<4|(v>>>0>18?15:0)}else{P=d;m=70}}else{if((u|0)==0|(u|0)==1){f=v;_=g}else if(!((u|0)==3|(u|0)==2)){n=0;do{h=(w(t,p)|0)!=0;l=qt[p>>2]|0;if(h|l>>>0>3){c=1;m=96;break}qt[e+(n<<2)+176>>2]=l;n=n+1|0}while(n>>>0<4);if((m|0)==96){Zt=B;return c|0}i:do{if(a>>>0>1&(u|0)!=5){c=a>>>0>2&1;n=0;while(1){if(Ae(t,p,c)|0){c=1;m=96;break}l=qt[p>>2]|0;if(l>>>0>=a>>>0){c=1;m=96;break}qt[e+(n<<2)+192>>2]=l;n=n+1|0;if(n>>>0>=4){o=0;break i}}if((m|0)==96){Zt=B;return c|0}}else o=0}while(0);i:while(1){c=qt[e+(o<<2)+176>>2]|0;if((c|0)==2|(c|0)==1)c=1;else if(!c)c=0;else c=3;qt[p>>2]=c;l=0;while(1){c=T(t,d)|0;if(c){m=96;break i}Jt[e+(o<<4)+(l<<2)+208>>1]=qt[d>>2];c=T(t,d)|0;if(c){m=96;break i}Jt[e+(o<<4)+(l<<2)+210>>1]=qt[d>>2];m=qt[p>>2]|0;qt[p>>2]=m+-1;if(!m)break;else l=l+1|0}o=o+1|0;if(o>>>0>=4){P=2;m=70;break e}}if((m|0)==96){Zt=B;return c|0}}else{f=v;_=g}if(a>>>0>1){if((u|0)==3|(u|0)==2)c=1;else if((u|0)==0|(u|0)==1)c=0;else c=3;h=a>>>0>2&1;n=0;while(1){if(Ae(t,g,h)|0){y=1;m=68;break e}l=qt[g>>2]|0;if(l>>>0>=a>>>0){y=1;m=68;break e}qt[e+(n<<2)+144>>2]=l;if(!c)break;else{c=c+-1|0;n=n+1|0}}}if((u|0)==3|(u|0)==2){c=1;l=0}else if((u|0)==0|(u|0)==1){c=0;l=0}else{c=3;l=0}while(1){n=T(t,v)|0;if(n){y=n;m=68;break e}Jt[e+(l<<2)+160>>1]=qt[v>>2];n=T(t,v)|0;if(n){y=n;m=68;break e}Jt[e+(l<<2)+162>>1]=qt[v>>2];if(!c){P=2;m=70;break}else{c=c+-1|0;l=l+1|0}}}}while(0);if((m|0)==68){t=y;Zt=B;return t|0}do{if((m|0)==70){o=Ee(t,b,(P|0)==0&1)|0;if(!o){b=qt[b>>2]|0;qt[e+4>>2]=b;if(!b)break t;else break}else{t=o;Zt=B;return t|0}}}while(0);b=(T(t,S)|0)!=0;o=qt[S>>2]|0;if(b|(o|0)<-26|(o|0)>25){t=1;Zt=B;return t|0}qt[e+8>>2]=o;o=qt[e+4>>2]|0;u=e+272|0;e:do{if((qt[e>>2]|0)>>>0>=7){h=F(t,e+1864|0,C(i,0,u)|0,16)|0;if(!(h&15)){Jt[e+320>>1]=h>>>4&255;l=3;h=0;while(1){c=o>>>1;if(!(o&1))h=h+4|0;else{n=3;while(1){o=F(t,e+(h<<6)+332|0,C(i,h,u)|0,15)|0;qt[e+(h<<2)+1992>>2]=o>>>15;if(o&15){s=o;break e}Jt[e+(h<<1)+272>>1]=o>>>4&255;h=h+1|0;if(!n)break;else n=n+-1|0}}if(!l){I=c;r=h;m=87;break}else{o=c;l=l+-1|0}}}else s=h}else{c=3;h=0;while(1){l=o>>>1;if(!(o&1))h=h+4|0;else{n=3;while(1){o=F(t,e+(h<<6)+328|0,C(i,h,u)|0,16)|0;qt[e+(h<<2)+1992>>2]=o>>>16;if(o&15){s=o;break e}Jt[e+(h<<1)+272>>1]=o>>>4&255;h=h+1|0;if(!n)break;else n=n+-1|0}}if(!c){I=l;r=h;m=87;break}else{o=l;c=c+-1|0}}}}while(0);e:do{if((m|0)==87){if(I&3){s=F(t,e+1928|0,-1,4)|0;if(s&15)break;Jt[e+322>>1]=s>>>4&255;s=F(t,e+1944|0,-1,4)|0;if(s&15)break;Jt[e+324>>1]=s>>>4&255}if(!(I&2))s=0;else{o=7;while(1){s=F(t,e+(r<<6)+332|0,C(i,r,u)|0,15)|0;if(s&15)break e;Jt[e+(r<<1)+272>>1]=s>>>4&255;qt[e+(r<<2)+1992>>2]=s>>>15;if(!o){s=0;break}else{o=o+-1|0;r=r+1|0}}}}}while(0);qt[t+16>>2]=((qt[t+4>>2]|0)-(qt[t>>2]|0)<<3)+(qt[t+8>>2]|0);if(s){t=s;Zt=B;return t|0}}else{while(1){if(Le(t)|0)break;if(k(t,1)|0){c=1;m=96;break}}if((m|0)==96){Zt=B;return c|0}s=0;r=e+328|0;while(1){o=k(t,8)|0;qt[b>>2]=o;if((o|0)==-1){c=1;break}qt[r>>2]=o;s=s+1|0;if(s>>>0>=384)break t;else r=r+4|0}Zt=B;return c|0}}while(0);t=0;Zt=B;return t|0}function U(t){t=t|0;if(t>>>0<6)t=2;else t=(t|0)!=6&1;return t|0}function ke(t){t=t|0;var e=0;e=Zt;if((t|0)==3|(t|0)==2)t=2;else if((t|0)==0|(t|0)==1)t=1;else t=4;Zt=e;return t|0}function Te(t){t=t|0;var e=0;e=Zt;if((t|0)==2|(t|0)==1)t=2;else if(!t)t=1;else t=4;Zt=e;return t|0}function xe(t){t=t|0;return t+1&3|0}function Me(t,e,i,n,a,o,r,s){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;var h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;g=Zt;f=qt[e>>2]|0;qt[t>>2]=f;c=t+196|0;qt[c>>2]=(qt[c>>2]|0)+1;ce(i,o);if((f|0)==31){h=t+28|0;qt[t+20>>2]=0;if((qt[c>>2]|0)>>>0>1){Jt[h>>1]=16;Jt[t+30>>1]=16;Jt[t+32>>1]=16;Jt[t+34>>1]=16;Jt[t+36>>1]=16;Jt[t+38>>1]=16;Jt[t+40>>1]=16;Jt[t+42>>1]=16;Jt[t+44>>1]=16;Jt[t+46>>1]=16;Jt[t+48>>1]=16;Jt[t+50>>1]=16;Jt[t+52>>1]=16;Jt[t+54>>1]=16;Jt[t+56>>1]=16;Jt[t+58>>1]=16;Jt[t+60>>1]=16;Jt[t+62>>1]=16;Jt[t+64>>1]=16;Jt[t+66>>1]=16;Jt[t+68>>1]=16;Jt[t+70>>1]=16;Jt[t+72>>1]=16;Jt[t+74>>1]=16;s=0;Zt=g;return s|0}c=23;a=e+328|0;l=s;while(1){Jt[h>>1]=16;Kt[l>>0]=qt[a>>2];Kt[l+1>>0]=qt[a+4>>2];Kt[l+2>>0]=qt[a+8>>2];Kt[l+3>>0]=qt[a+12>>2];Kt[l+4>>0]=qt[a+16>>2];Kt[l+5>>0]=qt[a+20>>2];Kt[l+6>>0]=qt[a+24>>2];Kt[l+7>>0]=qt[a+28>>2];Kt[l+8>>0]=qt[a+32>>2];Kt[l+9>>0]=qt[a+36>>2];Kt[l+10>>0]=qt[a+40>>2];Kt[l+11>>0]=qt[a+44>>2];Kt[l+12>>0]=qt[a+48>>2];Kt[l+13>>0]=qt[a+52>>2];Kt[l+14>>0]=qt[a+56>>2];Kt[l+15>>0]=qt[a+60>>2];if(!c)break;else{c=c+-1|0;a=a+64|0;l=l+16|0;h=h+2|0}}_t(i,s);s=0;Zt=g;return s|0}h=t+28|0;if(f){dn(h,e+272|0,54);l=qt[e+8>>2]|0;c=qt[a>>2]|0;do{if(l){c=c+l|0;qt[a>>2]=c;if((c|0)<0){c=c+52|0;qt[a>>2]=c;break}if((c|0)>51){c=c+-52|0;qt[a>>2]=c}}}while(0);p=t+20|0;qt[p>>2]=c;a=e+328|0;l=e+1992|0;t:do{if((qt[t>>2]|0)>>>0<7){d=15;c=h;while(1){if(Jt[c>>1]|0){if(ne(a,qt[p>>2]|0,0,qt[l>>2]|0)|0){h=1;break}}else qt[a>>2]=16777215;a=a+64|0;c=c+2|0;l=l+4|0;if(!d)break t;else d=d+-1|0}Zt=g;return h|0}else{if(!(Jt[t+76>>1]|0)){u=15;d=464;c=h}else{ae(e+1864|0,c);u=15;d=464;c=h}while(1){h=qt[e+(qt[d>>2]<<2)+1864>>2]|0;d=d+4|0;qt[a>>2]=h;if((h|0)==0?(Jt[c>>1]|0)==0:0)qt[a>>2]=16777215;else m=18;if((m|0)==18?(m=0,(ne(a,qt[p>>2]|0,1,qt[l>>2]|0)|0)!=0):0){h=1;break}a=a+64|0;c=c+2|0;l=l+4|0;if(!u)break t;else u=u+-1|0}Zt=g;return h|0}}while(0);d=qt[192+((te(0,51,(qt[t+24>>2]|0)+(qt[p>>2]|0)|0)|0)<<2)>>2]|0;if((Jt[t+78>>1]|0)==0?(Jt[t+80>>1]|0)==0:0){u=7;h=e+1928|0}else{h=e+1928|0;oe(h,d);u=7}while(1){p=qt[h>>2]|0;h=h+4|0;qt[a>>2]=p;if((p|0)==0?(Jt[c>>1]|0)==0:0)qt[a>>2]=16777215;else m=31;if((m|0)==31?(m=0,(ne(a,d,1,qt[l>>2]|0)|0)!=0):0){h=1;m=39;break}if(!u)break;else{l=l+4|0;u=u+-1|0;a=a+64|0;c=c+2|0}}if((m|0)==39){Zt=g;return h|0}if(f>>>0>=6){c=Ze(t,e,i,o,r,s)|0;if(c){s=c;Zt=g;return s|0}}else m=37}else{mt(h,0,54);qt[t+20>>2]=qt[a>>2];m=37}if((m|0)==37?(_=ni(t,e,n,o,i,s)|0,(_|0)!=0):0){s=_;Zt=g;return s|0}s=0;Zt=g;return s|0}function we(t){t=t|0;return t|0}function C(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0;r=Zt;n=Ne(e)|0;e=Oe(e)|0;a=Kt[n+4>>0]|0;o=Kt[e+4>>0]|0;e=(qt[e>>2]|0)==4;if((qt[n>>2]|0)==4){n=Jt[i+((a&255)<<1)>>1]|0;if(e){t=n+1+(Jt[i+((o&255)<<1)>>1]|0)>>1;Zt=r;return t|0}e=t+204|0;if(!(j(t,qt[e>>2]|0)|0)){t=n;Zt=r;return t|0}t=n+1+(Jt[(qt[e>>2]|0)+((o&255)<<1)+28>>1]|0)>>1;Zt=r;return t|0}if(e){e=Jt[i+((o&255)<<1)>>1]|0;n=t+200|0;if(!(j(t,qt[n>>2]|0)|0)){t=e;Zt=r;return t|0}t=e+1+(Jt[(qt[n>>2]|0)+((a&255)<<1)+28>>1]|0)>>1;Zt=r;return t|0}n=t+200|0;if(!(j(t,qt[n>>2]|0)|0)){a=0;i=0}else{a=Jt[(qt[n>>2]|0)+((a&255)<<1)+28>>1]|0;i=1}n=t+204|0;if(!(j(t,qt[n>>2]|0)|0)){t=a;Zt=r;return t|0}e=Jt[(qt[n>>2]|0)+((o&255)<<1)+28>>1]|0;if(!i){t=e;Zt=r;return t|0}t=a+1+e>>1;Zt=r;return t|0}function k(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0;u=Zt;h=t+4|0;r=qt[h>>2]|0;l=qt[t+12>>2]<<3;c=t+16|0;s=qt[c>>2]|0;i=l-s|0;if((i|0)>31){n=t+8|0;i=qt[n>>2]|0;a=(Qt[r+1>>0]|0)<<16|(Qt[r>>0]|0)<<24|(Qt[r+2>>0]|0)<<8|(Qt[r+3>>0]|0);if(i)a=(Qt[r+4>>0]|0)>>>(8-i|0)|a<<i}else{n=t+8|0;if((i|0)>0){d=qt[n>>2]|0;o=d+24|0;a=(Qt[r>>0]|0)<<o;i=i+-8+d|0;if((i|0)>0)do{r=r+1|0;o=o+-8|0;a=(Qt[r>>0]|0)<<o|a;i=i+-8|0}while((i|0)>0)}else a=0}i=s+e|0;qt[c>>2]=i;qt[n>>2]=i&7;if(i>>>0>l>>>0){d=-1;Zt=u;return d|0}qt[h>>2]=(qt[t>>2]|0)+(i>>>3);d=a>>>(32-e|0);Zt=u;return d|0}function V(t){t=t|0;var e=0,i=0,n=0,a=0,o=0;o=Zt;n=qt[t+4>>2]|0;i=(qt[t+12>>2]<<3)-(qt[t+16>>2]|0)|0;if((i|0)>31){e=qt[t+8>>2]|0;t=(Qt[n+1>>0]|0)<<16|(Qt[n>>0]|0)<<24|(Qt[n+2>>0]|0)<<8|(Qt[n+3>>0]|0);if(!e){a=t;Zt=o;return a|0}a=(Qt[n+4>>0]|0)>>>(8-e|0)|t<<e;Zt=o;return a|0}if((i|0)<=0){a=0;Zt=o;return a|0}t=qt[t+8>>2]|0;a=t+24|0;e=(Qt[n>>0]|0)<<a;t=i+-8+t|0;if((t|0)>0)i=a;else{a=e;Zt=o;return a|0}do{n=n+1|0;i=i+-8|0;e=(Qt[n>>0]|0)<<i|e;t=t+-8|0}while((t|0)>0);Zt=o;return e|0}function G(t,e){t=t|0;e=e|0;var i=0,n=0;i=Zt;n=t+16|0;e=(qt[n>>2]|0)+e|0;qt[n>>2]=e;qt[t+8>>2]=e&7;if(e>>>0>qt[t+12>>2]<<3>>>0){n=-1;Zt=i;return n|0}qt[t+4>>2]=(qt[t>>2]|0)+(e>>>3);n=0;Zt=i;return n|0}function Le(t){t=t|0;return(qt[t+8>>2]|0)==0|0}function w(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0;o=Zt;i=V(t)|0;do{if((i|0)>=0){if(i>>>0>1073741823){if((G(t,3)|0)==-1){i=1;break}qt[e>>2]=(i>>>29&1)+1;i=0;break}if(i>>>0>536870911){if((G(t,5)|0)==-1){i=1;break}qt[e>>2]=(i>>>27&3)+3;i=0;break}if(i>>>0>268435455){if((G(t,7)|0)==-1){i=1;break}qt[e>>2]=(i>>>25&7)+7;i=0;break}i=re(i,28)|0;n=i+4|0;if((n|0)!=32){G(t,i+5|0)|0;i=k(t,n)|0;if((i|0)==-1){i=1;break}qt[e>>2]=(1<<n)+-1+i;i=0;break}qt[e>>2]=0;G(t,32)|0;if((k(t,1)|0)==1?(a=V(t)|0,(G(t,32)|0)!=-1):0)if((a|0)==1){qt[e>>2]=-1;i=1;break}else if(!a){qt[e>>2]=-1;i=0;break}else{i=1;break}else i=1}else{G(t,1)|0;qt[e>>2]=0;i=0}}while(0);Zt=o;return i|0}function T(t,e){t=t|0;e=e|0;var i=0,n=0,a=0;n=Zt;Zt=Zt+16|0;a=n;qt[a>>2]=0;i=w(t,a)|0;t=qt[a>>2]|0;i=(i|0)==0;if((t|0)==-1)if(i)t=1;else{qt[e>>2]=-2147483648;t=0}else if(i){a=(t+1|0)>>>1;qt[e>>2]=(t&1|0)!=0?a:0-a|0;t=0}else t=1;Zt=n;return t|0}function Ee(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0;a=Zt;Zt=Zt+16|0;n=a;if(w(t,n)|0){e=1;Zt=a;return e|0}n=qt[n>>2]|0;if(n>>>0>47){e=1;Zt=a;return e|0}qt[e>>2]=Qt[((i|0)==0?576:528)+n>>0];e=0;Zt=a;return e|0}function Ae(t,e,i){t=t|0;e=e|0;i=i|0;var n=0;n=Zt;if(!i){i=k(t,1)|0;qt[e>>2]=i;if((i|0)==-1)i=1;else{qt[e>>2]=i^1;i=0}}else i=w(t,e)|0;Zt=n;return i|0}function F(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0,w=0,L=0,E=0,A=0,D=0,R=0;R=Zt;Zt=Zt+128|0;A=R+64|0;D=R;r=V(t)|0;u=r>>>16;do{if(i>>>0<2)if((r|0)>=0){if(r>>>0>201326591){c=X[1264+(r>>>26<<1)>>1]|0;_=25;break}if(r>>>0>16777215){c=X[1328+(r>>>22<<1)>>1]|0;_=25;break}if(r>>>0>2097151){c=X[1424+((r>>>18)+-8<<1)>>1]|0;_=25;break}else{c=X[1536+(u<<1)>>1]|0;_=25;break}}else d=1;else if(i>>>0<4){if((r|0)<0){d=(u&16384|0)!=0?2:2082;break}if(r>>>0>268435455){c=X[1600+(r>>>26<<1)>>1]|0;_=25;break}if(r>>>0>33554431){c=X[1664+(r>>>23<<1)>>1]|0;_=25;break}else{c=X[1728+(r>>>18<<1)>>1]|0;_=25;break}}else{if(i>>>0<8){u=r>>>26;if((u+-8|0)>>>0<56){c=X[1984+(u<<1)>>1]|0;_=25;break}c=X[2112+(r>>>22<<1)>>1]|0;_=25;break}if(i>>>0<17){c=X[2368+(r>>>26<<1)>>1]|0;_=25;break}u=r>>>29;if(u){c=X[2496+(u<<1)>>1]|0;_=25;break}c=X[2512+(r>>>24<<1)>>1]|0;_=25;break}}while(0);if((_|0)==25)if(!c){D=1;Zt=R;return D|0}else d=c;c=d&31;u=r<<c;i=32-c|0;M=d>>>11&31;if(M>>>0>n>>>0){D=1;Zt=R;return D|0}v=d>>>5&63;do{if(M){if(!v)c=0;else{do{if(i>>>0<v>>>0)if((G(t,c)|0)==-1){D=1;Zt=R;return D|0}else{i=32;u=V(t)|0;break}}while(0);r=u>>>(32-v|0);u=u<<v;d=0;c=1<<v+-1;do{qt[A+(d<<2)>>2]=(c&r|0)!=0?-1:1;c=c>>>1;d=d+1|0}while((c|0)!=0);i=i-v|0;c=d}g=v>>>0<3;t:do{if(c>>>0<M>>>0){m=c;f=M>>>0>10&g&1;e:while(1){if(i>>>0<16){if((G(t,32-i|0)|0)==-1){w=1;_=127;break}i=32;u=V(t)|0}do{if((u|0)>=0)if(u>>>0<=1073741823)if(u>>>0<=536870911)if(u>>>0<=268435455)if(u>>>0<=134217727)if(u>>>0<=67108863)if(u>>>0<=33554431)if(u>>>0<=16777215)if(u>>>0<=8388607)if(u>>>0>4194303){x=9;_=59}else{if(u>>>0>2097151){x=10;_=59;break}if(u>>>0>1048575){x=11;_=59;break}if(u>>>0>524287){x=12;_=59;break}if(u>>>0>262143){x=13;_=59;break}if(u>>>0>131071){l=i+-15|0;r=u<<15;c=14;d=f;p=(f|0)!=0?f:4}else{if(u>>>0<65536){w=1;_=127;break e}l=i+-16|0;r=u<<16;c=15;d=(f|0)!=0?f:1;p=12}B=c<<d;S=(d|0)==0;P=r;y=d;_=60}else{x=8;_=59}else{x=7;_=59}else{x=6;_=59}else{x=5;_=59}else{x=4;_=59}else{x=3;_=59}else{x=2;_=59}else{x=1;_=59}else{x=0;_=59}}while(0);if((_|0)==59){_=0;c=x+1|0;d=u<<c;u=i-c|0;i=x<<f;if(!f){T=1;C=u;k=d;b=i;I=0}else{B=i;l=u;S=0;P=d;y=f;p=f;_=60}}if((_|0)==60){if(l>>>0<p>>>0){if((G(t,32-l|0)|0)==-1){w=1;_=127;break}u=32;i=V(t)|0}else{u=l;i=P}T=S;C=u-p|0;k=i<<p;b=(i>>>(32-p|0))+B|0;I=y}_=(m|0)==(v|0)&g?b+2|0:b;c=(_+2|0)>>>1;r=T?1:I;qt[A+(m<<2)>>2]=(_&1|0)==0?c:0-c|0;m=m+1|0;if(m>>>0>=M>>>0){s=C;h=k;break t}else{i=C;u=k;f=((c|0)>(3<<r+-1|0)&r>>>0<6&1)+r|0}}if((_|0)==127){Zt=R;return w|0}}else{s=i;h=u}}while(0);if(M>>>0<n>>>0){do{if(s>>>0<9)if((G(t,32-s|0)|0)==-1){D=1;Zt=R;return D|0}else{s=32;h=V(t)|0;break}}while(0);r=h>>>23;t:do{if((n|0)==4)if((h|0)>=0)if((M|0)!=3)if(h>>>0<=1073741823)if((M|0)==2)r=34;else r=h>>>0>536870911?35:51;else r=18;else r=17;else r=1;else{do{switch(M|0){case 8:{r=Qt[1056+(h>>>26)>>0]|0;break}case 9:{r=Qt[1120+(h>>>26)>>0]|0;break}case 10:{r=Qt[1184+(h>>>27)>>0]|0;break}case 11:{r=Qt[1216+(h>>>28)>>0]|0;break}case 12:{r=Qt[1232+(h>>>28)>>0]|0;break}case 13:{r=Qt[1248+(h>>>29)>>0]|0;break}case 6:{r=Qt[928+(h>>>26)>>0]|0;break}case 7:{r=Qt[992+(h>>>26)>>0]|0;break}case 1:{if(h>>>0>268435455)r=Qt[672+(h>>>27)>>0]|0;else r=Qt[704+r>>0]|0;break}case 2:{r=Qt[736+(h>>>26)>>0]|0;break}case 3:{r=Qt[800+(h>>>26)>>0]|0;break}case 4:{r=Qt[864+(h>>>27)>>0]|0;break}case 5:{r=Qt[896+(h>>>27)>>0]|0;break}case 14:{r=Qt[1256+(h>>>30)>>0]|0;break}default:{r=h>>31&16|1;break t}}}while(0);if(!r){D=1;Zt=R;return D|0}}}while(0);l=r&15;s=s-l|0;h=h<<l;l=r>>>4&15}else l=0;i=M+-1|0;u=(i|0)==0;if(u){qt[e+(l<<2)>>2]=qt[A+(i<<2)>>2];L=s;a=1<<l;break}else{r=h;c=0}t:while(1){if(!l){qt[D+(c<<2)>>2]=1;E=s;o=0}else{if(s>>>0<11){if((G(t,32-s|0)|0)==-1){w=1;_=127;break}h=32;r=V(t)|0}else h=s;switch(l|0){case 1:{s=Qt[624+(r>>>31)>>0]|0;break}case 2:{s=Qt[632+(r>>>30)>>0]|0;break}case 3:{s=Qt[640+(r>>>30)>>0]|0;break}case 4:{s=Qt[648+(r>>>29)>>0]|0;break}case 5:{s=Qt[656+(r>>>29)>>0]|0;break}case 6:{s=Qt[664+(r>>>29)>>0]|0;break}default:{do{if(r>>>0<=536870911)if(r>>>0<=268435455)if(r>>>0<=134217727)if(r>>>0<=67108863)if(r>>>0<=33554431)if(r>>>0>16777215)s=184;else{if(r>>>0>8388607){s=201;break}if(r>>>0>4194303){s=218;break}s=r>>>0<2097152?0:235}else s=167;else s=150;else s=133;else s=116;else s=r>>>29<<4^115}while(0);if((s>>>4&15)>>>0>l>>>0){w=1;_=127;break t}}}if(!s){w=1;_=127;break}n=s&15;o=s>>>4&15;qt[D+(c<<2)>>2]=o+1;E=h-n|0;r=r<<n;o=l-o|0}c=c+1|0;if(c>>>0>=i>>>0){_=122;break}else{s=E;l=o}}if((_|0)==122){qt[e+(o<<2)>>2]=qt[A+(i<<2)>>2];a=1<<o;if(u){L=E;break}r=M+-2|0;while(1){o=(qt[D+(r<<2)>>2]|0)+o|0;a=1<<o|a;qt[e+(o<<2)>>2]=qt[A+(r<<2)>>2];if(!r){L=E;break}else r=r+-1|0}}else if((_|0)==127){Zt=R;return w|0}}else{L=i;a=0}}while(0);if(G(t,32-L|0)|0){D=1;Zt=R;return D|0}D=a<<16|M<<4;Zt=R;return D|0}function De(t,e){t=t|0;e=e|0;var i=0,n=0,a=0;a=Zt;t:do{if((k(t,1)|0)!=-1?(i=e+4|0,qt[i>>2]=k(t,2)|0,n=k(t,5)|0,qt[e>>2]=n,(n+-2|0)>>>0>=3):0){switch(n|0){case 6:case 9:case 10:case 11:case 12:{if(qt[i>>2]|0){i=1;break t}break}case 5:case 7:case 8:{if(!(qt[i>>2]|0)){i=1;break t}switch(n|0){case 6:case 9:case 10:case 11:case 12:{i=1;break t}default:{}}break}default:{}}i=0}else i=1}while(0);Zt=a;return i|0}function Re(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0;d=Zt;if(!i){Zt=d;return}r=e+-1|0;s=1-e|0;h=~e;o=0;l=0;c=0;while(1){a=(o|0)!=0;if(a)qt[t+(l*216|0)+200>>2]=t+((l+-1|0)*216|0);else qt[t+(l*216|0)+200>>2]=0;n=(c|0)!=0;if(n){qt[t+(l*216|0)+204>>2]=t+((l-e|0)*216|0);if(o>>>0<r>>>0)qt[t+(l*216|0)+208>>2]=t+((s+l|0)*216|0);else u=10}else{qt[t+(l*216|0)+204>>2]=0;u=10}if((u|0)==10){u=0;qt[t+(l*216|0)+208>>2]=0}if(n&a)qt[t+(l*216|0)+212>>2]=t+((l+h|0)*216|0);else qt[t+(l*216|0)+212>>2]=0;n=o+1|0;a=(n|0)==(e|0);l=l+1|0;if((l|0)==(i|0))break;else{o=a?0:n;c=(a&1)+c|0}}Zt=d}function H(t,e){t=t|0;e=e|0;var i=0;i=Zt;switch(e|0){case 4:break;case 0:{t=qt[t+200>>2]|0;break}case 1:{t=qt[t+204>>2]|0;break}case 3:{t=qt[t+212>>2]|0;break}case 2:{t=qt[t+208>>2]|0;break}default:t=0}Zt=i;return t|0}function Ne(t){t=t|0;return 3152+(t<<3)|0}function Oe(t){t=t|0;return 2960+(t<<3)|0}function Ue(t){t=t|0;return 2768+(t<<3)|0}function Ve(t){t=t|0;return 2576+(t<<3)|0}function j(t,e){t=t|0;e=e|0;var i=0;i=Zt;if(!e){Zt=i;return 0}else{Zt=i;return(qt[t+4>>2]|0)==(qt[e+4>>2]|0)|0}return 0}function Ge(t){t=t|0;var e=0;e=Zt;mt(t,0,3388);qt[t+8>>2]=32;qt[t+4>>2]=256;qt[t+1332>>2]=1;Zt=e}function Fe(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0;r=Zt;a=qt[e+8>>2]|0;i=t+(a<<2)+20|0;n=qt[i>>2]|0;do{if(!n){t=_(92)|0;qt[i>>2]=t;if(!t){e=65535;Zt=r;return e|0}}else{o=t+8|0;if((a|0)!=(qt[o>>2]|0)){m(qt[n+40>>2]|0);qt[(qt[i>>2]|0)+40>>2]=0;m(qt[(qt[i>>2]|0)+84>>2]|0);qt[(qt[i>>2]|0)+84>>2]=0;break}a=t+16|0;if(pe(e,qt[a>>2]|0)|0){m(qt[(qt[i>>2]|0)+40>>2]|0);qt[(qt[i>>2]|0)+40>>2]=0;m(qt[(qt[i>>2]|0)+84>>2]|0);qt[(qt[i>>2]|0)+84>>2]=0;qt[o>>2]=33;qt[t+4>>2]=257;qt[a>>2]=0;qt[t+12>>2]=0;break}t=e+40|0;m(qt[t>>2]|0);qt[t>>2]=0;e=e+84|0;m(qt[e>>2]|0);qt[e>>2]=0;e=0;Zt=r;return e|0}}while(0);a=(qt[i>>2]|0)+0|0;i=e+0|0;n=a+92|0;do{qt[a>>2]=qt[i>>2];a=a+4|0;i=i+4|0}while((a|0)<(n|0));e=0;Zt=r;return e|0}function Xe(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0;r=Zt;a=qt[e>>2]|0;o=t+(a<<2)+148|0;i=qt[o>>2]|0;do{if(!i){t=_(72)|0;qt[o>>2]=t;if(!t){e=65535;Zt=r;return e|0}}else{n=t+4|0;if((a|0)!=(qt[n>>2]|0)){m(qt[i+20>>2]|0);qt[(qt[o>>2]|0)+20>>2]=0;m(qt[(qt[o>>2]|0)+24>>2]|0);qt[(qt[o>>2]|0)+24>>2]=0;m(qt[(qt[o>>2]|0)+28>>2]|0);qt[(qt[o>>2]|0)+28>>2]=0;m(qt[(qt[o>>2]|0)+44>>2]|0);qt[(qt[o>>2]|0)+44>>2]=0;break}if((qt[e+4>>2]|0)!=(qt[t+8>>2]|0)){qt[n>>2]=257;i=qt[o>>2]|0}m(qt[i+20>>2]|0);qt[(qt[o>>2]|0)+20>>2]=0;m(qt[(qt[o>>2]|0)+24>>2]|0);qt[(qt[o>>2]|0)+24>>2]=0;m(qt[(qt[o>>2]|0)+28>>2]|0);qt[(qt[o>>2]|0)+28>>2]=0;m(qt[(qt[o>>2]|0)+44>>2]|0);qt[(qt[o>>2]|0)+44>>2]=0}}while(0);a=(qt[o>>2]|0)+0|0;i=e+0|0;n=a+72|0;do{qt[a>>2]=qt[i>>2];a=a+4|0;i=i+4|0}while((a|0)<(n|0));e=0;Zt=r;return e|0}function He(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0;f=Zt;u=t+(e<<2)+148|0;a=qt[u>>2]|0;if(!a){t=1;Zt=f;return t|0}d=qt[a+4>>2]|0;o=qt[t+(d<<2)+20>>2]|0;if(!o){t=1;Zt=f;return t|0}l=qt[o+52>>2]|0;c=$t(qt[o+56>>2]|0,l)|0;r=qt[a+12>>2]|0;t:do{if(r>>>0>1){o=qt[a+16>>2]|0;if((o|0)==2){h=qt[a+24>>2]|0;s=qt[a+28>>2]|0;o=r+-1|0;r=0;while(1){a=qt[h+(r<<2)>>2]|0;n=qt[s+(r<<2)>>2]|0;if(!(a>>>0<=n>>>0&n>>>0<c>>>0)){n=1;o=33;break}r=r+1|0;if(((a>>>0)%(l>>>0)|0)>>>0>((n>>>0)%(l>>>0)|0)>>>0){n=1;o=33;break}if(r>>>0>=o>>>0)break t}if((o|0)==33){Zt=f;return n|0}}else if(!o){o=qt[a+20>>2]|0;a=0;while(1){if((qt[o+(a<<2)>>2]|0)>>>0>c>>>0){n=1;break}a=a+1|0;if(a>>>0>=r>>>0)break t}Zt=f;return n|0}else{if((o+-3|0)>>>0<3){if((qt[a+36>>2]|0)>>>0>c>>>0)n=1;else break;Zt=f;return n|0}if((o|0)!=6)break;if((qt[a+40>>2]|0)>>>0<c>>>0)n=1;else break;Zt=f;return n|0}}}while(0);a=t+4|0;o=qt[a>>2]|0;do{if((o|0)!=256){n=t+3380|0;if(!(qt[n>>2]|0)){if((o|0)==(e|0))break;o=t+8|0;if((d|0)==(qt[o>>2]|0)){qt[a>>2]=e;qt[t+12>>2]=qt[u>>2];break}if(!i){t=1;Zt=f;return t|0}else{qt[a>>2]=e;p=qt[u>>2]|0;qt[t+12>>2]=p;p=qt[p+4>>2]|0;qt[o>>2]=p;p=qt[t+(p<<2)+20>>2]|0;qt[t+16>>2]=p;e=qt[p+52>>2]|0;p=qt[p+56>>2]|0;qt[t+1176>>2]=$t(p,e)|0;qt[t+1340>>2]=e;qt[t+1344>>2]=p;qt[n>>2]=1;break}}qt[n>>2]=0;a=t+1212|0;m(qt[a>>2]|0);qt[a>>2]=0;o=t+1172|0;m(qt[o>>2]|0);qt[o>>2]=0;n=t+1176|0;qt[a>>2]=_((qt[n>>2]|0)*216|0)|0;e=_(qt[n>>2]<<2)|0;qt[o>>2]=e;o=qt[a>>2]|0;if((o|0)==0|(e|0)==0){t=65535;Zt=f;return t|0}mt(o,0,(qt[n>>2]|0)*216|0);e=t+16|0;Re(qt[a>>2]|0,qt[(qt[e>>2]|0)+52>>2]|0,qt[n>>2]|0);a=qt[e>>2]|0;do{if((qt[t+1216>>2]|0)==0?(qt[a+16>>2]|0)!=2:0){if(((qt[a+80>>2]|0)!=0?(p=qt[a+84>>2]|0,(qt[p+920>>2]|0)!=0):0)?(qt[p+944>>2]|0)==0:0){n=1;break}n=0}else n=1}while(0);p=$t(qt[a+56>>2]|0,qt[a+52>>2]|0)|0;n=Pi(t+1220|0,p,qt[a+88>>2]|0,qt[a+44>>2]|0,qt[a+12>>2]|0,n)|0;if(n){t=n;Zt=f;return t|0}}else{qt[a>>2]=e;p=qt[u>>2]|0;qt[t+12>>2]=p;p=qt[p+4>>2]|0;qt[t+8>>2]=p;p=qt[t+(p<<2)+20>>2]|0;qt[t+16>>2]=p;e=qt[p+52>>2]|0;p=qt[p+56>>2]|0;qt[t+1176>>2]=$t(p,e)|0;qt[t+1340>>2]=e;qt[t+1344>>2]=p;qt[t+3380>>2]=1}}while(0);t=0;Zt=f;return t|0}function je(t){t=t|0;var e=0,i=0,n=0;n=Zt;qt[t+1196>>2]=0;qt[t+1192>>2]=0;i=qt[t+1176>>2]|0;if(!i){Zt=n;return}t=qt[t+1212>>2]|0;e=0;do{qt[t+(e*216|0)+4>>2]=0;qt[t+(e*216|0)+196>>2]=0;e=e+1|0}while(e>>>0<i>>>0);Zt=n}function We(t){t=t|0;return(qt[t+1188>>2]|0)==0|0}function Ye(t){t=t|0;var e=0,i=0,n=0,a=0;a=Zt;if(!(qt[t+1404>>2]|0)){if((qt[t+1196>>2]|0)==(qt[t+1176>>2]|0)){n=1;Zt=a;return n|0}}else{n=qt[t+1176>>2]|0;if(!n){n=1;Zt=a;return n|0}t=qt[t+1212>>2]|0;e=0;i=0;do{i=((qt[t+(e*216|0)+196>>2]|0)!=0&1)+i|0;e=e+1|0}while(e>>>0<n>>>0);if((i|0)==(n|0)){n=1;Zt=a;return n|0}}n=0;Zt=a;return n|0}function ze(t,e){t=t|0;e=e|0;var i=0,n=0;i=Zt;n=qt[t+16>>2]|0;qe(qt[t+1172>>2]|0,qt[t+12>>2]|0,e,qt[n+52>>2]|0,qt[n+56>>2]|0);Zt=i}function Ke(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;g=Zt;Zt=Zt+32|0;o=g+24|0;s=g+20|0;h=g+16|0;u=g+12|0;_=g+8|0;f=g;qt[n>>2]=0;switch(qt[e>>2]|0){case 5:case 1:{m=i+1300|0;r=i+1332|0;if(qt[r>>2]|0){qt[n>>2]=1;qt[r>>2]=0}r=me(t,o)|0;if(r){e=r;Zt=g;return e|0}l=qt[i+(qt[o>>2]<<2)+148>>2]|0;if(!l){e=65520;Zt=g;return e|0}r=qt[l+4>>2]|0;c=qt[i+(r<<2)+20>>2]|0;if(!c){e=65520;Zt=g;return e|0}o=qt[i+8>>2]|0;if(!((o|0)==32|(r|0)==(o|0))?(qt[e>>2]|0)!=5:0){e=65520;Zt=g;return e|0}o=qt[i+1304>>2]|0;r=qt[e+4>>2]|0;if((o|0)!=(r|0)?(o|0)==0|(r|0)==0:0)qt[n>>2]=1;r=(qt[e>>2]|0)==5;if((qt[m>>2]|0)==5){if(!r)a=16}else if(r)a=16;if((a|0)==16)qt[n>>2]=1;o=c+12|0;if(ge(t,qt[o>>2]|0,s)|0){e=1;Zt=g;return e|0}a=i+1308|0;r=qt[s>>2]|0;if((qt[a>>2]|0)!=(r|0)){qt[a>>2]=r;qt[n>>2]=1}if((qt[e>>2]|0)==5){if(ve(t,qt[o>>2]|0,5,h)|0){e=1;Zt=g;return e|0}if((qt[m>>2]|0)==5){o=i+1312|0;a=qt[o>>2]|0;r=qt[h>>2]|0;if((a|0)==(r|0))r=a;else qt[n>>2]=1}else{o=i+1312|0;r=qt[h>>2]|0}qt[o>>2]=r}o=qt[c+16>>2]|0;if((o|0)==1){if(!(qt[c+24>>2]|0)){r=l+8|0;o=Se(t,c,qt[e>>2]|0,qt[r>>2]|0,f)|0;if(o){e=o;Zt=g;return e|0}o=i+1324|0;a=qt[f>>2]|0;if((qt[o>>2]|0)!=(a|0)){qt[o>>2]=a;qt[n>>2]=1}if((qt[r>>2]|0)!=0?(d=i+1328|0,p=qt[f+4>>2]|0,(qt[d>>2]|0)!=(p|0)):0){qt[d>>2]=p;qt[n>>2]=1}}}else if(!o){if(ye(t,c,qt[e>>2]|0,u)|0){e=1;Zt=g;return e|0}a=i+1316|0;o=qt[u>>2]|0;if((qt[a>>2]|0)!=(o|0)){qt[a>>2]=o;qt[n>>2]=1}if(qt[l+8>>2]|0){a=Pe(t,c,qt[e>>2]|0,_)|0;if(a){e=a;Zt=g;return e|0}o=i+1320|0;a=qt[_>>2]|0;if((qt[o>>2]|0)!=(a|0)){qt[o>>2]=a;qt[n>>2]=1}}}i=e;n=qt[i+4>>2]|0;e=m;qt[e>>2]=qt[i>>2];qt[e+4>>2]=n;e=0;Zt=g;return e|0}case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:{qt[n>>2]=1;e=0;Zt=g;return e|0}default:{e=0;Zt=g;return e|0}}return 0}function Je(t){t=t|0;var e=0,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0;u=Zt;c=0;t:while(1){e=qt[t+(c<<2)+148>>2]|0;e:do{if((e|0)!=0?(h=qt[t+(qt[e+4>>2]<<2)+20>>2]|0,(h|0)!=0):0){s=qt[h+52>>2]|0;l=$t(qt[h+56>>2]|0,s)|0;a=qt[e+12>>2]|0;if(a>>>0<=1){e=0;i=18;break t}i=qt[e+16>>2]|0;if(!i){i=qt[e+20>>2]|0;e=0;while(1){if((qt[i+(e<<2)>>2]|0)>>>0>l>>>0)break e;e=e+1|0;if(e>>>0>=a>>>0){e=0;i=18;break t}}}else if((i|0)!=2){if((i+-3|0)>>>0<3)if((qt[e+36>>2]|0)>>>0>l>>>0)break;else{e=0;i=18;break t}if((i|0)!=6){e=0;i=18;break t}if((qt[e+40>>2]|0)>>>0<l>>>0)break;else{e=0;i=18;break t}}else{r=qt[e+24>>2]|0;o=qt[e+28>>2]|0;i=a+-1|0;a=0;while(1){e=qt[r+(a<<2)>>2]|0;n=qt[o+(a<<2)>>2]|0;if(!(e>>>0<=n>>>0&n>>>0<l>>>0))break e;a=a+1|0;if(((e>>>0)%(s>>>0)|0)>>>0>((n>>>0)%(s>>>0)|0)>>>0)break e;if(a>>>0>=i>>>0){e=0;i=18;break t}}}}}while(0);c=c+1|0;if(c>>>0>=256){e=1;i=18;break}}if((i|0)==18){Zt=u;return e|0}return 0}function qe(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0;y=Zt;g=$t(a,n)|0;d=qt[e+12>>2]|0;if((d|0)==1){mt(t,0,g<<2);Zt=y;return}h=qt[e+16>>2]|0;if((h+-3|0)>>>0<3){i=$t(qt[e+36>>2]|0,i)|0;i=i>>>0<g>>>0?i:g;if((h&-2|0)==4){u=(qt[e+32>>2]|0)==0?i:g-i|0;v=i}else{u=0;v=i}}else{u=0;v=0}switch(h|0){case 4:{r=qt[e+32>>2]|0;if(!g){Zt=y;return}o=1-r|0;i=0;do{qt[t+(i<<2)>>2]=i>>>0<u>>>0?r:o;i=i+1|0}while((i|0)!=(g|0));Zt=y;return}case 3:{c=qt[e+32>>2]|0;if(g){i=0;do{qt[t+(i<<2)>>2]=1;i=i+1|0}while((i|0)!=(g|0))}l=(n-c|0)>>>1;u=(a-c|0)>>>1;if(!v){Zt=y;return}g=c<<1;_=g+-1|0;m=n+-1|0;g=1-g|0;p=a+-1|0;d=u;f=0;o=l;a=l;h=u;e=l;s=c+-1|0;i=u;while(1){u=t+(($t(i,n)|0)+e<<2)|0;l=(qt[u>>2]|0)==1;r=l&1;if(l)qt[u>>2]=0;do{if(!((s|0)==-1&(e|0)==(o|0))){if((s|0)==1&(e|0)==(a|0)){e=a+1|0;e=(e|0)<(m|0)?e:m;u=d;l=o;a=e;s=0;c=g;break}if((c|0)==-1&(i|0)==(h|0)){i=h+-1|0;i=(i|0)>0?i:0;u=d;l=o;h=i;s=g;c=0;break}if((c|0)==1&(i|0)==(d|0)){i=d+1|0;i=(i|0)<(p|0)?i:p;u=i;l=o;s=_;c=0;break}else{u=d;l=o;e=e+s|0;i=i+c|0;break}}else{e=o+-1|0;e=(e|0)>0?e:0;u=d;l=e;s=0;c=_}}while(0);f=r+f|0;if(f>>>0>=v>>>0)break;else{d=u;o=l}}Zt=y;return}case 0:{l=qt[e+20>>2]|0;if(!g){Zt=y;return}else{r=0;s=0}while(1){while(1)if(r>>>0<d>>>0)break;else r=0;e=l+(r<<2)|0;i=qt[e>>2]|0;t:do{if(!i)i=0;else{h=0;do{o=h+s|0;if(o>>>0>=g>>>0)break t;qt[t+(o<<2)>>2]=r;h=h+1|0;i=qt[e>>2]|0}while(h>>>0<i>>>0)}}while(0);s=i+s|0;if(s>>>0>=g>>>0)break;else r=r+1|0}Zt=y;return}case 2:{u=qt[e+24>>2]|0;c=qt[e+28>>2]|0;i=d+-1|0;if(g){r=0;do{qt[t+(r<<2)>>2]=i;r=r+1|0}while((r|0)!=(g|0))}if(!i){Zt=y;return}o=d+-2|0;while(1){s=qt[u+(o<<2)>>2]|0;i=(s>>>0)/(n>>>0)|0;s=(s>>>0)%(n>>>0)|0;r=qt[c+(o<<2)>>2]|0;l=(r>>>0)/(n>>>0)|0;r=(r>>>0)%(n>>>0)|0;t:do{if(i>>>0<=l>>>0){if(s>>>0>r>>>0)while(1){i=i+1|0;if(i>>>0>l>>>0)break t}do{h=$t(i,n)|0;e=s;do{qt[t+(e+h<<2)>>2]=o;e=e+1|0}while(e>>>0<=r>>>0);i=i+1|0}while(i>>>0<=l>>>0)}}while(0);if(!o)break;else o=o+-1|0}Zt=y;return}case 1:{if(!g){Zt=y;return}else r=0;do{qt[t+(r<<2)>>2]=(((($t((r>>>0)/(n>>>0)|0,d)|0)>>>1)+((r>>>0)%(n>>>0)|0)|0)>>>0)%(d>>>0)|0;r=r+1|0}while((r|0)!=(g|0));Zt=y;return}case 5:{i=qt[e+32>>2]|0;if(!n){Zt=y;return}r=1-i|0;if(!a){Zt=y;return}else{s=0;e=0}while(1){o=0;h=e;while(1){v=t+(($t(o,n)|0)+s<<2)|0;qt[v>>2]=h>>>0<u>>>0?i:r;o=o+1|0;if((o|0)==(a|0))break;else h=h+1|0}s=s+1|0;if((s|0)==(n|0))break;else e=e+a|0}Zt=y;return}default:{if(!g){Zt=y;return}o=qt[e+44>>2]|0;r=0;do{qt[t+(r<<2)>>2]=qt[o+(r<<2)>>2];r=r+1|0}while((r|0)!=(g|0));Zt=y}}}function Qe(){return 3472}function Ze(t,e,i,n,a,o){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;var r=0,s=0,h=0;h=Zt;Zt=Zt+80|0;r=h+32|0;s=h;$e(i,r,s,n);if((U(qt[t>>2]|0)|0)==1){n=ti(t,o,e+328|0,r,s,a)|0;if(n){t=n;Zt=h;return t|0}}else{n=ei(t,o,e,r,s,a)|0;if(n){t=n;Zt=h;return t|0}}n=ii(t,o+256|0,e+1352|0,r+21|0,s+16|0,qt[e+140>>2]|0,a)|0;if(n){t=n;Zt=h;return t|0}if((qt[t+196>>2]|0)>>>0>1){t=0;Zt=h;return t|0}_t(i,o);t=0;Zt=h;return t|0}function $e(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0;_=Zt;if(!n){Zt=_;return}p=qt[t+4>>2]|0;f=$t(qt[t+8>>2]|0,p)|0;c=(n>>>0)/(p>>>0)|0;a=$t(c,p)|0;u=n-a|0;s=p<<4;r=qt[t>>2]|0;o=(u<<4)+($t(p<<8,c)|0)|0;d=(c|0)!=0;if(d){l=o-(s|1)|0;Kt[e>>0]=Kt[r+l>>0]|0;Kt[e+1>>0]=Kt[r+(l+1)>>0]|0;Kt[e+2>>0]=Kt[r+(l+2)>>0]|0;Kt[e+3>>0]=Kt[r+(l+3)>>0]|0;Kt[e+4>>0]=Kt[r+(l+4)>>0]|0;Kt[e+5>>0]=Kt[r+(l+5)>>0]|0;Kt[e+6>>0]=Kt[r+(l+6)>>0]|0;Kt[e+7>>0]=Kt[r+(l+7)>>0]|0;Kt[e+8>>0]=Kt[r+(l+8)>>0]|0;Kt[e+9>>0]=Kt[r+(l+9)>>0]|0;Kt[e+10>>0]=Kt[r+(l+10)>>0]|0;Kt[e+11>>0]=Kt[r+(l+11)>>0]|0;Kt[e+12>>0]=Kt[r+(l+12)>>0]|0;Kt[e+13>>0]=Kt[r+(l+13)>>0]|0;Kt[e+14>>0]=Kt[r+(l+14)>>0]|0;Kt[e+15>>0]=Kt[r+(l+15)>>0]|0;Kt[e+16>>0]=Kt[r+(l+16)>>0]|0;Kt[e+17>>0]=Kt[r+(l+17)>>0]|0;Kt[e+18>>0]=Kt[r+(l+18)>>0]|0;Kt[e+19>>0]=Kt[r+(l+19)>>0]|0;Kt[e+20>>0]=Kt[r+(l+20)>>0]|0;l=e+21|0}else l=e;h=(a|0)!=(n|0);if(h){o=o+-1|0;Kt[i>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+1>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+2>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+3>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+4>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+5>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+6>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+7>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+8>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+9>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+10>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+11>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+12>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+13>>0]=Kt[r+o>>0]|0;o=o+s|0;Kt[i+14>>0]=Kt[r+o>>0]|0;Kt[i+15>>0]=Kt[r+(o+s)>>0]|0;i=i+16|0}e=p<<3&2147483640;a=qt[t>>2]|0;n=($t(c<<3,e)|0)+(f<<8)+(u<<3)|0;if(d){d=n-(e|1)|0;Kt[l>>0]=Kt[a+d>>0]|0;Kt[l+1>>0]=Kt[a+(d+1)>>0]|0;Kt[l+2>>0]=Kt[a+(d+2)>>0]|0;Kt[l+3>>0]=Kt[a+(d+3)>>0]|0;Kt[l+4>>0]=Kt[a+(d+4)>>0]|0;Kt[l+5>>0]=Kt[a+(d+5)>>0]|0;Kt[l+6>>0]=Kt[a+(d+6)>>0]|0;Kt[l+7>>0]=Kt[a+(d+7)>>0]|0;Kt[l+8>>0]=Kt[a+(d+8)>>0]|0;d=d+(f<<6)|0;Kt[l+9>>0]=Kt[a+d>>0]|0;Kt[l+10>>0]=Kt[a+(d+1)>>0]|0;Kt[l+11>>0]=Kt[a+(d+2)>>0]|0;Kt[l+12>>0]=Kt[a+(d+3)>>0]|0;Kt[l+13>>0]=Kt[a+(d+4)>>0]|0;Kt[l+14>>0]=Kt[a+(d+5)>>0]|0;Kt[l+15>>0]=Kt[a+(d+6)>>0]|0;Kt[l+16>>0]=Kt[a+(d+7)>>0]|0;Kt[l+17>>0]=Kt[a+(d+8)>>0]|0}if(!h){Zt=_;return}d=n+-1|0;Kt[i>>0]=Kt[a+d>>0]|0;d=d+e|0;Kt[i+1>>0]=Kt[a+d>>0]|0;d=d+e|0;Kt[i+2>>0]=Kt[a+d>>0]|0;d=d+e|0;Kt[i+3>>0]=Kt[a+d>>0]|0;d=d+e|0;Kt[i+4>>0]=Kt[a+d>>0]|0;d=d+e|0;Kt[i+5>>0]=Kt[a+d>>0]|0;d=d+e|0;Kt[i+6>>0]=Kt[a+d>>0]|0;d=d+e|0;Kt[i+7>>0]=Kt[a+d>>0]|0;f=d+(e+((f<<6)-(p<<6)))|0;Kt[i+8>>0]=Kt[a+f>>0]|0;f=f+e|0;Kt[i+9>>0]=Kt[a+f>>0]|0;f=f+e|0;Kt[i+10>>0]=Kt[a+f>>0]|0;f=f+e|0;Kt[i+11>>0]=Kt[a+f>>0]|0;f=f+e|0;Kt[i+12>>0]=Kt[a+f>>0]|0;f=f+e|0;Kt[i+13>>0]=Kt[a+f>>0]|0;f=f+e|0;Kt[i+14>>0]=Kt[a+f>>0]|0;Kt[i+15>>0]=Kt[a+(f+e)>>0]|0;Zt=_}function ti(t,e,i,n,a,o){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;var r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0;S=Zt;r=t+200|0;s=j(t,qt[r>>2]|0)|0;u=(o|0)!=0;if((s|0)!=0&u){l=(U(qt[qt[r>>2]>>2]|0)|0)==2;l=l?0:s}else l=s;s=t+204|0;o=j(t,qt[s>>2]|0)|0;if((o|0)!=0&u){c=(U(qt[qt[s>>2]>>2]|0)|0)==2;c=c?0:o}else c=o;o=t+212|0;s=j(t,qt[o>>2]|0)|0;if((s|0)!=0&u){P=(U(qt[qt[o>>2]>>2]|0)|0)==2;s=P?0:s}o=xe(qt[t>>2]|0)|0;if((o|0)==2){s=n+1|0;r=(l|0)!=0;o=(c|0)!=0;do{if(!(r&o)){if(r){r=((Qt[a>>0]|0)+8+(Qt[a+1>>0]|0)+(Qt[a+2>>0]|0)+(Qt[a+3>>0]|0)+(Qt[a+4>>0]|0)+(Qt[a+5>>0]|0)+(Qt[a+6>>0]|0)+(Qt[a+7>>0]|0)+(Qt[a+8>>0]|0)+(Qt[a+9>>0]|0)+(Qt[a+10>>0]|0)+(Qt[a+11>>0]|0)+(Qt[a+12>>0]|0)+(Qt[a+13>>0]|0)+(Qt[a+14>>0]|0)+(Qt[a+15>>0]|0)|0)>>>4;break}if(o)r=((Qt[s>>0]|0)+8+(Qt[n+2>>0]|0)+(Qt[n+3>>0]|0)+(Qt[n+4>>0]|0)+(Qt[n+5>>0]|0)+(Qt[n+6>>0]|0)+(Qt[n+7>>0]|0)+(Qt[n+8>>0]|0)+(Qt[n+9>>0]|0)+(Qt[n+10>>0]|0)+(Qt[n+11>>0]|0)+(Qt[n+12>>0]|0)+(Qt[n+13>>0]|0)+(Qt[n+14>>0]|0)+(Qt[n+15>>0]|0)+(Qt[n+16>>0]|0)|0)>>>4;else r=128}else{o=0;r=0;do{P=o;o=o+1|0;r=(Qt[n+o>>0]|0)+r+(Qt[a+P>>0]|0)|0}while((o|0)!=16);r=(r+16|0)>>>5}}while(0);b(e|0,r&255|0,256)|0}else if(!o){if(!c){i=1;Zt=S;return i|0}t=n+1|0;h=n+2|0;s=n+3|0;o=n+4|0;r=n+5|0;d=n+6|0;p=n+7|0;f=n+8|0;_=n+9|0;m=n+10|0;g=n+11|0;v=n+12|0;y=n+13|0;P=n+14|0;a=n+15|0;c=n+16|0;u=e;l=0;while(1){Kt[u>>0]=Kt[t>>0]|0;Kt[u+1>>0]=Kt[h>>0]|0;Kt[u+2>>0]=Kt[s>>0]|0;Kt[u+3>>0]=Kt[o>>0]|0;Kt[u+4>>0]=Kt[r>>0]|0;Kt[u+5>>0]=Kt[d>>0]|0;Kt[u+6>>0]=Kt[p>>0]|0;Kt[u+7>>0]=Kt[f>>0]|0;Kt[u+8>>0]=Kt[_>>0]|0;Kt[u+9>>0]=Kt[m>>0]|0;Kt[u+10>>0]=Kt[g>>0]|0;Kt[u+11>>0]=Kt[v>>0]|0;Kt[u+12>>0]=Kt[y>>0]|0;Kt[u+13>>0]=Kt[P>>0]|0;Kt[u+14>>0]=Kt[a>>0]|0;Kt[u+15>>0]=Kt[c>>0]|0;l=l+1|0;if((l|0)==16)break;else u=u+16|0}}else if((o|0)==1)if(!l){i=1;Zt=S;return i|0}else{r=e;o=0;while(1){n=a+o|0;Kt[r>>0]=Kt[n>>0]|0;Kt[r+1>>0]=Kt[n>>0]|0;Kt[r+2>>0]=Kt[n>>0]|0;Kt[r+3>>0]=Kt[n>>0]|0;Kt[r+4>>0]=Kt[n>>0]|0;Kt[r+5>>0]=Kt[n>>0]|0;Kt[r+6>>0]=Kt[n>>0]|0;Kt[r+7>>0]=Kt[n>>0]|0;Kt[r+8>>0]=Kt[n>>0]|0;Kt[r+9>>0]=Kt[n>>0]|0;Kt[r+10>>0]=Kt[n>>0]|0;Kt[r+11>>0]=Kt[n>>0]|0;Kt[r+12>>0]=Kt[n>>0]|0;Kt[r+13>>0]=Kt[n>>0]|0;Kt[r+14>>0]=Kt[n>>0]|0;Kt[r+15>>0]=Kt[n>>0]|0;o=o+1|0;if((o|0)==16)break;else r=r+16|0}}else{if(!((l|0)!=0&(c|0)!=0&(s|0)!=0)){i=1;Zt=S;return i|0}r=Qt[n+16>>0]|0;l=Qt[a+15>>0]|0;o=Qt[n>>0]|0;u=(((Qt[n+9>>0]|0)-(Qt[n+7>>0]|0)+((Qt[n+10>>0]|0)-(Qt[n+6>>0]|0)<<1)+(((Qt[n+11>>0]|0)-(Qt[n+5>>0]|0)|0)*3|0)+((Qt[n+12>>0]|0)-(Qt[n+4>>0]|0)<<2)+(((Qt[n+13>>0]|0)-(Qt[n+3>>0]|0)|0)*5|0)+(((Qt[n+14>>0]|0)-(Qt[n+2>>0]|0)|0)*6|0)+(((Qt[n+15>>0]|0)-(Qt[n+1>>0]|0)|0)*7|0)+(r-o<<3)|0)*5|0)+32>>6;o=(((Qt[a+8>>0]|0)-(Qt[a+6>>0]|0)+(l-o<<3)+((Qt[a+9>>0]|0)-(Qt[a+5>>0]|0)<<1)+(((Qt[a+10>>0]|0)-(Qt[a+4>>0]|0)|0)*3|0)+((Qt[a+11>>0]|0)-(Qt[a+3>>0]|0)<<2)+(((Qt[a+12>>0]|0)-(Qt[a+2>>0]|0)|0)*5|0)+(((Qt[a+13>>0]|0)-(Qt[a+1>>0]|0)|0)*6|0)+(((Qt[a+14>>0]|0)-(Qt[a>>0]|0)|0)*7|0)|0)*5|0)+32>>6;r=(l+r<<4)+16|0;l=0;do{h=r+($t(l+-7|0,o)|0)|0;t=l<<4;c=0;do{s=h+($t(c+-7|0,u)|0)>>5;if((s|0)<0)s=0;else s=(s|0)>255?-1:s&255;Kt[e+(c+t)>>0]=s;c=c+1|0}while((c|0)!=16);l=l+1|0}while((l|0)!=16)}W(e,i,0);W(e,i+64|0,1);W(e,i+128|0,2);W(e,i+192|0,3);W(e,i+256|0,4);W(e,i+320|0,5);W(e,i+384|0,6);W(e,i+448|0,7);W(e,i+512|0,8);W(e,i+576|0,9);W(e,i+640|0,10);W(e,i+704|0,11);W(e,i+768|0,12);W(e,i+832|0,13);W(e,i+896|0,14);W(e,i+960|0,15);i=0;Zt=S;return i|0}function ei(t,e,i,n,a,o){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;var r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0,w=0,L=0,E=0,A=0,D=0,R=0;R=Zt;A=(o|0)!=0;D=0;t:while(1){c=Ne(D)|0;l=qt[c+4>>2]|0;c=H(t,qt[c>>2]|0)|0;o=j(t,c)|0;if((o|0)!=0&A){E=(U(qt[c>>2]|0)|0)==2;o=E?0:o}s=Oe(D)|0;h=qt[s+4>>2]|0;s=H(t,qt[s>>2]|0)|0;r=j(t,s)|0;if((r|0)!=0&A){E=(U(qt[s>>2]|0)|0)==2;r=E?0:r}M=(o|0)!=0;w=(r|0)!=0;x=M&w;if(x){if(!(U(qt[c>>2]|0)|0))l=Qt[c+(l&255)+82>>0]|0;else l=2;if(!(U(qt[s>>2]|0)|0))o=Qt[s+(h&255)+82>>0]|0;else o=2;o=l>>>0<o>>>0?l:o}else o=2;if(!(qt[i+(D<<2)+12>>2]|0)){E=qt[i+(D<<2)+76>>2]|0;o=(E>>>0>=o>>>0&1)+E|0}Kt[t+D+82>>0]=o;s=qt[(Ue(D)|0)>>2]|0;s=H(t,s)|0;h=j(t,s)|0;if((h|0)!=0&A){E=(U(qt[s>>2]|0)|0)==2;h=E?0:h}s=qt[(Ve(D)|0)>>2]|0;s=H(t,s)|0;l=j(t,s)|0;if((l|0)!=0&A){E=(U(qt[s>>2]|0)|0)==2;l=E?0:l}L=qt[3344+(D<<2)>>2]|0;E=qt[3408+(D<<2)>>2]|0;v=(1285>>>D&1|0)!=0;if(v){d=a+(E+3)|0;u=a+(E+2)|0;s=a+(E+1)|0;c=a+E|0}else{c=(E<<4)+L|0;d=e+(c+47)|0;u=e+(c+31)|0;s=e+(c+15)|0;c=e+(c+-1)|0}S=Kt[c>>0]|0;P=Kt[s>>0]|0;T=Kt[u>>0]|0;k=Kt[d>>0]|0;do{if(!(51>>>D&1)){m=E+-1|0;_=(m<<4)+L|0;f=Kt[e+_>>0]|0;p=Kt[e+(_+1)>>0]|0;d=Kt[e+(_+2)>>0]|0;u=Kt[e+(_+3)>>0]|0;g=Kt[e+(_+4)>>0]|0;y=Kt[e+(_+5)>>0]|0;s=Kt[e+(_+6)>>0]|0;c=Kt[e+(_+7)>>0]|0;if(v){v=a+m|0;C=f;B=p;I=d;b=u;_=c;c=s;m=y;break}else{v=e+(_+-1)|0;C=f;B=p;I=d;b=u;_=c;c=s;m=y;break}}else{v=n+L|0;C=Kt[n+(L+1)>>0]|0;B=Kt[n+(L+2)>>0]|0;I=Kt[n+(L+3)>>0]|0;b=Kt[n+(L+4)>>0]|0;_=Kt[n+(L+8)>>0]|0;c=Kt[n+(L+7)>>0]|0;m=Kt[n+(L+6)>>0]|0;g=Kt[n+(L+5)>>0]|0}}while(0);d=Kt[v>>0]|0;switch(o|0){case 1:{if(!M){r=1;o=51;break t}h=$t(S&255,16843009)|0;p=$t(P&255,16843009)|0;g=$t(T&255,16843009)|0;d=h>>>24&255;u=h>>>16&255;l=h>>>8&255;h=h&255;s=p>>>24&255;o=p>>>16&255;r=p>>>8&255;p=p&255;f=g>>>24&255;_=g>>>16&255;m=g>>>8&255;g=g&255;c=$t(k&255,16843009)|0;break}case 6:{if(!(x&(l|0)!=0)){r=1;o=51;break t}u=d&255;s=S&255;_=s+1|0;o=(_+u|0)>>>1&255;M=P&255;f=((s<<1)+2+M+u|0)>>>2&255;_=(_+M|0)>>>1&255;w=T&255;s=s+2|0;T=(s+(M<<1)+w|0)>>>2;x=(M+1+w|0)>>>1;c=k&255;l=C&255;s=(s+l+(u<<1)|0)>>>2&255;h=B&255;d=((I&255)+2+(h<<1)+l|0)>>>2&255;u=(h+2+(l<<1)+u|0)>>>2&255;l=s;h=o;r=f;p=_;m=T&255;g=x&255;c=T<<24|x<<16&16711680|(w+1+c|0)>>>1&255|M+2+(w<<1)+c<<6&65280;break}case 4:{if(!(x&(l|0)!=0)){r=1;o=51;break t}f=C&255;c=d&255;M=S&255;s=f+2|0;w=(s+M+(c<<1)|0)>>>2;_=w&255;u=B&255;c=c+2|0;f=((f<<1)+u+c|0)>>>2&255;d=I&255;s=((u<<1)+d+s|0)>>>2&255;C=P&255;c=(C+(M<<1)+c|0)>>>2;m=c&255;x=T&255;M=(M+2+(C<<1)+x|0)>>>2;d=((b&255)+2+u+(d<<1)|0)>>>2&255;u=s;l=f;h=_;o=f;r=_;p=m;g=M&255;c=(C+2+(x<<1)+(k&255)|0)>>>2&255|M<<8&65280|w<<24|c<<16&16711680;break}case 3:{if(!r){r=1;o=51;break t}x=(h|0)==0;h=B&255;p=I&255;s=p+2|0;d=b&255;M=d+2|0;p=(M+h+(p<<1)|0)>>>2&255;w=(x?b:g)&255;g=(s+(d<<1)+w|0)>>>2&255;d=(x?b:m)&255;M=(M+d+(w<<1)|0)>>>2;m=M&255;T=(x?b:c)&255;w=(w+2+T+(d<<1)|0)>>>2;k=w&255;x=(x?b:_)&255;c=(d+2+x+(T<<1)|0)>>>2;d=m;u=g;l=p;h=(s+(C&255)+(h<<1)|0)>>>2&255;s=k;o=m;r=g;f=c&255;_=k;c=(T+2+(x*3|0)|0)>>>2<<24|M&255|w<<8&65280|c<<16&16711680;break}case 2:{do{if(!x){if(M){o=((S&255)+2+(P&255)+(T&255)+(k&255)|0)>>>2;break}if(w)o=((b&255)+2+(I&255)+(B&255)+(C&255)|0)>>>2;else o=128}else o=((S&255)+4+(P&255)+(T&255)+(k&255)+(b&255)+(I&255)+(B&255)+(C&255)|0)>>>3}while(0);c=$t(o&255,16843009)|0;g=c&255;m=c>>>8&255;_=c>>>16&255;f=c>>>24&255;d=f;u=_;l=m;h=g;s=f;o=_;r=m;p=g;break}case 7:{if(!r){r=1;o=51;break t}x=(h|0)==0;f=C&255;p=B&255;k=I&255;B=(k+1+p|0)>>>1&255;w=b&255;_=w+1|0;I=(_+k|0)>>>1&255;T=(x?b:g)&255;_=(_+T|0)>>>1&255;g=k+2|0;C=w+2|0;k=(C+p+(k<<1)|0)>>>2;w=(g+(w<<1)+T|0)>>>2;M=(x?b:m)&255;C=(C+M+(T<<1)|0)>>>2;d=_;u=I;l=B;h=(p+1+f|0)>>>1&255;s=C&255;o=w&255;r=k&255;p=(g+f+(p<<1)|0)>>>2&255;f=(T+1+M|0)>>>1&255;m=I;g=B;c=C<<16&16711680|k&255|(T+2+((x?b:c)&255)+(M<<1)|0)>>>2<<24|w<<8&65280;break}case 0:{if(!r){r=1;o=51;break t}d=b;u=I;l=B;h=C;s=b;o=I;r=B;p=C;f=b;_=I;m=B;g=C;c=(I&255)<<16|(b&255)<<24|(B&255)<<8|C&255;break}case 5:{if(!(x&(l|0)!=0)){r=1;o=51;break t}g=d&255;_=C&255;m=(_+1+g|0)>>>1&255;o=B&255;w=(o+2+(_<<1)+g|0)>>>2;x=S&255;k=_+2|0;c=(k+x+(g<<1)|0)>>>2;_=(o+1+_|0)>>>1&255;s=I&255;k=((o<<1)+s+k|0)>>>2;f=(s+1+o|0)>>>1&255;r=b&255;M=P&255;d=(r+1+s|0)>>>1&255;u=f;l=_;h=m;s=(r+2+o+(s<<1)|0)>>>2&255;o=k&255;r=w&255;p=c&255;g=(M+2+(x<<1)+g|0)>>>2&255;c=k<<24|(x+2+(T&255)+(M<<1)|0)>>>2&255|w<<16&16711680|c<<8&65280;break}default:{if(!M){r=1;o=51;break t}s=S&255;h=P&255;l=T&255;p=(h+1+l|0)>>>1&255;c=k&255;r=(h+2+(l<<1)+c|0)>>>2&255;g=(l+1+c|0)>>>1&255;m=(l+2+(c*3|0)|0)>>>2&255;d=r;u=p;l=(s+2+(h<<1)+l|0)>>>2&255;h=(s+1+h|0)>>>1&255;s=m;o=g;f=k;_=k;c=c<<8|c|c<<16|c<<24}}E=(E<<4)+L|0;qt[e+E>>2]=(u&255)<<16|(d&255)<<24|(l&255)<<8|h&255;qt[e+(E+16)>>2]=(o&255)<<16|(s&255)<<24|(r&255)<<8|p&255;qt[e+(E+32)>>2]=(_&255)<<16|(f&255)<<24|(m&255)<<8|g&255;qt[e+(E+48)>>2]=c;W(e,i+(D<<6)+328|0,D);D=D+1|0;if(D>>>0>=16){r=0;o=51;break}}if((o|0)==51){Zt=R;return r|0}return 0}function ii(t,e,i,n,a,o,r){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;var s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0;P=Zt;s=t+200|0;h=j(t,qt[s>>2]|0)|0;c=(r|0)!=0;if((h|0)!=0&c){y=(U(qt[qt[s>>2]>>2]|0)|0)==2;h=y?0:h}s=t+204|0;r=j(t,qt[s>>2]|0)|0;if((r|0)!=0&c){y=(U(qt[qt[s>>2]>>2]|0)|0)==2;r=y?0:r}l=t+212|0;s=j(t,qt[l>>2]|0)|0;if((s|0)!=0&c){y=(U(qt[qt[l>>2]>>2]|0)|0)==2;s=y?0:s}g=(h|0)!=0;v=(r|0)!=0;y=g&v;m=y&(s|0)!=0;_=(h|0)==0;f=(r|0)==0;p=e;u=16;d=0;while(1){if((o|0)==2){if(f){s=1;r=29;break}else{t=p;c=n;l=8}while(1){c=c+1|0;l=l+-1|0;Kt[t>>0]=Kt[c>>0]|0;Kt[t+8>>0]=Kt[c>>0]|0;Kt[t+16>>0]=Kt[c>>0]|0;Kt[t+24>>0]=Kt[c>>0]|0;Kt[t+32>>0]=Kt[c>>0]|0;Kt[t+40>>0]=Kt[c>>0]|0;Kt[t+48>>0]=Kt[c>>0]|0;Kt[t+56>>0]=Kt[c>>0]|0;if(!l)break;else t=t+1|0}}else if(!o){l=n+1|0;do{if(!y){if(v){t=((Qt[l>>0]|0)+2+(Qt[n+2>>0]|0)+(Qt[n+3>>0]|0)+(Qt[n+4>>0]|0)|0)>>>2;c=((Qt[n+5>>0]|0)+2+(Qt[n+6>>0]|0)+(Qt[n+7>>0]|0)+(Qt[n+8>>0]|0)|0)>>>2;break}if(g){c=((Qt[a>>0]|0)+2+(Qt[a+1>>0]|0)+(Qt[a+2>>0]|0)+(Qt[a+3>>0]|0)|0)>>>2;t=c}else{t=128;c=128}}else{t=((Qt[l>>0]|0)+4+(Qt[n+2>>0]|0)+(Qt[n+3>>0]|0)+(Qt[n+4>>0]|0)+(Qt[a>>0]|0)+(Qt[a+1>>0]|0)+(Qt[a+2>>0]|0)+(Qt[a+3>>0]|0)|0)>>>3;c=((Qt[n+5>>0]|0)+2+(Qt[n+6>>0]|0)+(Qt[n+7>>0]|0)+(Qt[n+8>>0]|0)|0)>>>2}}while(0);h=t&255;t=c&255;b(p|0,h|0,4)|0;b(p+4|0,t|0,4)|0;b(p+8|0,h|0,4)|0;b(p+12|0,t|0,4)|0;b(p+16|0,h|0,4)|0;b(p+20|0,t|0,4)|0;e=p+32|0;b(p+24|0,h|0,4)|0;b(p+28|0,t|0,4)|0;if(g){t=Qt[a+4>>0]|0;c=Qt[a+5>>0]|0;l=Qt[a+6>>0]|0;h=Qt[a+7>>0]|0;r=(t+2+c+l+h|0)>>>2;if(v){s=r;t=(t+4+c+l+h+(Qt[n+5>>0]|0)+(Qt[n+6>>0]|0)+(Qt[n+7>>0]|0)+(Qt[n+8>>0]|0)|0)>>>3}else{s=r;t=r}}else if(v){s=((Qt[l>>0]|0)+2+(Qt[n+2>>0]|0)+(Qt[n+3>>0]|0)+(Qt[n+4>>0]|0)|0)>>>2;t=((Qt[n+5>>0]|0)+2+(Qt[n+6>>0]|0)+(Qt[n+7>>0]|0)+(Qt[n+8>>0]|0)|0)>>>2}else{s=128;t=128}c=s&255;t=t&255;b(e|0,c|0,4)|0;b(p+36|0,t|0,4)|0;b(p+40|0,c|0,4)|0;b(p+44|0,t|0,4)|0;b(p+48|0,c|0,4)|0;b(p+52|0,t|0,4)|0;b(p+56|0,c|0,4)|0;b(p+60|0,t|0,4)|0}else if((o|0)==1){if(_){s=1;r=29;break}else{t=p;c=a;l=8}while(1){l=l+-1|0;Kt[t>>0]=Kt[c>>0]|0;Kt[t+1>>0]=Kt[c>>0]|0;Kt[t+2>>0]=Kt[c>>0]|0;Kt[t+3>>0]=Kt[c>>0]|0;Kt[t+4>>0]=Kt[c>>0]|0;Kt[t+5>>0]=Kt[c>>0]|0;Kt[t+6>>0]=Kt[c>>0]|0;Kt[t+7>>0]=Kt[c>>0]|0;if(!l)break;else{t=t+8|0;c=c+1|0}}}else{if(!m){s=1;r=29;break}r=Qt[n+8>>0]|0;s=Qt[a+7>>0]|0;l=Qt[n>>0]|0;c=(((Qt[n+5>>0]|0)-(Qt[n+3>>0]|0)+((Qt[n+6>>0]|0)-(Qt[n+2>>0]|0)<<1)+(((Qt[n+7>>0]|0)-(Qt[n+1>>0]|0)|0)*3|0)+(r-l<<2)|0)*17|0)+16>>5;l=(((Qt[a+4>>0]|0)-(Qt[a+2>>0]|0)+(s-l<<2)+((Qt[a+5>>0]|0)-(Qt[a+1>>0]|0)<<1)+(((Qt[a+6>>0]|0)-(Qt[a>>0]|0)|0)*3|0)|0)*17|0)+16>>5;h=$t(c,-3)|0;t=p;r=(s+r<<4)+16+($t(l,-3)|0)|0;s=8;while(1){s=s+-1|0;e=r+h|0;Kt[t>>0]=Kt[(e>>5)+3984>>0]|0;e=e+c|0;Kt[t+1>>0]=Kt[(e>>5)+3984>>0]|0;e=e+c|0;Kt[t+2>>0]=Kt[(e>>5)+3984>>0]|0;e=e+c|0;Kt[t+3>>0]=Kt[(e>>5)+3984>>0]|0;e=e+c|0;Kt[t+4>>0]=Kt[(e>>5)+3984>>0]|0;e=e+c|0;Kt[t+5>>0]=Kt[(e>>5)+3984>>0]|0;e=e+c|0;Kt[t+6>>0]=Kt[(e>>5)+3984>>0]|0;Kt[t+7>>0]=Kt[(e+c>>5)+3984>>0]|0;if(!s)break;else{t=t+8|0;r=r+l|0}}}W(p,i,u);e=u|1;W(p,i+64|0,e);W(p,i+128|0,e+1|0);W(p,i+192|0,u|3);d=d+1|0;if(d>>>0>=2){s=0;r=29;break}else{p=p+64|0;a=a+8|0;n=n+9|0;i=i+256|0;u=u+4|0}}if((r|0)==29){Zt=P;return s|0}return 0}function W(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0;a=Zt;n=qt[e>>2]|0;if((n|0)==16777215){Zt=a;return}o=i>>>0<16;r=o?16:8;o=o?i:i&3;o=($t(qt[3408+(o<<2)>>2]|0,r)|0)+(qt[3344+(o<<2)>>2]|0)|0;l=t+o|0;s=qt[e+4>>2]|0;h=t+(o+1)|0;i=Qt[h>>0]|0;Kt[l>>0]=Kt[3472+(n+512+(Qt[l>>0]|0))>>0]|0;l=qt[e+8>>2]|0;n=t+(o+2)|0;c=Qt[n>>0]|0;Kt[h>>0]=Kt[3472+(s+512+i)>>0]|0;h=t+(o+3)|0;i=Kt[3472+((qt[e+12>>2]|0)+512+(Qt[h>>0]|0))>>0]|0;Kt[n>>0]=Kt[3472+(l+512+c)>>0]|0;Kt[h>>0]=i;o=o+r|0;h=t+o|0;i=qt[e+20>>2]|0;n=t+(o+1)|0;c=Qt[n>>0]|0;Kt[h>>0]=Kt[3472+((qt[e+16>>2]|0)+512+(Qt[h>>0]|0))>>0]|0;h=qt[e+24>>2]|0;l=t+(o+2)|0;s=Qt[l>>0]|0;Kt[n>>0]=Kt[3472+(i+512+c)>>0]|0;n=t+(o+3)|0;c=Kt[3472+((qt[e+28>>2]|0)+512+(Qt[n>>0]|0))>>0]|0;Kt[l>>0]=Kt[3472+(h+512+s)>>0]|0;Kt[n>>0]=c;o=o+r|0;n=t+o|0;c=qt[e+36>>2]|0;l=t+(o+1)|0;s=Qt[l>>0]|0;Kt[n>>0]=Kt[3472+((qt[e+32>>2]|0)+512+(Qt[n>>0]|0))>>0]|0;n=qt[e+40>>2]|0;h=t+(o+2)|0;i=Qt[h>>0]|0;Kt[l>>0]=Kt[3472+(c+512+s)>>0]|0;l=t+(o+3)|0;s=Kt[3472+((qt[e+44>>2]|0)+512+(Qt[l>>0]|0))>>0]|0;Kt[h>>0]=Kt[3472+(n+512+i)>>0]|0;Kt[l>>0]=s;r=o+r|0;o=t+r|0;l=qt[e+52>>2]|0;s=t+(r+1)|0;h=Qt[s>>0]|0;Kt[o>>0]=Kt[3472+((qt[e+48>>2]|0)+512+(Qt[o>>0]|0))>>0]|0;o=qt[e+56>>2]|0;i=t+(r+2)|0;n=Qt[i>>0]|0;Kt[s>>0]=Kt[3472+(l+512+h)>>0]|0;t=t+(r+3)|0;e=Kt[3472+((qt[e+60>>2]|0)+512+(Qt[t>>0]|0))>>0]|0;Kt[i>>0]=Kt[3472+(o+512+n)>>0]|0;Kt[t>>0]=e;Zt=a}function ni(t,e,i,N,n,a){t=t|0;e=e|0;i=i|0;N=N|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,O=0,b=0,I=0,U=0,V=0,G=0,B=0,F=0,C=0,k=0,T=0,x=0,M=0,w=0,L=0,E=0,A=0,D=0,R=0;R=Zt;Zt=Zt+32|0;D=R;l=qt[n+4>>2]|0;A=(N>>>0)/(l>>>0)|0;E=A<<4;A=N-($t(A,l)|0)<<4;qt[D+4>>2]=l;qt[D+8>>2]=qt[n+8>>2];l=qt[t>>2]|0;do{if((l|0)==3){g=Jt[e+160>>1]|0;m=Jt[e+162>>1]|0;S=qt[e+144>>2]|0;f=t+4|0;h=qt[t+200>>2]|0;if((h|0)!=0?(qt[h+4>>2]|0)==(qt[f>>2]|0):0)if((qt[h>>2]|0)>>>0<6){_=h+152|0;_=X[_>>1]|X[_+2>>1]<<16;h=qt[h+104>>2]|0;s=1;d=_&65535;_=_>>>16&65535}else{h=-1;s=1;d=0;_=0}else{h=-1;s=0;d=0;_=0}t:do{if((h|0)==(S|0)){s=d;h=_}else{h=qt[t+204>>2]|0;if((h|0)!=0?(qt[h+4>>2]|0)==(qt[f>>2]|0):0)if((qt[h>>2]|0)>>>0<6){w=h+172|0;w=X[w>>1]|X[w+2>>1]<<16;u=h+188|0;r=qt[h+108>>2]|0;l=qt[h+112>>2]|0;s=w&65535;u=X[u>>1]|X[u+2>>1]<<16;h=w>>>16&65535}else{r=-1;l=-1;s=0;u=0;h=0}else L=107;do{if((L|0)==107){h=qt[t+212>>2]|0;if((h|0)!=0?(qt[h+4>>2]|0)==(qt[f>>2]|0):0){if((qt[h>>2]|0)>>>0>=6){r=-1;l=-1;s=0;u=0;h=0;break}u=h+192|0;r=-1;l=qt[h+112>>2]|0;s=0;u=X[u>>1]|X[u+2>>1]<<16;h=0;break}if(!s){r=-1;l=-1;s=0;u=0;h=0}else{s=d;h=_;break t}}}while(0);r=(r|0)==(S|0);if(((r&1)+((l|0)==(S|0)&1)|0)==1){if(r)break;s=u&65535;h=u>>>16&65535;break}r=d<<16>>16;o=s<<16>>16;c=u<<16>>16;if(s<<16>>16>d<<16>>16){l=o;s=r}else{l=r;s=(o|0)<(r|0)?o:r}if((l|0)<(c|0))c=l;else c=(s|0)>(c|0)?s:c;s=_<<16>>16;l=h<<16>>16;r=u>>16;if(h<<16>>16>_<<16>>16)h=l;else{h=s;s=(l|0)<(s|0)?l:s}if((h|0)>=(r|0))h=(s|0)>(r|0)?s:r;s=c&65535;h=h&65535}}while(0);s=(s&65535)+(g&65535)|0;h=(h&65535)+(m&65535)|0;if(((s<<16>>16)+8192|0)>>>0>16383){D=1;Zt=R;return D|0}if(((h<<16>>16)+2048|0)>>>0>4095){D=1;Zt=R;return D|0}r=z(i,S)|0;if(!r){D=1;Zt=R;return D|0}m=t+132|0;v=t+136|0;y=t+140|0;g=t+144|0;L=t+164|0;w=t+168|0;M=t+172|0;x=t+176|0;Jt[t+176>>1]=s;Jt[t+178>>1]=h;h=X[x>>1]|X[x+2>>1]<<16;Jt[M>>1]=h;Jt[M+2>>1]=h>>>16;Jt[w>>1]=h;Jt[w+2>>1]=h>>>16;Jt[L>>1]=h;Jt[L+2>>1]=h>>>16;Jt[g>>1]=h;Jt[g+2>>1]=h>>>16;Jt[y>>1]=h;Jt[y+2>>1]=h>>>16;Jt[v>>1]=h;Jt[v+2>>1]=h>>>16;Jt[m>>1]=h;Jt[m+2>>1]=h>>>16;qt[t+100>>2]=S;qt[t+108>>2]=S;m=t+116|0;qt[m>>2]=r;qt[t+124>>2]=r;v=Jt[e+164>>1]|0;y=Jt[e+166>>1]|0;g=qt[e+148>>2]|0;s=qt[t+208>>2]|0;if((s|0)!=0?(qt[s+4>>2]|0)==(qt[f>>2]|0):0)if((qt[s>>2]|0)>>>0<6){p=s+172|0;s=qt[s+108>>2]|0;p=X[p>>1]|X[p+2>>1]<<16;c=1}else{s=-1;p=0;c=1}else{s=qt[t+204>>2]|0;if((s|0)!=0?(qt[s+4>>2]|0)==(qt[f>>2]|0):0)if((qt[s>>2]|0)>>>0<6){p=s+176|0;s=qt[s+108>>2]|0;p=X[p>>1]|X[p+2>>1]<<16;c=1}else{s=-1;p=0;c=1}else{s=-1;p=0;c=0}}do{if((s|0)!=(g|0)){u=h&65535;s=h>>>16;_=s&65535;l=qt[t+204>>2]|0;if((l|0)!=0?(qt[l+4>>2]|0)==(qt[f>>2]|0):0)if((qt[l>>2]|0)>>>0<6){f=l+188|0;f=X[f>>1]|X[f+2>>1]<<16;l=qt[l+112>>2]|0;d=f&65535;f=f>>>16&65535}else{l=-1;d=0;f=0}else if(!c)break;else{l=-1;d=0;f=0}c=(S|0)==(g|0);l=(l|0)==(g|0);if(((l&1)+(c&1)|0)==1){if(c)break;if(l){h=f&65535;s=h;h=h<<16|d&65535;break}else{s=p>>>16;h=p;break}}s=h<<16>>16;c=d<<16>>16;r=p<<16>>16;if(d<<16>>16>u<<16>>16)l=c;else{l=s;s=(c|0)<(s|0)?c:s}if((l|0)<(r|0))c=l;else c=(s|0)>(r|0)?s:r;h=h>>16;l=f<<16>>16;r=p>>16;if(f<<16>>16>_<<16>>16)s=l;else{s=h;h=(l|0)<(h|0)?l:h}if((s|0)<(r|0))h=c;else{s=(h|0)>(r|0)?h:r;h=c}}else{s=p>>>16;h=p}}while(0);r=(h&65535)+(v&65535)|0;s=(s&65535)+(y&65535)|0;if(((r<<16>>16)+8192|0)>>>0>16383){D=1;Zt=R;return D|0}if(((s<<16>>16)+2048|0)>>>0>4095){D=1;Zt=R;return D|0}h=z(i,g)|0;if(!h){D=1;Zt=R;return D|0}else{i=t+148|0;w=t+152|0;M=t+156|0;x=t+160|0;T=t+180|0;k=t+184|0;C=t+188|0;L=t+192|0;Jt[t+192>>1]=r;Jt[t+194>>1]=s;L=X[L>>1]|X[L+2>>1]<<16;Jt[C>>1]=L;Jt[C+2>>1]=L>>>16;Jt[k>>1]=L;Jt[k+2>>1]=L>>>16;Jt[T>>1]=L;Jt[T+2>>1]=L>>>16;Jt[x>>1]=L;Jt[x+2>>1]=L>>>16;Jt[M>>1]=L;Jt[M+2>>1]=L>>>16;Jt[w>>1]=L;Jt[w+2>>1]=L>>>16;Jt[i>>1]=L;Jt[i+2>>1]=L>>>16;qt[t+104>>2]=g;qt[t+112>>2]=g;L=t+120|0;qt[L>>2]=h;qt[t+128>>2]=h;qt[D>>2]=qt[m>>2];ft(a,t+132|0,D,A,E,0,0,8,16);qt[D>>2]=qt[L>>2];ft(a,i,D,A,E,8,0,8,16);break}}else if((l|0)==1|(l|0)==0){y=qt[e+144>>2]|0;o=t+4|0;h=qt[t+200>>2]|0;if((h|0)!=0?(qt[h+4>>2]|0)==(qt[o>>2]|0):0)if((qt[h>>2]|0)>>>0<6){f=h+152|0;f=X[f>>1]|X[f+2>>1]<<16;u=1;d=qt[h+104>>2]|0;h=f>>>16&65535;f=f&65535}else{u=1;d=-1;h=0;f=0}else{u=0;d=-1;h=0;f=0}s=qt[t+204>>2]|0;if((s|0)!=0?(qt[s+4>>2]|0)==(qt[o>>2]|0):0)if((qt[s>>2]|0)>>>0<6){p=s+172|0;p=X[p>>1]|X[p+2>>1]<<16;r=1;s=qt[s+108>>2]|0;_=p>>>16&65535;p=p&65535}else{r=1;s=-1;_=0;p=0}else{r=0;s=-1;_=0;p=0}do{if(!l)if(!((u|0)==0|(r|0)==0)){if((d|0)==0?((h&65535)<<16|f&65535|0)==0:0){s=0;h=0;break}if((s|0)==0?((_&65535)<<16|p&65535|0)==0:0){s=0;h=0}else L=16}else{s=0;h=0}else L=16}while(0);if((L|0)==16){g=Jt[e+160>>1]|0;v=Jt[e+162>>1]|0;l=qt[t+208>>2]|0;if((l|0)!=0?(qt[l+4>>2]|0)==(qt[o>>2]|0):0)if((qt[l>>2]|0)>>>0<6){u=l+172|0;r=qt[l+108>>2]|0;u=X[u>>1]|X[u+2>>1]<<16;L=25}else{r=-1;u=0;L=25}else L=20;do{if((L|0)==20){c=qt[t+212>>2]|0;if((c|0)!=0?(qt[c+4>>2]|0)==(qt[o>>2]|0):0){if((qt[c>>2]|0)>>>0>=6){r=-1;u=0;L=25;break}u=c+192|0;r=qt[c+112>>2]|0;u=X[u>>1]|X[u+2>>1]<<16;L=25;break}if((u|0)==0|(r|0)!=0){r=-1;u=0;L=25}else s=f}}while(0);do{if((L|0)==25){l=(d|0)==(y|0);s=(s|0)==(y|0);if(((s&1)+(l&1)+((r|0)==(y|0)&1)|0)==1){if(l|s){s=l?f:p;h=l?h:_;break}s=u&65535;h=u>>>16&65535;break}s=f<<16>>16;o=p<<16>>16;l=u<<16>>16;if(p<<16>>16>f<<16>>16)r=o;else{r=s;s=(o|0)<(s|0)?o:s}if((r|0)<(l|0))l=r;else l=(s|0)>(l|0)?s:l;s=h<<16>>16;r=_<<16>>16;o=u>>16;if(_<<16>>16>h<<16>>16)h=r;else{h=s;s=(r|0)<(s|0)?r:s}if((h|0)>=(o|0))h=(s|0)>(o|0)?s:o;s=l&65535;h=h&65535}}while(0);s=(s&65535)+(g&65535)|0;h=(h&65535)+(v&65535)|0;if(((s<<16>>16)+8192|0)>>>0>16383){D=1;Zt=R;return D|0}if(((h<<16>>16)+2048|0)>>>0>4095){D=1;Zt=R;return D|0}else{s=s&65535;h=h&65535}}o=z(i,y)|0;if(!o){D=1;Zt=R;return D|0}else{i=t+132|0;w=t+136|0;M=t+140|0;x=t+144|0;T=t+148|0;k=t+152|0;C=t+156|0;F=t+160|0;B=t+164|0;G=t+168|0;V=t+172|0;U=t+176|0;I=t+180|0;b=t+184|0;O=t+188|0;L=t+192|0;Jt[t+192>>1]=s;Jt[t+194>>1]=h;L=X[L>>1]|X[L+2>>1]<<16;Jt[O>>1]=L;Jt[O+2>>1]=L>>>16;Jt[b>>1]=L;Jt[b+2>>1]=L>>>16;Jt[I>>1]=L;Jt[I+2>>1]=L>>>16;Jt[U>>1]=L;Jt[U+2>>1]=L>>>16;Jt[V>>1]=L;Jt[V+2>>1]=L>>>16;Jt[G>>1]=L;Jt[G+2>>1]=L>>>16;Jt[B>>1]=L;Jt[B+2>>1]=L>>>16;Jt[F>>1]=L;Jt[F+2>>1]=L>>>16;Jt[C>>1]=L;Jt[C+2>>1]=L>>>16;Jt[k>>1]=L;Jt[k+2>>1]=L>>>16;Jt[T>>1]=L;Jt[T+2>>1]=L>>>16;Jt[x>>1]=L;Jt[x+2>>1]=L>>>16;Jt[M>>1]=L;Jt[M+2>>1]=L>>>16;Jt[w>>1]=L;Jt[w+2>>1]=L>>>16;Jt[i>>1]=L;Jt[i+2>>1]=L>>>16;qt[t+100>>2]=y;qt[t+104>>2]=y;qt[t+108>>2]=y;qt[t+112>>2]=y;qt[t+116>>2]=o;qt[t+120>>2]=o;qt[t+124>>2]=o;qt[t+128>>2]=o;qt[D>>2]=o;ft(a,t+132|0,D,A,E,0,0,16,16);break}}else if((l|0)==2){g=Jt[e+160>>1]|0;v=Jt[e+162>>1]|0;S=qt[e+144>>2]|0;P=t+4|0;h=qt[t+204>>2]|0;if((h|0)!=0?(qt[h+4>>2]|0)==(qt[P>>2]|0):0)if((qt[h>>2]|0)>>>0<6){_=h+172|0;_=X[_>>1]|X[_+2>>1]<<16;h=qt[h+108>>2]|0;r=1;u=_&65535;_=_>>>16&65535}else{h=-1;r=1;u=0;_=0}else{h=-1;r=0;u=0;_=0}t:do{if((h|0)==(S|0)){s=u;h=_}else{h=qt[t+200>>2]|0;if((h|0)!=0?(qt[h+4>>2]|0)==(qt[P>>2]|0):0)if((qt[h>>2]|0)>>>0<6){w=h+152|0;w=X[w>>1]|X[w+2>>1]<<16;c=1;o=qt[h+104>>2]|0;d=w&65535;h=w>>>16&65535}else{c=1;o=-1;d=0;h=0}else{c=0;o=-1;d=0;h=0}l=qt[t+208>>2]|0;if((l|0)!=0?(qt[l+4>>2]|0)==(qt[P>>2]|0):0)if((qt[l>>2]|0)>>>0<6){c=l+172|0;l=qt[l+108>>2]|0;c=X[c>>1]|X[c+2>>1]<<16}else{l=-1;c=0}else L=54;do{if((L|0)==54){s=qt[t+212>>2]|0;if((s|0)!=0?(qt[s+4>>2]|0)==(qt[P>>2]|0):0){if((qt[s>>2]|0)>>>0>=6){l=-1;c=0;break}c=s+192|0;l=qt[s+112>>2]|0;c=X[c>>1]|X[c+2>>1]<<16;break}if((c|0)==0|(r|0)!=0){l=-1;c=0}else{s=d;break t}}}while(0);r=(o|0)==(S|0);if((((l|0)==(S|0)&1)+(r&1)|0)==1){if(r){s=r?d:u;h=r?h:_;break}s=c&65535;h=c>>>16&65535;break}s=d<<16>>16;r=u<<16>>16;o=c<<16>>16;if(u<<16>>16>d<<16>>16)l=r;else{l=s;s=(r|0)<(s|0)?r:s}if((l|0)>=(o|0))l=(s|0)>(o|0)?s:o;s=h<<16>>16;r=_<<16>>16;o=c>>16;if(_<<16>>16>h<<16>>16)h=r;else{h=s;s=(r|0)<(s|0)?r:s}if((h|0)>=(o|0))h=(s|0)>(o|0)?s:o;s=l&65535;h=h&65535}}while(0);s=(s&65535)+(g&65535)|0;h=(h&65535)+(v&65535)|0;if(((s<<16>>16)+8192|0)>>>0>16383){D=1;Zt=R;return D|0}if(((h<<16>>16)+2048|0)>>>0>4095){D=1;Zt=R;return D|0}r=z(i,S)|0;if(!r){D=1;Zt=R;return D|0}y=t+132|0;m=t+136|0;g=t+140|0;v=t+144|0;c=t+148|0;l=t+152|0;L=t+156|0;p=t+160|0;Jt[t+160>>1]=s;Jt[t+162>>1]=h;p=X[p>>1]|X[p+2>>1]<<16;Jt[L>>1]=p;Jt[L+2>>1]=p>>>16;Jt[l>>1]=p;Jt[l+2>>1]=p>>>16;Jt[c>>1]=p;Jt[c+2>>1]=p>>>16;Jt[v>>1]=p;Jt[v+2>>1]=p>>>16;Jt[g>>1]=p;Jt[g+2>>1]=p>>>16;Jt[m>>1]=p;Jt[m+2>>1]=p>>>16;Jt[y>>1]=p;Jt[y+2>>1]=p>>>16;qt[t+100>>2]=S;qt[t+104>>2]=S;y=t+116|0;qt[y>>2]=r;qt[t+120>>2]=r;m=Jt[e+164>>1]|0;g=Jt[e+166>>1]|0;v=qt[e+148>>2]|0;c=qt[t+200>>2]|0;l=(c|0)==0;if((!l?(qt[c+4>>2]|0)==(qt[P>>2]|0):0)?(qt[c>>2]|0)>>>0<6:0){u=c+184|0;u=X[u>>1]|X[u+2>>1]<<16;h=qt[c+112>>2]|0;_=u>>>16&65535;u=u&65535}else{h=-1;_=0;u=0}do{if((h|0)!=(v|0)){d=p&65535;s=p>>>16;f=s&65535;if((!l?(qt[c+4>>2]|0)==(qt[P>>2]|0):0)?(qt[c>>2]|0)>>>0<6:0){r=c+160|0;h=qt[c+104>>2]|0;r=X[r>>1]|X[r+2>>1]<<16}else{h=-1;r=0}l=(S|0)==(v|0);if((((h|0)==(v|0)&1)+(l&1)|0)==1){s=l?s:r>>>16;h=l?p:r;break}s=u<<16>>16;l=p<<16>>16;c=r<<16>>16;if(d<<16>>16>u<<16>>16)h=l;else{h=s;s=(l|0)<(s|0)?l:s}if((h|0)>=(c|0))h=(s|0)>(c|0)?s:c;s=_<<16>>16;o=p>>16;l=r>>16;if(f<<16>>16>_<<16>>16)r=o;else{r=s;s=(o|0)<(s|0)?o:s}if((r|0)<(l|0))s=r;else s=(s|0)>(l|0)?s:l}else{h=_&65535;s=h;h=h<<16|u&65535}}while(0);r=(h&65535)+(m&65535)|0;s=(s&65535)+(g&65535)|0;if(((r<<16>>16)+8192|0)>>>0>16383){D=1;Zt=R;return D|0}if(((s<<16>>16)+2048|0)>>>0>4095){D=1;Zt=R;return D|0}h=z(i,v)|0;if(!h){D=1;Zt=R;return D|0}else{i=t+164|0;w=t+168|0;M=t+172|0;x=t+176|0;T=t+180|0;k=t+184|0;C=t+188|0;L=t+192|0;Jt[t+192>>1]=r;Jt[t+194>>1]=s;L=X[L>>1]|X[L+2>>1]<<16;Jt[C>>1]=L;Jt[C+2>>1]=L>>>16;Jt[k>>1]=L;Jt[k+2>>1]=L>>>16;Jt[T>>1]=L;Jt[T+2>>1]=L>>>16;Jt[x>>1]=L;Jt[x+2>>1]=L>>>16;Jt[M>>1]=L;Jt[M+2>>1]=L>>>16;Jt[w>>1]=L;Jt[w+2>>1]=L>>>16;Jt[i>>1]=L;Jt[i+2>>1]=L>>>16;qt[t+108>>2]=v;qt[t+112>>2]=v;L=t+124|0;qt[L>>2]=h;qt[t+128>>2]=h;qt[D>>2]=qt[y>>2];ft(a,t+132|0,D,A,E,0,0,16,8);qt[D>>2]=qt[L>>2];ft(a,i,D,A,E,0,8,16,8);break}}else{r=t+4|0;M=0;t:while(1){o=e+(M<<2)+176|0;O=Te(qt[o>>2]|0)|0;b=e+(M<<2)+192|0;qt[t+(M<<2)+100>>2]=qt[b>>2];L=z(i,qt[b>>2]|0)|0;qt[t+(M<<2)+116>>2]=L;if(!L){o=1;L=212;break}if(O){I=M<<2;U=t+(I<<2)+132|0;V=t+(I<<2)+134|0;B=I|1;G=t+(B<<2)+132|0;B=t+(B<<2)+134|0;C=I|2;F=t+(C<<2)+132|0;C=t+(C<<2)+134|0;T=I|3;k=t+(T<<2)+132|0;T=t+(T<<2)+134|0;w=0;do{S=Jt[e+(M<<4)+(w<<2)+208>>1]|0;P=Jt[e+(M<<4)+(w<<2)+210>>1]|0;x=we(qt[o>>2]|0)|0;l=qt[b>>2]|0;d=H(t,qt[6288+(M<<7)+(x<<5)+(w<<3)>>2]|0)|0;u=Qt[6288+(M<<7)+(x<<5)+(w<<3)+4>>0]|0;if((d|0)!=0?(qt[d+4>>2]|0)==(qt[r>>2]|0):0)if((qt[d>>2]|0)>>>0<6){L=d+(u<<2)+132|0;L=X[L>>1]|X[L+2>>1]<<16;g=1;m=qt[d+(u>>>2<<2)+100>>2]|0;h=L&65535;d=L>>>16&65535}else{g=1;m=-1;h=0;d=0}else{g=0;m=-1;h=0;d=0}f=H(t,qt[5776+(M<<7)+(x<<5)+(w<<3)>>2]|0)|0;p=Qt[5776+(M<<7)+(x<<5)+(w<<3)+4>>0]|0;if((f|0)!=0?(qt[f+4>>2]|0)==(qt[r>>2]|0):0)if((qt[f>>2]|0)>>>0<6){s=f+(p<<2)+132|0;s=X[s>>1]|X[s+2>>1]<<16;v=1;y=qt[f+(p>>>2<<2)+100>>2]|0;c=s&65535;s=s>>>16&65535}else{v=1;y=-1;c=0;s=0}else{v=0;y=-1;c=0;s=0}_=H(t,qt[5264+(M<<7)+(x<<5)+(w<<3)>>2]|0)|0;f=Qt[5264+(M<<7)+(x<<5)+(w<<3)+4>>0]|0;if((_|0)!=0?(qt[_+4>>2]|0)==(qt[r>>2]|0):0)if((qt[_>>2]|0)>>>0<6){v=_+(f<<2)+132|0;f=qt[_+(f>>>2<<2)+100>>2]|0;v=X[v>>1]|X[v+2>>1]<<16;L=180}else{f=-1;v=0;L=180}else L=175;do{if((L|0)==175){L=0;_=H(t,qt[4752+(M<<7)+(x<<5)+(w<<3)>>2]|0)|0;f=Qt[4752+(M<<7)+(x<<5)+(w<<3)+4>>0]|0;if((_|0)!=0?(qt[_+4>>2]|0)==(qt[r>>2]|0):0){if((qt[_>>2]|0)>>>0>=6){f=-1;v=0;L=180;break}v=_+(f<<2)+132|0;f=qt[_+(f>>>2<<2)+100>>2]|0;v=X[v>>1]|X[v+2>>1]<<16;L=180;break}if((g|0)==0|(v|0)!=0){f=-1;v=0;L=180}else f=h}}while(0);do{if((L|0)==180){p=(m|0)==(l|0);_=(y|0)==(l|0);if(((_&1)+(p&1)+((f|0)==(l|0)&1)|0)==1){if(p|_){f=p?h:c;d=p?d:s;break}f=v&65535;d=v>>>16&65535;break}f=h<<16>>16;_=c<<16>>16;u=v<<16>>16;if(c<<16>>16>h<<16>>16)p=_;else{p=f;f=(_|0)<(f|0)?_:f}if((p|0)<(u|0))_=p;else _=(f|0)>(u|0)?f:u;u=d<<16>>16;f=s<<16>>16;p=v>>16;if(s<<16>>16>d<<16>>16)d=f;else{d=u;u=(f|0)<(u|0)?f:u}if((d|0)>=(p|0))d=(u|0)>(p|0)?u:p;f=_&65535;d=d&65535}}while(0);L=(f&65535)+(S&65535)|0;c=L&65535;d=(d&65535)+(P&65535)|0;u=d&65535;if(((L<<16>>16)+8192|0)>>>0>16383){o=1;L=212;break t}if(((d<<16>>16)+2048|0)>>>0>4095){o=1;L=212;break t}if(!x){Jt[U>>1]=c;Jt[V>>1]=u;Jt[G>>1]=c;Jt[B>>1]=u;Jt[F>>1]=c;Jt[C>>1]=u;Jt[k>>1]=c;Jt[T>>1]=u}else if((x|0)==1){L=(w<<1)+I|0;Jt[t+(L<<2)+132>>1]=c;Jt[t+(L<<2)+134>>1]=u;L=L|1;Jt[t+(L<<2)+132>>1]=c;Jt[t+(L<<2)+134>>1]=u}else if((x|0)==2){L=w+I|0;Jt[t+(L<<2)+132>>1]=c;Jt[t+(L<<2)+134>>1]=u;L=L+2|0;Jt[t+(L<<2)+132>>1]=c;Jt[t+(L<<2)+134>>1]=u}else if((x|0)==3){L=w+I|0;Jt[t+(L<<2)+132>>1]=c;Jt[t+(L<<2)+134>>1]=u}w=w+1|0}while(w>>>0<O>>>0)}M=M+1|0;if(M>>>0>=4){L=201;break}}if((L|0)==201){h=0;do{qt[D>>2]=qt[t+(h<<2)+116>>2];o=we(qt[e+(h<<2)+176>>2]|0)|0;r=h<<3&8;s=h>>>0<2?0:8;if(!o)ft(a,t+(h<<2<<2)+132|0,D,A,E,r,s,8,8);else if((o|0)==1){i=h<<2;ft(a,t+(i<<2)+132|0,D,A,E,r,s,8,4);ft(a,t+((i|2)<<2)+132|0,D,A,E,r,s|4,8,4)}else if((o|0)==2){i=h<<2;ft(a,t+(i<<2)+132|0,D,A,E,r,s,4,8);ft(a,t+((i|1)<<2)+132|0,D,A,E,r|4,s,4,8)}else{w=h<<2;ft(a,t+(w<<2)+132|0,D,A,E,r,s,4,4);L=r|4;ft(a,t+((w|1)<<2)+132|0,D,A,E,L,s,4,4);i=s|4;ft(a,t+((w|2)<<2)+132|0,D,A,E,r,i,4,4);ft(a,t+((w|3)<<2)+132|0,D,A,E,L,i,4,4)}h=h+1|0}while((h|0)!=4)}else if((L|0)==212){Zt=R;return o|0}}}while(0);if((qt[t+196>>2]|0)>>>0>1){D=0;Zt=R;return D|0}if(!(qt[t>>2]|0)){_t(n,a);D=0;Zt=R;return D|0}else{Ti(n,N,a,e+328|0);D=0;Zt=R;return D|0}return 0}function ai(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0;B=Zt;Zt=Zt+144|0;l=B;if((i|0)>=0?!((i+1+s|0)>>>0>a>>>0|(n|0)<0|(h+n|0)>>>0>o>>>0):0)l=t;else{I=s+1|0;Y(t,l,i,n,a,o,I,h,I);Y(t+($t(o,a)|0)|0,l+($t(I,h)|0)|0,i,n,a,o,I,h,I);i=0;n=0;a=I;o=h}I=8-r|0;v=h>>>1;y=(v|0)==0;P=s>>>1;S=(P|0)==0;b=16-s|0;f=(a<<1)-s|0;d=a+1|0;p=a+2|0;_=P<<1;g=0;do{h=l+(($t(($t(g,o)|0)+n|0,a)|0)+i)|0;if(!(y|S)){m=e+(g<<6)|0;u=v;while(1){s=m;t=h;c=P;while(1){k=Qt[t>>0]|0;T=Qt[t+d>>0]|0;x=t;t=t+2|0;C=Qt[x+1>>0]|0;Kt[s+8>>0]=((($t(T,r)|0)+($t(Qt[x+a>>0]|0,I)|0)<<3)+32|0)>>>6;Kt[s>>0]=((($t(C,r)|0)+($t(k,I)|0)<<3)+32|0)>>>6;k=Qt[t>>0]|0;Kt[s+9>>0]=((($t(Qt[x+p>>0]|0,r)|0)+($t(T,I)|0)<<3)+32|0)>>>6;Kt[s+1>>0]=((($t(k,r)|0)+($t(C,I)|0)<<3)+32|0)>>>6;c=c+-1|0;if(!c)break;else s=s+2|0}u=u+-1|0;if(!u)break;else{m=m+(_+b)|0;h=h+(_+f)|0}}}g=g+1|0}while((g|0)!=2);Zt=B}function Y(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0;v=Zt;c=r+i|0;p=s+n|0;g=(i|0)<0|(c|0)>(a|0)?1:2;u=(p|0)<0?0-s|0:n;n=(c|0)<0?0-r|0:i;u=(u|0)>(o|0)?o:u;n=(n|0)>(a|0)?a:n;c=n+r|0;l=u+s|0;if((n|0)>0)t=t+n|0;if((u|0)>0)t=t+($t(u,a)|0)|0;m=(n|0)<0?0-n|0:0;_=(c|0)>(a|0)?c-a|0:0;f=r-m-_|0;r=0-u|0;u=(u|0)<0?r:0;i=l-o|0;d=(l|0)>(o|0)?i:0;l=s-u|0;n=l-d|0;if(u){c=s+-1-((p|0)>0?p:0)|0;u=~o;u=(c|0)>(u|0)?c:u;c=~u;c=$t(u+((c|0)>0?c:0)+1|0,h)|0;u=e;while(1){Pn[g&3](t,u,m,f,_);r=r+-1|0;if(!r)break;else u=u+h|0}e=e+c|0}if((l|0)!=(d|0)){l=s+-1|0;r=l-((p|0)>0?p:0)|0;u=~o;u=(r|0)>(u|0)?r:u;l=l-u|0;r=~u;r=s+o+-1-((l|0)<(o|0)?o:l)-u-((r|0)>0?r:0)|0;u=$t(r,h)|0;r=$t(r,a)|0;l=e;c=t;while(1){Pn[g&3](c,l,m,f,_);n=n+-1|0;if(!n)break;else{l=l+h|0;c=c+a|0}}e=e+u|0;t=t+r|0}t=t+(0-a)|0;if(!d){Zt=v;return}while(1){Pn[g&3](t,e,m,f,_);i=i+-1|0;if(!i)break;else e=e+h|0}Zt=v}function oi(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0;C=Zt;Zt=Zt+144|0;l=C;if(((i|0)>=0?!((s+i|0)>>>0>a>>>0|(n|0)<0):0)?(n+1+h|0)>>>0<=o>>>0:0)l=t;else{B=h+1|0;Y(t,l,i,n,a,o,s,B,s);Y(t+($t(o,a)|0)|0,l+($t(B,s)|0)|0,i,n,a,o,s,B,s);i=0;n=0;a=s;o=B}B=8-r|0;v=h>>>1;y=(v|0)==0;P=s>>>1;S=(P|0)==0;b=16-s|0;I=a<<1;f=I-s|0;d=I|1;p=a+1|0;_=P<<1;g=0;do{h=l+(($t(($t(g,o)|0)+n|0,a)|0)+i)|0;if(!(y|S)){m=e+(g<<6)|0;u=v;while(1){s=m;t=h;c=P;while(1){k=Qt[t+a>>0]|0;T=Qt[t>>0]|0;Kt[s+8>>0]=((($t(k,B)|0)+($t(Qt[t+I>>0]|0,r)|0)<<3)+32|0)>>>6;Kt[s>>0]=((($t(T,B)|0)+($t(k,r)|0)<<3)+32|0)>>>6;k=Qt[t+p>>0]|0;T=Qt[t+1>>0]|0;Kt[s+9>>0]=((($t(k,B)|0)+($t(Qt[t+d>>0]|0,r)|0)<<3)+32|0)>>>6;Kt[s+1>>0]=((($t(T,B)|0)+($t(k,r)|0)<<3)+32|0)>>>6;c=c+-1|0;if(!c)break;else{s=s+2|0;t=t+2|0}}u=u+-1|0;if(!u)break;else{m=m+(_+b)|0;h=h+(_+f)|0}}}g=g+1|0}while((g|0)!=2);Zt=C}function ri(t,e,i,n,a,o,r,s,h,l){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;l=l|0;var c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0,w=0,L=0,E=0,A=0,D=0,R=0;L=Zt;Zt=Zt+176|0;c=L;if(((i|0)>=0?!((i+1+h|0)>>>0>a>>>0|(n|0)<0):0)?(n+1+l|0)>>>0<=o>>>0:0)c=t;else{M=h+1|0;w=l+1|0;Y(t,c,i,n,a,o,M,w,M);Y(t+($t(o,a)|0)|0,c+($t(w,M)|0)|0,i,n,a,o,M,w,M);i=0;n=0;a=M;o=w}M=8-r|0;w=8-s|0;I=l>>>1;B=(I|0)==0;C=a<<1;k=h>>>1;T=(k|0)==0;x=16-h|0;y=C-h|0;m=a+1|0;g=C|1;v=a+2|0;_=C+2|0;P=k<<1;b=0;do{h=c+(($t(($t(b,o)|0)+n|0,a)|0)+i)|0;if(!(B|T)){S=e+(b<<6)|0;f=I;while(1){d=Qt[h+a>>0]|0;l=S;t=h;u=($t(d,s)|0)+($t(Qt[h>>0]|0,w)|0)|0;d=($t(Qt[h+C>>0]|0,s)|0)+($t(d,w)|0)|0;p=k;while(1){A=Qt[t+m>>0]|0;E=($t(A,s)|0)+($t(Qt[t+1>>0]|0,w)|0)|0;A=($t(Qt[t+g>>0]|0,s)|0)+($t(A,w)|0)|0;R=(($t(u,M)|0)+32+($t(E,r)|0)|0)>>>6;Kt[l+8>>0]=(($t(d,M)|0)+32+($t(A,r)|0)|0)>>>6;Kt[l>>0]=R;R=t;t=t+2|0;D=Qt[R+v>>0]|0;u=($t(D,s)|0)+($t(Qt[t>>0]|0,w)|0)|0;d=($t(Qt[R+_>>0]|0,s)|0)+($t(D,w)|0)|0;E=(($t(E,M)|0)+32+($t(u,r)|0)|0)>>>6;Kt[l+9>>0]=(($t(A,M)|0)+32+($t(d,r)|0)|0)>>>6;Kt[l+1>>0]=E;p=p+-1|0;if(!p)break;else l=l+2|0}f=f+-1|0;if(!f)break;else{S=S+(P+x)|0;h=h+(P+y)|0}}}b=b+1|0}while((b|0)!=2);Zt=L}function si(t,e,i,n,a,o,r,s){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;var h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0;f=Zt;Zt=Zt+448|0;h=f;if(((i|0)>=0?!((r+i|0)>>>0>a>>>0|(n|0)<0):0)?(n+5+s|0)>>>0<=o>>>0:0)h=t;else{Y(t,h,i,n,a,o,r,s+5|0,r);i=0;n=0;a=r}o=i+a+($t(n,a)|0)|0;t=s>>>2;if(!t){Zt=f;return}c=a<<2;u=0-a|0;d=u<<1;p=a<<1;if(!r){Zt=f;return}else{l=h+o|0;i=h+(o+(a*5|0))|0}while(1){h=e;o=r;s=l;n=i;while(1){g=Qt[n+d>>0]|0;v=Qt[n+u>>0]|0;y=Qt[n+a>>0]|0;S=Qt[n>>0]|0;P=y+g|0;_=Qt[s+p>>0]|0;Kt[h+48>>0]=Kt[((Qt[n+p>>0]|0)+16-P-(P<<2)+_+((S+v|0)*20|0)>>5)+3984>>0]|0;P=_+S|0;m=Qt[s+a>>0]|0;Kt[h+32>>0]=Kt[(y+16-P-(P<<2)+m+((v+g|0)*20|0)>>5)+3984>>0]|0;P=m+v|0;y=Qt[s>>0]|0;Kt[h+16>>0]=Kt[(S+16-P-(P<<2)+y+((_+g|0)*20|0)>>5)+3984>>0]|0;g=y+g|0;Kt[h>>0]=Kt[(v+16-g-(g<<2)+(Qt[s+u>>0]|0)+((m+_|0)*20|0)>>5)+3984>>0]|0;o=o+-1|0;if(!o)break;else{h=h+1|0;s=s+1|0;n=n+1|0}}t=t+-1|0;if(!t)break;else{e=e+64|0;l=l+c|0;i=i+c|0}}Zt=f}function hi(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0;v=Zt;Zt=Zt+448|0;l=v;if(((i|0)>=0?!((r+i|0)>>>0>a>>>0|(n|0)<0):0)?(n+5+s|0)>>>0<=o>>>0:0)l=t;else{Y(t,l,i,n,a,o,r,s+5|0,r);i=0;n=0;a=r}o=i+a+($t(n,a)|0)|0;t=s>>>2;if(!t){Zt=v;return}d=(r|0)==0;p=(a<<2)-r|0;f=64-r|0;_=0-a|0;m=_<<1;g=a<<1;i=l+o|0;n=l+(o+($t(a,h+2|0)|0))|0;l=l+(o+(a*5|0))|0;while(1){if(d){o=e;s=n}else{s=n+r|0;o=e+r|0;u=r;h=i;c=l;while(1){S=Qt[c+m>>0]|0;b=Qt[c+_>>0]|0;I=Qt[c+a>>0]|0;C=Qt[c>>0]|0;B=I+S|0;y=Qt[h+g>>0]|0;Kt[e+48>>0]=((Qt[((Qt[c+g>>0]|0)+16-B-(B<<2)+y+((C+b|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[n+g>>0]|0)|0)>>>1;B=y+C|0;P=Qt[h+a>>0]|0;Kt[e+32>>0]=((Qt[(I+16-B-(B<<2)+P+((b+S|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[n+a>>0]|0)|0)>>>1;B=P+b|0;I=Qt[h>>0]|0;Kt[e+16>>0]=((Qt[(C+16-B-(B<<2)+I+((y+S|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[n>>0]|0)|0)>>>1;S=I+S|0;Kt[e>>0]=((Qt[(b+16-S-(S<<2)+(Qt[h+_>>0]|0)+((P+y|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[n+_>>0]|0)|0)>>>1;u=u+-1|0;if(!u)break;else{e=e+1|0;h=h+1|0;n=n+1|0;c=c+1|0}}i=i+r|0;l=l+r|0}t=t+-1|0;if(!t)break;else{e=o+f|0;i=i+p|0;n=s+p|0;l=l+p|0}}Zt=v}function li(t,e,i,n,a,o,r,s){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;var h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0;g=Zt;Zt=Zt+448|0;h=g;if((i|0)>=0?!((i+5+r|0)>>>0>a>>>0|(n|0)<0|(s+n|0)>>>0>o>>>0):0)h=t;else{m=r+5|0;Y(t,h,i,n,a,o,m,s,m);i=0;n=0;a=m}if(!s){Zt=g;return}f=r>>>2;_=(f|0)==0;m=a-r|0;d=16-r|0;p=f<<2;t=e;h=h+(i+5+($t(n,a)|0))|0;u=s;while(1){if(_)o=t;else{o=t+p|0;n=h;i=Qt[h+-1>>0]|0;l=Qt[h+-2>>0]|0;c=Qt[h+-3>>0]|0;s=Qt[h+-4>>0]|0;r=Qt[h+-5>>0]|0;e=f;while(1){a=s+i|0;v=s;s=Qt[n>>0]|0;Kt[t>>0]=Kt[(r+16-a-(a<<2)+s+((c+l|0)*20|0)>>5)+3984>>0]|0;r=s+c|0;a=c;c=Qt[n+1>>0]|0;Kt[t+1>>0]=Kt[(v+16-r-(r<<2)+c+((l+i|0)*20|0)>>5)+3984>>0]|0;r=c+l|0;v=l;l=Qt[n+2>>0]|0;Kt[t+2>>0]=Kt[(a+16-r-(r<<2)+l+((s+i|0)*20|0)>>5)+3984>>0]|0;r=l+i|0;a=Qt[n+3>>0]|0;Kt[t+3>>0]=Kt[(v+16-r-(r<<2)+a+((c+s|0)*20|0)>>5)+3984>>0]|0;e=e+-1|0;if(!e)break;else{r=i;t=t+4|0;n=n+4|0;i=a}}h=h+p|0}u=u+-1|0;if(!u)break;else{t=o+d|0;h=h+m|0}}Zt=g}function ci(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0;v=Zt;Zt=Zt+448|0;l=v;if((i|0)>=0?!((i+5+r|0)>>>0>a>>>0|(n|0)<0|(s+n|0)>>>0>o>>>0):0)l=t;else{g=r+5|0;Y(t,l,i,n,a,o,g,s,g);i=0;n=0;a=g}if(!s){Zt=v;return}_=r>>>2;m=(_|0)==0;g=a-r|0;f=16-r|0;d=(h|0)!=0;p=_<<2;t=e;l=l+(i+5+($t(n,a)|0))|0;while(1){if(m)o=t;else{o=t+p|0;h=l;n=Qt[l+-1>>0]|0;i=Qt[l+-2>>0]|0;c=Qt[l+-3>>0]|0;u=Qt[l+-4>>0]|0;r=Qt[l+-5>>0]|0;e=_;while(1){a=u+n|0;y=u;u=Qt[h>>0]|0;Kt[t>>0]=((d?i:c)+1+(Qt[(r+16-a-(a<<2)+u+((c+i|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;r=u+c|0;a=c;c=Qt[h+1>>0]|0;Kt[t+1>>0]=((d?n:i)+1+(Qt[(y+16-r-(r<<2)+c+((i+n|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;r=c+i|0;y=i;i=Qt[h+2>>0]|0;Kt[t+2>>0]=((d?u:n)+1+(Qt[(a+16-r-(r<<2)+i+((u+n|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;r=i+n|0;a=Qt[h+3>>0]|0;Kt[t+3>>0]=((d?c:u)+1+(Qt[(y+16-r-(r<<2)+a+((c+u|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;e=e+-1|0;if(!e)break;else{r=n;t=t+4|0;h=h+4|0;n=a}}l=l+p|0}s=s+-1|0;if(!s)break;else{t=o+f|0;l=l+g|0}}Zt=v}function x(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0;b=Zt;Zt=Zt+448|0;l=b;if(((i|0)>=0?!((i+5+r|0)>>>0>a>>>0|(n|0)<0):0)?(n+5+s|0)>>>0<=o>>>0:0)l=t;else{S=r+5|0;Y(t,l,i,n,a,o,S,s+5|0,S);i=0;n=0;a=S}t=($t(n,a)|0)+i|0;S=(h&1|2)+a+t|0;c=l+S|0;if(!s){Zt=b;return}m=r>>>2;g=(m|0)==0;v=a-r|0;P=16-r|0;y=m<<2;t=l+(($t(a,h>>>1&1|2)|0)+5+t)|0;_=s;while(1){if(!g){f=e+y|0;o=t;i=Qt[t+-1>>0]|0;n=Qt[t+-2>>0]|0;u=Qt[t+-3>>0]|0;d=Qt[t+-4>>0]|0;h=Qt[t+-5>>0]|0;p=m;while(1){I=d+i|0;B=d;d=Qt[o>>0]|0;Kt[e>>0]=Kt[(h+16-I-(I<<2)+d+((u+n|0)*20|0)>>5)+3984>>0]|0;I=d+u|0;h=u;u=Qt[o+1>>0]|0;Kt[e+1>>0]=Kt[(B+16-I-(I<<2)+u+((n+i|0)*20|0)>>5)+3984>>0]|0;I=u+n|0;B=n;n=Qt[o+2>>0]|0;Kt[e+2>>0]=Kt[(h+16-I-(I<<2)+n+((d+i|0)*20|0)>>5)+3984>>0]|0;I=n+i|0;h=Qt[o+3>>0]|0;Kt[e+3>>0]=Kt[(B+16-I-(I<<2)+h+((u+d|0)*20|0)>>5)+3984>>0]|0;p=p+-1|0;if(!p)break;else{B=i;e=e+4|0;o=o+4|0;i=h;h=B}}e=f;t=t+y|0}_=_+-1|0;if(!_)break;else{e=e+P|0;t=t+v|0}}t=s>>>2;if(!t){Zt=b;return}_=(r|0)==0;f=(a<<2)-r|0;p=64-r|0;d=0-a|0;u=d<<1;m=a<<1;e=e+(P-(s<<4))|0;o=l+(S+(a*5|0))|0;h=t;while(1){if(_){t=e;l=c}else{t=e+r|0;l=e;i=c;n=o;e=r;while(1){s=Qt[n+u>>0]|0;S=Qt[n+d>>0]|0;y=Qt[n+a>>0]|0;g=Qt[n>>0]|0;I=y+s|0;B=Qt[i+m>>0]|0;v=l+48|0;Kt[v>>0]=((Qt[((Qt[n+m>>0]|0)+16-I-(I<<2)+B+((g+S|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[v>>0]|0)|0)>>>1;v=B+g|0;I=Qt[i+a>>0]|0;P=l+32|0;Kt[P>>0]=((Qt[(y+16-v-(v<<2)+I+((S+s|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[P>>0]|0)|0)>>>1;P=Qt[i>>0]|0;v=I+S|0;y=l+16|0;Kt[y>>0]=((Qt[(g+16-v-(v<<2)+P+((B+s|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[y>>0]|0)|0)>>>1;s=P+s|0;Kt[l>>0]=((Qt[(S+16-s-(s<<2)+(Qt[i+d>>0]|0)+((I+B|0)*20|0)>>5)+3984>>0]|0)+1+(Qt[l>>0]|0)|0)>>>1;e=e+-1|0;if(!e)break;else{l=l+1|0;i=i+1|0;n=n+1|0}}l=c+r|0;o=o+r|0}h=h+-1|0;if(!h)break;else{e=t+p|0;c=l+f|0;o=o+f|0}}Zt=b}function ui(t,e,i,n,a,o,r,s){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;var h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0;y=Zt;Zt=Zt+1792|0;h=y+1344|0;v=y;if(((i|0)>=0?!((i+5+r|0)>>>0>a>>>0|(n|0)<0):0)?(n+5+s|0)>>>0<=o>>>0:0){h=t;l=i+5|0;i=s+5|0}else{m=r+5|0;g=s+5|0;Y(t,h,i,n,a,o,m,g,m);l=5;n=0;a=m;i=g}if(i){_=r>>>2;f=(_|0)==0;p=a-r|0;g=_<<2;o=v;t=h+(l+($t(n,a)|0))|0;m=i;while(1){if(f)i=o;else{i=o+(g<<2)|0;c=t;a=Qt[t+-1>>0]|0;n=Qt[t+-2>>0]|0;h=Qt[t+-3>>0]|0;u=Qt[t+-4>>0]|0;l=Qt[t+-5>>0]|0;d=_;while(1){P=u+a|0;S=u;u=Qt[c>>0]|0;qt[o>>2]=l-P-(P<<2)+u+((h+n|0)*20|0);P=u+h|0;l=h;h=Qt[c+1>>0]|0;qt[o+4>>2]=S-P+h-(P<<2)+((n+a|0)*20|0);P=h+n|0;S=n;n=Qt[c+2>>0]|0;qt[o+8>>2]=l-P+n-(P<<2)+((u+a|0)*20|0);P=n+a|0;l=Qt[c+3>>0]|0;qt[o+12>>2]=S-P+l-(P<<2)+((h+u|0)*20|0);d=d+-1|0;if(!d)break;else{S=a;o=o+16|0;c=c+4|0;a=l;l=S}}t=t+g|0}m=m+-1|0;if(!m)break;else{o=i;t=t+p|0}}}n=s>>>2;if(!n){Zt=y;return}d=(r|0)==0;u=64-r|0;p=r*3|0;f=0-r|0;_=f<<1;m=r<<1;a=e;i=v+(r<<2)|0;t=v+(r*6<<2)|0;c=n;while(1){if(d)n=a;else{n=a+r|0;h=i;o=t;l=r;while(1){v=qt[o+(_<<2)>>2]|0;e=qt[o+(f<<2)>>2]|0;g=qt[o+(r<<2)>>2]|0;b=qt[o>>2]|0;s=g+v|0;S=qt[h+(m<<2)>>2]|0;Kt[a+48>>0]=Kt[((qt[o+(m<<2)>>2]|0)+512-s-(s<<2)+S+((b+e|0)*20|0)>>10)+3984>>0]|0;s=S+b|0;P=qt[h+(r<<2)>>2]|0;Kt[a+32>>0]=Kt[(g+512-s-(s<<2)+P+((e+v|0)*20|0)>>10)+3984>>0]|0;s=qt[h>>2]|0;g=P+e|0;Kt[a+16>>0]=Kt[(b+512-g-(g<<2)+s+((S+v|0)*20|0)>>10)+3984>>0]|0;v=s+v|0;Kt[a>>0]=Kt[(e+512-v-(v<<2)+(qt[h+(f<<2)>>2]|0)+((P+S|0)*20|0)>>10)+3984>>0]|0;l=l+-1|0;if(!l)break;else{a=a+1|0;h=h+4|0;o=o+4|0}}i=i+(r<<2)|0;t=t+(r<<2)|0}c=c+-1|0;if(!c)break;else{a=n+u|0;i=i+(p<<2)|0;t=t+(p<<2)|0}}Zt=y}function di(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0;P=Zt;Zt=Zt+1792|0;l=P+1344|0;y=P;if(((i|0)>=0?!((i+5+r|0)>>>0>a>>>0|(n|0)<0):0)?(n+5+s|0)>>>0<=o>>>0:0){l=t;t=i+5|0;i=s+5|0}else{g=r+5|0;v=s+5|0;Y(t,l,i,n,a,o,g,v,g);t=5;n=0;a=g;i=v}if(i){v=r>>>2;g=(v|0)==0;m=a-r|0;_=v<<2;d=y;t=l+(t+($t(n,a)|0))|0;f=i;while(1){if(g)i=d;else{i=d+(_<<2)|0;c=t;a=Qt[t+-1>>0]|0;n=Qt[t+-2>>0]|0;l=Qt[t+-3>>0]|0;o=Qt[t+-4>>0]|0;u=Qt[t+-5>>0]|0;p=v;while(1){S=o+a|0;b=o;o=Qt[c>>0]|0;qt[d>>2]=u-S-(S<<2)+o+((l+n|0)*20|0);S=o+l|0;u=l;l=Qt[c+1>>0]|0;qt[d+4>>2]=b-S+l-(S<<2)+((n+a|0)*20|0);S=l+n|0;b=n;n=Qt[c+2>>0]|0;qt[d+8>>2]=u-S+n-(S<<2)+((o+a|0)*20|0);S=n+a|0;u=Qt[c+3>>0]|0;qt[d+12>>2]=b-S+u-(S<<2)+((l+o|0)*20|0);p=p+-1|0;if(!p)break;else{b=a;d=d+16|0;c=c+4|0;a=u;u=b}}t=t+_|0}f=f+-1|0;if(!f)break;else{d=i;t=t+m|0}}}a=s>>>2;if(!a){Zt=P;return}f=(r|0)==0;p=64-r|0;_=r*3|0;m=0-r|0;g=m<<1;v=r<<1;l=y+(r<<2)|0;o=y+(($t(h+2|0,r)|0)+r<<2)|0;i=y+(r*6<<2)|0;while(1){if(f){t=e;n=o}else{n=o+(r<<2)|0;t=e+r|0;d=l;c=i;u=r;while(1){y=qt[c+(g<<2)>>2]|0;h=qt[c+(m<<2)>>2]|0;I=qt[c+(r<<2)>>2]|0;B=qt[c>>2]|0;s=I+y|0;b=qt[d+(v<<2)>>2]|0;Kt[e+48>>0]=((Qt[((qt[c+(v<<2)>>2]|0)+512-s-(s<<2)+b+((B+h|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[o+(v<<2)>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;s=b+B|0;S=qt[d+(r<<2)>>2]|0;Kt[e+32>>0]=((Qt[(I+512-s-(s<<2)+S+((h+y|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[o+(r<<2)>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;s=qt[d>>2]|0;I=S+h|0;Kt[e+16>>0]=((Qt[(B+512-I-(I<<2)+s+((b+y|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[o>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;y=s+y|0;Kt[e>>0]=((Qt[(h+512-y-(y<<2)+(qt[d+(m<<2)>>2]|0)+((S+b|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[o+(m<<2)>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;u=u+-1|0;if(!u)break;else{e=e+1|0;d=d+4|0;o=o+4|0;c=c+4|0}}l=l+(r<<2)|0;i=i+(r<<2)|0}a=a+-1|0;if(!a)break;else{e=t+p|0;l=l+(_<<2)|0;o=n+(_<<2)|0;i=i+(_<<2)|0}}Zt=P}function pi(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0,w=0;I=Zt;Zt=Zt+1792|0;l=I+1344|0;b=I;S=r+5|0;if(((i|0)>=0?!((i+5+r|0)>>>0>a>>>0|(n|0)<0):0)?(n+5+s|0)>>>0<=o>>>0:0)l=t;else{Y(t,l,i,n,a,o,S,s+5|0,S);i=0;n=0;a=S}f=i+a+($t(n,a)|0)|0;p=s>>>2;if(p){v=(S|0)==0;g=(a<<2)-r+-5|0;m=S*3|0;_=0-a|0;n=_<<1;i=a<<1;y=S<<1;P=-5-r|0;c=b+(S<<2)|0;d=l+f|0;u=l+(f+(a*5|0))|0;while(1){if(v)f=c;else{f=c+(S<<2)|0;t=d;l=u;o=S;while(1){k=Qt[l+n>>0]|0;T=Qt[l+_>>0]|0;M=Qt[l+a>>0]|0;w=Qt[l>>0]|0;x=M+k|0;B=Qt[t+i>>0]|0;qt[c+(y<<2)>>2]=(Qt[l+i>>0]|0)-x-(x<<2)+B+((w+T|0)*20|0);x=B+w|0;C=Qt[t+a>>0]|0;qt[c+(S<<2)>>2]=M-x+C-(x<<2)+((T+k|0)*20|0);x=Qt[t>>0]|0;M=C+T|0;qt[c>>2]=w-M+x-(M<<2)+((B+k|0)*20|0);k=x+k|0;qt[c+(P<<2)>>2]=T-k+(Qt[t+_>>0]|0)-(k<<2)+((C+B|0)*20|0);o=o+-1|0;if(!o)break;else{c=c+4|0;t=t+1|0;l=l+1|0}}d=d+S|0;u=u+S|0}p=p+-1|0;if(!p)break;else{c=f+(m<<2)|0;d=d+g|0;u=u+g|0}}}if(!s){Zt=I;return}g=r>>>2;v=(g|0)==0;m=16-r|0;_=g<<2;t=b+(h+2<<2)|0;n=b+20|0;while(1){if(v)i=t;else{i=t+(_<<2)|0;f=e;l=n;o=qt[n+-4>>2]|0;c=qt[n+-8>>2]|0;u=qt[n+-12>>2]|0;d=qt[n+-16>>2]|0;a=qt[n+-20>>2]|0;p=g;while(1){w=d+o|0;M=d;d=qt[l>>2]|0;Kt[f>>0]=((Qt[(a+512-w-(w<<2)+d+((u+c|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[t>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;w=d+u|0;a=u;u=qt[l+4>>2]|0;Kt[f+1>>0]=((Qt[(M+512-w-(w<<2)+u+((c+o|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[t+4>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;w=u+c|0;M=c;c=qt[l+8>>2]|0;Kt[f+2>>0]=((Qt[(a+512-w-(w<<2)+c+((d+o|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[t+8>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;w=c+o|0;a=qt[l+12>>2]|0;Kt[f+3>>0]=((Qt[(M+512-w-(w<<2)+a+((u+d|0)*20|0)>>10)+3984>>0]|0)+1+(Qt[((qt[t+12>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;p=p+-1|0;if(!p)break;else{w=o;f=f+4|0;t=t+16|0;l=l+16|0;o=a;a=w}}e=e+_|0;n=n+(_<<2)|0}s=s+-1|0;if(!s)break;else{e=e+m|0;t=i+20|0;n=n+20|0}}Zt=I}function ft(t,e,i,n,a,o,r,s,h){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;h=h|0;var l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0;P=Zt;p=t+((r<<4)+o)|0;g=Jt[e>>1]|0;v=e+2|0;y=Jt[v>>1]|0;_=i+4|0;d=qt[_>>2]<<4;f=i+8|0;u=qt[f>>2]<<4;n=o+n|0;l=n+(g>>2)|0;a=r+a|0;c=a+(y>>2)|0;do{switch(qt[6800+((g&3)<<4)+((y&3)<<2)>>2]|0){case 10:{ui(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h);break}case 8:{li(qt[i>>2]|0,p,l+-2|0,c,d,u,s,h);break}case 9:{di(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,0);break}case 12:{ci(qt[i>>2]|0,p,l+-2|0,c,d,u,s,h,1);break}case 11:{di(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,1);break}case 6:{pi(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,0);break}case 5:{x(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,0);break}case 4:{ci(qt[i>>2]|0,p,l+-2|0,c,d,u,s,h,0);break}case 0:{Y(qt[i>>2]|0,p,l,c,d,u,s,h,16);break}case 3:{hi(qt[i>>2]|0,p,l,c+-2|0,d,u,s,h,1);break}case 1:{hi(qt[i>>2]|0,p,l,c+-2|0,d,u,s,h,0);break}case 7:{x(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,2);break}case 13:{x(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,1);break}case 14:{pi(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,1);break}case 2:{si(qt[i>>2]|0,p,l,c+-2|0,d,u,s,h);break}default:x(qt[i>>2]|0,p,l+-2|0,c+-2|0,d,u,s,h,3)}}while(0);g=(o>>>1)+256+(r>>>1<<3)|0;y=t+g|0;m=qt[i>>2]|0;o=qt[_>>2]|0;r=qt[f>>2]|0;f=o<<3;_=r<<3;d=Jt[e>>1]|0;i=(d>>3)+(n>>>1)|0;p=Jt[v>>1]|0;u=(p>>3)+(a>>>1)|0;d=d&7;p=p&7;a=s>>>1;n=h>>>1;r=$t(o<<8,r)|0;o=m+r|0;l=(d|0)!=0;c=(p|0)!=0;if(l&c){ri(o,y,i,u,f,_,d,p,a,n);Zt=P;return}if(l){ai(o,y,i,u,f,_,d,a,n);Zt=P;return}if(c){oi(o,y,i,u,f,_,p,a,n);Zt=P}else{Y(o,y,i,u,f,_,a,n,8);Y(m+(($t(_,f)|0)+r)|0,t+(g+64)|0,i,u,f,_,a,n,8);Zt=P}}function fi(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;var o=0,r=0,s=0;s=Zt;if(!i)i=e;else{b(e|0,Kt[t>>0]|0,i|0)|0;i=e+i|0}if(!n)e=i;else{e=i+n|0;o=n;r=t;while(1){Kt[i>>0]=Kt[r>>0]|0;o=o+-1|0;if(!o)break;else{r=r+1|0;i=i+1|0}}t=t+n|0}if(!a){Zt=s;return}b(e|0,Kt[t+-1>>0]|0,a|0)|0;Zt=s;return}function _i(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;a=Zt;dn(e,t,n);Zt=a;return}function mi(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0;f=Zt;a=qt[t+40>>2]|0;if(a){r=qt[t>>2]|0;s=t+32|0;h=0;do{if(((qt[r+(h*40|0)+20>>2]|0)+-1|0)>>>0<2){o=qt[r+(h*40|0)+12>>2]|0;if(o>>>0>i>>>0)o=o-(qt[s>>2]|0)|0;qt[r+(h*40|0)+8>>2]=o}h=h+1|0}while((h|0)!=(a|0))}if(!(qt[e>>2]|0)){e=0;Zt=f;return e|0}o=qt[e+4>>2]|0;if(o>>>0>=3){e=0;Zt=f;return e|0}u=t+32|0;d=t+24|0;p=t+4|0;a=i;c=0;t:while(1){e:do{if(o>>>0<2){h=qt[e+(c*12|0)+8>>2]|0;if(!o){o=a-h|0;if((o|0)<0)o=(qt[u>>2]|0)+o|0}else{l=h+a|0;o=qt[u>>2]|0;o=l-((l|0)<(o|0)?0:o)|0}if(o>>>0>i>>>0)a=o-(qt[u>>2]|0)|0;else a=o;s=qt[d>>2]|0;if(!s){a=1;o=37;break t}h=qt[t>>2]|0;l=0;while(1){r=qt[h+(l*40|0)+20>>2]|0;if((r+-1|0)>>>0<2?(qt[h+(l*40|0)+8>>2]|0)==(a|0):0){a=o;break e}l=l+1|0;if(l>>>0>=s>>>0){a=1;o=37;break t}}}else{s=qt[e+(c*12|0)+12>>2]|0;r=qt[d>>2]|0;if(!r){a=1;o=37;break t}h=qt[t>>2]|0;o=0;while(1){if((qt[h+(o*40|0)+20>>2]|0)==3?(qt[h+(o*40|0)+8>>2]|0)==(s|0):0){r=3;l=o;break e}o=o+1|0;if(o>>>0>=r>>>0){a=1;o=37;break t}}}}while(0);if(!((l|0)>-1&r>>>0>1)){a=1;o=37;break}if(c>>>0<n>>>0){h=n;do{s=h;h=h+-1|0;r=qt[p>>2]|0;qt[r+(s<<2)>>2]=qt[r+(h<<2)>>2]}while(h>>>0>c>>>0);h=qt[t>>2]|0}qt[(qt[p>>2]|0)+(c<<2)>>2]=h+(l*40|0);c=c+1|0;if(c>>>0<=n>>>0){o=c;h=c;do{s=qt[p>>2]|0;r=qt[s+(o<<2)>>2]|0;if((r|0)!=((qt[t>>2]|0)+(l*40|0)|0)){qt[s+(h<<2)>>2]=r;h=h+1|0}o=o+1|0}while(o>>>0<=n>>>0)}o=qt[e+(c*12|0)+4>>2]|0;if(o>>>0>=3){a=0;o=37;break}}if((o|0)==37){Zt=f;return a|0}return 0}function gi(t,e,i,n,a,o,r,s){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;r=r|0;s=s|0;var h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0,w=0,L=0,E=0,A=0;A=Zt;L=qt[i>>2]|0;E=qt[t+8>>2]|0;if((L|0)!=(qt[E>>2]|0)){t=1;Zt=A;return t|0}B=t+52|0;qt[B>>2]=0;M=qt[t+56>>2]|0;p=(M|0)==0;w=p&1;do{if(!e){qt[E+20>>2]=0;qt[E+12>>2]=n;qt[E+8>>2]=n;qt[E+16>>2]=a;qt[E+24>>2]=w;if(p){i=t+44|0;qt[i>>2]=(qt[i>>2]|0)+1;i=0;m=0}else{i=M;m=0}}else{if(o){l=t+20|0;qt[l>>2]=0;h=t+16|0;qt[h>>2]=0;m=qt[t>>2]|0;n=t+44|0;f=0;do{_=m+(f*40|0)+20|0;if((qt[_>>2]|0)!=0?(qt[_>>2]=0,(qt[m+(f*40|0)+24>>2]|0)==0):0)qt[n>>2]=(qt[n>>2]|0)+-1;f=f+1|0}while((f|0)!=16);t:do{if(p){u=qt[t+28>>2]|0;c=t+12|0;_=0;while(1){d=0;f=2147483647;p=0;do{if(qt[m+(d*40|0)+24>>2]|0){a=qt[m+(d*40|0)+16>>2]|0;M=(a|0)<(f|0);f=M?a:f;p=M?m+(d*40|0)|0:p}d=d+1|0}while(d>>>0<=u>>>0);if(!p){i=0;break t}M=qt[c>>2]|0;qt[M+(_<<4)>>2]=qt[p>>2];qt[M+(_<<4)+12>>2]=qt[p+36>>2];qt[M+(_<<4)+4>>2]=qt[p+28>>2];qt[M+(_<<4)+8>>2]=qt[p+32>>2];_=_+1|0;qt[h>>2]=_;qt[p+24>>2]=0;if(qt[p+20>>2]|0)continue;qt[n>>2]=(qt[n>>2]|0)+-1}}else i=M}while(0);_=t+40|0;qt[_>>2]=0;f=t+36|0;qt[f>>2]=65535;qt[t+48>>2]=0;if(!(qt[e>>2]|i))i=0;else{qt[h>>2]=0;qt[l>>2]=0}m=(qt[e+4>>2]|0)==0;qt[E+20>>2]=m?2:3;qt[f>>2]=m?65535:0;qt[E+12>>2]=0;qt[E+8>>2]=0;qt[E+16>>2]=0;qt[E+24>>2]=w;qt[n>>2]=1;qt[_>>2]=1;m=0;break}if(!(qt[e+8>>2]|0)){c=t+40|0;f=qt[c>>2]|0;_=qt[t+24>>2]|0;if(f>>>0>=_>>>0)if(f){l=qt[t>>2]|0;u=0;p=-1;d=0;do{if(((qt[l+(u*40|0)+20>>2]|0)+-1|0)>>>0<2){e=qt[l+(u*40|0)+8>>2]|0;x=(e|0)<(d|0)|(p|0)==-1;p=x?u:p;d=x?e:d}u=u+1|0}while((u|0)!=(f|0));if((p|0)>-1){f=f+-1|0;qt[l+(p*40|0)+20>>2]=0;qt[c>>2]=f;if(!(qt[l+(p*40|0)+24>>2]|0)){p=t+44|0;qt[p>>2]=(qt[p>>2]|0)+-1;p=n;i=M;d=0}else{p=n;i=M;d=0}}else{p=n;i=M;d=1}}else{p=n;f=0;i=M;d=1}else{p=n;i=M;d=0}}else{T=t+24|0;k=t+40|0;g=t+44|0;v=t+36|0;y=t+48|0;P=t+28|0;S=t+16|0;b=t+12|0;p=n;i=M;l=M;h=0;I=0;t:while(1){switch(qt[e+(h*20|0)+12>>2]|0){case 3:{n=qt[e+(h*20|0)+16>>2]|0;d=qt[e+(h*20|0)+24>>2]|0;m=qt[v>>2]|0;if((m|0)==65535|m>>>0<d>>>0){d=1;break t}u=qt[T>>2]|0;if(!u){d=1;break t}c=qt[t>>2]|0;f=0;while(1){m=c+(f*40|0)+20|0;if((qt[m>>2]|0)==3?(qt[c+(f*40|0)+8>>2]|0)==(d|0):0){x=47;break}_=f+1|0;if(_>>>0<u>>>0)f=_;else break}if((x|0)==47?(x=0,qt[m>>2]=0,qt[k>>2]=(qt[k>>2]|0)+-1,(qt[c+(f*40|0)+24>>2]|0)==0):0)qt[g>>2]=(qt[g>>2]|0)+-1;f=p-n|0;n=0;while(1){m=c+(n*40|0)+20|0;_=qt[m>>2]|0;if((_+-1|0)>>>0<2?(C=c+(n*40|0)+8|0,(qt[C>>2]|0)==(f|0)):0)break;n=n+1|0;if(n>>>0>=u>>>0){d=1;break t}}if(!((n|0)>-1&_>>>0>1)){d=1;break t}qt[m>>2]=3;qt[C>>2]=d;m=l;n=I;break}case 6:{d=qt[e+(h*20|0)+24>>2]|0;n=qt[v>>2]|0;if((n|0)==65535|n>>>0<d>>>0){d=1;x=101;break t}m=qt[T>>2]|0;e:do{if(m){f=qt[t>>2]|0;n=0;while(1){_=f+(n*40|0)+20|0;if((qt[_>>2]|0)==3?(qt[f+(n*40|0)+8>>2]|0)==(d|0):0)break;n=n+1|0;if(n>>>0>=m>>>0){x=88;break e}}qt[_>>2]=0;_=(qt[k>>2]|0)+-1|0;qt[k>>2]=_;if(!(qt[f+(n*40|0)+24>>2]|0))qt[g>>2]=(qt[g>>2]|0)+-1}else{m=0;x=88}}while(0);if((x|0)==88){x=0;_=qt[k>>2]|0}if(_>>>0>=m>>>0){d=1;x=101;break t}qt[E+12>>2]=p;qt[E+8>>2]=d;qt[E+16>>2]=a;qt[E+20>>2]=3;qt[E+24>>2]=w;qt[k>>2]=_+1;qt[g>>2]=(qt[g>>2]|0)+1;m=M;i=M;n=1;break}case 2:{_=qt[e+(h*20|0)+20>>2]|0;f=qt[T>>2]|0;if(!f){d=1;break t}d=qt[t>>2]|0;n=0;while(1){m=d+(n*40|0)+20|0;if((qt[m>>2]|0)==3?(qt[d+(n*40|0)+8>>2]|0)==(_|0):0)break;n=n+1|0;if(n>>>0>=f>>>0){d=1;break t}}if((n|0)<0){d=1;break t}qt[m>>2]=0;qt[k>>2]=(qt[k>>2]|0)+-1;if(!(qt[d+(n*40|0)+24>>2]|0)){qt[g>>2]=(qt[g>>2]|0)+-1;m=l;n=I}else{m=l;n=I}break}case 1:{_=p-(qt[e+(h*20|0)+16>>2]|0)|0;f=qt[T>>2]|0;if(!f){d=1;break t}d=qt[t>>2]|0;n=0;while(1){m=d+(n*40|0)+20|0;if(((qt[m>>2]|0)+-1|0)>>>0<2?(qt[d+(n*40|0)+8>>2]|0)==(_|0):0)break;n=n+1|0;if(n>>>0>=f>>>0){d=1;break t}}if((n|0)<0){d=1;break t}qt[m>>2]=0;qt[k>>2]=(qt[k>>2]|0)+-1;if(!(qt[d+(n*40|0)+24>>2]|0)){qt[g>>2]=(qt[g>>2]|0)+-1;m=l;n=I}else{m=l;n=I}break}case 4:{_=qt[e+(h*20|0)+28>>2]|0;qt[v>>2]=_;f=qt[T>>2]|0;if(!f){m=l;n=I}else{d=qt[t>>2]|0;n=_;u=0;do{m=d+(u*40|0)+20|0;do{if((qt[m>>2]|0)==3){if((qt[d+(u*40|0)+8>>2]|0)>>>0<=_>>>0)if((n|0)==65535)n=65535;else break;qt[m>>2]=0;qt[k>>2]=(qt[k>>2]|0)+-1;if(!(qt[d+(u*40|0)+24>>2]|0))qt[g>>2]=(qt[g>>2]|0)+-1}}while(0);u=u+1|0}while((u|0)!=(f|0));m=l;n=I}break}case 0:{d=0;x=101;break t}case 5:{d=qt[t>>2]|0;_=0;do{m=d+(_*40|0)+20|0;if((qt[m>>2]|0)!=0?(qt[m>>2]=0,(qt[d+(_*40|0)+24>>2]|0)==0):0)qt[g>>2]=(qt[g>>2]|0)+-1;_=_+1|0}while((_|0)!=16);e:do{if(!i){f=qt[P>>2]|0;p=l;while(1){_=0;n=2147483647;m=0;do{if(qt[d+(_*40|0)+24>>2]|0){c=qt[d+(_*40|0)+16>>2]|0;u=(c|0)<(n|0);n=u?c:n;m=u?d+(_*40|0)|0:m}_=_+1|0}while(_>>>0<=f>>>0);if(!m){m=p;i=0;break e}n=qt[S>>2]|0;_=qt[b>>2]|0;qt[_+(n<<4)>>2]=qt[m>>2];qt[_+(n<<4)+12>>2]=qt[m+36>>2];qt[_+(n<<4)+4>>2]=qt[m+28>>2];qt[_+(n<<4)+8>>2]=qt[m+32>>2];qt[S>>2]=n+1;qt[m+24>>2]=0;if(!(qt[m+20>>2]|0))qt[g>>2]=(qt[g>>2]|0)+-1;if(!p)p=0;else{m=p;i=p;break}}}else m=l}while(0);qt[k>>2]=0;qt[v>>2]=65535;qt[y>>2]=0;qt[B>>2]=1;p=0;n=I;break}default:{d=1;break t}}l=m;h=h+1|0;I=n}if(I){m=d;break}f=qt[k>>2]|0;_=qt[T>>2]|0}if(f>>>0<_>>>0){qt[E+12>>2]=p;qt[E+8>>2]=p;qt[E+16>>2]=a;qt[E+20>>2]=2;qt[E+24>>2]=w;m=t+44|0;qt[m>>2]=(qt[m>>2]|0)+1;qt[t+40>>2]=f+1;m=d}else m=1}}while(0);qt[E+36>>2]=o;qt[E+28>>2]=r;qt[E+32>>2]=s;if(!i){p=t+44|0;i=qt[p>>2]|0;h=qt[t+28>>2]|0;if(i>>>0>h>>>0){f=t+16|0;_=t+12|0;do{u=qt[t>>2]|0;d=0;l=2147483647;c=0;do{if(qt[u+(d*40|0)+24>>2]|0){o=qt[u+(d*40|0)+16>>2]|0;s=(o|0)<(l|0);l=s?o:l;c=s?u+(d*40|0)|0:c}d=d+1|0}while(d>>>0<=h>>>0);if((c|0)!=0?(s=qt[f>>2]|0,o=qt[_>>2]|0,qt[o+(s<<4)>>2]=qt[c>>2],qt[o+(s<<4)+12>>2]=qt[c+36>>2],qt[o+(s<<4)+4>>2]=qt[c+28>>2],qt[o+(s<<4)+8>>2]=qt[c+32>>2],qt[f>>2]=s+1,qt[c+24>>2]=0,(qt[c+20>>2]|0)==0):0){i=i+-1|0;qt[p>>2]=i}}while(i>>>0>h>>>0)}}else{h=t+16|0;E=qt[h>>2]|0;w=qt[t+12>>2]|0;qt[w+(E<<4)>>2]=L;qt[w+(E<<4)+12>>2]=o;qt[w+(E<<4)+4>>2]=r;qt[w+(E<<4)+8>>2]=s;qt[h>>2]=E+1;h=qt[t+28>>2]|0}ki(qt[t>>2]|0,h+1|0);t=m;Zt=A;return t|0}function z(t,e){t=t|0;e=e|0;var i=0,n=0;n=Zt;if((e>>>0<=16?(i=qt[(qt[t+4>>2]|0)+(e<<2)>>2]|0,(i|0)!=0):0)?(qt[i+20>>2]|0)>>>0>1:0)i=qt[i>>2]|0;else i=0;Zt=n;return i|0}function vi(t){t=t|0;var e=0;e=(qt[t>>2]|0)+((qt[t+28>>2]|0)*40|0)|0;qt[t+8>>2]=e;return qt[e>>2]|0}function yi(t,e,i,n,a,o){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;var r=0,s=0;s=Zt;qt[t+36>>2]=65535;n=n>>>0>1?n:1;qt[t+24>>2]=n;r=t+28|0;qt[r>>2]=(o|0)==0?i:n;qt[t+32>>2]=a;qt[t+56>>2]=o;qt[t+44>>2]=0;qt[t+40>>2]=0;qt[t+48>>2]=0;o=_(680)|0;qt[t>>2]=o;if(!o){t=65535;Zt=s;return t|0}mt(o,0,680);t:do{if((qt[r>>2]|0)!=-1){o=e*384|47;n=0;while(1){a=_(o)|0;i=qt[t>>2]|0;qt[i+(n*40|0)+4>>2]=a;if(!a){o=65535;break}qt[i+(n*40|0)>>2]=a+(0-a&15);n=n+1|0;if(n>>>0>=((qt[r>>2]|0)+1|0)>>>0)break t}Zt=s;return o|0}}while(0);o=t+4|0;qt[o>>2]=_(68)|0;r=_((qt[r>>2]<<4)+16|0)|0;qt[t+12>>2]=r;o=qt[o>>2]|0;if((o|0)==0|(r|0)==0){t=65535;Zt=s;return t|0}mt(o,0,68);qt[t+20>>2]=0;qt[t+16>>2]=0;t=0;Zt=s;return t|0}function Pi(t,e,i,n,a,o){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;var r=0,s=0,h=0,l=0;l=Zt;r=qt[t>>2]|0;if(r){h=t+28|0;if((qt[h>>2]|0)!=-1){s=0;do{m(qt[r+(s*40|0)+4>>2]|0);r=qt[t>>2]|0;qt[r+(s*40|0)+4>>2]=0;s=s+1|0}while(s>>>0<((qt[h>>2]|0)+1|0)>>>0)}}else r=0;m(r);qt[t>>2]=0;h=t+4|0;m(qt[h>>2]|0);qt[h>>2]=0;h=t+12|0;m(qt[h>>2]|0);qt[h>>2]=0;e=yi(t,e,i,n,a,o)|0;Zt=l;return e|0}function Si(t){t=t|0;var e=0,i=0,n=0,a=0;a=Zt;e=qt[t>>2]|0;if(e){n=t+28|0;if((qt[n>>2]|0)!=-1){i=0;do{m(qt[e+(i*40|0)+4>>2]|0);e=qt[t>>2]|0;qt[e+(i*40|0)+4>>2]=0;i=i+1|0}while(i>>>0<((qt[n>>2]|0)+1|0)>>>0)}}else e=0;m(e);qt[t>>2]=0;n=t+4|0;m(qt[n>>2]|0);qt[n>>2]=0;t=t+12|0;m(qt[t>>2]|0);qt[t>>2]=0;Zt=a}function bi(t){t=t|0;var e=0,i=0,n=0,a=0;a=Zt;e=qt[t+40>>2]|0;if(!e){Zt=a;return}i=t+4|0;n=0;do{qt[(qt[i>>2]|0)+(n<<2)>>2]=(qt[t>>2]|0)+(n*40|0);n=n+1|0}while(n>>>0<e>>>0);Zt=a}function Ii(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0;b=Zt;y=t+16|0;qt[y>>2]=0;qt[t+20>>2]=0;if(!n){e=0;Zt=b;return e|0}S=t+48|0;n=qt[S>>2]|0;a=(n|0)==(e|0);t:do{if(!a?(v=t+32|0,l=qt[v>>2]|0,h=((n+1|0)>>>0)%(l>>>0)|0,(h|0)!=(e|0)):0){g=t+28|0;P=qt[(qt[t>>2]|0)+((qt[g>>2]|0)*40|0)>>2]|0;d=t+40|0;p=t+24|0;f=t+44|0;_=t+56|0;m=t+12|0;r=l;u=h;while(1){l=qt[d>>2]|0;if(!l)l=0;else{h=qt[t>>2]|0;s=0;do{if(((qt[h+(s*40|0)+20>>2]|0)+-1|0)>>>0<2){c=qt[h+(s*40|0)+12>>2]|0;qt[h+(s*40|0)+8>>2]=c-(c>>>0>u>>>0?r:0)}s=s+1|0}while((s|0)!=(l|0))}if(l>>>0>=(qt[p>>2]|0)>>>0){if(!l){n=1;o=46;break}o=qt[t>>2]|0;r=0;h=-1;s=0;do{if(((qt[o+(r*40|0)+20>>2]|0)+-1|0)>>>0<2){c=qt[o+(r*40|0)+8>>2]|0;a=(c|0)<(s|0)|(h|0)==-1;h=a?r:h;s=a?c:s}r=r+1|0}while((r|0)!=(l|0));if((h|0)<=-1){n=1;o=46;break}l=l+-1|0;qt[o+(h*40|0)+20>>2]=0;qt[d>>2]=l;if(!(qt[o+(h*40|0)+24>>2]|0)){qt[f>>2]=(qt[f>>2]|0)+-1;c=l}else c=l}else c=l;l=qt[f>>2]|0;n=qt[g>>2]|0;if(l>>>0>=n>>>0){a=(qt[_>>2]|0)==0;do{if(a){r=qt[t>>2]|0;o=0;h=2147483647;s=0;do{if(qt[r+(o*40|0)+24>>2]|0){B=qt[r+(o*40|0)+16>>2]|0;I=(B|0)<(h|0);h=I?B:h;s=I?r+(o*40|0)|0:s}o=o+1|0}while(o>>>0<=n>>>0);if((s|0)!=0?(B=qt[y>>2]|0,I=qt[m>>2]|0,qt[I+(B<<4)>>2]=qt[s>>2],qt[I+(B<<4)+12>>2]=qt[s+36>>2],qt[I+(B<<4)+4>>2]=qt[s+28>>2],qt[I+(B<<4)+8>>2]=qt[s+32>>2],qt[y>>2]=B+1,qt[s+24>>2]=0,(qt[s+20>>2]|0)==0):0){l=l+-1|0;qt[f>>2]=l}}}while(l>>>0>=n>>>0)}r=qt[t>>2]|0;qt[r+(n*40|0)+20>>2]=1;qt[r+(n*40|0)+12>>2]=u;qt[r+(n*40|0)+8>>2]=u;qt[r+(n*40|0)+16>>2]=0;qt[r+(n*40|0)+24>>2]=0;qt[f>>2]=l+1;qt[d>>2]=c+1;ki(r,n+1|0);r=qt[v>>2]|0;u=((u+1|0)>>>0)%(r>>>0)|0;if((u|0)==(e|0)){o=31;break}}if((o|0)==31){o=qt[y>>2]|0;if(!o){o=41;break}n=qt[m>>2]|0;r=qt[g>>2]|0;s=qt[t>>2]|0;h=s+(r*40|0)|0;l=qt[h>>2]|0;a=0;while(1){if((qt[n+(a<<4)>>2]|0)==(l|0))break;a=a+1|0;if(a>>>0>=o>>>0){o=41;break t}}if(!r){o=41;break}else a=0;while(1){n=s+(a*40|0)|0;a=a+1|0;if((qt[n>>2]|0)==(P|0))break;if(a>>>0>=r>>>0){o=41;break t}}qt[n>>2]=l;qt[h>>2]=P;o=41;break}else if((o|0)==46){Zt=b;return n|0}}else o=39}while(0);if((o|0)==39)if(i)if(a){B=1;Zt=b;return B|0}else o=41;do{if((o|0)==41){if(!i){n=qt[S>>2]|0;break}qt[S>>2]=e;B=0;Zt=b;return B|0}}while(0);if((n|0)==(e|0)){B=0;Zt=b;return B|0}B=qt[t+32>>2]|0;qt[S>>2]=((e+-1+B|0)>>>0)%(B>>>0)|0;B=0;Zt=b;return B|0}function Bi(t){t=t|0;var e=0,i=0,n=0;n=Zt;e=t+20|0;i=qt[e>>2]|0;if(i>>>0>=(qt[t+16>>2]|0)>>>0){t=0;Zt=n;return t|0}t=qt[t+12>>2]|0;qt[e>>2]=i+1;t=t+(i<<4)|0;Zt=n;return t|0}function Ci(t){t=t|0;var e=0,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0;h=Zt;a=qt[t>>2]|0;if(!a){Zt=h;return}qt[t+60>>2]=1;if(qt[t+56>>2]|0){Zt=h;return}o=qt[t+28>>2]|0;r=t+16|0;s=t+12|0;n=t+44|0;t=0;e=2147483647;i=0;while(1){if(qt[a+(t*40|0)+24>>2]|0){c=qt[a+(t*40|0)+16>>2]|0;l=(c|0)<(e|0);e=l?c:e;i=l?a+(t*40|0)|0:i}t=t+1|0;if(t>>>0<=o>>>0)continue;if(!i)break;c=qt[r>>2]|0;l=qt[s>>2]|0;qt[l+(c<<4)>>2]=qt[i>>2];qt[l+(c<<4)+12>>2]=qt[i+36>>2];qt[l+(c<<4)+4>>2]=qt[i+28>>2];qt[l+(c<<4)+8>>2]=qt[i+32>>2];qt[r>>2]=c+1;qt[i+24>>2]=0;if(qt[i+20>>2]|0){t=0;e=2147483647;i=0;continue}qt[n>>2]=(qt[n>>2]|0)+-1;t=0;e=2147483647;i=0}Zt=h}function ki(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0;y=Zt;Zt=Zt+32|0;m=y+16|0;g=y;_=7;do{if(_>>>0<e>>>0){f=_;do{d=t+(f*40|0)|0;u=qt[d>>2]|0;d=qt[d+4>>2]|0;p=qt[t+(f*40|0)+8>>2]|0;h=t+(f*40|0)+12|0;c=qt[h+4>>2]|0;l=m;qt[l>>2]=qt[h>>2];qt[l+4>>2]=c;l=qt[t+(f*40|0)+20>>2]|0;c=qt[t+(f*40|0)+24>>2]|0;h=t+(f*40|0)+28|0;qt[g+0>>2]=qt[h+0>>2];qt[g+4>>2]=qt[h+4>>2];qt[g+8>>2]=qt[h+8>>2];t:do{if(f>>>0<_>>>0){i=f;v=8}else{a=(c|0)==0;s=l+-1|0;h=s>>>0<2;e:do{if(!l){n=f;while(1){i=n-_|0;if(qt[t+(i*40|0)+20>>2]|0){i=n;break e}if((qt[t+(i*40|0)+24>>2]|0)!=0|a){i=n;break e}n=t+(n*40|0)+0|0;o=t+(i*40|0)+0|0;r=n+40|0;do{qt[n>>2]=qt[o>>2];n=n+4|0;o=o+4|0}while((n|0)<(r|0));if(i>>>0<_>>>0){v=8;break t}else n=i}}else{i=f;while(1){a=i-_|0;n=qt[t+(a*40|0)+20>>2]|0;do{if(n){n=n+-1|0;if((n|s)>>>0<2){n=qt[t+(a*40|0)+8>>2]|0;if((n|0)>(p|0))break e;i=t+(i*40|0)|0;if((n|0)<(p|0))break;else break t}if(n>>>0<2)break e;if(!h?(qt[t+(a*40|0)+8>>2]|0)<=(p|0):0)break e;else v=16}else v=16}while(0);if((v|0)==16){v=0;i=t+(i*40|0)|0}n=i+0|0;o=t+(a*40|0)+0|0;r=n+40|0;do{qt[n>>2]=qt[o>>2];n=n+4|0;o=o+4|0}while((n|0)<(r|0));if(a>>>0<_>>>0){i=a;v=8;break t}else i=a}}}while(0);i=t+(i*40|0)|0}}while(0);if((v|0)==8){v=0;i=t+(i*40|0)|0}h=i;qt[h>>2]=u;qt[h+4>>2]=d;qt[i+8>>2]=p;u=m;d=qt[u+4>>2]|0;p=i+12|0;qt[p>>2]=qt[u>>2];qt[p+4>>2]=d;qt[i+20>>2]=l;qt[i+24>>2]=c;p=i+28|0;qt[p+0>>2]=qt[g+0>>2];qt[p+4>>2]=qt[g+4>>2];qt[p+8>>2]=qt[g+8>>2];f=f+1|0}while((f|0)!=(e|0))}_=_>>>1}while((_|0)!=0);Zt=y}function _t(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0;l=Zt;n=qt[t+4>>2]|0;a=qt[t+16>>2]|0;o=qt[t+20>>2]|0;r=n<<2;h=e+256|0;s=16;t=qt[t+12>>2]|0;i=e;while(1){c=qt[i+4>>2]|0;qt[t>>2]=qt[i>>2];qt[t+4>>2]=c;c=qt[i+12>>2]|0;qt[t+8>>2]=qt[i+8>>2];qt[t+12>>2]=c;s=s+-1|0;if(!s)break;else{t=t+(r<<2)|0;i=i+16|0}}c=n<<1&2147483646;s=qt[e+260>>2]|0;qt[a>>2]=qt[h>>2];qt[a+4>>2]=s;h=qt[e+268>>2]|0;qt[a+(c<<2)>>2]=qt[e+264>>2];qt[a+((c|1)<<2)>>2]=h;h=n<<2;s=qt[e+276>>2]|0;qt[a+(h<<2)>>2]=qt[e+272>>2];qt[a+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+284>>2]|0;qt[a+(h<<2)>>2]=qt[e+280>>2];qt[a+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+292>>2]|0;qt[a+(h<<2)>>2]=qt[e+288>>2];qt[a+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+300>>2]|0;qt[a+(h<<2)>>2]=qt[e+296>>2];qt[a+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+308>>2]|0;qt[a+(h<<2)>>2]=qt[e+304>>2];qt[a+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+316>>2]|0;qt[a+(h<<2)>>2]=qt[e+312>>2];qt[a+((h|1)<<2)>>2]=s;h=qt[e+324>>2]|0;qt[o>>2]=qt[e+320>>2];qt[o+4>>2]=h;h=qt[e+332>>2]|0;qt[o+(c<<2)>>2]=qt[e+328>>2];qt[o+((c|1)<<2)>>2]=h;h=n<<2;s=qt[e+340>>2]|0;qt[o+(h<<2)>>2]=qt[e+336>>2];qt[o+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+348>>2]|0;qt[o+(h<<2)>>2]=qt[e+344>>2];qt[o+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+356>>2]|0;qt[o+(h<<2)>>2]=qt[e+352>>2];qt[o+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+364>>2]|0;qt[o+(h<<2)>>2]=qt[e+360>>2];qt[o+((h|1)<<2)>>2]=s;h=h+c|0;s=qt[e+372>>2]|0;qt[o+(h<<2)>>2]=qt[e+368>>2];qt[o+((h|1)<<2)>>2]=s;c=h+c|0;h=qt[e+380>>2]|0;qt[o+(c<<2)>>2]=qt[e+376>>2];qt[o+((c|1)<<2)>>2]=h;Zt=l}function Ti(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0;P=Zt;p=qt[t+4>>2]|0;f=$t(qt[t+8>>2]|0,p)|0;g=(e>>>0)%(p>>>0)|0;y=qt[t>>2]|0;v=e-g|0;d=(v<<8)+(g<<4)|0;m=f<<8;g=g<<3;s=p<<4;r=p<<2&1073741820;l=r<<1;h=l+r|0;t=0;do{a=qt[3344+(t<<2)>>2]|0;c=qt[3408+(t<<2)>>2]|0;u=(c<<4)+a|0;o=i+u|0;c=d+a+($t(c,s)|0)|0;a=y+c|0;e=qt[n+(t<<6)>>2]|0;if((e|0)==16777215){_=qt[i+(u+16)>>2]|0;qt[a>>2]=qt[o>>2];qt[a+(r<<2)>>2]=_;_=qt[i+(u+48)>>2]|0;qt[a+(l<<2)>>2]=qt[i+(u+32)>>2];qt[a+(h<<2)>>2]=_}else{S=Qt[i+(u+1)>>0]|0;_=qt[n+(t<<6)+4>>2]|0;Kt[a>>0]=Kt[3472+(e+512+(Qt[o>>0]|0))>>0]|0;o=Qt[i+(u+2)>>0]|0;a=qt[n+(t<<6)+8>>2]|0;Kt[y+(c+1)>>0]=Kt[3472+((S|512)+_)>>0]|0;_=Qt[i+(u+3)>>0]|0;e=qt[n+(t<<6)+12>>2]|0;Kt[y+(c+2)>>0]=Kt[3472+(a+512+o)>>0]|0;Kt[y+(c+3)>>0]=Kt[3472+(e+512+_)>>0]|0;_=c+s|0;e=Qt[i+(u+17)>>0]|0;c=qt[n+(t<<6)+20>>2]|0;Kt[y+_>>0]=Kt[3472+((qt[n+(t<<6)+16>>2]|0)+512+(Qt[i+(u+16)>>0]|0))>>0]|0;o=Qt[i+(u+18)>>0]|0;a=qt[n+(t<<6)+24>>2]|0;Kt[y+(_+1)>>0]=Kt[3472+((e|512)+c)>>0]|0;c=Qt[i+(u+19)>>0]|0;e=qt[n+(t<<6)+28>>2]|0;Kt[y+(_+2)>>0]=Kt[3472+(a+512+o)>>0]|0;Kt[y+(_+3)>>0]=Kt[3472+(e+512+c)>>0]|0;_=_+s|0;c=Qt[i+(u+33)>>0]|0;e=qt[n+(t<<6)+36>>2]|0;Kt[y+_>>0]=Kt[3472+((qt[n+(t<<6)+32>>2]|0)+512+(Qt[i+(u+32)>>0]|0))>>0]|0;o=Qt[i+(u+34)>>0]|0;a=qt[n+(t<<6)+40>>2]|0;Kt[y+(_+1)>>0]=Kt[3472+((c|512)+e)>>0]|0;e=Qt[i+(u+35)>>0]|0;c=qt[n+(t<<6)+44>>2]|0;Kt[y+(_+2)>>0]=Kt[3472+(a+512+o)>>0]|0;Kt[y+(_+3)>>0]=Kt[3472+(c+512+e)>>0]|0;_=_+s|0;e=Qt[i+(u+49)>>0]|0;c=qt[n+(t<<6)+52>>2]|0;Kt[y+_>>0]=Kt[3472+((qt[n+(t<<6)+48>>2]|0)+512+(Qt[i+(u+48)>>0]|0))>>0]|0;o=Qt[i+(u+50)>>0]|0;a=qt[n+(t<<6)+56>>2]|0;Kt[y+(_+1)>>0]=Kt[3472+((e|512)+c)>>0]|0;u=Qt[i+(u+51)>>0]|0;c=qt[n+(t<<6)+60>>2]|0;Kt[y+(_+2)>>0]=Kt[3472+(a+512+o)>>0]|0;Kt[y+(_+3)>>0]=Kt[3472+(c+512+u)>>0]|0}t=t+1|0}while((t|0)!=16);_=f<<6;p=p<<3&2147483640;f=i+256|0;i=i+320|0;t=g+m+(v<<6)|0;r=p>>>2;a=p>>>1;o=a+r|0;u=16;do{d=u&3;l=qt[3344+(d<<2)>>2]|0;d=qt[3408+(d<<2)>>2]|0;c=u>>>0>19;e=c?i:f;s=(d<<3)+l|0;h=e+s|0;d=t+(c?_:0)+l+($t(d,p)|0)|0;l=y+d|0;c=qt[n+(u<<6)>>2]|0;if((c|0)==16777215){S=qt[e+(s+8)>>2]|0;qt[l>>2]=qt[h>>2];qt[l+(r<<2)>>2]=S;S=qt[e+(s+24)>>2]|0;qt[l+(a<<2)>>2]=qt[e+(s+16)>>2];qt[l+(o<<2)>>2]=S}else{g=Qt[e+(s+1)>>0]|0;S=qt[n+(u<<6)+4>>2]|0;Kt[l>>0]=Kt[3472+(c+512+(Qt[h>>0]|0))>>0]|0;v=Qt[e+(s+2)>>0]|0;m=qt[n+(u<<6)+8>>2]|0;Kt[y+(d+1)>>0]=Kt[3472+((g|512)+S)>>0]|0;S=Qt[e+(s+3)>>0]|0;g=qt[n+(u<<6)+12>>2]|0;Kt[y+(d+2)>>0]=Kt[3472+(m+512+v)>>0]|0;Kt[y+(d+3)>>0]=Kt[3472+(g+512+S)>>0]|0;S=d+p|0;g=Qt[e+(s+9)>>0]|0;v=qt[n+(u<<6)+20>>2]|0;Kt[y+S>>0]=Kt[3472+((qt[n+(u<<6)+16>>2]|0)+512+(Qt[e+(s+8)>>0]|0))>>0]|0;m=Qt[e+(s+10)>>0]|0;d=qt[n+(u<<6)+24>>2]|0;Kt[y+(S+1)>>0]=Kt[3472+((g|512)+v)>>0]|0;v=Qt[e+(s+11)>>0]|0;g=qt[n+(u<<6)+28>>2]|0;Kt[y+(S+2)>>0]=Kt[3472+(d+512+m)>>0]|0;Kt[y+(S+3)>>0]=Kt[3472+(g+512+v)>>0]|0;S=S+p|0;v=Qt[e+(s+17)>>0]|0;g=qt[n+(u<<6)+36>>2]|0;Kt[y+S>>0]=Kt[3472+((qt[n+(u<<6)+32>>2]|0)+512+(Qt[e+(s+16)>>0]|0))>>0]|0;m=Qt[e+(s+18)>>0]|0;d=qt[n+(u<<6)+40>>2]|0;Kt[y+(S+1)>>0]=Kt[3472+((v|512)+g)>>0]|0;g=Qt[e+(s+19)>>0]|0;v=qt[n+(u<<6)+44>>2]|0;Kt[y+(S+2)>>0]=Kt[3472+(d+512+m)>>0]|0;Kt[y+(S+3)>>0]=Kt[3472+(v+512+g)>>0]|0;S=S+p|0;g=Qt[e+(s+25)>>0]|0;v=qt[n+(u<<6)+52>>2]|0;Kt[y+S>>0]=Kt[3472+((qt[n+(u<<6)+48>>2]|0)+512+(Qt[e+(s+24)>>0]|0))>>0]|0;m=Qt[e+(s+26)>>0]|0;d=qt[n+(u<<6)+56>>2]|0;Kt[y+(S+1)>>0]=Kt[3472+((g|512)+v)>>0]|0;v=Qt[e+(s+27)>>0]|0;g=qt[n+(u<<6)+60>>2]|0;Kt[y+(S+2)>>0]=Kt[3472+(d+512+m)>>0]|0;Kt[y+(S+3)>>0]=Kt[3472+(g+512+v)>>0]|0}u=u+1|0}while((u|0)!=24);Zt=P}function xi(N,t){N=N|0;t=t|0;var e=0,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,O=0,v=0,U=0,y=0,P=0,V=0,G=0,F=0,X=0,S=0,b=0,I=0,H=0,B=0,C=0,k=0,T=0,x=0,j=0,M=0,w=0,W=0,L=0,Y=0,z=0,E=0,K=0,J=0,q=0,Q=0,Z=0,$=0,tt=0,et=0,it=0,nt=0,at=0,ot=0,rt=0,st=0,ht=0,lt=0,ct=0,ut=0,dt=0,pt=0,ft=0,_t=0,mt=0,gt=0,vt=0,yt=0,Pt=0,St=0,bt=0,It=0,Bt=0,Ct=0,kt=0,Tt=0,xt=0,Mt=0,wt=0,Lt=0,A=0,Et=0,At=0,Dt=0,Rt=0,Nt=0,Ot=0,Ut=0,Vt=0,Gt=0,Ft=0,Xt=0,Ht=0,jt=0,Wt=0,D=0,R=0,Yt=0,zt=0;zt=Zt;Zt=Zt+176|0;D=zt+40|0;R=zt;tt=qt[N+4>>2]|0;ut=N+8|0;Wt=qt[ut>>2]|0;e=$t(Wt,tt)|0;if(!Wt){Zt=zt;return}Xt=D+24|0;Ht=D+16|0;jt=D+8|0;Wt=D+100|0;et=D+68|0;it=D+36|0;nt=D+4|0;at=D+120|0;ot=D+112|0;rt=D+104|0;st=D+96|0;ht=D+88|0;lt=D+80|0;ct=D+72|0;dt=D+64|0;pt=D+56|0;ft=D+48|0;_t=D+40|0;mt=D+32|0;gt=D+124|0;vt=D+116|0;yt=D+108|0;Pt=D+92|0;St=D+84|0;bt=D+76|0;It=D+60|0;Bt=D+52|0;Ct=D+44|0;kt=D+28|0;Tt=D+20|0;xt=D+12|0;Mt=R+28|0;wt=R+32|0;Lt=R+24|0;A=tt<<4;Et=0-A|0;At=Et<<1;Dt=$t(tt,-48)|0;Rt=tt<<5;Nt=Et<<2;Ot=tt*48|0;Ut=tt<<6;Vt=R+24|0;Gt=R+12|0;Ft=e<<8;z=e<<6;E=tt<<3;Y=A|4;K=R+16|0;J=R+20|0;q=R+12|0;Q=R+4|0;Z=R+8|0;W=0;$=0;L=t;while(1){t=qt[L+8>>2]|0;do{if((t|0)!=1){w=L+200|0;s=qt[w>>2]|0;do{if(!s)e=1;else{if((t|0)==2?(qt[L+4>>2]|0)!=(qt[s+4>>2]|0):0){e=1;break}e=5}}while(0);M=L+204|0;o=qt[M>>2]|0;do{if(o){if((t|0)==2?(qt[L+4>>2]|0)!=(qt[o+4>>2]|0):0)break;e=e|2}}while(0);j=(e&2|0)==0;do{if(j){qt[Xt>>2]=0;qt[Ht>>2]=0;qt[jt>>2]=0;qt[D>>2]=0;r=0}else{if((qt[L>>2]|0)>>>0<=5?(qt[o>>2]|0)>>>0<=5:0){if((Jt[L+28>>1]|0)==0?(Jt[o+48>>1]|0)==0:0)if((qt[L+116>>2]|0)==(qt[o+124>>2]|0)?(x=(Jt[L+132>>1]|0)-(Jt[o+172>>1]|0)|0,(((x|0)>-1?x:0-x|0)|0)<=3):0){i=(Jt[L+134>>1]|0)-(Jt[o+174>>1]|0)|0;i=(((i|0)>-1?i:0-i|0)|0)>3&1}else i=1;else i=2;qt[D>>2]=i;if((Jt[L+30>>1]|0)==0?(Jt[o+50>>1]|0)==0:0)if((qt[L+116>>2]|0)==(qt[o+124>>2]|0)?(x=(Jt[L+136>>1]|0)-(Jt[o+176>>1]|0)|0,(((x|0)>-1?x:0-x|0)|0)<=3):0){n=(Jt[L+138>>1]|0)-(Jt[o+178>>1]|0)|0;n=(((n|0)>-1?n:0-n|0)|0)>3&1}else n=1;else n=2;qt[jt>>2]=n;if((Jt[L+36>>1]|0)==0?(Jt[o+56>>1]|0)==0:0)if((qt[L+120>>2]|0)==(qt[o+128>>2]|0)?(x=(Jt[L+148>>1]|0)-(Jt[o+188>>1]|0)|0,(((x|0)>-1?x:0-x|0)|0)<=3):0){a=(Jt[L+150>>1]|0)-(Jt[o+190>>1]|0)|0;a=(((a|0)>-1?a:0-a|0)|0)>3&1}else a=1;else a=2;qt[Ht>>2]=a;if((Jt[L+38>>1]|0)==0?(Jt[o+58>>1]|0)==0:0)if((qt[L+120>>2]|0)==(qt[o+128>>2]|0)?(x=(Jt[L+152>>1]|0)-(Jt[o+192>>1]|0)|0,(((x|0)>-1?x:0-x|0)|0)<=3):0){t=(Jt[L+154>>1]|0)-(Jt[o+194>>1]|0)|0;t=(((t|0)>-1?t:0-t|0)|0)>3&1}else t=1;else t=2;qt[Xt>>2]=t;r=(n|i|a|t|0)!=0&1;break}qt[Xt>>2]=4;qt[Ht>>2]=4;qt[jt>>2]=4;qt[D>>2]=4;r=1}}while(0);x=(e&4|0)==0;do{if(x){qt[Wt>>2]=0;qt[et>>2]=0;qt[it>>2]=0;qt[nt>>2]=0;a=qt[L>>2]|0}else{a=qt[L>>2]|0;if(a>>>0<=5?(qt[s>>2]|0)>>>0<=5:0){if((Jt[L+28>>1]|0)==0?(Jt[s+38>>1]|0)==0:0)if((qt[L+116>>2]|0)==(qt[s+120>>2]|0)?(T=(Jt[L+132>>1]|0)-(Jt[s+152>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){o=(Jt[L+134>>1]|0)-(Jt[s+154>>1]|0)|0;o=(((o|0)>-1?o:0-o|0)|0)>3&1}else o=1;else o=2;qt[nt>>2]=o;if((Jt[L+32>>1]|0)==0?(Jt[s+42>>1]|0)==0:0)if((qt[L+116>>2]|0)==(qt[s+120>>2]|0)?(T=(Jt[L+140>>1]|0)-(Jt[s+160>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){i=(Jt[L+142>>1]|0)-(Jt[s+162>>1]|0)|0;i=(((i|0)>-1?i:0-i|0)|0)>3&1}else i=1;else i=2;qt[it>>2]=i;if((Jt[L+44>>1]|0)==0?(Jt[s+54>>1]|0)==0:0)if((qt[L+124>>2]|0)==(qt[s+128>>2]|0)?(T=(Jt[L+164>>1]|0)-(Jt[s+184>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){t=(Jt[L+166>>1]|0)-(Jt[s+186>>1]|0)|0;t=(((t|0)>-1?t:0-t|0)|0)>3&1}else t=1;else t=2;qt[et>>2]=t;if((Jt[L+48>>1]|0)==0?(Jt[s+58>>1]|0)==0:0)if((qt[L+124>>2]|0)==(qt[s+128>>2]|0)?(T=(Jt[L+172>>1]|0)-(Jt[s+192>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){n=(Jt[L+174>>1]|0)-(Jt[s+194>>1]|0)|0;n=(((n|0)>-1?n:0-n|0)|0)>3&1}else n=1;else n=2;qt[Wt>>2]=n;if(r)break;r=(i|o|t|n|0)!=0&1;break}qt[Wt>>2]=4;qt[et>>2]=4;qt[it>>2]=4;qt[nt>>2]=4;r=1}}while(0);if(a>>>0<=5){do{if((ke(a)|0)!=1){t=qt[L>>2]|0;if((t|0)==2){c=L+28|0;U=Jt[L+32>>1]|0;if(!(U<<16>>16))t=(Jt[c>>1]|0)!=0?2:0;else t=2;qt[mt>>2]=t;v=Jt[L+34>>1]|0;O=v<<16>>16==0;if(O)a=(Jt[L+30>>1]|0)!=0?2:0;else a=2;qt[_t>>2]=a;l=Jt[L+40>>1]|0;g=l<<16>>16==0;if(g)o=(Jt[L+36>>1]|0)!=0?2:0;else o=2;qt[ft>>2]=o;_=Jt[L+42>>1]|0;m=_<<16>>16==0;if(m)o=(Jt[L+38>>1]|0)!=0?2:0;else o=2;qt[pt>>2]=o;a=Jt[L+48>>1]|0;if(!(a<<16>>16))o=(Jt[L+44>>1]|0)!=0?2:0;else o=2;qt[st>>2]=o;t=Jt[L+50>>1]|0;y=t<<16>>16==0;if(y)o=(Jt[L+46>>1]|0)!=0?2:0;else o=2;qt[rt>>2]=o;e=Jt[L+56>>1]|0;n=e<<16>>16==0;if(n)s=(Jt[L+52>>1]|0)!=0?2:0;else s=2;qt[ot>>2]=s;i=(Jt[L+58>>1]|0)==0;if(i)s=(Jt[L+54>>1]|0)!=0?2:0;else s=2;qt[at>>2]=s;u=Jt[L+44>>1]|0;h=Jt[L+166>>1]|0;s=Jt[L+142>>1]|0;do{if(!((u|U)<<16>>16)){T=(Jt[L+164>>1]|0)-(Jt[L+140>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){s=1;break}T=h-s|0;if((((T|0)>-1?T:0-T|0)|0)>3){s=1;break}s=(qt[L+124>>2]|0)!=(qt[L+116>>2]|0)&1}else s=2}while(0);qt[dt>>2]=s;d=Jt[L+46>>1]|0;h=Jt[L+170>>1]|0;s=Jt[L+146>>1]|0;do{if(!((d|v)<<16>>16)){T=(Jt[L+168>>1]|0)-(Jt[L+144>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){h=1;break}T=h-s|0;if((((T|0)>-1?T:0-T|0)|0)>3){h=1;break}h=(qt[L+124>>2]|0)!=(qt[L+116>>2]|0)&1}else h=2}while(0);qt[ct>>2]=h;p=Jt[L+52>>1]|0;h=Jt[L+182>>1]|0;s=Jt[L+158>>1]|0;do{if(!((p|l)<<16>>16)){T=(Jt[L+180>>1]|0)-(Jt[L+156>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){h=1;break}T=h-s|0;if((((T|0)>-1?T:0-T|0)|0)>3){h=1;break}h=(qt[L+128>>2]|0)!=(qt[L+120>>2]|0)&1}else h=2}while(0);qt[lt>>2]=h;f=Jt[L+54>>1]|0;h=Jt[L+186>>1]|0;s=Jt[L+162>>1]|0;do{if(!((f|_)<<16>>16)){T=(Jt[L+184>>1]|0)-(Jt[L+160>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){h=1;break}T=h-s|0;if((((T|0)>-1?T:0-T|0)|0)>3){h=1;break}h=(qt[L+128>>2]|0)!=(qt[L+120>>2]|0)&1}else h=2}while(0);qt[ht>>2]=h;o=Jt[L+30>>1]|0;if(!(o<<16>>16))h=(Jt[c>>1]|0)!=0?2:0;else h=2;qt[xt>>2]=h;s=Jt[L+36>>1]|0;if(!(s<<16>>16))h=o<<16>>16!=0?2:0;else h=2;qt[Tt>>2]=h;if(!(Jt[L+38>>1]|0))h=s<<16>>16!=0?2:0;else h=2;qt[kt>>2]=h;if(O)s=U<<16>>16!=0?2:0;else s=2;qt[Ct>>2]=s;if(g)o=v<<16>>16!=0?2:0;else o=2;qt[Bt>>2]=o;if(m)o=l<<16>>16!=0?2:0;else o=2;qt[It>>2]=o;if(!(d<<16>>16))o=u<<16>>16!=0?2:0;else o=2;qt[bt>>2]=o;if(!(p<<16>>16))o=d<<16>>16!=0?2:0;else o=2;qt[St>>2]=o;if(!(f<<16>>16))o=p<<16>>16!=0?2:0;else o=2;qt[Pt>>2]=o;if(y)a=a<<16>>16!=0?2:0;else a=2;qt[yt>>2]=a;if(n)t=t<<16>>16!=0?2:0;else t=2;qt[vt>>2]=t;if(i)t=e<<16>>16!=0?2:0;else t=2;qt[gt>>2]=t;break}else if((t|0)==3){n=L+28|0;_=Jt[L+32>>1]|0;if(!(_<<16>>16))t=(Jt[n>>1]|0)!=0?2:0;else t=2;qt[mt>>2]=t;y=Jt[L+34>>1]|0;e=y<<16>>16==0;if(e)a=(Jt[L+30>>1]|0)!=0?2:0;else a=2;qt[_t>>2]=a;v=Jt[L+40>>1]|0;if(!(v<<16>>16))a=(Jt[L+36>>1]|0)!=0?2:0;else a=2;qt[ft>>2]=a;h=Jt[L+42>>1]|0;i=h<<16>>16==0;if(i)o=(Jt[L+38>>1]|0)!=0?2:0;else o=2;qt[pt>>2]=o;t=Jt[L+44>>1]|0;if(!(t<<16>>16))o=_<<16>>16!=0?2:0;else o=2;qt[dt>>2]=o;U=Jt[L+46>>1]|0;l=U<<16>>16==0;if(l)o=y<<16>>16!=0?2:0;else o=2;qt[ct>>2]=o;O=Jt[L+52>>1]|0;if(!(O<<16>>16))o=v<<16>>16!=0?2:0;else o=2;qt[lt>>2]=o;a=Jt[L+54>>1]|0;c=a<<16>>16==0;if(c)o=h<<16>>16!=0?2:0;else o=2;qt[ht>>2]=o;u=Jt[L+48>>1]|0;if(!(u<<16>>16))s=t<<16>>16!=0?2:0;else s=2;qt[st>>2]=s;g=Jt[L+50>>1]|0;p=g<<16>>16==0;if(p)s=U<<16>>16!=0?2:0;else s=2;qt[rt>>2]=s;m=Jt[L+56>>1]|0;if(!(m<<16>>16))h=O<<16>>16!=0?2:0;else h=2;qt[ot>>2]=h;f=(Jt[L+58>>1]|0)==0;if(f)h=a<<16>>16!=0?2:0;else h=2;qt[at>>2]=h;d=Jt[L+30>>1]|0;if(!(d<<16>>16))h=(Jt[n>>1]|0)!=0?2:0;else h=2;qt[xt>>2]=h;if(!(Jt[L+38>>1]|0))h=(Jt[L+36>>1]|0)!=0?2:0;else h=2;qt[kt>>2]=h;if(e)s=_<<16>>16!=0?2:0;else s=2;qt[Ct>>2]=s;if(i)s=v<<16>>16!=0?2:0;else s=2;qt[It>>2]=s;if(l)o=t<<16>>16!=0?2:0;else o=2;qt[bt>>2]=o;if(c)o=O<<16>>16!=0?2:0;else o=2;qt[Pt>>2]=o;if(p)o=u<<16>>16!=0?2:0;else o=2;qt[yt>>2]=o;if(f)o=m<<16>>16!=0?2:0;else o=2;qt[gt>>2]=o;o=Jt[L+150>>1]|0;a=Jt[L+138>>1]|0;do{if(!((Jt[L+36>>1]|d)<<16>>16)){T=(Jt[L+148>>1]|0)-(Jt[L+136>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){o=1;break}T=o-a|0;if((((T|0)>-1?T:0-T|0)|0)>3){o=1;break}o=(qt[L+120>>2]|0)!=(qt[L+116>>2]|0)&1}else o=2}while(0);qt[Tt>>2]=o;o=Jt[L+158>>1]|0;a=Jt[L+146>>1]|0;do{if(!((v|y)<<16>>16)){T=(Jt[L+156>>1]|0)-(Jt[L+144>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){a=1;break}T=o-a|0;if((((T|0)>-1?T:0-T|0)|0)>3){a=1;break}a=(qt[L+120>>2]|0)!=(qt[L+116>>2]|0)&1}else a=2}while(0);qt[Bt>>2]=a;o=Jt[L+182>>1]|0;a=Jt[L+170>>1]|0;do{if(!((O|U)<<16>>16)){T=(Jt[L+180>>1]|0)-(Jt[L+168>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}T=o-a|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}t=(qt[L+128>>2]|0)!=(qt[L+124>>2]|0)&1}else t=2}while(0);qt[St>>2]=t;t=Jt[L+190>>1]|0;e=Jt[L+178>>1]|0;do{if(!((m|g)<<16>>16)){T=(Jt[L+188>>1]|0)-(Jt[L+176>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}T=t-e|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}t=(qt[L+128>>2]|0)!=(qt[L+124>>2]|0)&1}else t=2}while(0);qt[vt>>2]=t;break}else{I=Jt[L+32>>1]|0;v=Jt[L+28>>1]|0;H=Jt[L+142>>1]|0;O=Jt[L+134>>1]|0;if(!((v|I)<<16>>16)){T=(Jt[L+140>>1]|0)-(Jt[L+132>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3)a=1;else{a=H-O|0;a=(((a|0)>-1?a:0-a|0)|0)>3&1}}else a=2;qt[mt>>2]=a;B=Jt[L+34>>1]|0;g=Jt[L+30>>1]|0;C=Jt[L+146>>1]|0;m=Jt[L+138>>1]|0;if(!((g|B)<<16>>16)){T=(Jt[L+144>>1]|0)-(Jt[L+136>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3)o=1;else{o=C-m|0;o=(((o|0)>-1?o:0-o|0)|0)>3&1}}else o=2;qt[_t>>2]=o;k=Jt[L+40>>1]|0;_=Jt[L+36>>1]|0;T=Jt[L+158>>1]|0;d=Jt[L+150>>1]|0;if(!((_|k)<<16>>16)){b=(Jt[L+156>>1]|0)-(Jt[L+148>>1]|0)|0;if((((b|0)>-1?b:0-b|0)|0)>3)s=1;else{s=T-d|0;s=(((s|0)>-1?s:0-s|0)|0)>3&1}}else s=2;qt[ft>>2]=s;s=Jt[L+42>>1]|0;y=Jt[L+38>>1]|0;o=Jt[L+162>>1]|0;U=Jt[L+154>>1]|0;if(!((y|s)<<16>>16)){b=(Jt[L+160>>1]|0)-(Jt[L+152>>1]|0)|0;if((((b|0)>-1?b:0-b|0)|0)>3)h=1;else{h=o-U|0;h=(((h|0)>-1?h:0-h|0)|0)>3&1}}else h=2;qt[pt>>2]=h;V=Jt[L+44>>1]|0;G=Jt[L+166>>1]|0;do{if(!((V|I)<<16>>16)){b=(Jt[L+164>>1]|0)-(Jt[L+140>>1]|0)|0;if((((b|0)>-1?b:0-b|0)|0)>3)h=1;else{b=G-H|0;if((((b|0)>-1?b:0-b|0)|0)>3){h=1;break}h=(qt[L+124>>2]|0)!=(qt[L+116>>2]|0)&1}}else h=2}while(0);qt[dt>>2]=h;F=Jt[L+46>>1]|0;X=Jt[L+170>>1]|0;do{if(!((F|B)<<16>>16)){b=(Jt[L+168>>1]|0)-(Jt[L+144>>1]|0)|0;if((((b|0)>-1?b:0-b|0)|0)>3){h=1;break}b=X-C|0;if((((b|0)>-1?b:0-b|0)|0)>3){h=1;break}h=(qt[L+124>>2]|0)!=(qt[L+116>>2]|0)&1}else h=2}while(0);qt[ct>>2]=h;S=Jt[L+52>>1]|0;b=Jt[L+182>>1]|0;do{if(!((S|k)<<16>>16)){P=(Jt[L+180>>1]|0)-(Jt[L+156>>1]|0)|0;if((((P|0)>-1?P:0-P|0)|0)>3){p=1;break}P=b-T|0;if((((P|0)>-1?P:0-P|0)|0)>3){p=1;break}p=(qt[L+128>>2]|0)!=(qt[L+120>>2]|0)&1}else p=2}while(0);qt[lt>>2]=p;c=Jt[L+54>>1]|0;l=Jt[L+186>>1]|0;do{if(!((c|s)<<16>>16)){P=(Jt[L+184>>1]|0)-(Jt[L+160>>1]|0)|0;if((((P|0)>-1?P:0-P|0)|0)>3){f=1;break}P=l-o|0;if((((P|0)>-1?P:0-P|0)|0)>3){f=1;break}f=(qt[L+128>>2]|0)!=(qt[L+120>>2]|0)&1}else f=2}while(0);qt[ht>>2]=f;a=Jt[L+48>>1]|0;n=Jt[L+174>>1]|0;do{if(!((a|V)<<16>>16)){P=(Jt[L+172>>1]|0)-(Jt[L+164>>1]|0)|0;if((((P|0)>-1?P:0-P|0)|0)>3){f=1;break}f=n-G|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);qt[st>>2]=f;i=Jt[L+50>>1]|0;t=Jt[L+178>>1]|0;do{if(!((i|F)<<16>>16)){P=(Jt[L+176>>1]|0)-(Jt[L+168>>1]|0)|0;if((((P|0)>-1?P:0-P|0)|0)>3){f=1;break}f=t-X|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);qt[rt>>2]=f;e=Jt[L+56>>1]|0;P=Jt[L+190>>1]|0;do{if(!((e|S)<<16>>16)){f=(Jt[L+188>>1]|0)-(Jt[L+180>>1]|0)|0;if((((f|0)>-1?f:0-f|0)|0)>3){f=1;break}f=P-b|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);qt[ot>>2]=f;p=Jt[L+58>>1]|0;u=Jt[L+194>>1]|0;do{if(!((p|c)<<16>>16)){f=(Jt[L+192>>1]|0)-(Jt[L+184>>1]|0)|0;if((((f|0)>-1?f:0-f|0)|0)>3){f=1;break}f=u-l|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);qt[at>>2]=f;do{if(!((g|v)<<16>>16)){v=(Jt[L+136>>1]|0)-(Jt[L+132>>1]|0)|0;if((((v|0)>-1?v:0-v|0)|0)>3){f=1;break}f=m-O|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);qt[xt>>2]=f;do{if(!((_|g)<<16>>16)){v=(Jt[L+148>>1]|0)-(Jt[L+136>>1]|0)|0;if((((v|0)>-1?v:0-v|0)|0)>3){f=1;break}v=d-m|0;if((((v|0)>-1?v:0-v|0)|0)>3){f=1;break}f=(qt[L+120>>2]|0)!=(qt[L+116>>2]|0)&1}else f=2}while(0);qt[Tt>>2]=f;do{if(!((y|_)<<16>>16)){y=(Jt[L+152>>1]|0)-(Jt[L+148>>1]|0)|0;if((((y|0)>-1?y:0-y|0)|0)>3){f=1;break}f=U-d|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);qt[kt>>2]=f;do{if(!((B|I)<<16>>16)){I=(Jt[L+144>>1]|0)-(Jt[L+140>>1]|0)|0;if((((I|0)>-1?I:0-I|0)|0)>3){h=1;break}h=C-H|0;h=(((h|0)>-1?h:0-h|0)|0)>3&1}else h=2}while(0);qt[Ct>>2]=h;do{if(!((k|B)<<16>>16)){B=(Jt[L+156>>1]|0)-(Jt[L+144>>1]|0)|0;if((((B|0)>-1?B:0-B|0)|0)>3){h=1;break}C=T-C|0;if((((C|0)>-1?C:0-C|0)|0)>3){h=1;break}h=(qt[L+120>>2]|0)!=(qt[L+116>>2]|0)&1}else h=2}while(0);qt[Bt>>2]=h;do{if(!((s|k)<<16>>16)){k=(Jt[L+160>>1]|0)-(Jt[L+156>>1]|0)|0;if((((k|0)>-1?k:0-k|0)|0)>3){h=1;break}h=o-T|0;h=(((h|0)>-1?h:0-h|0)|0)>3&1}else h=2}while(0);qt[It>>2]=h;do{if(!((F|V)<<16>>16)){T=(Jt[L+168>>1]|0)-(Jt[L+164>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){s=1;break}s=X-G|0;s=(((s|0)>-1?s:0-s|0)|0)>3&1}else s=2}while(0);qt[bt>>2]=s;do{if(!((S|F)<<16>>16)){T=(Jt[L+180>>1]|0)-(Jt[L+168>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){o=1;break}T=b-X|0;if((((T|0)>-1?T:0-T|0)|0)>3){o=1;break}o=(qt[L+128>>2]|0)!=(qt[L+124>>2]|0)&1}else o=2}while(0);qt[St>>2]=o;do{if(!((c|S)<<16>>16)){T=(Jt[L+184>>1]|0)-(Jt[L+180>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){o=1;break}o=l-b|0;o=(((o|0)>-1?o:0-o|0)|0)>3&1}else o=2}while(0);qt[Pt>>2]=o;do{if(!((i|a)<<16>>16)){T=(Jt[L+176>>1]|0)-(Jt[L+172>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){o=1;break}o=t-n|0;o=(((o|0)>-1?o:0-o|0)|0)>3&1}else o=2}while(0);qt[yt>>2]=o;do{if(!((e|i)<<16>>16)){T=(Jt[L+188>>1]|0)-(Jt[L+176>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){i=1;break}T=P-t|0;if((((T|0)>-1?T:0-T|0)|0)>3){i=1;break}i=(qt[L+128>>2]|0)!=(qt[L+124>>2]|0)&1}else i=2}while(0);qt[vt>>2]=i;do{if(!((p|e)<<16>>16)){T=(Jt[L+192>>1]|0)-(Jt[L+188>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}t=u-P|0;t=(((t|0)>-1?t:0-t|0)|0)>3&1}else t=2}while(0);qt[gt>>2]=t;break}}else Mi(L,D)}while(0);if(!(r|qt[mt>>2]|qt[_t>>2]|qt[ft>>2]|qt[pt>>2]|qt[dt>>2]|qt[ct>>2]|qt[lt>>2]|qt[ht>>2]|qt[st>>2]|qt[rt>>2]|qt[ot>>2]|qt[at>>2]|qt[xt>>2]|qt[Tt>>2]|qt[kt>>2]|qt[Ct>>2]|qt[Bt>>2]|qt[It>>2]|qt[bt>>2]|qt[St>>2]|qt[Pt>>2]|qt[yt>>2]|qt[vt>>2]|qt[gt>>2]))break}else{qt[at>>2]=3;qt[ot>>2]=3;qt[rt>>2]=3;qt[st>>2]=3;qt[ht>>2]=3;qt[lt>>2]=3;qt[ct>>2]=3;qt[dt>>2]=3;qt[pt>>2]=3;qt[ft>>2]=3;qt[_t>>2]=3;qt[mt>>2]=3;qt[gt>>2]=3;qt[vt>>2]=3;qt[yt>>2]=3;qt[Pt>>2]=3;qt[St>>2]=3;qt[bt>>2]=3;qt[It>>2]=3;qt[Bt>>2]=3;qt[Ct>>2]=3;qt[kt>>2]=3;qt[Tt>>2]=3;qt[xt>>2]=3}H=L+20|0;e=qt[H>>2]|0;I=L+12|0;n=te(0,51,(qt[I>>2]|0)+e|0)|0;b=L+16|0;a=te(0,51,(qt[b>>2]|0)+e|0)|0;o=Qt[6864+n>>0]|0;qt[Mt>>2]=o;a=Qt[6920+a>>0]|0;qt[wt>>2]=a;n=6976+(n*3|0)|0;qt[Lt>>2]=n;do{if(!j){i=qt[(qt[M>>2]|0)+20>>2]|0;if((i|0)==(e|0)){qt[Q>>2]=o;qt[Z>>2]=a;qt[R>>2]=n;break}else{k=(e+1+i|0)>>>1;T=te(0,51,(qt[I>>2]|0)+k|0)|0;k=te(0,51,(qt[b>>2]|0)+k|0)|0;qt[Q>>2]=Qt[6864+T>>0];qt[Z>>2]=Qt[6920+k>>0];qt[R>>2]=6976+(T*3|0);break}}}while(0);do{if(!x){t=qt[(qt[w>>2]|0)+20>>2]|0;if((t|0)==(e|0)){qt[K>>2]=qt[Mt>>2];qt[J>>2]=qt[wt>>2];qt[q>>2]=qt[Lt>>2];break}else{k=(e+1+t|0)>>>1;T=te(0,51,(qt[I>>2]|0)+k|0)|0;k=te(0,51,(qt[b>>2]|0)+k|0)|0;qt[K>>2]=Qt[6864+T>>0];qt[J>>2]=Qt[6920+k>>0];qt[q>>2]=6976+(T*3|0);break}}}while(0);B=$t($,tt)|0;T=3;h=0;k=(qt[N>>2]|0)+((B<<8)+(W<<4))|0;C=D;while(1){o=qt[C+4>>2]|0;if(o)wi(k,o,Gt,A);o=qt[C+12>>2]|0;if(o)wi(k+4|0,o,Vt,A);a=C+16|0;r=qt[C+20>>2]|0;if(r)wi(k+8|0,r,Vt,A);n=C+24|0;r=qt[C+28>>2]|0;if(r)wi(k+12|0,r,Vt,A);s=qt[C>>2]|0;o=C+8|0;r=qt[o>>2]|0;t:do{if(((s|0)==(r|0)?(s|0)==(qt[a>>2]|0):0)?(s|0)==(qt[n>>2]|0):0){if(!s)break;g=qt[R+(h*12|0)+4>>2]|0;m=qt[R+(h*12|0)+8>>2]|0;if(s>>>0<4){p=Qt[(qt[R+(h*12|0)>>2]|0)+(s+-1)>>0]|0;d=0-p|0;u=p+1|0;f=k;i=16;while(1){h=f+At|0;c=Qt[h>>0]|0;l=f+Et|0;o=Qt[l>>0]|0;a=Qt[f>>0]|0;r=f+A|0;n=Qt[r>>0]|0;S=o-a|0;do{if(((S|0)>-1?S:0-S|0)>>>0<g>>>0){S=c-o|0;if(((S|0)>-1?S:0-S|0)>>>0>=m>>>0)break;S=n-a|0;if(((S|0)>-1?S:0-S|0)>>>0>=m>>>0)break;s=Qt[f+Dt>>0]|0;S=s-o|0;if(((S|0)>-1?S:0-S|0)>>>0<m>>>0){Kt[h>>0]=(te(d,p,((o+1+a|0)>>>1)-(c<<1)+s>>1)|0)+c;h=u}else h=p;s=Qt[f+Rt>>0]|0;S=s-a|0;if(((S|0)>-1?S:0-S|0)>>>0<m>>>0){Kt[r>>0]=(te(d,p,((o+1+a|0)>>>1)-(n<<1)+s>>1)|0)+n;h=h+1|0}X=te(0-h|0,h,c+4-n+(a-o<<2)>>3)|0;S=Kt[3472+((a|512)-X)>>0]|0;Kt[l>>0]=Kt[3472+(X+(o|512))>>0]|0;Kt[f>>0]=S}}while(0);i=i+-1|0;if(!i)break t;else f=f+1|0}}s=(g>>>2)+2|0;h=k;f=16;while(1){r=h+At|0;o=Qt[r>>0]|0;a=h+Et|0;n=Qt[a>>0]|0;i=Qt[h>>0]|0;t=h+A|0;e=Qt[t>>0]|0;l=n-i|0;l=(l|0)>-1?l:0-l|0;e:do{if(l>>>0<g>>>0){S=o-n|0;if(((S|0)>-1?S:0-S|0)>>>0>=m>>>0)break;S=e-i|0;if(((S|0)>-1?S:0-S|0)>>>0>=m>>>0)break;c=h+Dt|0;u=Qt[c>>0]|0;d=h+Rt|0;p=Qt[d>>0]|0;do{if(l>>>0<s>>>0){S=u-n|0;if(((S|0)>-1?S:0-S|0)>>>0<m>>>0){S=n+o+i|0;Kt[a>>0]=(e+4+(S<<1)+u|0)>>>3;Kt[r>>0]=(S+2+u|0)>>>2;Kt[c>>0]=(S+4+(u*3|0)+(Qt[h+Nt>>0]<<1)|0)>>>3}else Kt[a>>0]=(n+2+(o<<1)+e|0)>>>2;S=p-i|0;if(((S|0)>-1?S:0-S|0)>>>0>=m>>>0)break;S=i+n+e|0;Kt[h>>0]=(o+4+(S<<1)+p|0)>>>3;Kt[t>>0]=(S+2+p|0)>>>2;Kt[d>>0]=(S+4+(p*3|0)+(Qt[h+Ot>>0]<<1)|0)>>>3;break e}else Kt[a>>0]=(n+2+(o<<1)+e|0)>>>2}while(0);Kt[h>>0]=(o+2+i+(e<<1)|0)>>>2}}while(0);f=f+-1|0;if(!f)break;else h=h+1|0}}else Yt=311}while(0);do{if((Yt|0)==311){Yt=0;if(s){Li(k,s,R+(h*12|0)|0,A);r=qt[o>>2]|0}if(r)Li(k+4|0,r,R+(h*12|0)|0,A);r=qt[a>>2]|0;if(r)Li(k+8|0,r,R+(h*12|0)|0,A);o=qt[n>>2]|0;if(!o)break;Li(k+12|0,o,R+(h*12|0)|0,A)}}while(0);if(!T)break;else{T=T+-1|0;h=2;k=k+Ut|0;C=C+32|0}}i=qt[L+24>>2]|0;e=qt[192+((te(0,51,(qt[H>>2]|0)+i|0)|0)<<2)>>2]|0;n=te(0,51,(qt[I>>2]|0)+e|0)|0;a=te(0,51,(qt[b>>2]|0)+e|0)|0;r=Qt[6864+n>>0]|0;qt[Mt>>2]=r;a=Qt[6920+a>>0]|0;qt[wt>>2]=a;n=6976+(n*3|0)|0;qt[Lt>>2]=n;do{if(!j){o=qt[(qt[M>>2]|0)+20>>2]|0;if((o|0)==(qt[H>>2]|0)){qt[Q>>2]=r;qt[Z>>2]=a;qt[R>>2]=n;break}else{j=(e+1+(qt[192+((te(0,51,o+i|0)|0)<<2)>>2]|0)|0)>>>1;M=te(0,51,j+(qt[I>>2]|0)|0)|0;j=te(0,51,(qt[b>>2]|0)+j|0)|0;qt[Q>>2]=Qt[6864+M>>0];qt[Z>>2]=Qt[6920+j>>0];qt[R>>2]=6976+(M*3|0);break}}}while(0);do{if(!x){t=qt[(qt[w>>2]|0)+20>>2]|0;if((t|0)==(qt[H>>2]|0)){qt[K>>2]=qt[Mt>>2];qt[J>>2]=qt[wt>>2];qt[q>>2]=qt[Lt>>2];break}else{M=(e+1+(qt[192+((te(0,51,t+i|0)|0)<<2)>>2]|0)|0)>>>1;w=te(0,51,M+(qt[I>>2]|0)|0)|0;M=te(0,51,(qt[b>>2]|0)+M|0)|0;qt[K>>2]=Qt[6864+w>>0];qt[J>>2]=Qt[6920+M>>0];qt[q>>2]=6976+(w*3|0);break}}}while(0);a=qt[N>>2]|0;o=(W<<3)+Ft+(B<<6)|0;s=a+(o+z)|0;o=a+o|0;a=0;i=D;h=0;while(1){t=i+4|0;e=qt[t>>2]|0;if(e){ee(o,e,Gt,E);ee(s,qt[t>>2]|0,Gt,E)}t=i+36|0;e=qt[t>>2]|0;if(e){ee(o+A|0,e,Gt,E);ee(s+A|0,qt[t>>2]|0,Gt,E)}r=i+16|0;t=i+20|0;e=qt[t>>2]|0;if(e){ee(o+4|0,e,Vt,E);ee(s+4|0,qt[t>>2]|0,Vt,E)}t=i+52|0;e=qt[t>>2]|0;if(e){ee(o+Y|0,e,Vt,E);ee(s+Y|0,qt[t>>2]|0,Vt,E)}e=qt[i>>2]|0;n=i+8|0;t=qt[n>>2]|0;do{if((e|0)==(t|0)){if((e|0)!=(qt[r>>2]|0)){Yt=342;break}if((e|0)!=(qt[i+24>>2]|0)){Yt=342;break}if(!e)break;w=R+(a*12|0)|0;Ei(o,e,w,E);Ei(s,qt[i>>2]|0,w,E)}else Yt=342}while(0);do{if((Yt|0)==342){Yt=0;if(e){t=R+(a*12|0)|0;ie(o,e,t,E);ie(s,qt[i>>2]|0,t,E);t=qt[n>>2]|0}if(t){w=R+(a*12|0)|0;ie(o+2|0,t,w,E);ie(s+2|0,qt[n>>2]|0,w,E)}t=qt[r>>2]|0;if(t){w=R+(a*12|0)|0;ie(o+4|0,t,w,E);ie(s+4|0,qt[r>>2]|0,w,E)}t=i+24|0;e=qt[t>>2]|0;if(!e)break;w=R+(a*12|0)|0;ie(o+6|0,e,w,E);ie(s+6|0,qt[t>>2]|0,w,E)}}while(0);h=h+1|0;if((h|0)==2)break;else{s=s+Rt|0;o=o+Rt|0;a=2;i=i+64|0}}}}while(0);e=W+1|0;t=(e|0)==(tt|0);$=(t&1)+$|0;if($>>>0>=(qt[ut>>2]|0)>>>0)break;else{W=t?0:e;L=L+216|0}}Zt=zt}function Mi(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0;B=Zt;o=t+28|0;b=Jt[t+32>>1]|0;if(!(b<<16>>16))i=(Jt[o>>1]|0)!=0?2:0;else i=2;qt[e+32>>2]=i;I=Jt[t+34>>1]|0;_=I<<16>>16==0;if(_)i=(Jt[t+30>>1]|0)!=0?2:0;else i=2;qt[e+40>>2]=i;S=Jt[t+40>>1]|0;m=S<<16>>16==0;if(m)i=(Jt[t+36>>1]|0)!=0?2:0;else i=2;qt[e+48>>2]=i;n=Jt[t+42>>1]|0;g=n<<16>>16==0;if(g)i=(Jt[t+38>>1]|0)!=0?2:0;else i=2;qt[e+56>>2]=i;v=Jt[t+44>>1]|0;if(!(v<<16>>16))i=b<<16>>16!=0?2:0;else i=2;qt[e+64>>2]=i;y=Jt[t+46>>1]|0;d=y<<16>>16==0;if(d)i=I<<16>>16!=0?2:0;else i=2;qt[e+72>>2]=i;P=Jt[t+52>>1]|0;p=P<<16>>16==0;if(p)i=S<<16>>16!=0?2:0;else i=2;qt[e+80>>2]=i;a=Jt[t+54>>1]|0;f=a<<16>>16==0;if(f)i=n<<16>>16!=0?2:0;else i=2;qt[e+88>>2]=i;l=Jt[t+48>>1]|0;if(!(l<<16>>16))i=v<<16>>16!=0?2:0;else i=2;qt[e+96>>2]=i;c=Jt[t+50>>1]|0;r=c<<16>>16==0;if(r)i=y<<16>>16!=0?2:0;else i=2;qt[e+104>>2]=i;u=Jt[t+56>>1]|0;s=u<<16>>16==0;if(s)n=P<<16>>16!=0?2:0;else n=2;qt[e+112>>2]=n;h=(Jt[t+58>>1]|0)==0;if(h)n=a<<16>>16!=0?2:0;else n=2;qt[e+120>>2]=n;a=Jt[t+30>>1]|0;if(!(a<<16>>16))n=(Jt[o>>1]|0)!=0?2:0;else n=2;qt[e+12>>2]=n;i=Jt[t+36>>1]|0;if(!(i<<16>>16))n=a<<16>>16!=0?2:0;else n=2;qt[e+20>>2]=n;if(!(Jt[t+38>>1]|0))i=i<<16>>16!=0?2:0;else i=2;qt[e+28>>2]=i;if(_)i=b<<16>>16!=0?2:0;else i=2;qt[e+44>>2]=i;if(m)i=I<<16>>16!=0?2:0;else i=2;qt[e+52>>2]=i;if(g)i=S<<16>>16!=0?2:0;else i=2;qt[e+60>>2]=i;if(d)i=v<<16>>16!=0?2:0;else i=2;qt[e+76>>2]=i;if(p)i=y<<16>>16!=0?2:0;else i=2;qt[e+84>>2]=i;if(f)i=P<<16>>16!=0?2:0;else i=2;qt[e+92>>2]=i;if(r)i=l<<16>>16!=0?2:0;else i=2;qt[e+108>>2]=i;if(s)i=c<<16>>16!=0?2:0;else i=2;qt[e+116>>2]=i;if(!h){I=2;e=e+124|0;qt[e>>2]=I;Zt=B;return}I=u<<16>>16!=0?2:0;e=e+124|0;qt[e>>2]=I;Zt=B}function wi(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0;v=Zt;m=qt[i+4>>2]|0;g=qt[i+8>>2]|0;if(e>>>0<4){l=Qt[(qt[i>>2]|0)+(e+-1)>>0]|0;h=0-l|0;s=l+1|0;_=4;while(1){i=t+-2|0;f=Qt[i>>0]|0;p=t+-1|0;d=Qt[p>>0]|0;u=Qt[t>>0]|0;o=t+1|0;c=Qt[o>>0]|0;r=d-u|0;if((((r|0)>-1?r:0-r|0)>>>0<m>>>0?(r=f-d|0,((r|0)>-1?r:0-r|0)>>>0<g>>>0):0)?(r=c-u|0,((r|0)>-1?r:0-r|0)>>>0<g>>>0):0){e=Qt[t+-3>>0]|0;a=Qt[t+2>>0]|0;r=e-d|0;if(((r|0)>-1?r:0-r|0)>>>0<g>>>0){Kt[i>>0]=(te(h,l,((d+1+u|0)>>>1)-(f<<1)+e>>1)|0)+f;i=s}else i=l;r=a-u|0;if(((r|0)>-1?r:0-r|0)>>>0<g>>>0){Kt[o>>0]=(te(h,l,((d+1+u|0)>>>1)-(c<<1)+a>>1)|0)+c;i=i+1|0}c=te(0-i|0,i,f+4-c+(u-d<<2)>>3)|0;f=Kt[3472+((u|512)-c)>>0]|0;Kt[p>>0]=Kt[3472+((d|512)+c)>>0]|0;Kt[t>>0]=f}_=_+-1|0;if(!_)break;else t=t+n|0}Zt=v;return}_=(m>>>2)+2|0;f=4;while(1){r=t+-2|0;s=Qt[r>>0]|0;h=t+-1|0;l=Qt[h>>0]|0;c=Qt[t>>0]|0;u=t+1|0;d=Qt[u>>0]|0;p=l-c|0;p=(p|0)>-1?p:0-p|0;do{if((p>>>0<m>>>0?(o=s-l|0,((o|0)>-1?o:0-o|0)>>>0<g>>>0):0)?(o=d-c|0,((o|0)>-1?o:0-o|0)>>>0<g>>>0):0){i=t+-3|0;e=Qt[i>>0]|0;a=t+2|0;o=Qt[a>>0]|0;if(p>>>0<_>>>0){p=e-l|0;if(((p|0)>-1?p:0-p|0)>>>0<g>>>0){p=l+s+c|0;Kt[h>>0]=(d+4+(p<<1)+e|0)>>>3;Kt[r>>0]=(p+2+e|0)>>>2;Kt[i>>0]=(p+4+(e*3|0)+((Qt[t+-4>>0]|0)<<1)|0)>>>3}else Kt[h>>0]=(l+2+(s<<1)+d|0)>>>2;p=o-c|0;if(((p|0)>-1?p:0-p|0)>>>0<g>>>0){p=c+l+d|0;Kt[t>>0]=(s+4+(p<<1)+o|0)>>>3;Kt[u>>0]=(p+2+o|0)>>>2;Kt[a>>0]=(p+4+(o*3|0)+((Qt[t+3>>0]|0)<<1)|0)>>>3;break}}else Kt[h>>0]=(l+2+(s<<1)+d|0)>>>2;Kt[t>>0]=(s+2+c+(d<<1)|0)>>>2}}while(0);f=f+-1|0;if(!f)break;else t=t+n|0}Zt=v}function Li(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0;b=Zt;_=Qt[(qt[i>>2]|0)+(e+-1)>>0]|0;m=0-n|0;g=m<<1;v=i+4|0;p=i+8|0;f=$t(n,-3)|0;c=0-_|0;u=_+1|0;d=n<<1;l=4;while(1){e=t+g|0;r=t+m|0;o=t+n|0;i=Kt[o>>0]|0;s=Qt[r>>0]|0;h=Qt[t>>0]|0;a=s-h|0;if((((a|0)>-1?a:0-a|0)>>>0<(qt[v>>2]|0)>>>0?(y=Qt[e>>0]|0,a=y-s|0,P=qt[p>>2]|0,((a|0)>-1?a:0-a|0)>>>0<P>>>0):0)?(S=i&255,a=S-h|0,((a|0)>-1?a:0-a|0)>>>0<P>>>0):0){i=Qt[t+f>>0]|0;a=i-s|0;if(((a|0)>-1?a:0-a|0)>>>0<P>>>0){Kt[e>>0]=(te(c,_,((s+1+h|0)>>>1)-(y<<1)+i>>1)|0)+y;a=qt[p>>2]|0;i=u}else{a=P;i=_}e=Qt[t+d>>0]|0;I=e-h|0;if(((I|0)>-1?I:0-I|0)>>>0<a>>>0){Kt[o>>0]=(te(c,_,((s+1+h|0)>>>1)-(S<<1)+e>>1)|0)+S;i=i+1|0}o=te(0-i|0,i,4-S+(h-s<<2)+y>>3)|0;I=Kt[3472+((h|512)-o)>>0]|0;Kt[r>>0]=Kt[3472+((s|512)+o)>>0]|0;Kt[t>>0]=I}l=l+-1|0;if(!l)break;else t=t+1|0}Zt=b}function ee(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0;d=Zt;r=t+-1|0;h=Kt[t+1>>0]|0;l=Qt[r>>0]|0;c=Qt[t>>0]|0;p=l-c|0;u=i+4|0;do{if((((p|0)>-1?p:0-p|0)>>>0<(qt[u>>2]|0)>>>0?(o=Qt[t+-2>>0]|0,p=o-l|0,a=qt[i+8>>2]|0,((p|0)>-1?p:0-p|0)>>>0<a>>>0):0)?(s=h&255,p=s-c|0,((p|0)>-1?p:0-p|0)>>>0<a>>>0):0)if(e>>>0<4){h=Qt[(qt[i>>2]|0)+(e+-1)>>0]|0;h=te(~h,h+1|0,4-s+(c-l<<2)+o>>3)|0;p=Kt[3472+((c|512)-h)>>0]|0;Kt[r>>0]=Kt[3472+((l|512)+h)>>0]|0;Kt[t>>0]=p;break}else{Kt[r>>0]=(l+2+s+(o<<1)|0)>>>2;Kt[t>>0]=(c+2+(s<<1)+o|0)>>>2;break}}while(0);l=t+n|0;h=t+(n+-1)|0;c=Qt[h>>0]|0;s=Qt[l>>0]|0;p=c-s|0;if(((p|0)>-1?p:0-p|0)>>>0>=(qt[u>>2]|0)>>>0){Zt=d;return}o=Qt[t+(n+-2)>>0]|0;p=o-c|0;r=qt[i+8>>2]|0;if(((p|0)>-1?p:0-p|0)>>>0>=r>>>0){Zt=d;return}a=Qt[t+(n+1)>>0]|0;p=a-s|0;if(((p|0)>-1?p:0-p|0)>>>0>=r>>>0){Zt=d;return}if(e>>>0<4){i=Qt[(qt[i>>2]|0)+(e+-1)>>0]|0;i=te(~i,i+1|0,4-a+(s-c<<2)+o>>3)|0;p=Kt[3472+((s|512)-i)>>0]|0;Kt[h>>0]=Kt[3472+((c|512)+i)>>0]|0;Kt[l>>0]=p;Zt=d}else{Kt[h>>0]=(c+2+a+(o<<1)|0)>>>2;Kt[l>>0]=(s+2+(a<<1)+o|0)>>>2;Zt=d}}function Ei(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;g=Zt;if(e>>>0<4){o=Qt[(qt[i>>2]|0)+(e+-1)>>0]|0;a=o+1|0;e=0-n|0;u=i+4|0;d=e<<1;r=i+8|0;o=~o;i=t;c=8;while(1){h=i+e|0;l=Kt[i+n>>0]|0;t=Qt[h>>0]|0;s=Qt[i>>0]|0;p=t-s|0;if((((p|0)>-1?p:0-p|0)>>>0<(qt[u>>2]|0)>>>0?(f=Qt[i+d>>0]|0,p=f-t|0,_=qt[r>>2]|0,((p|0)>-1?p:0-p|0)>>>0<_>>>0):0)?(m=l&255,p=m-s|0,((p|0)>-1?p:0-p|0)>>>0<_>>>0):0){l=te(o,a,4-m+(s-t<<2)+f>>3)|0;p=Kt[3472+((s|512)-l)>>0]|0;Kt[h>>0]=Kt[3472+((t|512)+l)>>0]|0;Kt[i>>0]=p}c=c+-1|0;if(!c)break;else i=i+1|0}Zt=g}else{h=0-n|0;l=i+4|0;c=h<<1;i=i+8|0;e=t;t=8;while(1){a=e+h|0;o=Kt[e+n>>0]|0;r=Qt[a>>0]|0;s=Qt[e>>0]|0;m=r-s|0;if((((m|0)>-1?m:0-m|0)>>>0<(qt[l>>2]|0)>>>0?(d=Qt[e+c>>0]|0,m=d-r|0,u=qt[i>>2]|0,((m|0)>-1?m:0-m|0)>>>0<u>>>0):0)?(p=o&255,m=p-s|0,((m|0)>-1?m:0-m|0)>>>0<u>>>0):0){Kt[a>>0]=(r+2+p+(d<<1)|0)>>>2;Kt[e>>0]=(s+2+(p<<1)+d|0)>>>2}t=t+-1|0;if(!t)break;else e=e+1|0}Zt=g}}function ie(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0;_=Zt;p=Qt[(qt[i>>2]|0)+(e+-1)>>0]|0;f=p+1|0;h=0-n|0;a=i+4|0;e=h<<1;d=i+8|0;p=~p;h=t+h|0;s=Kt[t+n>>0]|0;r=Qt[h>>0]|0;o=Qt[t>>0]|0;m=r-o|0;i=qt[a>>2]|0;if((((m|0)>-1?m:0-m|0)>>>0<i>>>0?(l=Qt[t+e>>0]|0,m=l-r|0,c=qt[d>>2]|0,((m|0)>-1?m:0-m|0)>>>0<c>>>0):0)?(u=s&255,m=u-o|0,((m|0)>-1?m:0-m|0)>>>0<c>>>0):0){m=te(p,f,4-u+(o-r<<2)+l>>3)|0;i=Kt[3472+((o|512)-m)>>0]|0;Kt[h>>0]=Kt[3472+((r|512)+m)>>0]|0;Kt[t>>0]=i;i=qt[a>>2]|0}o=t+1|0;r=t+(1-n)|0;s=Qt[r>>0]|0;h=Qt[o>>0]|0;m=s-h|0;if(((m|0)>-1?m:0-m|0)>>>0>=i>>>0){Zt=_;return}a=Qt[t+(e|1)>>0]|0;m=a-s|0;i=qt[d>>2]|0;if(((m|0)>-1?m:0-m|0)>>>0>=i>>>0){Zt=_;return}e=Qt[t+(n+1)>>0]|0;m=e-h|0;if(((m|0)>-1?m:0-m|0)>>>0>=i>>>0){Zt=_;return}n=te(p,f,4-e+(h-s<<2)+a>>3)|0;m=Kt[3472+((h|512)-n)>>0]|0;Kt[r>>0]=Kt[3472+((s|512)+n)>>0]|0;Kt[o>>0]=m;Zt=_}function Ai(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0;m=Zt;f=qt[e+4>>2]|0;_=qt[e+8>>2]|0;if(!((i|0)==0|(i|0)==5)?(qt[t+3384>>2]|0)==0:0)a=0;else{o=t+1220|0;n=0;do{a=z(o,n)|0;n=n+1|0}while(n>>>0<16&(a|0)==0)}d=t+1176|0;u=qt[d>>2]|0;if(u){c=qt[t+1212>>2]|0;n=0;h=0;o=0;do{if(qt[c+(h*216|0)+196>>2]|0)break;h=h+1|0;n=n+1|0;p=(n|0)==(f|0);o=(p&1)+o|0;n=p?0:n}while(h>>>0<u>>>0);if((h|0)!=(u|0)){p=t+1212|0;u=qt[p>>2]|0;d=$t(o,f)|0;if(n){s=t+1204|0;r=n;do{r=r+-1|0;c=r+d|0;Di(u+(c*216|0)|0,e,o,r,i,a);qt[u+(c*216|0)+196>>2]=1;qt[s>>2]=(qt[s>>2]|0)+1}while((r|0)!=0)}n=n+1|0;if(n>>>0<f>>>0){c=t+1204|0;do{l=n+d|0;h=u+(l*216|0)+196|0;if(!(qt[h>>2]|0)){Di(u+(l*216|0)|0,e,o,n,i,a);qt[h>>2]=1;qt[c>>2]=(qt[c>>2]|0)+1}n=n+1|0}while((n|0)!=(f|0))}if(o){if(f){c=o+-1|0;l=$t(c,f)|0;h=t+1204|0;s=0-f|0;n=0;do{r=c;u=(qt[p>>2]|0)+((n+l|0)*216|0)|0;while(1){Di(u,e,r,n,i,a);qt[u+196>>2]=1;qt[h>>2]=(qt[h>>2]|0)+1;if(!r)break;else{r=r+-1|0;u=u+(s*216|0)|0}}n=n+1|0}while((n|0)!=(f|0))}}else o=0;o=o+1|0;if(o>>>0>=_>>>0){Zt=m;return 0}c=t+1204|0;if(!f){Zt=m;return 0}do{h=qt[p>>2]|0;s=$t(o,f)|0;l=0;do{r=l+s|0;n=h+(r*216|0)+196|0;if(!(qt[n>>2]|0)){Di(h+(r*216|0)|0,e,o,l,i,a);qt[n>>2]=1;qt[c>>2]=(qt[c>>2]|0)+1}l=l+1|0}while((l|0)!=(f|0));o=o+1|0}while((o|0)!=(_|0));Zt=m;return 0}}if((i|0)==2|(i|0)==7)if((qt[t+3384>>2]|0)==0|(a|0)==0)o=13;else o=14;else if(!a)o=13;else o=14;if((o|0)==13)mt(qt[e>>2]|0,128,$t(f*384|0,_)|0);else if((o|0)==14)dn(qt[e>>2]|0,a,$t(f*384|0,_)|0);o=qt[d>>2]|0;qt[t+1204>>2]=o;if(!o){Zt=m;return 0}n=qt[t+1212>>2]|0;a=0;do{qt[n+(a*216|0)+8>>2]=1;a=a+1|0}while(a>>>0<o>>>0);Zt=m;return 0}function Di(t,e,i,N,n,a){t=t|0;e=e|0;i=i|0;N=N|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0,O=0,U=0,V=0,G=0,F=0,X=0,H=0,j=0,W=0,Y=0,z=0,K=0,J=0,q=0,Q=0,Z=0,$=0,tt=0,et=0,it=0,nt=0,at=0,ot=0,rt=0,st=0,ht=0,lt=0,w=0,ct=0,L=0,E=0,A=0,D=0,ut=0,R=0,dt=0,pt=0;dt=Zt;Zt=Zt+480|0;ut=dt+96|0;R=dt+32|0;s=dt+24|0;h=dt;A=qt[e+4>>2]|0;_=qt[e+8>>2]|0;ce(e,($t(A,i)|0)+N|0);u=qt[e>>2]|0;r=i<<4;o=N<<4;l=($t(i<<8,A)|0)+o|0;qt[t+20>>2]=40;qt[t+8>>2]=0;qt[t>>2]=6;qt[t+12>>2]=0;qt[t+16>>2]=0;qt[t+24>>2]=0;do{if((n|0)==2|(n|0)==7)mt(ut,0,384);else{qt[s>>2]=0;qt[h+4>>2]=A;qt[h+8>>2]=_;qt[h>>2]=a;if(!a){mt(ut,0,384);break}ft(ut,s,h,o,r,0,0,16,16);_t(e,ut);Zt=dt;return}}while(0);mt(R,0,64);if((i|0)!=0?(qt[t+((0-A|0)*216|0)+196>>2]|0)!=0:0){C=l-(A<<4)|0;m=C|1;k=C|3;m=(Qt[u+m>>0]|0)+(Qt[u+C>>0]|0)+(Qt[u+(m+1)>>0]|0)+(Qt[u+k>>0]|0)|0;D=C|7;k=(Qt[u+(k+2)>>0]|0)+(Qt[u+(k+1)>>0]|0)+(Qt[u+(k+3)>>0]|0)+(Qt[u+D>>0]|0)|0;T=(Qt[u+(D+2)>>0]|0)+(Qt[u+(D+1)>>0]|0)+(Qt[u+(D+3)>>0]|0)+(Qt[u+(D+4)>>0]|0)|0;C=(Qt[u+(D+6)>>0]|0)+(Qt[u+(D+5)>>0]|0)+(Qt[u+(D+7)>>0]|0)+(Qt[u+(C|15)>>0]|0)|0;D=k+m|0;qt[R>>2]=T+D+(qt[R>>2]|0)+C;p=R+4|0;qt[p>>2]=D-T-C+(qt[p>>2]|0);p=1}else{m=0;k=0;T=0;C=0;p=0}if((_+-1|0)!=(i|0)?(qt[t+(A*216|0)+196>>2]|0)!=0:0){S=l+(A<<8)|0;B=S|1;I=S|3;B=(Qt[u+B>>0]|0)+(Qt[u+S>>0]|0)+(Qt[u+(B+1)>>0]|0)+(Qt[u+I>>0]|0)|0;d=S|7;I=(Qt[u+(I+2)>>0]|0)+(Qt[u+(I+1)>>0]|0)+(Qt[u+(I+3)>>0]|0)+(Qt[u+d>>0]|0)|0;b=(Qt[u+(d+2)>>0]|0)+(Qt[u+(d+1)>>0]|0)+(Qt[u+(d+3)>>0]|0)+(Qt[u+(d+4)>>0]|0)|0;S=(Qt[u+(d+6)>>0]|0)+(Qt[u+(d+5)>>0]|0)+(Qt[u+(d+7)>>0]|0)+(Qt[u+(S|15)>>0]|0)|0;d=I+B|0;qt[R>>2]=b+d+(qt[R>>2]|0)+S;f=R+4|0;qt[f>>2]=d-b-S+(qt[f>>2]|0);f=1;d=p+1|0}else{f=0;B=0;I=0;b=0;S=0;d=p}if((N|0)!=0?(qt[t+-20>>2]|0)!=0:0){E=l+-1|0;D=A<<4;h=A<<5;g=A*48|0;P=(Qt[u+(E+D)>>0]|0)+(Qt[u+E>>0]|0)+(Qt[u+(E+h)>>0]|0)+(Qt[u+(E+g)>>0]|0)|0;a=A<<6;E=E+a|0;y=(Qt[u+(E+D)>>0]|0)+(Qt[u+E>>0]|0)+(Qt[u+(E+h)>>0]|0)+(Qt[u+(E+g)>>0]|0)|0;E=E+a|0;v=(Qt[u+(E+D)>>0]|0)+(Qt[u+E>>0]|0)+(Qt[u+(E+h)>>0]|0)+(Qt[u+(E+g)>>0]|0)|0;a=E+a|0;g=(Qt[u+(a+D)>>0]|0)+(Qt[u+a>>0]|0)+(Qt[u+(a+h)>>0]|0)+(Qt[u+(a+g)>>0]|0)|0;a=y+P|0;qt[R>>2]=v+a+(qt[R>>2]|0)+g;h=R+16|0;qt[h>>2]=a-v-g+(qt[h>>2]|0);h=d+1|0;a=1}else{h=d;P=0;y=0;v=0;g=0;a=0}do{if((A+-1|0)!=(N|0)?(qt[t+412>>2]|0)!=0:0){D=l+16|0;n=A<<4;r=A<<5;l=A*48|0;t=(Qt[u+(D+n)>>0]|0)+(Qt[u+D>>0]|0)+(Qt[u+(D+r)>>0]|0)+(Qt[u+(D+l)>>0]|0)|0;s=A<<6;D=D+s|0;o=(Qt[u+(D+n)>>0]|0)+(Qt[u+D>>0]|0)+(Qt[u+(D+r)>>0]|0)+(Qt[u+(D+l)>>0]|0)|0;D=D+s|0;c=(Qt[u+(D+n)>>0]|0)+(Qt[u+D>>0]|0)+(Qt[u+(D+r)>>0]|0)+(Qt[u+(D+l)>>0]|0)|0;s=D+s|0;l=(Qt[u+(s+n)>>0]|0)+(Qt[u+s>>0]|0)+(Qt[u+(s+r)>>0]|0)+(Qt[u+(s+l)>>0]|0)|0;h=h+1|0;u=a+1|0;s=o+t|0;qt[R>>2]=c+s+(qt[R>>2]|0)+l;r=R+16|0;s=s-c-l+(qt[r>>2]|0)|0;qt[r>>2]=s;r=(d|0)==0;n=(a|0)!=0;if(!(r&n)){if(!r){s=1;a=u;t=21;break}}else qt[R+4>>2]=v+g+y+P-t-o-c-l>>5;r=(p|0)!=0;o=(f|0)!=0;c=1;a=u;t=27}else t=17}while(0);if((t|0)==17){n=(a|0)!=0;if(!d){c=0;t=23}else{s=0;t=21}}if((t|0)==21){c=R+4|0;qt[c>>2]=qt[c>>2]>>d+3;c=s;t=23}do{if((t|0)==23){s=(a|0)==0;r=(p|0)!=0;o=(f|0)!=0;if(s&r&o){qt[R+16>>2]=T+C+k+m-S-b-I-B>>5;D=1;o=1;break}if(s)D=r;else{s=qt[R+16>>2]|0;t=27}}}while(0);if((t|0)==27){qt[R+16>>2]=s>>a+3;D=r}if((h|0)==3)qt[R>>2]=(qt[R>>2]|0)*21>>10;else if((h|0)==1)qt[R>>2]=qt[R>>2]>>4;else if((h|0)==2)qt[R>>2]=qt[R>>2]>>5;else qt[R>>2]=qt[R>>2]>>6;Ri(R);a=0;s=ut;r=R;while(1){h=qt[r+((a>>>2&3)<<2)>>2]|0;if((h|0)<0)h=0;else h=(h|0)>255?-1:h&255;Kt[s>>0]=h;h=a+1|0;if((h|0)==256)break;else{a=h;s=s+1|0;r=(h&63|0)==0?r+16|0:r}}pt=$t(_,A)|0;M=A<<3;lt=0-M|0;Q=lt|1;Z=Q+1|0;$=lt|3;tt=$+1|0;et=$+2|0;it=$+3|0;nt=lt|7;w=R+4|0;ct=A<<6;j=ct|1;W=j+1|0;Y=ct|3;z=Y+1|0;K=Y+2|0;J=Y+3|0;q=ct|7;O=M+-1|0;x=A<<4;U=x+-1|0;V=U+M|0;G=U+x|0;F=G+M|0;X=G+x|0;H=X+M|0;L=R+16|0;at=M+8|0;ot=x|8;rt=ot+M|0;st=ot+x|0;ht=st+M|0;x=st+x|0;M=x+M|0;E=pt<<6;r=k;s=T;f=C;a=B;h=I;t=b;_=S;T=0;l=P;u=y;d=v;p=g;k=(qt[e>>2]|0)+(($t(i<<6,A)|0)+(N<<3)+(pt<<8))|0;while(1){mt(R,0,64);if(D){m=(Qt[k+Q>>0]|0)+(Qt[k+lt>>0]|0)|0;r=(Qt[k+$>>0]|0)+(Qt[k+Z>>0]|0)|0;S=(Qt[k+et>>0]|0)+(Qt[k+tt>>0]|0)|0;b=(Qt[k+nt>>0]|0)+(Qt[k+it>>0]|0)|0;f=r+m|0;qt[R>>2]=S+f+(qt[R>>2]|0)+b;qt[w>>2]=f-S-b+(qt[w>>2]|0);f=1}else{S=s;b=f;f=0}if(o){I=(Qt[k+j>>0]|0)+(Qt[k+ct>>0]|0)|0;B=(Qt[k+Y>>0]|0)+(Qt[k+W>>0]|0)|0;C=(Qt[k+K>>0]|0)+(Qt[k+z>>0]|0)|0;_=(Qt[k+q>>0]|0)+(Qt[k+J>>0]|0)|0;s=B+I|0;qt[R>>2]=C+s+(qt[R>>2]|0)+_;qt[w>>2]=s-C-_+(qt[w>>2]|0);s=f+1|0}else{I=a;B=h;C=t;s=f}if(n){g=(Qt[k+O>>0]|0)+(Qt[k+-1>>0]|0)|0;v=(Qt[k+V>>0]|0)+(Qt[k+U>>0]|0)|0;y=(Qt[k+F>>0]|0)+(Qt[k+G>>0]|0)|0;P=(Qt[k+H>>0]|0)+(Qt[k+X>>0]|0)|0;f=v+g|0;qt[R>>2]=y+f+(qt[R>>2]|0)+P;qt[L>>2]=f-y-P+(qt[L>>2]|0);f=s+1|0;p=1}else{f=s;g=l;v=u;y=d;P=p;p=0}do{if(c){t=(Qt[k+at>>0]|0)+(Qt[k+8>>0]|0)|0;l=(Qt[k+rt>>0]|0)+(Qt[k+ot>>0]|0)|0;h=(Qt[k+ht>>0]|0)+(Qt[k+st>>0]|0)|0;a=(Qt[k+M>>0]|0)+(Qt[k+x>>0]|0)|0;f=f+1|0;p=p+1|0;u=l+t|0;qt[R>>2]=h+u+(qt[R>>2]|0)+a;u=u-h-a+(qt[L>>2]|0)|0;qt[L>>2]=u;d=(s|0)==0;if(!(d&n))if(d){t=54;break}else{t=49;break}else{qt[w>>2]=y+P+v+g-t-l-h-a>>4;t=54;break}}else if(!s){d=p;t=50}else t=49}while(0);if((t|0)==49){qt[w>>2]=qt[w>>2]>>s+2;d=p;t=50}do{if((t|0)==50){t=0;p=(d|0)==0;if(p&D&o){qt[L>>2]=S+b+r+m-_-C-B-I>>4;break}if(!p){u=qt[L>>2]|0;p=d;t=54}}}while(0);if((t|0)==54)qt[L>>2]=u>>p+2;if((f|0)==1)qt[R>>2]=qt[R>>2]>>3;else if((f|0)==2)qt[R>>2]=qt[R>>2]>>4;else if((f|0)==3)qt[R>>2]=(qt[R>>2]|0)*21>>9;else qt[R>>2]=qt[R>>2]>>5;Ri(R);p=0;d=ut+((T<<6)+256)|0;u=R;while(1){f=qt[u+((p>>>1&3)<<2)>>2]|0;if((f|0)<0)f=0;else f=(f|0)>255?-1:f&255;Kt[d>>0]=f;f=p+1|0;if((f|0)==64)break;else{p=f;d=d+1|0;u=(f&15|0)==0?u+16|0:u}}T=T+1|0;if((T|0)==2)break;else{s=S;f=b;a=I;h=B;t=C;l=g;u=v;d=y;p=P;k=k+E|0}}_t(e,ut);Zt=dt}function Ri(t){t=t|0;var e=0,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0;r=Zt;e=t+4|0;i=qt[e>>2]|0;n=t+16|0;a=qt[n>>2]|0;o=qt[t>>2]|0;if(!(i|a)){qt[t+60>>2]=o;qt[t+56>>2]=o;qt[t+52>>2]=o;qt[t+48>>2]=o;qt[t+44>>2]=o;qt[t+40>>2]=o;qt[t+36>>2]=o;qt[t+32>>2]=o;qt[t+28>>2]=o;qt[t+24>>2]=o;qt[t+20>>2]=o;qt[n>>2]=o;qt[t+12>>2]=o;qt[t+8>>2]=o;qt[e>>2]=o;Zt=r}else{l=i+o|0;s=i>>1;h=s+o|0;s=o-s|0;o=o-i|0;qt[t>>2]=a+l;n=a>>1;qt[t+16>>2]=n+l;qt[t+32>>2]=l-n;qt[t+48>>2]=l-a;qt[e>>2]=a+h;qt[t+20>>2]=n+h;qt[t+36>>2]=h-n;qt[t+52>>2]=h-a;qt[t+8>>2]=a+s;qt[t+24>>2]=n+s;qt[t+40>>2]=s-n;qt[t+56>>2]=s-a;qt[t+12>>2]=a+o;qt[t+28>>2]=n+o;qt[t+44>>2]=o-n;qt[t+60>>2]=o-a;Zt=r}}function Ni(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0;r=Zt;mt(e,0,952);i=k(t,1)|0;if((i|0)==-1){e=1;Zt=r;return e|0}a=(i|0)==1;qt[e>>2]=a&1;do{if(a){n=k(t,8)|0;if((n|0)==-1){e=1;Zt=r;return e|0}qt[e+4>>2]=n;if((n|0)==255){n=k(t,16)|0;if((n|0)==-1){e=1;Zt=r;return e|0}qt[e+8>>2]=n;i=k(t,16)|0;if((i|0)==-1){e=1;Zt=r;return e|0}else{qt[e+12>>2]=i;break}}}}while(0);i=k(t,1)|0;if((i|0)==-1){e=1;Zt=r;return e|0}a=(i|0)==1;qt[e+16>>2]=a&1;do{if(a){n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}else{qt[e+20>>2]=(n|0)==1&1;break}}}while(0);n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}a=(n|0)==1;qt[e+24>>2]=a&1;do{if(a){n=k(t,3)|0;if((n|0)==-1){e=1;Zt=r;return e|0}qt[e+28>>2]=n;n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}qt[e+32>>2]=(n|0)==1&1;n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}a=(n|0)==1;qt[e+36>>2]=a&1;if(!a){qt[e+40>>2]=2;qt[e+44>>2]=2;qt[e+48>>2]=2;break}n=k(t,8)|0;if((n|0)==-1){e=1;Zt=r;return e|0}qt[e+40>>2]=n;n=k(t,8)|0;if((n|0)==-1){e=1;Zt=r;return e|0}qt[e+44>>2]=n;n=k(t,8)|0;if((n|0)==-1){e=1;Zt=r;return e|0}else{qt[e+48>>2]=n;break}}else{qt[e+28>>2]=5;qt[e+40>>2]=2;qt[e+44>>2]=2;qt[e+48>>2]=2}}while(0);n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}a=(n|0)==1;qt[e+52>>2]=a&1;if(a){n=e+56|0;i=w(t,n)|0;if(i){e=i;Zt=r;return e|0}if((qt[n>>2]|0)>>>0>5){e=1;Zt=r;return e|0}n=e+60|0;i=w(t,n)|0;if(i){e=i;Zt=r;return e|0}if((qt[n>>2]|0)>>>0>5){e=1;Zt=r;return e|0}}n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}a=(n|0)==1;qt[e+64>>2]=a&1;do{if(a){n=V(t)|0;if((G(t,32)|0)==-1|(n|0)==0){e=1;Zt=r;return e|0}qt[e+68>>2]=n;n=V(t)|0;if((G(t,32)|0)==-1|(n|0)==0){e=1;Zt=r;return e|0}qt[e+72>>2]=n;n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}else{qt[e+76>>2]=(n|0)==1&1;break}}}while(0);n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}n=(n|0)==1;a=e+80|0;qt[a>>2]=n&1;if(n){n=Oi(t,e+84|0)|0;if(n){e=n;Zt=r;return e|0}}else{qt[e+84>>2]=1;qt[e+96>>2]=288000001;qt[e+224>>2]=288000001;qt[e+480>>2]=24;qt[e+484>>2]=24;qt[e+488>>2]=24;qt[e+492>>2]=24}n=k(t,1)|0;if((n|0)==-1){e=1;Zt=r;return e|0}i=(n|0)==1;n=e+496|0;qt[n>>2]=i&1;if(i){i=Oi(t,e+500|0)|0;if(i){e=i;Zt=r;return e|0}}else{qt[e+500>>2]=1;qt[e+512>>2]=240000001;qt[e+640>>2]=240000001;qt[e+896>>2]=24;qt[e+900>>2]=24;qt[e+904>>2]=24;qt[e+908>>2]=24}if(!((qt[a>>2]|0)==0?(qt[n>>2]|0)==0:0))o=46;do{if((o|0)==46){i=k(t,1)|0;if((i|0)==-1){e=1;Zt=r;return e|0}else{qt[e+912>>2]=(i|0)==1&1;break}}}while(0);i=k(t,1)|0;if((i|0)==-1){e=1;Zt=r;return e|0}qt[e+916>>2]=(i|0)==1&1;i=k(t,1)|0;if((i|0)==-1){e=1;Zt=r;return e|0}o=(i|0)==1;qt[e+920>>2]=o&1;do{if(o){i=k(t,1)|0;if((i|0)==-1){e=1;Zt=r;return e|0}qt[e+924>>2]=(i|0)==1&1;i=e+928|0;n=w(t,i)|0;if(n){e=n;Zt=r;return e|0}if((qt[i>>2]|0)>>>0>16){e=1;Zt=r;return e|0}n=e+932|0;i=w(t,n)|0;if(i){e=i;Zt=r;return e|0}if((qt[n>>2]|0)>>>0>16){e=1;Zt=r;return e|0}n=e+936|0;i=w(t,n)|0;if(i){e=i;Zt=r;return e|0}if((qt[n>>2]|0)>>>0>16){e=1;Zt=r;return e|0}n=e+940|0;i=w(t,n)|0;if(i){e=i;Zt=r;return e|0}if((qt[n>>2]|0)>>>0>16){e=1;Zt=r;return e|0}i=w(t,e+944|0)|0;if(i){e=i;Zt=r;return e|0}i=w(t,e+948|0)|0;if(!i)break;Zt=r;return i|0}else{qt[e+924>>2]=1;qt[e+928>>2]=2;qt[e+932>>2]=1;qt[e+936>>2]=16;qt[e+940>>2]=16;qt[e+944>>2]=16;qt[e+948>>2]=16}}while(0);e=0;Zt=r;return e|0}function Oi(t,e){t=t|0;e=e|0;var i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0;u=Zt;i=w(t,e)|0;t:do{if(!i){r=(qt[e>>2]|0)+1|0;qt[e>>2]=r;if((r>>>0<=32?(n=k(t,4)|0,(n|0)!=-1):0)?(s=e+4|0,qt[s>>2]=n,a=k(t,4)|0,(a|0)!=-1):0){r=e+8|0;qt[r>>2]=a;if(qt[e>>2]|0){o=0;do{a=e+(o<<2)+12|0;i=w(t,a)|0;if(i)break t;n=qt[a>>2]|0;if((n|0)==-1){i=1;break t}i=n+1|0;qt[a>>2]=i;qt[a>>2]=i<<(qt[s>>2]|0)+6;a=e+(o<<2)+140|0;i=w(t,a)|0;if(i)break t;n=qt[a>>2]|0;if((n|0)==-1){i=1;break t}i=n+1|0;qt[a>>2]=i;qt[a>>2]=i<<(qt[r>>2]|0)+4;i=k(t,1)|0;if((i|0)==-1){i=1;break t}qt[e+(o<<2)+268>>2]=(i|0)==1&1;o=o+1|0}while(o>>>0<(qt[e>>2]|0)>>>0)}i=k(t,5)|0;if((((i|0)!=-1?(qt[e+396>>2]=i+1,h=k(t,5)|0,(h|0)!=-1):0)?(qt[e+400>>2]=h+1,l=k(t,5)|0,(l|0)!=-1):0)?(qt[e+404>>2]=l+1,c=k(t,5)|0,(c|0)!=-1):0){qt[e+408>>2]=c;i=0}else i=1}else i=1}}while(0);Zt=u;return i|0}function Ui(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0;p=Zt;t:do{if(!(qt[i+284>>2]|0))d=0;else{r=0;while(1){s=qt[i+(r*20|0)+288>>2]|0;if((s|0)==5){d=1;break t}else if(!s)break;r=r+1|0}d=0}}while(0);s=qt[e+16>>2]|0;if(!s){if((qt[n>>2]|0)!=5){s=qt[t>>2]|0;r=qt[i+20>>2]|0;if(s>>>0>r>>>0?(o=qt[e+20>>2]|0,(s-r|0)>>>0>=o>>>1>>>0):0){h=r;a=t;s=(qt[t+4>>2]|0)+o|0}else{a=t;c=11}}else{qt[t+4>>2]=0;qt[t>>2]=0;a=t;r=qt[i+20>>2]|0;s=0;c=11}do{if((c|0)==11){if(r>>>0>s>>>0?(l=qt[e+20>>2]|0,(r-s|0)>>>0>l>>>1>>>0):0){h=r;s=(qt[t+4>>2]|0)-l|0;break}h=r;s=qt[t+4>>2]|0}}while(0);if(!(qt[n+4>>2]|0)){t=qt[i+24>>2]|0;t=h+s+((t|0)<0?t:0)|0;Zt=p;return t|0}qt[t+4>>2]=s;r=qt[i+24>>2]|0;o=(r|0)<0;if(!d){qt[a>>2]=h;t=h+s+(o?r:0)|0;Zt=p;return t|0}else{qt[t+4>>2]=0;qt[a>>2]=o?0-r|0:0;t=0;Zt=p;return t|0}}else if((s|0)==1){if((qt[n>>2]|0)!=5){a=qt[t+12>>2]|0;if((qt[t+8>>2]|0)>>>0>(qt[i+12>>2]|0)>>>0)a=(qt[e+12>>2]|0)+a|0}else a=0;c=qt[e+36>>2]|0;h=(c|0)==0;if(h)s=0;else s=(qt[i+12>>2]|0)+a|0;n=(qt[n+4>>2]|0)==0;s=((n&(s|0)!=0)<<31>>31)+s|0;l=(s|0)!=0;if(l){o=s+-1|0;u=(o>>>0)%(c>>>0)|0;o=(o>>>0)/(c>>>0)|0}else{u=0;o=0}if(h)s=0;else{h=qt[e+40>>2]|0;s=0;r=0;do{s=(qt[h+(r<<2)>>2]|0)+s|0;r=r+1|0}while(r>>>0<c>>>0)}if(l){r=$t(s,o)|0;s=qt[e+40>>2]|0;o=0;do{r=(qt[s+(o<<2)>>2]|0)+r|0;o=o+1|0}while(o>>>0<=u>>>0)}else r=0;if(n)s=(qt[e+28>>2]|0)+r|0;else s=r;o=(qt[i+32>>2]|0)+(qt[e+32>>2]|0)|0;r=t+12|0;if(!d){d=((o|0)<0?o:0)+s+(qt[i+28>>2]|0)|0;qt[r>>2]=a;qt[t+8>>2]=qt[i+12>>2];t=d;Zt=p;return t|0}else{qt[r>>2]=0;qt[t+8>>2]=0;t=0;Zt=p;return t|0}}else{if((qt[n>>2]|0)==5){s=t+12|0;o=0;a=0}else{a=qt[i+12>>2]|0;s=t+12|0;r=qt[s>>2]|0;if((qt[t+8>>2]|0)>>>0>a>>>0)r=(qt[e+12>>2]|0)+r|0;o=r;a=(a+r<<1)+(((qt[n+4>>2]|0)==0)<<31>>31)|0}if(!d){qt[s>>2]=o;qt[t+8>>2]=qt[i+12>>2];t=a;Zt=p;return t|0}else{qt[s>>2]=0;qt[t+8>>2]=0;t=0;Zt=p;return t|0}}return 0}function Vi(t,e){t=t|0;e=e|0;var i=0,n=0;i=Zt;Ge(t);n=_(2112)|0;qt[t+3376>>2]=n;if(n)if(!e)e=0;else{qt[t+1216>>2]=1;e=0}else e=1;Zt=i;return e|0}function Gi(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;var o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0;_=Zt;Zt=Zt+208|0;l=_+36|0;p=_;o=_+40|0;r=_+136|0;f=_+12|0;s=_+8|0;d=_+32|0;qt[s>>2]=0;c=t+3344|0;if((qt[c>>2]|0)!=0?(qt[t+3348>>2]|0)==(e|0):0){e=t+3356|0;qt[f+0>>2]=qt[e+0>>2];qt[f+4>>2]=qt[e+4>>2];qt[f+8>>2]=qt[e+8>>2];qt[f+12>>2]=qt[e+12>>2];qt[f+4>>2]=qt[f>>2];qt[f+8>>2]=0;qt[f+16>>2]=0;qt[a>>2]=qt[t+3352>>2]}else h=4;do{if((h|0)==4)if(!(ue(e,i,f,a)|0)){i=t+3356|0;qt[i+0>>2]=qt[f+0>>2];qt[i+4>>2]=qt[f+4>>2];qt[i+8>>2]=qt[f+8>>2];qt[i+12>>2]=qt[f+12>>2];qt[i+16>>2]=qt[f+16>>2];qt[t+3352>>2]=qt[a>>2];qt[t+3348>>2]=e;break}else{t=3;Zt=_;return t|0}}while(0);qt[c>>2]=0;if(De(f,p)|0){t=3;Zt=_;return t|0}if(((qt[p>>2]|0)+-1|0)>>>0>11){t=0;Zt=_;return t|0}e=Ke(f,p,t,s)|0;if(!e){do{if(!(qt[s>>2]|0))h=19;else{if((qt[t+1184>>2]|0)!=0?(qt[t+16>>2]|0)!=0:0){if(qt[t+3380>>2]|0){t=3;Zt=_;return t|0}if(!(qt[t+1188>>2]|0)){p=t+1220|0;f=t+1336|0;qt[f>>2]=vi(p)|0;bi(p);Ai(t,f,0)|0}else Ai(t,t+1336|0,qt[t+1372>>2]|0)|0;qt[a>>2]=0;qt[c>>2]=1;qt[t+1180>>2]=0;e=t+1360|0;i=t+1336|0;break}qt[t+1188>>2]=0;qt[t+1180>>2]=0;h=19}}while(0);do{if((h|0)==19){e=qt[p>>2]|0;if((e|0)==8)if(!(fe(f,r)|0)){Xe(t,r)|0;t=0;Zt=_;return t|0}else{t=r+20|0;m(qt[t>>2]|0);qt[t>>2]=0;t=r+24|0;m(qt[t>>2]|0);qt[t>>2]=0;t=r+28|0;m(qt[t>>2]|0);qt[t>>2]=0;t=r+44|0;m(qt[t>>2]|0);qt[t>>2]=0;t=3;Zt=_;return t|0}else if((e|0)==7)if(!(de(f,o)|0)){Fe(t,o)|0;t=0;Zt=_;return t|0}else{t=o+40|0;m(qt[t>>2]|0);qt[t>>2]=0;t=o+84|0;m(qt[t>>2]|0);qt[t>>2]=0;t=3;Zt=_;return t|0}else if((e|0)==1|(e|0)==5){h=t+1180|0;if(qt[t+1180>>2]|0){t=0;Zt=_;return t|0}qt[t+1184>>2]=1;if(We(t)|0){qt[t+1204>>2]=0;qt[t+1208>>2]=n;me(f,l)|0;s=t+8|0;i=qt[s>>2]|0;e=He(t,qt[l>>2]|0,(qt[p>>2]|0)==5&1)|0;if(e){qt[t+4>>2]=256;qt[t+12>>2]=0;qt[s>>2]=32;qt[t+16>>2]=0;qt[t+3380>>2]=0;t=(e|0)==65535?5:4;Zt=_;return t|0}if((i|0)!=(qt[s>>2]|0)){i=qt[t+16>>2]|0;qt[d>>2]=1;e=qt[t>>2]|0;if(e>>>0<32)e=qt[t+(e<<2)+20>>2]|0;else e=0;qt[a>>2]=0;qt[c>>2]=1;if((((((qt[p>>2]|0)==5?(f=be(d,f,i,qt[t+12>>2]|0,5)|0,(qt[d>>2]|f|0)==0):0)?(u=t+1220|0,!((qt[t+1276>>2]|0)!=0|(e|0)==0)):0)?(qt[e+52>>2]|0)==(qt[i+52>>2]|0):0)?(qt[e+56>>2]|0)==(qt[i+56>>2]|0):0)?(qt[e+88>>2]|0)==(qt[i+88>>2]|0):0)Ci(u);else qt[t+1280>>2]=0;qt[t>>2]=qt[s>>2];t=2;Zt=_;return t|0}}if(qt[t+3380>>2]|0){t=3;Zt=_;return t|0}r=t+1368|0;s=t+2356|0;e=t+16|0;if(_e(f,s,qt[e>>2]|0,qt[t+12>>2]|0,p)|0){t=3;Zt=_;return t|0}if(!(We(t)|0))i=t+1220|0;else{i=t+1220|0;if((qt[p>>2]|0)!=5?(Ii(i,qt[t+2368>>2]|0,(qt[p+4>>2]|0)!=0&1,qt[(qt[e>>2]|0)+48>>2]|0)|0)!=0:0){t=3;Zt=_;return t|0}qt[t+1336>>2]=vi(i)|0}gn(r|0,s|0,988)|0;qt[t+1188>>2]=1;e=t+1360|0;d=p;a=qt[d+4>>2]|0;p=e;qt[p>>2]=qt[d>>2];qt[p+4>>2]=a;ze(t,qt[t+1432>>2]|0);bi(i);if(mi(i,t+1436|0,qt[t+1380>>2]|0,qt[t+1412>>2]|0)|0){t=3;Zt=_;return t|0}i=t+1336|0;if(Ie(f,t,i,r)|0){Be(t,qt[r>>2]|0);t=3;Zt=_;return t|0}if(Ye(t)|0){qt[h>>2]=1;break}else{t=0;Zt=_;return t|0}}else{t=0;Zt=_;return t|0}}}while(0);xi(i,qt[t+1212>>2]|0);je(t);o=Ui(t+1284|0,qt[t+16>>2]|0,t+1368|0,e)|0;r=t+1188|0;do{if(qt[r>>2]|0){s=t+1220|0;if(!(qt[t+1364>>2]|0)){gi(s,0,i,qt[t+1380>>2]|0,o,(qt[e>>2]|0)==5&1,qt[t+1208>>2]|0,qt[t+1204>>2]|0)|0;break}else{gi(s,t+1644|0,i,qt[t+1380>>2]|0,o,(qt[e>>2]|0)==5&1,qt[t+1208>>2]|0,qt[t+1204>>2]|0)|0;break}}}while(0);qt[t+1184>>2]=0;qt[r>>2]=0;t=1;Zt=_;return t|0}else if((e|0)==65520){t=4;Zt=_;return t|0}else{t=3;Zt=_;return t|0}return 0}function Fi(t){t=t|0;var e=0,i=0,n=0,a=0;a=Zt;n=0;do{e=t+(n<<2)+20|0;i=qt[e>>2]|0;if(i){m(qt[i+40>>2]|0);qt[(qt[e>>2]|0)+40>>2]=0;m(qt[(qt[e>>2]|0)+84>>2]|0);qt[(qt[e>>2]|0)+84>>2]=0;m(qt[e>>2]|0);qt[e>>2]=0}n=n+1|0}while((n|0)!=32);n=0;do{i=t+(n<<2)+148|0;e=qt[i>>2]|0;if(e){m(qt[e+20>>2]|0);qt[(qt[i>>2]|0)+20>>2]=0;m(qt[(qt[i>>2]|0)+24>>2]|0);qt[(qt[i>>2]|0)+24>>2]=0;m(qt[(qt[i>>2]|0)+28>>2]|0);qt[(qt[i>>2]|0)+28>>2]=0;m(qt[(qt[i>>2]|0)+44>>2]|0);qt[(qt[i>>2]|0)+44>>2]=0;m(qt[i>>2]|0);qt[i>>2]=0}n=n+1|0}while((n|0)!=256);n=t+3376|0;m(qt[n>>2]|0);qt[n>>2]=0;n=t+1212|0;m(qt[n>>2]|0);qt[n>>2]=0;n=t+1172|0;m(qt[n>>2]|0);qt[n>>2]=0;Si(t+1220|0);Zt=a}function Xi(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var a=0;a=Zt;t=Bi(t+1220|0)|0;if(!t){e=0;Zt=a;return e|0}qt[e>>2]=qt[t+4>>2];qt[i>>2]=qt[t+12>>2];qt[n>>2]=qt[t+8>>2];e=qt[t>>2]|0;Zt=a;return e|0}function Hi(t){t=t|0;t=qt[t+16>>2]|0;if(!t)t=0;else t=qt[t+52>>2]|0;return t|0}function ji(t){t=t|0;t=qt[t+16>>2]|0;if(!t)t=0;else t=qt[t+56>>2]|0;return t|0}function Wi(t){t=t|0;var e=0;e=Zt;Ci(t+1220|0);Zt=e}function Yi(t){t=t|0;var e=0;e=Zt;t=(Je(t)|0)==0&1;Zt=e;return t|0}function zi(t){t=t|0;var e=0,i=0;i=Zt;t=qt[t+16>>2]|0;if(((((t|0)!=0?(qt[t+80>>2]|0)!=0:0)?(e=qt[t+84>>2]|0,(e|0)!=0):0)?(qt[e+24>>2]|0)!=0:0)?(qt[e+32>>2]|0)!=0:0){e=1;Zt=i;return e|0}e=0;Zt=i;return e|0}function Ki(t){t=t|0;var e=0,i=0;i=Zt;t=qt[t+16>>2]|0;if(((((t|0)!=0?(qt[t+80>>2]|0)!=0:0)?(e=qt[t+84>>2]|0,(e|0)!=0):0)?(qt[e+24>>2]|0)!=0:0)?(qt[e+36>>2]|0)!=0:0)t=qt[e+48>>2]|0;else t=2;Zt=i;return t|0}function Ji(t,e,i,n,a,o){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;var r=0;r=Zt;t=qt[t+16>>2]|0;if((t|0)!=0?(qt[t+60>>2]|0)!=0:0){qt[e>>2]=1;e=t+64|0;qt[i>>2]=qt[e>>2]<<1;qt[n>>2]=(qt[t+52>>2]<<4)-((qt[t+68>>2]|0)+(qt[e>>2]|0)<<1);n=t+72|0;qt[a>>2]=qt[n>>2]<<1;n=(qt[t+56>>2]<<4)-((qt[t+76>>2]|0)+(qt[n>>2]|0)<<1)|0;qt[o>>2]=n;Zt=r;return}qt[e>>2]=0;qt[i>>2]=0;qt[n>>2]=0;qt[a>>2]=0;n=0;qt[o>>2]=n;Zt=r}function qi(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0;a=Zt;t=qt[t+16>>2]|0;t:do{if((((t|0)!=0?(qt[t+80>>2]|0)!=0:0)?(n=qt[t+84>>2]|0,(n|0)!=0):0)?(qt[n>>2]|0)!=0:0){t=qt[n+4>>2]|0;do{switch(t|0){case 2:{n=11;t=12;break t}case 3:{n=11;t=10;break t}case 4:{n=11;t=16;break t}case 5:{n=33;t=40;break t}case 6:{n=11;t=24;break t}case 7:{n=11;t=20;break t}case 8:{n=11;t=32;break t}case 9:{n=33;t=80;break t}case 10:{n=11;t=18;break t}case 11:{n=11;t=15;break t}case 12:{n=33;t=64;break t}case 13:{n=99;t=160;break t}case 255:{t=qt[n+8>>2]|0;n=qt[n+12>>2]|0;o=(t|0)==0|(n|0)==0;n=o?0:n;t=o?0:t;break t}case 1:case 0:{n=t;break t}default:{n=0;t=0;break t}}}while(0)}else{n=1;t=1}}while(0);qt[e>>2]=t;qt[i>>2]=n;Zt=a}function Qi(t){t=t|0;t=qt[t+16>>2]|0;if(!t)t=0;else t=qt[t>>2]|0;return t|0}function Zi(t,e){t=t|0;e=e|0;var i=0,n=0,a=0;a=Zt;do{if(t){i=_(3396)|0;if(i){n=i+8|0;if(!(Vi(n,e)|0)){qt[i>>2]=1;qt[i+4>>2]=0;qt[t>>2]=i;i=0;break}else{Fi(n);m(i);i=-4;break}}else i=-4}else i=-1}while(0);Zt=a;return i|0}function $i(t,e){t=t|0;e=e|0;var i=0,n=0;n=Zt;if((t|0)==0|(e|0)==0){e=-1;Zt=n;return e|0}i=t+8|0;if(!(qt[t+24>>2]|0)){e=-6;Zt=n;return e|0}if(!(qt[t+20>>2]|0)){e=-6;Zt=n;return e|0}qt[e+4>>2]=(Hi(i)|0)<<4;qt[e+8>>2]=(ji(i)|0)<<4;qt[e+12>>2]=zi(i)|0;qt[e+16>>2]=Ki(i)|0;Ji(i,e+28|0,e+32|0,e+36|0,e+40|0,e+44|0);qi(i,e+20|0,e+24|0);qt[e>>2]=Qi(i)|0;e=0;Zt=n;return e|0}function tn(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0;c=Zt;Zt=Zt+16|0;h=c;t:do{if((!((e|0)==0|(i|0)==0)?(a=qt[e>>2]|0,(a|0)!=0):0)?(o=qt[e+4>>2]|0,(o|0)!=0):0)if((t|0)!=0?(n=qt[t>>2]|0,(n|0)!=0):0){qt[i>>2]=0;qt[h>>2]=0;s=t+8|0;qt[t+3392>>2]=qt[e+12>>2];r=e+8|0;e=1;while(1){if((n|0)==2){l=8;break}n=Gi(s,a,o,qt[r>>2]|0,h)|0;u=qt[h>>2]|0;a=a+u|0;o=o-u|0;o=(o|0)<0?0:o;qt[i>>2]=a;if((n|0)==4){u=(Yi(s)|0|o|0)==0;e=u?-2:e}else if((n|0)==5){e=-4;break t}else if((n|0)==2)break;else if((n|0)==1){l=13;break}if(!o)break t;n=qt[t>>2]|0}if((l|0)==8){qt[t>>2]=1;qt[i>>2]=a+(qt[h>>2]|0)}else if((l|0)==13){e=t+4|0;qt[e>>2]=(qt[e>>2]|0)+1;e=(o|0)==0?2:3;break}e=t+1288|0;if((qt[e>>2]|0)!=0?(qt[t+1244>>2]|0)!=(qt[t+1248>>2]|0):0){qt[e>>2]=0;qt[t>>2]=2;e=3}else e=4}else e=-3;else e=-1}while(0);Zt=c;return e|0}function en(t){t=t|0;qt[t>>2]=2;qt[t+4>>2]=3}function nn(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0;r=Zt;Zt=Zt+16|0;a=r+8|0;n=r+4|0;o=r;if((t|0)==0|(e|0)==0){o=-1;Zt=r;return o|0}t=t+8|0;if(i)Wi(t);t=Xi(t,o,n,a)|0;if(!t){o=0;Zt=r;return o|0}qt[e>>2]=t;qt[e+4>>2]=qt[o>>2];qt[e+8>>2]=qt[n>>2];qt[e+12>>2]=qt[a>>2];o=2;Zt=r;return o|0}function an(t){t=t|0;var e=0,i=0;i=Zt;e=pn(t)|0;qt[1792]=e;qt[1791]=e;qt[1790]=t;qt[1793]=e+t;Zt=i;return e|0}function on(t){t=t|0;qt[1790]=t;return}function rn(){var t=0;t=Zt;qt[1786]=qt[1791];qt[1787]=qt[1790];do{hn()|0}while((qt[1787]|0)!=0);Zt=t;return}function sn(){var t=0,e=0;e=Zt;if(Zi(7176,0)|0){bt(7280)|0;t=qt[1784]|0;if(t)fn(t)}else{qt[1796]=1;qt[1798]=1}Zt=e;return-1}function hn(){var t=0,e=0,i=0;e=Zt;qt[1788]=qt[1798];t=tn(qt[1794]|0,7144,7200)|0;switch(t|0){case 4:{if($i(qt[1794]|0,7208)|0){t=-1;Zt=e;return t|0}qt[1814]=($t((qt[1803]|0)*3|0,qt[1804]|0)|0)>>>1;Dt();t=qt[1800]|0;qt[1787]=(qt[1786]|0)-t+(qt[1787]|0);qt[1786]=t;t=0;Zt=e;return t|0}case 2:{qt[1787]=0;break}case 3:{i=qt[1800]|0;qt[1787]=(qt[1786]|0)-i+(qt[1787]|0);qt[1786]=i;break}case 1:case-2:{qt[1787]=0;i=t;Zt=e;return i|0}default:{i=t;Zt=e;return i|0}}qt[1798]=(qt[1798]|0)+1;if((nn(qt[1794]|0,7264,0)|0)!=2){i=t;Zt=e;return i|0}do{qt[1796]=(qt[1796]|0)+1;St(qt[1816]|0,qt[1803]|0,qt[1804]|0)}while((nn(qt[1794]|0,7264,0)|0)==2);Zt=e;return t|0}function ln(){var t=0,e=0;e=Zt;t=qt[1784]|0;if(t)fn(t);Zt=e;return}function cn(){var t=0,e=0;e=Zt;Zt=Zt+16|0;t=e;en(t);Zt=e;return qt[t>>2]|0}function un(){var t=0,e=0;e=Zt;Zt=Zt+16|0;t=e;en(t);Zt=e;return qt[t+4>>2]|0}function _(t){t=t|0;var e=0;e=Zt;t=pn(t)|0;Zt=e;return t|0}function m(t){t=t|0;var e=0;e=Zt;fn(t);Zt=e}function dn(t,e,i){t=t|0;e=e|0;i=i|0;var n=0;n=Zt;gn(t|0,e|0,i|0)|0;Zt=n}function mt(t,e,i){t=t|0;e=e|0;i=i|0;var n=0;n=Zt;b(t|0,e&255|0,i|0)|0;Zt=n}function pn(t){t=t|0;var e=0,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=0,T=0,x=0,M=0,w=0,L=0,E=0,A=0,D=0,R=0;R=Zt;do{if(t>>>0<245){if(t>>>0<11)p=16;else p=t+11&-8;t=p>>>3;l=qt[1828]|0;h=l>>>t;if(h&3){n=(h&1^1)+t|0;a=n<<1;e=7352+(a<<2)|0;a=7352+(a+2<<2)|0;o=qt[a>>2]|0;r=o+8|0;s=qt[r>>2]|0;do{if((e|0)!=(s|0)){if(s>>>0<(qt[1832]|0)>>>0)N();i=s+12|0;if((qt[i>>2]|0)==(o|0)){qt[i>>2]=e;qt[a>>2]=s;break}else N()}else qt[1828]=l&~(1<<n)}while(0);D=n<<3;qt[o+4>>2]=D|3;D=o+(D|4)|0;qt[D>>2]=qt[D>>2]|1;D=r;Zt=R;return D|0}s=qt[1830]|0;if(p>>>0>s>>>0){if(h){a=2<<t;a=h<<t&(a|0-a);a=(a&0-a)+-1|0;t=a>>>12&16;a=a>>>t;n=a>>>5&8;a=a>>>n;i=a>>>2&4;a=a>>>i;o=a>>>1&2;a=a>>>o;r=a>>>1&1;r=(n|t|i|o|r)+(a>>>r)|0;a=r<<1;o=7352+(a<<2)|0;a=7352+(a+2<<2)|0;i=qt[a>>2]|0;t=i+8|0;n=qt[t>>2]|0;do{if((o|0)!=(n|0)){if(n>>>0<(qt[1832]|0)>>>0)N();s=n+12|0;if((qt[s>>2]|0)==(i|0)){qt[s>>2]=o;qt[a>>2]=n;c=qt[1830]|0;break}else N()}else{qt[1828]=l&~(1<<r);c=s}}while(0);D=r<<3;e=D-p|0;qt[i+4>>2]=p|3;h=i+p|0;qt[i+(p|4)>>2]=e|1;qt[i+D>>2]=e;if(c){n=qt[1833]|0;o=c>>>3;s=o<<1;a=7352+(s<<2)|0;r=qt[1828]|0;o=1<<o;if(r&o){r=7352+(s+2<<2)|0;s=qt[r>>2]|0;if(s>>>0<(qt[1832]|0)>>>0)N();else{u=r;d=s}}else{qt[1828]=r|o;u=7352+(s+2<<2)|0;d=a}qt[u>>2]=n;qt[d+12>>2]=n;qt[n+8>>2]=d;qt[n+12>>2]=a}qt[1830]=e;qt[1833]=h;D=t;Zt=R;return D|0}h=qt[1829]|0;if(h){l=(h&0-h)+-1|0;A=l>>>12&16;l=l>>>A;E=l>>>5&8;l=l>>>E;D=l>>>2&4;l=l>>>D;s=l>>>1&2;l=l>>>s;c=l>>>1&1;c=qt[7616+((E|A|D|s|c)+(l>>>c)<<2)>>2]|0;l=(qt[c+4>>2]&-8)-p|0;s=c;while(1){i=qt[s+16>>2]|0;if(!i){i=qt[s+20>>2]|0;if(!i)break}s=(qt[i+4>>2]&-8)-p|0;D=s>>>0<l>>>0;l=D?s:l;s=i;c=D?i:c}h=qt[1832]|0;if(c>>>0<h>>>0)N();e=c+p|0;if(c>>>0>=e>>>0)N();t=qt[c+24>>2]|0;o=qt[c+12>>2]|0;do{if((o|0)==(c|0)){r=c+20|0;s=qt[r>>2]|0;if(!s){r=c+16|0;s=qt[r>>2]|0;if(!s){n=0;break}}while(1){o=s+20|0;a=qt[o>>2]|0;if(a){s=a;r=o;continue}o=s+16|0;a=qt[o>>2]|0;if(!a)break;else{s=a;r=o}}if(r>>>0<h>>>0)N();else{qt[r>>2]=0;n=s;break}}else{a=qt[c+8>>2]|0;if(a>>>0<h>>>0)N();s=a+12|0;if((qt[s>>2]|0)!=(c|0))N();r=o+8|0;if((qt[r>>2]|0)==(c|0)){qt[s>>2]=o;qt[r>>2]=a;n=o;break}else N()}}while(0);do{if(t){s=qt[c+28>>2]|0;r=7616+(s<<2)|0;if((c|0)==(qt[r>>2]|0)){qt[r>>2]=n;if(!n){qt[1829]=qt[1829]&~(1<<s);break}}else{if(t>>>0<(qt[1832]|0)>>>0)N();s=t+16|0;if((qt[s>>2]|0)==(c|0))qt[s>>2]=n;else qt[t+20>>2]=n;if(!n)break}r=qt[1832]|0;if(n>>>0<r>>>0)N();qt[n+24>>2]=t;s=qt[c+16>>2]|0;do{if(s)if(s>>>0<r>>>0)N();else{qt[n+16>>2]=s;qt[s+24>>2]=n;break}}while(0);s=qt[c+20>>2]|0;if(s)if(s>>>0<(qt[1832]|0)>>>0)N();else{qt[n+20>>2]=s;qt[s+24>>2]=n;break}}}while(0);if(l>>>0<16){D=l+p|0;qt[c+4>>2]=D|3;D=c+(D+4)|0;qt[D>>2]=qt[D>>2]|1}else{qt[c+4>>2]=p|3;qt[c+(p|4)>>2]=l|1;qt[c+(l+p)>>2]=l;i=qt[1830]|0;if(i){n=qt[1833]|0;o=i>>>3;s=o<<1;a=7352+(s<<2)|0;r=qt[1828]|0;o=1<<o;if(r&o){s=7352+(s+2<<2)|0;r=qt[s>>2]|0;if(r>>>0<(qt[1832]|0)>>>0)N();else{_=s;f=r}}else{qt[1828]=r|o;_=7352+(s+2<<2)|0;f=a}qt[_>>2]=n;qt[f+12>>2]=n;qt[n+8>>2]=f;qt[n+12>>2]=a}qt[1830]=l;qt[1833]=e}D=c+8|0;Zt=R;return D|0}}}else if(t>>>0<=4294967231){t=t+11|0;p=t&-8;c=qt[1829]|0;if(c){s=0-p|0;t=t>>>8;if(t)if(p>>>0>16777215)l=31;else{f=(t+1048320|0)>>>16&8;_=t<<f;d=(_+520192|0)>>>16&4;_=_<<d;l=(_+245760|0)>>>16&2;l=14-(d|f|l)+(_<<l>>>15)|0;l=p>>>(l+7|0)&1|l<<1}else l=0;r=qt[7616+(l<<2)>>2]|0;t:do{if(!r){t=0;h=0}else{if((l|0)==31)h=0;else h=25-(l>>>1)|0;a=s;t=0;n=p<<h;h=0;while(1){o=qt[r+4>>2]&-8;s=o-p|0;if(s>>>0<a>>>0)if((o|0)==(p|0)){t=r;h=r;break t}else h=r;else s=a;_=qt[r+20>>2]|0;r=qt[r+(n>>>31<<2)+16>>2]|0;t=(_|0)==0|(_|0)==(r|0)?t:_;if(!r)break;else{a=s;n=n<<1}}}}while(0);if((t|0)==0&(h|0)==0){t=2<<l;t=c&(t|0-t);if(!t)break;_=(t&0-t)+-1|0;u=_>>>12&16;_=_>>>u;c=_>>>5&8;_=_>>>c;d=_>>>2&4;_=_>>>d;f=_>>>1&2;_=_>>>f;t=_>>>1&1;t=qt[7616+((c|u|d|f|t)+(_>>>t)<<2)>>2]|0}if(!t){u=s;c=h}else while(1){_=(qt[t+4>>2]&-8)-p|0;r=_>>>0<s>>>0;s=r?_:s;h=r?t:h;r=qt[t+16>>2]|0;if(r){t=r;continue}t=qt[t+20>>2]|0;if(!t){u=s;c=h;break}}if((c|0)!=0?u>>>0<((qt[1830]|0)-p|0)>>>0:0){h=qt[1832]|0;if(c>>>0<h>>>0)N();d=c+p|0;if(c>>>0>=d>>>0)N();t=qt[c+24>>2]|0;o=qt[c+12>>2]|0;do{if((o|0)==(c|0)){r=c+20|0;s=qt[r>>2]|0;if(!s){r=c+16|0;s=qt[r>>2]|0;if(!s){i=0;break}}while(1){o=s+20|0;a=qt[o>>2]|0;if(a){s=a;r=o;continue}o=s+16|0;a=qt[o>>2]|0;if(!a)break;else{s=a;r=o}}if(r>>>0<h>>>0)N();else{qt[r>>2]=0;i=s;break}}else{a=qt[c+8>>2]|0;if(a>>>0<h>>>0)N();s=a+12|0;if((qt[s>>2]|0)!=(c|0))N();r=o+8|0;if((qt[r>>2]|0)==(c|0)){qt[s>>2]=o;qt[r>>2]=a;i=o;break}else N()}}while(0);do{if(t){s=qt[c+28>>2]|0;r=7616+(s<<2)|0;if((c|0)==(qt[r>>2]|0)){qt[r>>2]=i;if(!i){qt[1829]=qt[1829]&~(1<<s);break}}else{if(t>>>0<(qt[1832]|0)>>>0)N();s=t+16|0;if((qt[s>>2]|0)==(c|0))qt[s>>2]=i;else qt[t+20>>2]=i;if(!i)break}r=qt[1832]|0;if(i>>>0<r>>>0)N();qt[i+24>>2]=t;s=qt[c+16>>2]|0;do{if(s)if(s>>>0<r>>>0)N();else{qt[i+16>>2]=s;qt[s+24>>2]=i;break}}while(0);s=qt[c+20>>2]|0;if(s)if(s>>>0<(qt[1832]|0)>>>0)N();else{qt[i+20>>2]=s;qt[s+24>>2]=i;break}}}while(0);t:do{if(u>>>0>=16){qt[c+4>>2]=p|3;qt[c+(p|4)>>2]=u|1;qt[c+(u+p)>>2]=u;s=u>>>3;if(u>>>0<256){r=s<<1;a=7352+(r<<2)|0;o=qt[1828]|0;s=1<<s;do{if(!(o&s)){qt[1828]=o|s;e=7352+(r+2<<2)|0;g=a}else{s=7352+(r+2<<2)|0;r=qt[s>>2]|0;if(r>>>0>=(qt[1832]|0)>>>0){e=s;g=r;break}N()}}while(0);qt[e>>2]=d;qt[g+12>>2]=d;qt[c+(p+8)>>2]=g;qt[c+(p+12)>>2]=a;break}i=u>>>8;if(i)if(u>>>0>16777215)a=31;else{A=(i+1048320|0)>>>16&8;D=i<<A;E=(D+520192|0)>>>16&4;D=D<<E;a=(D+245760|0)>>>16&2;a=14-(E|A|a)+(D<<a>>>15)|0;a=u>>>(a+7|0)&1|a<<1}else a=0;s=7616+(a<<2)|0;qt[c+(p+28)>>2]=a;qt[c+(p+20)>>2]=0;qt[c+(p+16)>>2]=0;r=qt[1829]|0;o=1<<a;if(!(r&o)){qt[1829]=r|o;qt[s>>2]=d;qt[c+(p+24)>>2]=s;qt[c+(p+12)>>2]=d;qt[c+(p+8)>>2]=d;break}s=qt[s>>2]|0;if((a|0)==31)i=0;else i=25-(a>>>1)|0;e:do{if((qt[s+4>>2]&-8|0)!=(u|0)){a=u<<i;while(1){o=s+(a>>>31<<2)+16|0;r=qt[o>>2]|0;if(!r)break;if((qt[r+4>>2]&-8|0)==(u|0)){y=r;break e}else{a=a<<1;s=r}}if(o>>>0<(qt[1832]|0)>>>0)N();else{qt[o>>2]=d;qt[c+(p+24)>>2]=s;qt[c+(p+12)>>2]=d;qt[c+(p+8)>>2]=d;break t}}else y=s}while(0);i=y+8|0;e=qt[i>>2]|0;D=qt[1832]|0;if(y>>>0>=D>>>0&e>>>0>=D>>>0){qt[e+12>>2]=d;qt[i>>2]=d;qt[c+(p+8)>>2]=e;qt[c+(p+12)>>2]=y;qt[c+(p+24)>>2]=0;break}else N()}else{D=u+p|0;qt[c+4>>2]=D|3;D=c+(D+4)|0;qt[D>>2]=qt[D>>2]|1}}while(0);D=c+8|0;Zt=R;return D|0}}}else p=-1}while(0);h=qt[1830]|0;if(h>>>0>=p>>>0){e=h-p|0;i=qt[1833]|0;if(e>>>0>15){qt[1833]=i+p;qt[1830]=e;qt[i+(p+4)>>2]=e|1;qt[i+h>>2]=e;qt[i+4>>2]=p|3}else{qt[1830]=0;qt[1833]=0;qt[i+4>>2]=h|3;D=i+(h+4)|0;qt[D>>2]=qt[D>>2]|1}D=i+8|0;Zt=R;return D|0}h=qt[1831]|0;if(h>>>0>p>>>0){A=h-p|0;qt[1831]=A;D=qt[1834]|0;qt[1834]=D+p;qt[D+(p+4)>>2]=A|1;qt[D+4>>2]=p|3;D=D+8|0;Zt=R;return D|0}do{if(!(qt[1946]|0)){h=Ot(30)|0;if(!(h+-1&h)){qt[1948]=h;qt[1947]=h;qt[1949]=-1;qt[1950]=-1;qt[1951]=0;qt[1939]=0;qt[1946]=(Nt(0)|0)&-16^1431655768;break}else N()}}while(0);l=p+48|0;o=qt[1948]|0;a=p+47|0;r=o+a|0;o=0-o|0;c=r&o;if(c>>>0<=p>>>0){D=0;Zt=R;return D|0}t=qt[1938]|0;if((t|0)!=0?(g=qt[1936]|0,y=g+c|0,y>>>0<=g>>>0|y>>>0>t>>>0):0){D=0;Zt=R;return D|0}t:do{if(!(qt[1939]&4)){s=qt[1834]|0;e:do{if(s){t=7760|0;while(1){h=qt[t>>2]|0;if(h>>>0<=s>>>0?(m=t+4|0,(h+(qt[m>>2]|0)|0)>>>0>s>>>0):0)break;t=qt[t+8>>2]|0;if(!t){B=181;break e}}if(t){h=r-(qt[1831]|0)&o;if(h>>>0<2147483647){s=O(h|0)|0;if((s|0)==((qt[t>>2]|0)+(qt[m>>2]|0)|0))B=190;else B=191}else h=0}else B=181}else B=181}while(0);do{if((B|0)==181){s=O(0)|0;if((s|0)!=(-1|0)){t=s;h=qt[1947]|0;r=h+-1|0;if(!(r&t))h=c;else h=c-t+(r+t&0-h)|0;t=qt[1936]|0;r=t+h|0;if(h>>>0>p>>>0&h>>>0<2147483647){y=qt[1938]|0;if((y|0)!=0?r>>>0<=t>>>0|r>>>0>y>>>0:0){h=0;break}r=O(h|0)|0;if((r|0)==(s|0))B=190;else{s=r;B=191}}else h=0}else h=0}}while(0);e:do{if((B|0)==190){if((s|0)!=(-1|0)){P=s;m=h;B=201;break t}}else if((B|0)==191){r=0-h|0;do{if((s|0)!=(-1|0)&h>>>0<2147483647&l>>>0>h>>>0?(v=qt[1948]|0,v=a-h+v&0-v,v>>>0<2147483647):0)if((O(v|0)|0)==(-1|0)){O(r|0)|0;h=0;break e}else{h=v+h|0;break}}while(0);if((s|0)==(-1|0))h=0;else{P=s;m=h;B=201;break t}}}while(0);qt[1939]=qt[1939]|4;B=198}else{h=0;B=198}}while(0);if((((B|0)==198?c>>>0<2147483647:0)?(P=O(c|0)|0,S=O(0)|0,(P|0)!=(-1|0)&(S|0)!=(-1|0)&P>>>0<S>>>0):0)?(b=S-P|0,I=b>>>0>(p+40|0)>>>0,I):0){m=I?b:h;B=201}if((B|0)==201){s=(qt[1936]|0)+m|0;qt[1936]=s;if(s>>>0>(qt[1937]|0)>>>0)qt[1937]=s;d=qt[1834]|0;t:do{if(d){a=7760|0;while(1){h=qt[a>>2]|0;s=a+4|0;r=qt[s>>2]|0;if((P|0)==(h+r|0)){B=213;break}o=qt[a+8>>2]|0;if(!o)break;else a=o}if(((B|0)==213?(qt[a+12>>2]&8|0)==0:0)?d>>>0>=h>>>0&d>>>0<P>>>0:0){qt[s>>2]=r+m;e=(qt[1831]|0)+m|0;i=d+8|0;if(!(i&7))i=0;else i=0-i&7;D=e-i|0;qt[1834]=d+i;qt[1831]=D;qt[d+(i+4)>>2]=D|1;qt[d+(e+4)>>2]=40;qt[1835]=qt[1950];break}h=qt[1832]|0;if(P>>>0<h>>>0){qt[1832]=P;h=P}s=P+m|0;o=7760|0;while(1){if((qt[o>>2]|0)==(s|0)){B=223;break}r=qt[o+8>>2]|0;if(!r)break;else o=r}if((B|0)==223?(qt[o+12>>2]&8|0)==0:0){qt[o>>2]=P;s=o+4|0;qt[s>>2]=(qt[s>>2]|0)+m;s=P+8|0;if(!(s&7))_=0;else _=0-s&7;s=P+(m+8)|0;if(!(s&7))l=0;else l=0-s&7;s=P+(l+m)|0;u=_+p|0;f=P+u|0;e=s-(P+_)-p|0;qt[P+(_+4)>>2]=p|3;e:do{if((s|0)!=(d|0)){if((s|0)==(qt[1833]|0)){D=(qt[1830]|0)+e|0;qt[1830]=D;qt[1833]=f;qt[P+(u+4)>>2]=D|1;qt[P+(D+u)>>2]=D;break}i=m+4|0;r=qt[P+(i+l)>>2]|0;if((r&3|0)==1){c=r&-8;n=r>>>3;i:do{if(r>>>0>=256){t=qt[P+((l|24)+m)>>2]|0;o=qt[P+(m+12+l)>>2]|0;do{if((o|0)==(s|0)){o=l|16;a=P+(i+o)|0;r=qt[a>>2]|0;if(!r){o=P+(o+m)|0;r=qt[o>>2]|0;if(!r){L=0;break}}else o=a;while(1){a=r+20|0;n=qt[a>>2]|0;if(n){r=n;o=a;continue}a=r+16|0;n=qt[a>>2]|0;if(!n)break;else{r=n;o=a}}if(o>>>0<h>>>0)N();else{qt[o>>2]=0;L=r;break}}else{a=qt[P+((l|8)+m)>>2]|0;if(a>>>0<h>>>0)N();h=a+12|0;if((qt[h>>2]|0)!=(s|0))N();r=o+8|0;if((qt[r>>2]|0)==(s|0)){qt[h>>2]=o;qt[r>>2]=a;L=o;break}else N()}}while(0);if(!t)break;h=qt[P+(m+28+l)>>2]|0;r=7616+(h<<2)|0;do{if((s|0)!=(qt[r>>2]|0)){if(t>>>0<(qt[1832]|0)>>>0)N();h=t+16|0;if((qt[h>>2]|0)==(s|0))qt[h>>2]=L;else qt[t+20>>2]=L;if(!L)break i}else{qt[r>>2]=L;if(L)break;qt[1829]=qt[1829]&~(1<<h);break i}}while(0);r=qt[1832]|0;if(L>>>0<r>>>0)N();qt[L+24>>2]=t;h=l|16;s=qt[P+(h+m)>>2]|0;do{if(s)if(s>>>0<r>>>0)N();else{qt[L+16>>2]=s;qt[s+24>>2]=L;break}}while(0);s=qt[P+(i+h)>>2]|0;if(!s)break;if(s>>>0<(qt[1832]|0)>>>0)N();else{qt[L+20>>2]=s;qt[s+24>>2]=L;break}}else{o=qt[P+((l|8)+m)>>2]|0;a=qt[P+(m+12+l)>>2]|0;r=7352+(n<<1<<2)|0;do{if((o|0)!=(r|0)){if(o>>>0<h>>>0)N();if((qt[o+12>>2]|0)==(s|0))break;N()}}while(0);if((a|0)==(o|0)){qt[1828]=qt[1828]&~(1<<n);break}do{if((a|0)==(r|0))T=a+8|0;else{if(a>>>0<h>>>0)N();h=a+8|0;if((qt[h>>2]|0)==(s|0)){T=h;break}N()}}while(0);qt[o+12>>2]=a;qt[T>>2]=o}}while(0);s=P+((c|l)+m)|0;h=c+e|0}else h=e;s=s+4|0;qt[s>>2]=qt[s>>2]&-2;qt[P+(u+4)>>2]=h|1;qt[P+(h+u)>>2]=h;s=h>>>3;if(h>>>0<256){r=s<<1;a=7352+(r<<2)|0;o=qt[1828]|0;s=1<<s;do{if(!(o&s)){qt[1828]=o|s;E=7352+(r+2<<2)|0;A=a}else{s=7352+(r+2<<2)|0;r=qt[s>>2]|0;if(r>>>0>=(qt[1832]|0)>>>0){E=s;A=r;break}N()}}while(0);qt[E>>2]=f;qt[A+12>>2]=f;qt[P+(u+8)>>2]=A;qt[P+(u+12)>>2]=a;break}i=h>>>8;do{if(!i)a=0;else{if(h>>>0>16777215){a=31;break}E=(i+1048320|0)>>>16&8;A=i<<E;L=(A+520192|0)>>>16&4;A=A<<L;a=(A+245760|0)>>>16&2;a=14-(L|E|a)+(A<<a>>>15)|0;a=h>>>(a+7|0)&1|a<<1}}while(0);s=7616+(a<<2)|0;qt[P+(u+28)>>2]=a;qt[P+(u+20)>>2]=0;qt[P+(u+16)>>2]=0;r=qt[1829]|0;o=1<<a;if(!(r&o)){qt[1829]=r|o;qt[s>>2]=f;qt[P+(u+24)>>2]=s;qt[P+(u+12)>>2]=f;qt[P+(u+8)>>2]=f;break}r=qt[s>>2]|0;if((a|0)==31)s=0;else s=25-(a>>>1)|0;i:do{if((qt[r+4>>2]&-8|0)!=(h|0)){a=h<<s;while(1){o=r+(a>>>31<<2)+16|0;s=qt[o>>2]|0;if(!s)break;if((qt[s+4>>2]&-8|0)==(h|0)){D=s;break i}else{a=a<<1;r=s}}if(o>>>0<(qt[1832]|0)>>>0)N();else{qt[o>>2]=f;qt[P+(u+24)>>2]=r;qt[P+(u+12)>>2]=f;qt[P+(u+8)>>2]=f;break e}}else D=r}while(0);i=D+8|0;e=qt[i>>2]|0;A=qt[1832]|0;if(D>>>0>=A>>>0&e>>>0>=A>>>0){qt[e+12>>2]=f;qt[i>>2]=f;qt[P+(u+8)>>2]=e;qt[P+(u+12)>>2]=D;qt[P+(u+24)>>2]=0;break}else N()}else{D=(qt[1831]|0)+e|0;qt[1831]=D;qt[1834]=f;qt[P+(u+4)>>2]=D|1}}while(0);D=P+(_|8)|0;Zt=R;return D|0}s=7760|0;while(1){r=qt[s>>2]|0;if(r>>>0<=d>>>0?(C=qt[s+4>>2]|0,k=r+C|0,k>>>0>d>>>0):0)break;s=qt[s+8>>2]|0}s=r+(C+-39)|0;if(!(s&7))s=0;else s=0-s&7;o=r+(C+-47+s)|0;o=o>>>0<(d+16|0)>>>0?d:o;r=o+8|0;s=P+8|0;if(!(s&7))s=0;else s=0-s&7;D=m+-40-s|0;qt[1834]=P+s;qt[1831]=D;qt[P+(s+4)>>2]=D|1;qt[P+(m+-36)>>2]=40;qt[1835]=qt[1950];qt[o+4>>2]=27;qt[r+0>>2]=qt[1940];qt[r+4>>2]=qt[1941];qt[r+8>>2]=qt[1942];qt[r+12>>2]=qt[1943];qt[1940]=P;qt[1941]=m;qt[1943]=0;qt[1942]=r;s=o+28|0;qt[s>>2]=7;if((o+32|0)>>>0<k>>>0)do{D=s;s=s+4|0;qt[s>>2]=7}while((D+8|0)>>>0<k>>>0);if((o|0)!=(d|0)){h=o-d|0;s=d+(h+4)|0;qt[s>>2]=qt[s>>2]&-2;qt[d+4>>2]=h|1;qt[d+h>>2]=h;s=h>>>3;if(h>>>0<256){r=s<<1;a=7352+(r<<2)|0;o=qt[1828]|0;s=1<<s;do{if(!(o&s)){qt[1828]=o|s;x=7352+(r+2<<2)|0;M=a}else{i=7352+(r+2<<2)|0;e=qt[i>>2]|0;if(e>>>0>=(qt[1832]|0)>>>0){x=i;M=e;break}N()}}while(0);qt[x>>2]=d;qt[M+12>>2]=d;qt[d+8>>2]=M;qt[d+12>>2]=a;break}i=h>>>8;if(i)if(h>>>0>16777215)s=31;else{A=(i+1048320|0)>>>16&8;D=i<<A;E=(D+520192|0)>>>16&4;D=D<<E;s=(D+245760|0)>>>16&2;s=14-(E|A|s)+(D<<s>>>15)|0;s=h>>>(s+7|0)&1|s<<1}else s=0;i=7616+(s<<2)|0;qt[d+28>>2]=s;qt[d+20>>2]=0;qt[d+16>>2]=0;e=qt[1829]|0;n=1<<s;if(!(e&n)){qt[1829]=e|n;qt[i>>2]=d;qt[d+24>>2]=i;qt[d+12>>2]=d;qt[d+8>>2]=d;break}n=qt[i>>2]|0;if((s|0)==31)i=0;else i=25-(s>>>1)|0;e:do{if((qt[n+4>>2]&-8|0)!=(h|0)){s=h<<i;while(1){e=n+(s>>>31<<2)+16|0;i=qt[e>>2]|0;if(!i)break;if((qt[i+4>>2]&-8|0)==(h|0)){w=i;break e}else{s=s<<1;n=i}}if(e>>>0<(qt[1832]|0)>>>0)N();else{qt[e>>2]=d;qt[d+24>>2]=n;qt[d+12>>2]=d;qt[d+8>>2]=d;break t}}else w=n}while(0);i=w+8|0;e=qt[i>>2]|0;D=qt[1832]|0;if(w>>>0>=D>>>0&e>>>0>=D>>>0){qt[e+12>>2]=d;qt[i>>2]=d;qt[d+8>>2]=e;qt[d+12>>2]=w;qt[d+24>>2]=0;break}else N()}}else{D=qt[1832]|0;if((D|0)==0|P>>>0<D>>>0)qt[1832]=P;qt[1940]=P;qt[1941]=m;qt[1943]=0;qt[1837]=qt[1946];qt[1836]=-1;i=0;do{D=i<<1;A=7352+(D<<2)|0;qt[7352+(D+3<<2)>>2]=A;qt[7352+(D+2<<2)>>2]=A;i=i+1|0}while((i|0)!=32);i=P+8|0;if(!(i&7))i=0;else i=0-i&7;D=m+-40-i|0;qt[1834]=P+i;qt[1831]=D;qt[P+(i+4)>>2]=D|1;qt[P+(m+-36)>>2]=40;qt[1835]=qt[1950]}}while(0);e=qt[1831]|0;if(e>>>0>p>>>0){A=e-p|0;qt[1831]=A;D=qt[1834]|0;qt[1834]=D+p;qt[D+(p+4)>>2]=A|1;qt[D+4>>2]=p|3;D=D+8|0;Zt=R;return D|0}}qt[(Ut()|0)>>2]=12;D=0;Zt=R;return D|0}function fn(t){t=t|0;var e=0,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,v=0,y=0,P=0;P=Zt;if(!t){Zt=P;return}o=t+-8|0;r=qt[1832]|0;if(o>>>0<r>>>0)N();a=qt[t+-4>>2]|0;n=a&3;if((n|0)==1)N();p=a&-8;_=t+(p+-8)|0;do{if(!(a&1)){o=qt[o>>2]|0;if(!n){Zt=P;return}s=-8-o|0;c=t+s|0;u=o+p|0;if(c>>>0<r>>>0)N();if((c|0)==(qt[1833]|0)){o=t+(p+-4)|0;a=qt[o>>2]|0;if((a&3|0)!=3){y=c;l=u;break}qt[1830]=u;qt[o>>2]=a&-2;qt[t+(s+4)>>2]=u|1;qt[_>>2]=u;Zt=P;return}i=o>>>3;if(o>>>0<256){n=qt[t+(s+8)>>2]|0;a=qt[t+(s+12)>>2]|0;o=7352+(i<<1<<2)|0;if((n|0)!=(o|0)){if(n>>>0<r>>>0)N();if((qt[n+12>>2]|0)!=(c|0))N()}if((a|0)==(n|0)){qt[1828]=qt[1828]&~(1<<i);y=c;l=u;break}if((a|0)!=(o|0)){if(a>>>0<r>>>0)N();o=a+8|0;if((qt[o>>2]|0)==(c|0))e=o;else N()}else e=a+8|0;qt[n+12>>2]=a;qt[e>>2]=n;y=c;l=u;break}e=qt[t+(s+24)>>2]|0;n=qt[t+(s+12)>>2]|0;do{if((n|0)==(c|0)){a=t+(s+20)|0;o=qt[a>>2]|0;if(!o){a=t+(s+16)|0;o=qt[a>>2]|0;if(!o){h=0;break}}while(1){n=o+20|0;i=qt[n>>2]|0;if(i){o=i;a=n;continue}n=o+16|0;i=qt[n>>2]|0;if(!i)break;else{o=i;a=n}}if(a>>>0<r>>>0)N();else{qt[a>>2]=0;h=o;break}}else{i=qt[t+(s+8)>>2]|0;if(i>>>0<r>>>0)N();o=i+12|0;if((qt[o>>2]|0)!=(c|0))N();a=n+8|0;if((qt[a>>2]|0)==(c|0)){qt[o>>2]=n;qt[a>>2]=i;h=n;break}else N()}}while(0);if(e){o=qt[t+(s+28)>>2]|0;a=7616+(o<<2)|0;if((c|0)==(qt[a>>2]|0)){qt[a>>2]=h;if(!h){qt[1829]=qt[1829]&~(1<<o);y=c;l=u;break}}else{if(e>>>0<(qt[1832]|0)>>>0)N();o=e+16|0;if((qt[o>>2]|0)==(c|0))qt[o>>2]=h;else qt[e+20>>2]=h;if(!h){y=c;l=u;break}}a=qt[1832]|0;if(h>>>0<a>>>0)N();qt[h+24>>2]=e;o=qt[t+(s+16)>>2]|0;do{if(o)if(o>>>0<a>>>0)N();else{qt[h+16>>2]=o;qt[o+24>>2]=h;break}}while(0);o=qt[t+(s+20)>>2]|0;if(o)if(o>>>0<(qt[1832]|0)>>>0)N();else{qt[h+20>>2]=o;qt[o+24>>2]=h;y=c;l=u;break}else{y=c;l=u}}else{y=c;l=u}}else{y=o;l=p}}while(0);if(y>>>0>=_>>>0)N();o=t+(p+-4)|0;a=qt[o>>2]|0;if(!(a&1))N();if(!(a&2)){if((_|0)==(qt[1834]|0)){v=(qt[1831]|0)+l|0;qt[1831]=v;qt[1834]=y;qt[y+4>>2]=v|1;if((y|0)!=(qt[1833]|0)){Zt=P;return}qt[1833]=0;qt[1830]=0;Zt=P;return}if((_|0)==(qt[1833]|0)){v=(qt[1830]|0)+l|0;qt[1830]=v;qt[1833]=y;qt[y+4>>2]=v|1;qt[y+v>>2]=v;Zt=P;return}r=(a&-8)+l|0;e=a>>>3;do{if(a>>>0>=256){e=qt[t+(p+16)>>2]|0;o=qt[t+(p|4)>>2]|0;do{if((o|0)==(_|0)){a=t+(p+12)|0;o=qt[a>>2]|0;if(!o){a=t+(p+8)|0;o=qt[a>>2]|0;if(!o){f=0;break}}while(1){n=o+20|0;i=qt[n>>2]|0;if(i){o=i;a=n;continue}n=o+16|0;i=qt[n>>2]|0;if(!i)break;else{o=i;a=n}}if(a>>>0<(qt[1832]|0)>>>0)N();else{qt[a>>2]=0;f=o;break}}else{a=qt[t+p>>2]|0;if(a>>>0<(qt[1832]|0)>>>0)N();n=a+12|0;if((qt[n>>2]|0)!=(_|0))N();i=o+8|0;if((qt[i>>2]|0)==(_|0)){qt[n>>2]=o;qt[i>>2]=a;f=o;break}else N()}}while(0);if(e){o=qt[t+(p+20)>>2]|0;a=7616+(o<<2)|0;if((_|0)==(qt[a>>2]|0)){qt[a>>2]=f;if(!f){qt[1829]=qt[1829]&~(1<<o);break}}else{if(e>>>0<(qt[1832]|0)>>>0)N();o=e+16|0;if((qt[o>>2]|0)==(_|0))qt[o>>2]=f;else qt[e+20>>2]=f;if(!f)break}o=qt[1832]|0;if(f>>>0<o>>>0)N();qt[f+24>>2]=e;a=qt[t+(p+8)>>2]|0;do{if(a)if(a>>>0<o>>>0)N();else{qt[f+16>>2]=a;qt[a+24>>2]=f;break}}while(0);i=qt[t+(p+12)>>2]|0;if(i)if(i>>>0<(qt[1832]|0)>>>0)N();else{qt[f+20>>2]=i;qt[i+24>>2]=f;break}}}else{i=qt[t+p>>2]|0;n=qt[t+(p|4)>>2]|0;o=7352+(e<<1<<2)|0;if((i|0)!=(o|0)){if(i>>>0<(qt[1832]|0)>>>0)N();if((qt[i+12>>2]|0)!=(_|0))N()}if((n|0)==(i|0)){qt[1828]=qt[1828]&~(1<<e);break}if((n|0)!=(o|0)){if(n>>>0<(qt[1832]|0)>>>0)N();a=n+8|0;if((qt[a>>2]|0)==(_|0))d=a;else N()}else d=n+8|0;qt[i+12>>2]=n;qt[d>>2]=i}}while(0);qt[y+4>>2]=r|1;qt[y+r>>2]=r;if((y|0)==(qt[1833]|0)){qt[1830]=r;Zt=P;return}else o=r}else{qt[o>>2]=a&-2;qt[y+4>>2]=l|1;qt[y+l>>2]=l;o=l}a=o>>>3;if(o>>>0<256){n=a<<1;o=7352+(n<<2)|0;e=qt[1828]|0;i=1<<a;if(e&i){i=7352+(n+2<<2)|0;e=qt[i>>2]|0;if(e>>>0<(qt[1832]|0)>>>0)N();else{m=i;g=e}}else{qt[1828]=e|i;m=7352+(n+2<<2)|0;g=o}qt[m>>2]=y;qt[g+12>>2]=y;qt[y+8>>2]=g;qt[y+12>>2]=o;Zt=P;return}e=o>>>8;if(e)if(o>>>0>16777215)a=31;else{m=(e+1048320|0)>>>16&8;g=e<<m;_=(g+520192|0)>>>16&4;g=g<<_;a=(g+245760|0)>>>16&2;a=14-(_|m|a)+(g<<a>>>15)|0;a=o>>>(a+7|0)&1|a<<1}else a=0;i=7616+(a<<2)|0;qt[y+28>>2]=a;qt[y+20>>2]=0;qt[y+16>>2]=0;e=qt[1829]|0;n=1<<a;t:do{if(e&n){n=qt[i>>2]|0;if((a|0)==31)i=0;else i=25-(a>>>1)|0;e:do{if((qt[n+4>>2]&-8|0)!=(o|0)){a=o<<i;while(1){e=n+(a>>>31<<2)+16|0;i=qt[e>>2]|0;if(!i)break;if((qt[i+4>>2]&-8|0)==(o|0)){v=i;break e}else{a=a<<1;n=i}}if(e>>>0<(qt[1832]|0)>>>0)N();else{qt[e>>2]=y;qt[y+24>>2]=n;qt[y+12>>2]=y;qt[y+8>>2]=y;break t}}else v=n}while(0);e=v+8|0;i=qt[e>>2]|0;g=qt[1832]|0;if(v>>>0>=g>>>0&i>>>0>=g>>>0){qt[i+12>>2]=y;qt[e>>2]=y;qt[y+8>>2]=i;qt[y+12>>2]=v;qt[y+24>>2]=0;break}else N()}else{qt[1829]=e|n;qt[i>>2]=y;qt[y+24>>2]=i;qt[y+12>>2]=y;qt[y+8>>2]=y}}while(0);y=(qt[1836]|0)+-1|0;qt[1836]=y;if(!y)e=7768|0;else{Zt=P;return}while(1){e=qt[e>>2]|0;if(!e)break;else e=e+8|0}qt[1836]=-1;Zt=P;return}function _n(){}function mn(t){t=t|0;var e=0;e=t;while(Kt[e>>0]|0)e=e+1|0;return e-t|0}function b(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,a=0,o=0,r=0;n=t+i|0;if((i|0)>=20){e=e&255;o=t&3;r=e|e<<8|e<<16|e<<24;a=n&~3;if(o){o=t+4-o|0;while((t|0)<(o|0)){Kt[t>>0]=e;t=t+1|0}}while((t|0)<(a|0)){qt[t>>2]=r;t=t+4|0}}while((t|0)<(n|0)){Kt[t>>0]=e;t=t+1|0}return t-i|0}function gn(t,e,i){t=t|0;e=e|0;i=i|0;var n=0;if((i|0)>=4096)return Et(t|0,e|0,i|0)|0;n=t|0;if((t&3)==(e&3)){while(t&3){if(!i)return n|0;Kt[t>>0]=Kt[e>>0]|0;t=t+1|0;e=e+1|0;i=i-1|0}while((i|0)>=4){qt[t>>2]=qt[e>>2];t=t+4|0;e=e+4|0;i=i-4|0}}while((i|0)>0){Kt[t>>0]=Kt[e>>0]|0;t=t+1|0;e=e+1|0;i=i-1|0}return n|0}function vn(t,e,i,n,a,o){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;o=o|0;Pn[t&3](e|0,i|0,n|0,a|0,o|0)}function yn(t,e,i,n,a){t=t|0;e=e|0;i=i|0;n=n|0;a=a|0;gt(0)}var Pn=[yn,fi,_i,yn];return{_strlen:mn,_free:fn,_broadwayGetMajorVersion:cn,_get_h264bsdClip:Qe,_broadwayExit:ln,_memset:b,_broadwayCreateStream:an,_malloc:pn,_memcpy:gn,_broadwayGetMinorVersion:un,_broadwayPlayStream:rn,_broadwaySetStreamLength:on,_broadwayInit:sn,runPostSets:_n,stackAlloc:Gt,stackSave:Ft,stackRestore:Xt,setThrew:Ht,setTempRet0:Yt,getTempRet0:zt,dynCall_viiiii:vn}}(p.Xc,p.Yc,Q)),Bb=p._strlen=$._strlen,Ea=p._free=$._free,Gb=(p._broadwayGetMajorVersion=$._broadwayGetMajorVersion,p._get_h264bsdClip=$._get_h264bsdClip,p._broadwayExit=$._broadwayExit,p._memset=$._memset),Ca=(p._broadwayCreateStream=$._broadwayCreateStream,p._malloc=$._malloc),gc=p._memcpy=$._memcpy,hc;function ia(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}p._broadwayGetMinorVersion=$._broadwayGetMinorVersion,p._broadwayPlayStream=$._broadwayPlayStream,p._broadwaySetStreamLength=$._broadwaySetStreamLength,p._broadwayInit=$._broadwayInit,p.runPostSets=$.runPostSets,p.dynCall_viiiii=$.dynCall_viiiii,z.pb=$.stackAlloc,z.Tb=$.stackSave,z.Sb=$.stackRestore,z.Yd=$.setTempRet0,z.xd=$.getTempRet0,T&&("function"==typeof p.locateFile?T=p.locateFile(T):p.memoryInitializerPrefixURL&&(T=p.memoryInitializerPrefixURL+T),t||da?(hc=p.readBinary(T),N.set(hc,Ia)):(Ya(),yb(T,function(t){N.set(t,Ia),Za()},function(){d("could not load memory initializer "+T)}))),ia.prototype=Error();var ic,jc=k,Xa=function t(){!p.calledRun&&lc&&mc(),p.calledRun||(Xa=t)};function mc(t){function e(){if(!p.calledRun&&(p.calledRun=i,!H)){if(Sa||(Sa=i,Na(R)),Na(Pa),ba&&jc!==k&&p.fa("pre-main prep time: "+(Date.now()-jc)+" ms"),p.onRuntimeInitialized&&p.onRuntimeInitialized(),p._main&&lc&&p.callMain(t),p.postRun)for("function"==typeof p.postRun&&(p.postRun=[p.postRun]);p.postRun.length;)Ua(p.postRun.shift());Na(Ra)}}if(t=t||p.arguments,jc===k&&(jc=Date.now()),!(0<S)){if(p.preRun)for("function"==typeof p.preRun&&(p.preRun=[p.preRun]);p.preRun.length;)Ta(p.preRun.shift());Na(Oa),0<S||p.calledRun||(p.setStatus?(p.setStatus("Running..."),setTimeout(function(){setTimeout(function(){p.setStatus("")},1),e()},1)):e())}}function nc(e){p.noExitRuntime||(H=i,y=ic,Na(Qa),t?(process.stdout.once("drain",function(){process.exit(e)}),setTimeout(function(){process.exit(e)},500)):da&&"function"==typeof quit&&quit(e),d(new ia(e)))}function A(t){t&&(p.print(t),p.fa(t)),H=i,d("abort() at "+Fa()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.")}if(p.callMain=p.ag=function(t){function e(){for(var t=0;t<3;t++)a.push(0)}w(0==S,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),w(0==Oa.length,"cannot call main when preRun functions remain to be called"),t=t||[],Sa||(Sa=i,Na(R));var n=t.length+1,a=[M(Va(p.thisProgram),"i8",0)];e();for(var o=0;o<n-1;o+=1)a.push(M(Va(t[o]),"i8",0)),e();a.push(0),a=M(a,"i32",0),ic=y;try{nc(p._main(n,a,0))}catch(t){t instanceof ia||("SimulateInfiniteLoop"==t?p.noExitRuntime=i:(t&&"object"==typeof t&&t.stack&&p.fa("exception thrown: "+[t,t.stack]),d(t)))}},p.run=p.Ng=mc,p.exit=p.hg=nc,p.abort=p.abort=A,p.preInit)for("function"==typeof p.preInit&&(p.preInit=[p.preInit]);0<p.preInit.length;)p.preInit.pop()();var lc=m,resultModule=(p.noInitialRun&&(lc=m),mc(),window.Module||global.Module||Module);return resultModule},nowValue=function(){return(new Date).getTime()},Broadway=("undefined"!=typeof performance&&performance.now&&(nowValue=function(){return performance.now()}),function(t){this.options=t||{},this.now=nowValue;var r,i=getModule.apply({},[function(){},function(t,e,i){var n,a,o=(o=this.pictureBuffers[t])||(this.pictureBuffers[t]=s(t,e*i*3/2)),t=!1;this.infoAr.length&&(t=!0,n=this.infoAr),this.infoAr=[],this.options.rgb?((r=r||getAsm(e,i)).inp.set(o),r.doit(),(a=new Uint8Array(r.outSize)).set(r.out),t&&(n[0].finishDecoding=nowValue()),this.onPictureDecoded(a,e,i,n)):(t&&(n[0].finishDecoding=nowValue()),this.onPictureDecoded(o,e,i,n))}.bind(this)]),n=(i.HEAP8,i.HEAPU8);i.HEAP16,i.HEAP32,i._get_h264bsdClip();function s(t,e){return n.subarray(t,t+e)}i._broadwayInit(),this.streamBuffer=s(i._broadwayCreateStream(1048576),1048576),this.pictureBuffers={},this.infoAr=[],this.onPictureDecoded=function(t,e,i,n){},this.decode=function(t,e){e&&(this.infoAr.push(e),e.startDecoding=nowValue()),this.streamBuffer.set(t),i._broadwaySetStreamLength(t.length),i._broadwayPlayStream()},this.clear=function(){i._broadwayInit()}}),asmInstances=(Broadway.prototype={configure:function(t){}},{}),getAsm=function(t,e){var i=t+"x"+e;if(asmInstances[i])return asmInstances[i];for(var n=t*e,a=(0|n)>>2,n=n+a+a,a=t*e*4,o=n+a+4*Math.pow(2,24),r=Math.pow(2,24),s=r;s<o;)s+=r;var h=new ArrayBuffer(s),l=asmFactory(global,{},h);return l.init(t,e),(asmInstances[i]=l).heap=h,l.out=new Uint8Array(h,0,a),l.inp=new Uint8Array(h,a,n),l.outSize=a,l};function asmFactory(t,e,i){"use asm";var d=t.Math.imul;var p=t.Math.min;var f=t.Math.max;var a=t.Math.pow;var n=new t.Uint8Array(i);var o=new t.Uint32Array(i);var _=new t.Uint8Array(i);var r=new t.Uint8Array(i);var m=new t.Uint32Array(i);var g=0;var v=0;var y=0;var P=0;var s=0;var h=0;var S=0;var b=0;var I=0;var B=0;function l(t,e){t=t|0;e=e|0;var i=0;var n=0;g=t;I=d(t,4)|0;v=e;y=d(g|0,v|0)|0;P=(y|0)>>2;h=d(d(g,v)|0,4)|0;s=y+P|0+P|0;b=0;S=b+h|0;B=S+s|0;n=~~+a(+2,+24);n=d(n,4)|0;for(i=0|0;(i|0)<(n|0)|0;i=i+4|0){m[(B+i|0)>>2]=0}}function C(){var t=0;var e=0;var i=0;var n=0;var a=0;var o=0;var r=0;var s=0;var h=0;var l=0;var c=0;var u=0;var d=0;var p=0;d=b|0;t=S|0;e=t+y|0|0;i=e+P|0;for(h=0;(h|0)<(v|0);h=h+2|0){c=e;u=i;for(l=0;(l|0)<(g|0);l=l+2|0){n=_[t>>0]|0;a=_[(t+g|0)>>0]|0;o=_[e>>0]|0;r=_[i>>0]|0;p=((n<<16|0)+(o<<8|0)|0)+r|0;s=m[(B+p|0)>>2]|0;if(s){}else{s=k(n,o,r)|0;m[(B+p|0)>>2]=s|0}m[d>>2]=s;p=((a<<16|0)+(o<<8|0)|0)+r|0;s=m[(B+p|0)>>2]|0;if(s){}else{s=k(a,o,r)|0;m[(B+p|0)>>2]=s|0}m[(d+I|0)>>2]=s;d=d+4|0;t=t+1|0;n=_[t>>0]|0;a=_[(t+g|0)>>0]|0;p=((n<<16|0)+(o<<8|0)|0)+r|0;s=m[(B+p|0)>>2]|0;if(s){}else{s=k(n,o,r)|0;m[(B+p|0)>>2]=s|0}m[d>>2]=s;p=((a<<16|0)+(o<<8|0)|0)+r|0;s=m[(B+p|0)>>2]|0;if(s){}else{s=k(a,o,r)|0;m[(B+p|0)>>2]=s|0}m[(d+I|0)>>2]=s;d=d+4|0;t=t+1|0;e=e+1|0;i=i+1|0}d=d+I|0;t=t+g|0}}function k(t,e,i){t=t|0;e=e|0;i=i|0;var n=0;var a=0;var o=0;var r=0;var s=0;var h=0;var l=0;var c=0;var u=0;s=d(1192,t-16|0)|0;h=d(1634,i-128|0)|0;l=d(832,i-128|0)|0;c=d(400,e-128|0)|0;u=d(2066,e-128|0)|0;n=(s+h|0)>>10|0;a=((s-l|0)-c|0)>>10|0;o=(s+u|0)>>10|0;if((n&255|0)!=(n|0)|0){n=p(255,f(0,n|0)|0)|0}if((a&255|0)!=(a|0)|0){a=p(255,f(0,a|0)|0)|0}if((o&255|0)!=(o|0)|0){o=p(255,f(0,o|0)|0)|0}r=255;r=r<<8|0;r=r+o|0;r=r<<8|0;r=r+a|0;r=r<<8|0;r=r+n|0;return r|0}return{init:l,doit:C}}var toUint8Array=function(t){for(var e=atob(t),i=e.length,n=new Uint8Array(new ArrayBuffer(i)),a=0;a<i;a++)n[a]=e.charCodeAt(a);return n},isWorker,decoder,reuseMemory,memAr,getMem,total;function arrayBufferToBase64(t){for(var e="",i=new Uint8Array(t),n=i.byteLength,a=0;a<n;a++)e+=String.fromCharCode(i[a]);return btoa(e)}function base64ToArrayBuffer(t){for(var e=window.atob(t),i=e.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=e.charCodeAt(a);n.buffer}return"undefined"!=typeof self&&(isWorker=!1,reuseMemory=!1,memAr=[],getMem=function(t){if(memAr.length){for(var e=memAr.shift();e&&e.byteLength!==t;)e=memAr.shift();if(e)return e}return new ArrayBuffer(t)},self.addEventListener("message",function(o){var t,e,r;isWorker?(reuseMemory&&o.data.reuse&&memAr.push(o.data.reuse),"base64"==o.data.buf?(e=o.data.info.ts,t=toUint8Array(o.data.data),decoder.decode(t),total=(total+((new Date).getTime()-e))/2):o.data.buf&&(decoder.decode(new Uint8Array(o.data.buf,o.data.offset||0,o.data.length),o.data.info),e=o.data.info.ts,total=(total+((new Date).getTime()-e))/2)):o.data&&"Broadway.js - Worker init"===o.data.type&&(isWorker=!0,decoder=new Broadway(o.data.options),r=o.data.options.isInternet,o.data.options.reuseMemory?(reuseMemory=!0,decoder.onPictureDecoded=function(t,e,i,n){var a=new Uint8Array(getMem(t.length));a.set(t,0,t.length),r?postMessage({buf:"base64",data:arrayBufferToBase64(t),length:t.length,width:e,height:i,infos:n}):postMessage({buf:a.buffer,length:t.length,width:e,height:i,infos:n},[a.buffer])}):decoder.onPictureDecoded=function(t,e,i,n){t=t&&new Uint8Array(t);var a=new Uint8Array(t.length);a.set(t,0,t.length),"base64"==o.data.buf||r?postMessage({buf:"base64",data:arrayBufferToBase64(t),length:t.length,width:e,height:i,infos:n}):postMessage({buf:a.buffer,length:t.length,width:e,height:i,infos:n},[a.buffer])},postMessage({consoleLog:"broadway worker initialized"}))},!1)),Broadway.nowValue=nowValue,Broadway}()}),!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.FxYUV=e()}(this,function(){function t(t){this.canvasElement=(t=t||{}).canvas||document.createElement("canvas"),this.contextOptions=t.contextOptions,this.type=t.type||"yuv420",this.customYUV444=t.customYUV444,this.conversionType=t.conversionType||"rec601",this.width=t.width||640,this.height=t.height||320,this.animationTime=t.animationTime||0,this.canvasElement.width=this.width,this.canvasElement.height=this.height,this.initContextGL(),this.contextGL&&(this.initProgram(),this.initBuffers(),this.initTextures()),"yuv420"===this.type?this.drawNextOuptutPictureGL=function(t){var e=this.contextGL,i=this.texturePosBuffer,n=this.uTexturePosBuffer,a=this.vTexturePosBuffer,o=this.yTextureRef,r=this.uTextureRef,s=this.vTextureRef,h=t.yData,l=t.uData,c=t.vData,u=this.width,d=this.height,p=t.yDataPerRow||u,f=t.yRowCnt||d,_=t.uDataPerRow||u/2,m=t.uRowCnt||d/2,g=t.vDataPerRow||_,t=t.vRowCnt||m,v=(e.viewport(0,0,u,d),d/f),y=u/p,P=new Float32Array([y,0,0,0,y,v,0,v]),i=(e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,P,e.DYNAMIC_DRAW),y=this.customYUV444?(v=d/m,u/_):(v=d/2/m,u/2/_),new Float32Array([y,0,0,0,y,v,0,v])),P=(e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),y=this.customYUV444?(v=d/t,u/g):(v=d/2/t,u/2/g),new Float32Array([y,0,0,0,y,v,0,v]));e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,P,e.DYNAMIC_DRAW),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,p,f,0,e.LUMINANCE,e.UNSIGNED_BYTE,h),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,_,m,0,e.LUMINANCE,e.UNSIGNED_BYTE,l),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,g,t,0,e.LUMINANCE,e.UNSIGNED_BYTE,c),e.drawArrays(e.TRIANGLE_STRIP,0,4)}:"yuv422"===this.type&&(this.drawNextOuptutPictureGL=function(t){var e=this.contextGL,i=this.texturePosBuffer,n=this.textureRef,a=t.data,o=this.width,r=this.height,s=t.dataPerRow||2*o,t=t.rowCnt||r,h=(e.viewport(0,0,o,r),r/t),o=o/(s/2),o=new Float32Array([o,0,0,0,o,h,0,h]);e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,o,e.DYNAMIC_DRAW),e.uniform2f(e.getUniformLocation(this.shaderProgram,"resolution"),s,r),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,s,t,0,e.LUMINANCE,e.UNSIGNED_BYTE,a),e.drawArrays(e.TRIANGLE_STRIP,0,4)})}return t.prototype.isWebGL=function(){return this.contextGL},t.prototype.initContextGL=function(){for(var t=this.canvasElement,e=null,i=["webgl","experimental-webgl","moz-webgl","webkit-3d"],n=0;!e&&n<i.length;){var a=i[n];try{e=this.contextOptions?t.getContext(a,this.contextOptions):t.getContext(a)}catch(t){e=null}e&&"function"==typeof e.getParameter||(e=null),++n}this.contextGL=e},t.prototype.initProgram=function(){var t=this.contextGL,e=("yuv420"===this.type?(n=["attribute vec4 vertexPos;","attribute vec4 texturePos;","attribute vec4 uTexturePos;","attribute vec4 vTexturePos;","varying vec2 textureCoord;","varying vec2 uTextureCoord;","varying vec2 vTextureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","  uTextureCoord = uTexturePos.xy;","  vTextureCoord = vTexturePos.xy;","}"].join("\n"),a=["precision highp float;","varying highp vec2 textureCoord;","varying highp vec2 uTextureCoord;","varying highp vec2 vTextureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","uniform mat4 YUV2RGB;","void main(void) {","  highp float y = texture2D(ySampler,  textureCoord).r;","  highp float u = texture2D(uSampler,  uTextureCoord).r;","  highp float v = texture2D(vSampler,  vTextureCoord).r;","  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n")):"yuv422"===this.type&&(n=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","}"].join("\n"),a=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D sampler;","uniform highp vec2 resolution;","uniform mat4 YUV2RGB;","void main(void) {","  highp float texPixX = 1.0 / resolution.x;","  highp float logPixX = 2.0 / resolution.x;","  highp float logHalfPixX = 4.0 / resolution.x;","  highp float steps = floor(textureCoord.x / logPixX);","  highp float uvSteps = floor(textureCoord.x / logHalfPixX);","  highp float y = texture2D(sampler, vec2((logPixX * steps) + texPixX, textureCoord.y)).r;","  highp float u = texture2D(sampler, vec2((logHalfPixX * uvSteps), textureCoord.y)).r;","  highp float v = texture2D(sampler, vec2((logHalfPixX * uvSteps) + texPixX + texPixX, textureCoord.y)).r;","  gl_FragColor = vec4(y, u, v, 1.0) * YUV2RGB;","}"].join("\n")),[]),e="rec709"==this.conversionType?[1.16438,0,1.79274,-.97295,1.16438,-.21325,-.53291,.30148,1.16438,2.1124,0,-1.1334,0,0,0,1]:[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1],i=t.createShader(t.VERTEX_SHADER),n=(t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS),t.createShader(t.FRAGMENT_SHADER)),a=(t.shaderSource(n,a),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS),t.createProgram()),i=(t.attachShader(a,i),t.attachShader(a,n),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS),t.useProgram(a),t.getUniformLocation(a,"YUV2RGB"));t.uniformMatrix4fv(i,!1,e),this.shaderProgram=a},t.prototype.initBuffers=function(){var n,a,o,r,s=this.contextGL,h=this.shaderProgram,t=s.createBuffer(),t=(s.bindBuffer(s.ARRAY_BUFFER,t),s.bufferData(s.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),s.STATIC_DRAW),s.getAttribLocation(h,"vertexPos")),t=(s.enableVertexAttribArray(t),s.vertexAttribPointer(t,2,s.FLOAT,!1,0,0),this.animationTime&&(n=this.animationTime,a=0,o=15,(r=function(){var t=+(a+=o)/n,e=(n<=a?t=1:setTimeout(r,o),-1*t),t=+t,i=s.createBuffer(),i=(s.bindBuffer(s.ARRAY_BUFFER,i),s.bufferData(s.ARRAY_BUFFER,new Float32Array([t,t,e,t,t,e,e,e]),s.STATIC_DRAW),s.getAttribLocation(h,"vertexPos"));s.enableVertexAttribArray(i),s.vertexAttribPointer(i,2,s.FLOAT,!1,0,0);try{s.drawArrays(s.TRIANGLE_STRIP,0,4)}catch(t){}})()),s.createBuffer()),e=(s.bindBuffer(s.ARRAY_BUFFER,t),s.bufferData(s.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),s.STATIC_DRAW),s.getAttribLocation(h,"texturePos"));s.enableVertexAttribArray(e),s.vertexAttribPointer(e,2,s.FLOAT,!1,0,0),this.texturePosBuffer=t,"yuv420"===this.type&&(e=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,e),s.bufferData(s.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),s.STATIC_DRAW),t=s.getAttribLocation(h,"uTexturePos"),s.enableVertexAttribArray(t),s.vertexAttribPointer(t,2,s.FLOAT,!1,0,0),this.uTexturePosBuffer=e,t=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,t),s.bufferData(s.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),s.STATIC_DRAW),e=s.getAttribLocation(h,"vTexturePos"),s.enableVertexAttribArray(e),s.vertexAttribPointer(e,2,s.FLOAT,!1,0,0),this.vTexturePosBuffer=t)},t.prototype.initTextures=function(){var t,e,i=this.contextGL,n=this.shaderProgram;"yuv420"===this.type?(e=this.initTexture(),t=i.getUniformLocation(n,"ySampler"),i.uniform1i(t,0),this.yTextureRef=e,t=this.initTexture(),e=i.getUniformLocation(n,"uSampler"),i.uniform1i(e,1),this.uTextureRef=t,e=this.initTexture(),t=i.getUniformLocation(n,"vSampler"),i.uniform1i(t,2),this.vTextureRef=e):"yuv422"===this.type&&(t=this.initTexture(),e=i.getUniformLocation(n,"sampler"),i.uniform1i(e,0),this.textureRef=t)},t.prototype.initTexture=function(){var t=this.contextGL,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_2D,null),e},t.prototype.drawNextOutputPicture=function(t,e,i,n){this.contextGL?this.drawNextOuptutPictureGL(t,e,i,n):this.drawNextOuptutPictureRGBA(t,e,i,n)},t.prototype.drawNextOuptutPictureRGBA=function(t,e,i,n){var a=this.canvasElement.getContext("2d"),t=a.getImageData(0,0,t,e);t.data.set(n),a.putImageData(t,0,0)},t}),!function(t,e){"function"==typeof define&&define.amd?define(["./FxDecoder","./FxYUV"],e):"object"==typeof exports?module.exports=e(require("./FxDecoder"),require("./FxYUV")):t.FxPlayer=e(t.FxDecoder,t.FxYUV)}(this,function(t,o){"use strict";function e(e){var a=this,e=(this._config=e||{},!(this.render=!0)===this._config.render&&(this.render=!1),this.nowValue=s,this._config.workerFile=this._config.workerFile||"Decoder.js",this._config.preserveDrawingBuffer&&(this._config.contextOptions=this._config.contextOptions||{},this._config.contextOptions.preserveDrawingBuffer=!0),"auto");if(!0===this._config.webgl?e=!0:!1===this._config.webgl&&(e=!1),"auto"==e){e=!0;try{window.WebGLRenderingContext&&document.createElement("canvas").getContext("webgl")||(e=!1)}catch(t){e=!1}}this.webgl=e,this.webgl?(this.createCanvasObj=this.createCanvasWebGL,this.renderFrame=this.renderFrameWebGL):(this.createCanvasObj=this.createCanvasRGB,this.renderFrame=this.renderFrameRGB);var n,i=window.navigator.userAgent.toLowerCase(),o=function(){var t=-1!=i.indexOf("msie");0==t&&"Netscape"==window.navigator.appName&&null!=new RegExp("trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(t=!0);return t}();function r(t,e,i,n){a.onPictureDecoded(t,e,i,n),s(),t&&a.render&&(a.renderFrame({canvasObj:a.canvasObj,data:t,width:e,height:i}),a.onRenderFrameComplete)&&a.onRenderFrameComplete({data:t,width:e,height:i,infos:n,canvasObj:a.canvasObj})}this._config.size||(this._config.size={}),this._config.size.width=this._config.size.width||200,this._config.size.height=this._config.size.height||200,this._config.useWorker?(n=new Worker(this._config.workerFile),(this.worker=n).addEventListener("message",function(t){var e,t=t.data;t.consoleLog||(o?(e=function(t){for(var e=window.atob(t),i=e.length,n=new Uint8Array(new ArrayBuffer(i)),a=0;a<i;a++)n[a]=e.charCodeAt(a);return n}(t.data),r.call(a,new Uint8Array(e,0,t.length),t.width,t.height,t.infos)):r.call(a,new Uint8Array(t.buf,0,t.length),t.width,t.height,t.infos))},!1),n.postMessage({type:"Broadway.js - Worker init",options:{rgb:!e,memsize:this.memsize,reuseMemory:!!this._config.reuseMemory,isInternet:o}}),this._config.transferMemory?this.decode=function(t,e){n.postMessage({buf:t.buffer,offset:t.byteOffset,length:t.length,info:e},[t.buffer])}:this.decode=function(t,e){var i;e=e||{},1==o?(e.ts=(new Date).getTime(),n.postMessage({buf:"base64",data:t,offset:0,length:t.length,info:e})):(e.ts=(new Date).getTime(),(i=new Uint8Array(t.length)).set(t,0,t.length),n.postMessage({buf:i.buffer,offset:0,length:t.length,info:e},[i.buffer]))},this._config.reuseMemory&&(this.recycleMemory=function(t){n.postMessage({reuse:t.buffer},[t.buffer])})):(this.decoder=new t({rgb:!e}),this.decoder.onPictureDecoded=r,this.decode=function(t,e){a.decoder.decode(t,e)},this.clear=function(){a.decoder.clear()}),this.render&&(this.canvasObj=this.createCanvasObj({contextOptions:this._config.contextOptions}),this.canvas=this.canvasObj.canvas),this.domNode=this.canvas,this._config.size.width,this._config.size.height}var s=t.nowValue;return e.prototype={onPictureDecoded:function(t,e,i,n){},recycleMemory:function(t){},createCanvasWebGL:function(t){var e=this._createBasicCanvasObj(t);return e.contextOptions=t.contextOptions,e},createCanvasRGB:function(t){return this._createBasicCanvasObj(t)},_createBasicCanvasObj:function(t){var e={},i=(i=(t=t||{}).width)||this._config.size.width,t=(t=t.height)||this._config.size.height;return e.canvas=document.createElement("canvas"),e.canvas.width=i,e.canvas.height=t,e.canvas.style.backgroundColor="#0D0E1B",e},renderFrameWebGL:function(t){var e=t.canvasObj,i=t.width||e.canvas.width,n=t.height||e.canvas.height,a=(e.canvas.width===i&&e.canvas.height===n&&e.webGLCanvas||(e.canvas.width=i,e.canvas.height=n,e.webGLCanvas=new o({canvas:e.canvas,contextOptions:e.contextOptions,width:i,height:n})),i*n),i=i/2*(n/2);e.webGLCanvas.drawNextOutputPicture({yData:t.data.subarray(0,a),uData:t.data.subarray(a,a+i),vData:t.data.subarray(a+i,a+i+i)});this.recycleMemory(t.data)},renderFrameRGB:function(t){var e=t.canvasObj,i=t.width||e.canvas.width,n=t.height||e.canvas.height,a=(e.canvas.width===i&&e.canvas.height===n||(e.canvas.width=i,e.canvas.height=n),e.ctx),o=e.imgData;a||(e.ctx=e.canvas.getContext("2d"),a=e.ctx,e.imgData=a.createImageData(i,n),o=e.imgData);for(var r=0;r<o.data.length;r++)o.data[r]=t.data[r];a.putImageData(o,0,0);this.recycleMemory(t.data)}},e}),!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).AV=t()}(function(){return function n(a,o,r){function s(i,t){if(!o[i]){if(!a[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}e=o[i]={exports:{}};a[i][0].call(e.exports,function(t){var e=a[i][1][t];return s(e||t)},e,e.exports,n,a,o,r)}return o[i].exports}for(var h="function"==typeof require&&require,t=0;t<r.length;t++)s(r[t]);return s}({1:[function(e,i,t){!function(){function o(t,e){return function(){return t.apply(e,arguments)}}var r={}.hasOwnProperty,s=e("./core/events"),h=e("./sources/node/http"),l=e("./sources/node/file"),c=e("./sources/buffer"),u=e("./demuxer"),d=e("./decoder"),t=function(){var t,e=a,i=s;for(t in i)r.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(t){var e,i;this.source=t,this._decode=o(this._decode,this),this.findDecoder=o(this.findDecoder,this),this.probe=o(this.probe,this),this.buffered=0,this.duration=null,this.format=null,this.metadata=null,this.active=!1,this.demuxer=null,this.decoder=null,this.source.once("data",this.probe),this.source.on("error",(e=this,function(t){return e.emit("error",t),e.stop()})),this.source.on("progress",(i=this,function(t){return i.buffered=t,i.emit("buffer",i.buffered)}))}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.fromURL=function(t,e){return new a(new h(t,e))},a.fromFile=function(t){return new a(new l(t))},a.fromBuffer=function(t){return new a(new c(t))},a.prototype.start=function(t){if(!this.active)return null!=t&&(this.shouldDecode=t),null==this.shouldDecode&&(this.shouldDecode=!0),this.active=!0,this.decoder&&this.shouldDecode?this._decode():void 0},a.prototype.stop=function(){if(this.active)return this.active=!1,this.source.pause()},a.prototype.get=function(t,e){var i;if("format"===t||"duration"===t||"metadata"===t)return null!=this[t]?e(this[t]):(this.once(t,(i=this,function(t){return i.stop(),e(t)})),this.start())},a.prototype.decodePacket=function(){return this.decoder.decode()},a.prototype.decodeToBuffer=function(o){var r,s=0,h=[];return this.on("data",r=function(t){return s+=t.length,h.push(t)}),this.once("end",function(){for(var t,e=new Float32Array(s),i=0,n=0,a=h.length;n<a;n++)t=h[n],e.set(t,i),i+=t.length;return this.off("data",r),o(e)}),this.start()},a.prototype.probe=function(t){var e,i,n,a;if(this.active)return(e=u.find(t))?(this.demuxer=new e(this.source,t),this.demuxer.on("format",this.findDecoder),this.demuxer.on("duration",(i=this,function(t){return i.duration=t,i.emit("duration",i.duration)})),this.demuxer.on("metadata",(n=this,function(t){return n.metadata=t,n.emit("metadata",n.metadata)})),this.demuxer.on("error",(a=this,function(t){return a.emit("error",t),a.stop()}))):this.emit("error","A demuxer for this container was not found.")},a.prototype.findDecoder=function(t){var r,s,e,i,n;if(this.format=t,this.active)return this.emit("format",this.format),(t=d.find(this.format.formatID))?(this.decoder=new t(this.demuxer,this.format),this.format.floatingPoint?this.decoder.on("data",(e=this,function(t){return e.emit("data",t)})):(r=Math.pow(2,this.format.bitsPerChannel-1),this.decoder.on("data",(s=this,function(t){for(var e,i,n=new Float32Array(t.length),a=e=0,o=t.length;e<o;a=++e)i=t[a],n[a]=i/r;return s.emit("data",n)}))),this.decoder.on("error",(i=this,function(t){return i.emit("error",t),i.stop()})),this.decoder.on("end",(n=this,function(){return n.emit("end")})),this.emit("decodeStart"),this.shouldDecode?this._decode():void 0):this.emit("error","A decoder for "+this.format.formatID+" was not found.")},a.prototype._decode=function(){for(;this.decoder.decode()&&this.active;);if(this.active)return this.decoder.once("data",this._decode)},a.prototype.destroy=function(){var t;return this.stop(),null!=(t=this.demuxer)&&t.off(),null!=(t=this.decoder)&&t.off(),null!=(t=this.source)&&t.off(),this.off()},a}();i.exports=t}.call(this)},{"./core/events":8,"./decoder":11,"./demuxer":14,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],2:[function(n,t,a){!function(){var t,e,i=n("./aurora_base");for(t in i)e=i[t],a[t]=e;n("./demuxers/caf"),n("./demuxers/m4a"),n("./demuxers/aiff"),n("./demuxers/wave"),n("./demuxers/au"),n("./decoders/lpcm"),n("./decoders/xlaw")}.call(this)},{"./aurora_base":3,"./decoders/lpcm":12,"./decoders/xlaw":13,"./demuxers/aiff":15,"./demuxers/au":16,"./demuxers/caf":17,"./demuxers/m4a":18,"./demuxers/wave":19}],3:[function(t,e,i){!function(){i.Base=t("./core/base"),i.Buffer=t("./core/buffer"),i.BufferList=t("./core/bufferlist"),i.Stream=t("./core/stream"),i.Bitstream=t("./core/bitstream"),i.EventEmitter=t("./core/events"),i.UnderflowError=t("./core/underflow"),i.HTTPSource=t("./sources/node/http"),i.FileSource=t("./sources/node/file"),i.BufferSource=t("./sources/buffer"),i.Demuxer=t("./demuxer"),i.Decoder=t("./decoder"),i.AudioDevice=t("./device"),i.Asset=t("./asset"),i.Player=t("./player"),i.Filter=t("./filter"),i.VolumeFilter=t("./filters/volume"),i.BalanceFilter=t("./filters/balance")}.call(this)},{"./asset":1,"./core/base":4,"./core/bitstream":5,"./core/buffer":6,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10,"./decoder":11,"./demuxer":14,"./device":20,"./filter":24,"./filters/balance":25,"./filters/volume":26,"./player":27,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],4:[function(t,e,i){!function(){var s,h={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};function t(){}s=/\b_super\b/,t.extend=function(t){var a,e,i,n,o,r=function(t){var e,i=o,n=t;for(e in n)h.call(n,e)&&(i[e]=n[e]);function a(){this.constructor=i}function o(){return o.__super__.constructor.apply(this,arguments)}return a.prototype=n.prototype,i.prototype=new a,i.__super__=n.prototype,o}(this);if("function"==typeof t)for(i in n=Object.keys(r.prototype),t.call(r,r),t={},o=r.prototype)e=o[i],l.call(n,i)<0&&(t[i]=e);for(i in a=r.__super__,t)"function"==typeof(e=t[i])&&s.test(e)?function(i,n){r.prototype[i]=function(){var t,e=this._super;return this._super=a[i],t=n.apply(this,arguments),this._super=e,t}}(i,e):r.prototype[i]=e;return r},e.exports=t}.call(this)},{}],5:[function(t,i,e){!function(){function e(t){this.stream=t,this.bitPosition=0}e.prototype.copy=function(){var t=new e(this.stream.copy());return t.bitPosition=this.bitPosition,t},e.prototype.offset=function(){return 8*this.stream.offset+this.bitPosition},e.prototype.available=function(t){return this.stream.available((t+8-this.bitPosition)/8)},e.prototype.advance=function(t){t=this.bitPosition+t;return this.stream.advance(t>>3),this.bitPosition=7&t},e.prototype.rewind=function(t){t=this.bitPosition-t;return this.stream.rewind(Math.abs(t>>3)),this.bitPosition=7&t},e.prototype.seek=function(t){var e=this.offset();return e<t?this.advance(t-e):t<e?this.rewind(e-t):void 0},e.prototype.align=function(){if(0!==this.bitPosition)return this.bitPosition=0,this.stream.advance(1)},e.prototype.read=function(t,e){var i,n;if(0===t)return 0;if((n=t+this.bitPosition)<=8)i=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(n<=16)i=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(n<=24)i=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(n<=32)i=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(n<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0)+(this.stream.peekUInt8(1)<<24>>>0)+(this.stream.peekUInt8(2)<<16)+(this.stream.peekUInt8(3)<<8)+this.stream.peekUInt8(4),i%=Math.pow(2,40-this.bitPosition),i=Math.floor(i/Math.pow(2,40-this.bitPosition-t))}return e&&(n<32?i>>>t-1&&(i=-1*((1<<t>>>0)-i)):i/Math.pow(2,t-1)|0&&(i=-1*(Math.pow(2,t)-i))),this.advance(t),i},e.prototype.peek=function(t,e){var i,n;if(0===t)return 0;if((n=t+this.bitPosition)<=8)i=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(n<=16)i=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(n<=24)i=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(n<=32)i=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(n<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0)+(this.stream.peekUInt8(1)<<24>>>0)+(this.stream.peekUInt8(2)<<16)+(this.stream.peekUInt8(3)<<8)+this.stream.peekUInt8(4),i%=Math.pow(2,40-this.bitPosition),i=Math.floor(i/Math.pow(2,40-this.bitPosition-t))}return e&&(n<32?i>>>t-1&&(i=-1*((1<<t>>>0)-i)):i/Math.pow(2,t-1)|0&&(i=-1*(Math.pow(2,t)-i))),i},e.prototype.readLSB=function(t,e){var i,n;if(0===t)return 0;if(40<t)throw new Error("Too many bits!");return n=t+this.bitPosition,i=this.stream.peekUInt8(0)>>>this.bitPosition,8<n&&(i|=this.stream.peekUInt8(1)<<8-this.bitPosition),16<n&&(i|=this.stream.peekUInt8(2)<<16-this.bitPosition),24<n&&(i+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),32<n&&(i+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),32<=n?i%=Math.pow(2,t):i&=(1<<t)-1,e&&(n<32?i>>>t-1&&(i=-1*((1<<t>>>0)-i)):i/Math.pow(2,t-1)|0&&(i=-1*(Math.pow(2,t)-i))),this.advance(t),i},e.prototype.peekLSB=function(t,e){var i,n;if(0===t)return 0;if(40<t)throw new Error("Too many bits!");return n=t+this.bitPosition,i=this.stream.peekUInt8(0)>>>this.bitPosition,8<n&&(i|=this.stream.peekUInt8(1)<<8-this.bitPosition),16<n&&(i|=this.stream.peekUInt8(2)<<16-this.bitPosition),24<n&&(i+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),32<n&&(i+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),32<=n?i%=Math.pow(2,t):i&=(1<<t)-1,e&&(n<32?i>>>t-1&&(i=-1*((1<<t>>>0)-i)):i/Math.pow(2,t-1)|0&&(i=-1*(Math.pow(2,t)-i))),i},i.exports=e}.call(this)},{}],6:[function(t,e,i){!function(o){!function(){var n,i;function a(t){var e;if(t instanceof Uint8Array)this.data=t;else if(t instanceof ArrayBuffer||Array.isArray(t)||"number"==typeof t||null!=(e=o.Buffer)&&e.isBuffer(t))this.data=new Uint8Array(t);else if(t.buffer instanceof ArrayBuffer)this.data=new Uint8Array(t.buffer,t.byteOffset,t.length*t.BYTES_PER_ELEMENT);else{if(!(t instanceof a))throw new Error("Constructing buffer with unknown type.");this.data=t.data}this.length=this.data.length,this.next=null,this.prev=null}a.allocate=function(t){return new a(t)},a.prototype.copy=function(){return new a(new Uint8Array(this.data))},a.prototype.slice=function(t,e){return null==e&&(e=this.length),0===t&&e>=this.length?new a(this.data):new a(this.data.subarray(t,t+e))},n=o.BlobBuilder||o.MozBlobBuilder||o.WebKitBlobBuilder,i=o.URL||o.webkitURL||o.mozURL,a.makeBlob=function(t,e){var i;null==e&&(e="application/octet-stream");try{return new Blob([t],{type:e})}catch(t){}return null!=n?((i=new n).append(t),i.getBlob(e)):null},a.makeBlobURL=function(t,e){return null!=i?i.createObjectURL(this.makeBlob(t,e)):void 0},a.revokeBlobURL=function(t){return null!=i?i.revokeObjectURL(t):void 0},a.prototype.toBlob=function(){return a.makeBlob(this.data.buffer)},a.prototype.toBlobURL=function(){return a.makeBlobURL(this.data.buffer)},e.exports=a}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,i,e){!function(){function e(){this.first=null,this.last=null,this.numBuffers=0,this.availableBytes=0,this.availableBuffers=0}e.prototype.copy=function(){var t=new e;return t.first=this.first,t.last=this.last,t.numBuffers=this.numBuffers,t.availableBytes=this.availableBytes,t.availableBuffers=this.availableBuffers,t},e.prototype.append=function(t){var e;return t.prev=this.last,null!=(e=this.last)&&(e.next=t),this.last=t,null==this.first&&(this.first=t),this.availableBytes+=t.length,this.availableBuffers++,this.numBuffers++},e.prototype.advance=function(){return!!this.first&&(this.availableBytes-=this.first.length,this.availableBuffers--,this.first=this.first.next,null!=this.first)},e.prototype.rewind=function(){var t;return!(this.first&&!this.first.prev)&&(this.first=(null!=(t=this.first)?t.prev:void 0)||this.last,this.first&&(this.availableBytes+=this.first.length,this.availableBuffers++),null!=this.first)},e.prototype.reset=function(){for(var t=[];this.rewind(););return t},i.exports=e}.call(this)},{}],8:[function(e,i,t){!function(){var o={}.hasOwnProperty,r=[].slice,s=e("./base"),t=function(){var t,e=a,i=s;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(){return a.__super__.constructor.apply(this,arguments)}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.prototype.on=function(t,e){var i;return null==this.events&&(this.events={}),null==(i=this.events)[t]&&(i[t]=[]),this.events[t].push(e)},a.prototype.off=function(t,e){var i;if(null!=this.events)return null!=(i=this.events)&&i[t]?null==e?this.events[t]:~(i=this.events[t].indexOf(e))?this.events[t].splice(i,1):void 0:null==t?{}:void 0},a.prototype.once=function(t,e){var i;return this.on(t,i=function(){return this.off(t,i),e.apply(this,arguments)})},a.prototype.emit=function(){var t,e,i,n,a=arguments[0],o=2<=arguments.length?r.call(arguments,1):[];if(null!=(i=this.events)&&i[a])for(t=0,e=(n=this.events[a].slice()).length;t<e;t++)n[t].apply(this,o)},a}();i.exports=t}.call(this)},{"./base":4}],9:[function(g,v,t){!function(){var s,i,n,t,a,o,r,h,l,c,u,e,d,p,f,_;function m(t){this.list=t,this.localOffset=0,this.offset=0}i=g("./bufferlist"),s=g("./buffer"),n=g("./underflow"),t=new ArrayBuffer(16),_=new Uint8Array(t),e=new Int8Array(t),p=new Uint16Array(t),c=new Int16Array(t),f=new Uint32Array(t),u=new Int32Array(t),o=new Float32Array(t),"undefined"!=typeof Float64Array&&null!==Float64Array&&(r=new Float64Array(t)),d=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0],m.fromBuffer=function(t){var e=new i;return e.append(t),new m(e)},m.prototype.copy=function(){var t=new m(this.list.copy());return t.localOffset=this.localOffset,t.offset=this.offset,t},m.prototype.available=function(t){return t<=this.list.availableBytes-this.localOffset},m.prototype.remainingBytes=function(){return this.list.availableBytes-this.localOffset},m.prototype.advance=function(t){if(!this.available(t))throw new n;for(this.localOffset+=t,this.offset+=t;this.list.first&&this.localOffset>=this.list.first.length;)this.localOffset-=this.list.first.length,this.list.advance();return this},m.prototype.rewind=function(t){if(t>this.offset)throw new n;for(this.list.first||(this.list.rewind(),this.localOffset=this.list.first.length),this.localOffset-=t,this.offset-=t;this.list.first.prev&&this.localOffset<0;)this.list.rewind(),this.localOffset+=this.list.first.length;return this},m.prototype.seek=function(t){return t>this.offset?this.advance(t-this.offset):t<this.offset?this.rewind(this.offset-t):void 0},m.prototype.readUInt8=function(){var t;if(this.available(1))return t=this.list.first.data[this.localOffset],this.localOffset+=1,this.offset+=1,this.localOffset===this.list.first.length&&(this.localOffset=0,this.list.advance()),t;throw new n},m.prototype.peekUInt8=function(t){var e;if(!this.available((t=null==t?0:t)+1))throw new n;for(t=this.localOffset+t,e=this.list.first;e;){if(e.length>t)return e.data[t];t-=e.length,e=e.next}return 0},m.prototype.read=function(t,e){var i,n,a,o;if((e=null==e?!1:e)===d)for(i=n=0,o=t;n<o;i=n+=1)_[i]=this.readUInt8();else for(i=a=t-1;0<=a;i=a+=-1)_[i]=this.readUInt8()},m.prototype.peek=function(t,e,i){var n,a,o,r,s;if((i=null==i?!1:i)===d)for(n=a=0,r=t;a<r;n=a+=1)_[n]=this.peekUInt8(e+n);else for(n=o=0,s=t;o<s;n=o+=1)_[t-n-1]=this.peekUInt8(e+n)},m.prototype.readInt8=function(){return this.read(1),e[0]},m.prototype.peekInt8=function(t){return this.peek(1,t=null==t?0:t),e[0]},m.prototype.readUInt16=function(t){return this.read(2,t),p[0]},m.prototype.peekUInt16=function(t,e){return this.peek(2,t=null==t?0:t,e),p[0]},m.prototype.readInt16=function(t){return this.read(2,t),c[0]},m.prototype.peekInt16=function(t,e){return this.peek(2,t=null==t?0:t,e),c[0]},m.prototype.readUInt24=function(t){return t?this.readUInt16(!0)+(this.readUInt8()<<16):(this.readUInt16()<<8)+this.readUInt8()},m.prototype.peekUInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekUInt8(t+2)<<16):(this.peekUInt16(t)<<8)+this.peekUInt8(t+2)},m.prototype.readInt24=function(t){return t?this.readUInt16(!0)+(this.readInt8()<<16):(this.readInt16()<<8)+this.readUInt8()},m.prototype.peekInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekInt8(t+2)<<16):(this.peekInt16(t)<<8)+this.peekUInt8(t+2)},m.prototype.readUInt32=function(t){return this.read(4,t),f[0]},m.prototype.peekUInt32=function(t,e){return this.peek(4,t=null==t?0:t,e),f[0]},m.prototype.readInt32=function(t){return this.read(4,t),u[0]},m.prototype.peekInt32=function(t,e){return this.peek(4,t=null==t?0:t,e),u[0]},m.prototype.readFloat32=function(t){return this.read(4,t),o[0]},m.prototype.peekFloat32=function(t,e){return this.peek(4,t=null==t?0:t,e),o[0]},m.prototype.readFloat64=function(t){return this.read(8,t),r?r[0]:h()},h=function(){var t,e,i=f[0],n=f[1];return n&&2147483648!==n?(e=1-2*(n>>>31),t=1048575&n,2047==(n=n>>>20&2047)?t?NaN:1/0*e:(n-=1023,t=(1048576|t)*Math.pow(2,n-20),e*(t+=i*Math.pow(2,n-52)))):0},m.prototype.peekFloat64=function(t,e){return this.peek(8,t=null==t?0:t,e),r?r[0]:h()},m.prototype.readFloat80=function(t){return this.read(10,t),l()},l=function(){var t=f[0],e=f[1],i=_[9],n=1-2*(i>>>7),i=(127&i)<<8|_[8];return 0==i&&0===e&&0===t?0:32767==i?0===e&&0===t?1/0*n:NaN:(i-=16383,e=e*Math.pow(2,i-31),n*(e+=t*Math.pow(2,i-63)))},m.prototype.peekFloat80=function(t,e){return this.peek(10,t=null==t?0:t,e),l()},m.prototype.readBuffer=function(t){for(var e,i=s.allocate(t),n=i.data,a=e=0,o=t;e<o;a=e+=1)n[a]=this.readUInt8();return i},m.prototype.peekBuffer=function(t,e){var i,n,a,o,r;for(null==t&&(t=0),r=(o=s.allocate(e)).data,i=n=0,a=e;n<a;i=n+=1)r[i]=this.peekUInt8(t+i);return o},m.prototype.readSingleBuffer=function(t){t=this.list.first.slice(this.localOffset,t);return this.advance(t.length),t},m.prototype.peekSingleBuffer=function(t,e){return this.list.first.slice(this.localOffset+t,e)},m.prototype.readString=function(t,e){return a.call(this,0,t,e=null==e?"ascii":e,!0)},m.prototype.peekString=function(t,e,i){return a.call(this,t=null==t?0:t,e,i=null==i?"ascii":i,!1)},a=function(t,e,i,n){var a,o,r,s,h,l,c,u,d,p=null===e?0:-1,f=t+(e=null==e?1/0:e),_="";switch(i=i.toLowerCase()){case"ascii":case"latin1":for(;t<f&&(h=this.peekUInt8(t++))!==p;)_+=String.fromCharCode(h);break;case"utf8":case"utf-8":for(;t<f&&(a=this.peekUInt8(t++))!==p;)0==(128&a)?_+=String.fromCharCode(a):192==(224&a)?(o=63&this.peekUInt8(t++),_+=String.fromCharCode((31&a)<<6|o)):224==(240&a)?(o=63&this.peekUInt8(t++),r=63&this.peekUInt8(t++),_+=String.fromCharCode((15&a)<<12|o<<6|r)):240==(248&a)&&(c=((15&a)<<18|(o=63&this.peekUInt8(t++))<<12|(r=63&this.peekUInt8(t++))<<6|63&this.peekUInt8(t++))-65536,_+=String.fromCharCode(55296+(c>>10),56320+(1023&c)));break;case"utf16-be":case"utf16be":case"utf16le":case"utf16-le":case"utf16bom":case"utf16-bom":switch(i){case"utf16be":case"utf16-be":l=!1;break;case"utf16le":case"utf16-le":l=!0;break;case"utf16bom":case"utf16-bom":if(e<2||(s=this.peekUInt16(t))===p)return n&&this.advance(t+=2),_;l=65534===s,t+=2}for(;t<f&&(u=this.peekUInt16(t,l))!==p;)if(t+=2,u<55296||57343<u)_+=String.fromCharCode(u);else{if(56319<u)throw new Error("Invalid utf16 sequence.");if((d=this.peekUInt16(t,l))<56320||57343<d)throw new Error("Invalid utf16 sequence.");_+=String.fromCharCode(u,d),t+=2}u===p&&(t+=2);break;default:throw new Error("Unknown encoding: "+i)}return n&&this.advance(t),_},v.exports=m}.call(this)},{"./buffer":6,"./bufferlist":7,"./underflow":10}],10:[function(t,e,i){!function(){var r={}.hasOwnProperty,t=function(t){var e,i=o,n=t;for(e in n)r.call(n,e)&&(i[e]=n[e]);function a(){this.constructor=i}function o(){o.__super__.constructor.apply(this,arguments),this.name="UnderflowError",this.stack=(new Error).stack}return a.prototype=n.prototype,i.prototype=new a,i.__super__=n.prototype,o}(Error);e.exports=t}.call(this)},{}],11:[function(e,i,t){!function(){var r={}.hasOwnProperty,s=e("./core/events"),h=e("./core/bufferlist"),l=e("./core/stream"),c=e("./core/bitstream"),u=e("./core/underflow"),t=function(){var i,t,e=o,n=s;for(t in n)r.call(n,t)&&(e[t]=n[t]);function a(){this.constructor=e}function o(t,e){var i,n,a,o;this.demuxer=t,this.format=e,i=new h,this.stream=new l(i),this.bitstream=new c(this.stream),this.receivedFinalBuffer=!1,this.waiting=!1,this.demuxer.on("cookie",(n=this,function(t){try{return n.setCookie(t)}catch(t){return n.emit("error",t)}})),this.demuxer.on("data",(a=this,function(t){if(i.append(t),a.waiting)return a.decode()})),this.demuxer.on("end",(o=this,function(){if(o.receivedFinalBuffer=!0,o.waiting)return o.decode()})),this.init()}return a.prototype=n.prototype,e.prototype=new a,e.__super__=n.prototype,o.prototype.init=function(){},o.prototype.setCookie=function(t){},o.prototype.readChunk=function(){},o.prototype.decode=function(){var e,t,i;this.waiting=!this.receivedFinalBuffer,t=this.bitstream.offset();try{i=this.readChunk()}catch(t){if(!((e=t)instanceof u))return this.emit("error",e),!1}return i?(this.emit("data",i),this.receivedFinalBuffer&&this.emit("end"),!0):(this.receivedFinalBuffer?this.emit("end"):(this.bitstream.seek(t),this.waiting=!0),!1)},o.prototype.seek=function(t){t=this.demuxer.seek(t);return this.stream.seek(t.offset),t.timestamp},i={},o.register=function(t,e){return i[t]=e},o.find=function(t){return i[t]||null},o}();i.exports=t}.call(this)},{"./core/bitstream":5,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10}],12:[function(s,t,e){!function(){var t,e={}.hasOwnProperty,i=s("../decoder"),n=r,a=i;for(t in a)e.call(a,t)&&(n[t]=a[t]);function o(){this.constructor=n}function r(){var t,e;return this.readChunk=(t=this.readChunk,e=this,function(){return t.apply(e,arguments)}),r.__super__.constructor.apply(this,arguments)}o.prototype=a.prototype,n.prototype=new o,n.__super__=a.prototype,i.register("lpcm",r),r.prototype.readChunk=function(){var t,e,i,n,a,o,r,s,h,l,c,u,d,p,f=this.stream,_=this.format.littleEndian,m=Math.min(4096,f.remainingBytes()),g=m/(this.format.bitsPerChannel/8)|0;if(m<this.format.bitsPerChannel/8)return null;if(this.format.floatingPoint)switch(this.format.bitsPerChannel){case 32:for(s=new Float32Array(g),t=e=0,h=g;e<h;t=e+=1)s[t]=f.readFloat32(_);break;case 64:for(s=new Float64Array(g),t=i=0,l=g;i<l;t=i+=1)s[t]=f.readFloat64(_);break;default:throw new Error("Unsupported bit depth.")}else switch(this.format.bitsPerChannel){case 8:for(s=new Int8Array(g),t=n=0,c=g;n<c;t=n+=1)s[t]=f.readInt8();break;case 16:for(s=new Int16Array(g),t=a=0,u=g;a<u;t=a+=1)s[t]=f.readInt16(_);break;case 24:for(s=new Int32Array(g),t=o=0,d=g;o<d;t=o+=1)s[t]=f.readInt24(_);break;case 32:for(s=new Int32Array(g),t=r=0,p=g;r<p;t=r+=1)s[t]=f.readInt32(_);break;default:throw new Error("Unsupported bit depth.")}return s}}.call(this)},{"../decoder":11}],13:[function(s,t,e){!function(){var t,e={}.hasOwnProperty,i=s("../decoder"),n=r,a=i;for(t in a)e.call(a,t)&&(n[t]=a[t]);function o(){this.constructor=n}function r(){var t,e;return this.readChunk=(t=this.readChunk,e=this,function(){return t.apply(e,arguments)}),r.__super__.constructor.apply(this,arguments)}o.prototype=a.prototype,n.prototype=new o,n.__super__=a.prototype,i.register("ulaw",r),i.register("alaw",r),r.prototype.init=function(){var t,e,i,n,a,o,r;if(this.format.bitsPerChannel=16,this.table=o=new Int16Array(256),"ulaw"===this.format.formatID)for(t=e=0;e<256;t=++e)a=132+((15&(r=~t))<<3),a<<=(112&r)>>>4,o[t]=128&r?132-a:a-132;else for(t=i=0;i<256;t=++i)a=15&(r=85^t),a=(n=(112&r)>>>4)?a+a+1+32<<2+n:a+a+1<<3,o[t]=128&r?a:-a},r.prototype.readChunk=function(){var t,e,i,n,a=this.stream,o=this.table,r=Math.min(4096,this.stream.remainingBytes());if(0!==r){for(i=new Int16Array(r),t=e=0,n=r;e<n;t=e+=1)i[t]=o[a.readUInt8()];return i}}}.call(this)},{"../decoder":11}],14:[function(e,i,t){!function(){var o={}.hasOwnProperty,s=e("./core/events"),h=e("./core/bufferlist"),l=e("./core/stream"),t=function(){var r,t,e=a,i=s;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(t,e){var i,n,a,o,r=new h;r.append(e),this.stream=new l(r),i=!1,t.on("data",(n=this,function(t){i=!0,r.append(t);try{return n.readChunk(t)}catch(t){return n.emit("error",t)}})),t.on("error",(a=this,function(t){return a.emit("error",t)})),t.on("end",(o=this,function(){return i||o.readChunk(e),o.emit("end")})),this.seekPoints=[],this.init()}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.probe=function(t){return!1},a.prototype.init=function(){},a.prototype.readChunk=function(t){},a.prototype.addSeekPoint=function(t,e){var i=this.searchTimestamp(e);return this.seekPoints.splice(i,0,{offset:t,timestamp:e})},a.prototype.searchTimestamp=function(t,e){var i,n,a=0,o=this.seekPoints.length;if(!(0<o&&this.seekPoints[o-1].timestamp<t)){for(;a<o;)(n=this.seekPoints[i=a+o>>1].timestamp)<t?a=1+i:t<=n&&(o=i);o>this.seekPoints.length&&(o=this.seekPoints.length)}return o},a.prototype.seek=function(t){return this.format&&0<this.format.framesPerPacket&&0<this.format.bytesPerPacket?{timestamp:t,offset:this.format.bytesPerPacket*t/this.format.framesPerPacket}:(t=this.searchTimestamp(t),this.seekPoints[t])},r=[],a.register=function(t){return r.push(t)},a.find=function(t){for(var e,i,n=l.fromBuffer(t),a=0,o=r.length;a<o;a++){e=r[a],i=n.offset;try{if(e.probe(n))return e}catch(t){0}n.seek(i)}return null},a}();i.exports=t}.call(this)},{"./core/bufferlist":7,"./core/events":8,"./core/stream":9}],15:[function(s,t,e){!function(){var t,e={}.hasOwnProperty,i=s("../demuxer"),n=r,a=i;for(t in a)e.call(a,t)&&(n[t]=a[t]);function o(){this.constructor=n}function r(){return r.__super__.constructor.apply(this,arguments)}o.prototype=a.prototype,n.prototype=new o,n.__super__=a.prototype,i.register(r),r.probe=function(t){return"FORM"===t.peekString(0,4)&&("AIFF"===(t=t.peekString(8,4))||"AIFC"===t)},r.prototype.readChunk=function(){var t,e,i;if(!this.readStart&&this.stream.available(12)){if("FORM"!==this.stream.readString(4))return this.emit("error","Invalid AIFF.");if(this.fileSize=this.stream.readUInt32(),this.fileType=this.stream.readString(4),this.readStart=!0,"AIFF"!==(i=this.fileType)&&"AIFC"!==i)return this.emit("error","Invalid AIFF.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32()),this.type){case"COMM":if(!this.stream.available(this.len))return;this.format={formatID:"lpcm",channelsPerFrame:this.stream.readUInt16(),sampleCount:this.stream.readUInt32(),bitsPerChannel:this.stream.readUInt16(),sampleRate:this.stream.readFloat80(),framesPerPacket:1,littleEndian:!1,floatingPoint:!1},this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,"AIFC"===this.fileType&&(e=this.stream.readString(4),this.format.littleEndian="sowt"===e&&8<this.format.bitsPerChannel,this.format.floatingPoint="fl32"===e||"fl64"===e,"twos"!==e&&"sowt"!==e&&"fl32"!==e&&"fl64"!==e&&"NONE"!==e||(e="lpcm"),this.format.formatID=e,this.len-=4),this.stream.advance(this.len-18),this.emit("format",this.format),this.emit("duration",this.format.sampleCount/this.format.sampleRate*1e3|0);break;case"SSND":this.readSSNDHeader&&this.stream.available(4)||(e=this.stream.readUInt32(),this.stream.advance(4),this.stream.advance(e),this.readSSNDHeader=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=0<this.len,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"SSND"!==this.type&&(this.readHeaders=!1)}}}.call(this)},{"../demuxer":14}],16:[function(l,t,e){!function(){var i,n,t,e={}.hasOwnProperty,a=l("../demuxer"),o=h,r=a;for(t in r)e.call(r,t)&&(o[t]=r[t]);function s(){this.constructor=o}function h(){return h.__super__.constructor.apply(this,arguments)}s.prototype=r.prototype,o.prototype=new s,o.__super__=r.prototype,a.register(h),h.probe=function(t){return".snd"===t.peekString(0,4)},(i=[8,8,16,24,32,32,64])[26]=8,n={1:"ulaw",27:"alaw"},h.prototype.readChunk=function(){var t,e;if(!this.readHeader&&this.stream.available(24)){if(".snd"!==this.stream.readString(4))return this.emit("error","Invalid AU file.");if(this.stream.readUInt32(),t=this.stream.readUInt32(),e=this.stream.readUInt32(),this.format={formatID:n[e]||"lpcm",littleEndian:!1,floatingPoint:6===e||7===e,bitsPerChannel:i[e-1],sampleRate:this.stream.readUInt32(),channelsPerFrame:this.stream.readUInt32(),framesPerPacket:1},null==this.format.bitsPerChannel)return this.emit("error","Unsupported encoding in AU file.");this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,4294967295!==t&&(e=this.format.bitsPerChannel/8,this.emit("duration",t/e/this.format.channelsPerFrame/this.format.sampleRate*1e3|0)),this.emit("format",this.format),this.readHeader=!0}if(this.readHeader)for(;this.stream.available(1);)this.emit("data",this.stream.readSingleBuffer(this.stream.remainingBytes()))}}.call(this)},{"../demuxer":14}],17:[function(s,t,e){!function(){var t,e={}.hasOwnProperty,i=s("../demuxer"),p=s("./m4a"),n=r,a=i;for(t in a)e.call(a,t)&&(n[t]=a[t]);function o(){this.constructor=n}function r(){return r.__super__.constructor.apply(this,arguments)}o.prototype=a.prototype,n.prototype=new o,n.__super__=a.prototype,i.register(r),r.probe=function(t){return"caff"===t.peekString(0,4)},r.prototype.readChunk=function(){var t,e,i,n,a,o,r,s,h,l,c,u,d;if(!this.format&&this.stream.available(64)){if("caff"!==this.stream.readString(4))return this.emit("error","Invalid CAF, does not begin with 'caff'");if(this.stream.advance(4),"desc"!==this.stream.readString(4))return this.emit("error","Invalid CAF, 'caff' is not followed by 'desc'");if(0!==this.stream.readUInt32()||32!==this.stream.readUInt32())return this.emit("error","Invalid 'desc' size, should be 32");this.format={},this.format.sampleRate=this.stream.readFloat64(),this.format.formatID=this.stream.readString(4),n=this.stream.readUInt32(),"lpcm"===this.format.formatID&&(this.format.floatingPoint=Boolean(1&n),this.format.littleEndian=Boolean(2&n)),this.format.bytesPerPacket=this.stream.readUInt32(),this.format.framesPerPacket=this.stream.readUInt32(),this.format.channelsPerFrame=this.stream.readUInt32(),this.format.bitsPerChannel=this.stream.readUInt32(),this.emit("format",this.format)}for(;this.stream.available(1);){if(!this.headerCache&&(this.headerCache={type:this.stream.readString(4),oversize:0!==this.stream.readUInt32(),size:this.stream.readUInt32()},this.headerCache.oversize))return this.emit("error","Holy Shit, an oversized file, not supported in JS");switch(this.headerCache.type){case"kuki":this.stream.available(this.headerCache.size)&&("aac "===this.format.formatID?(h=this.stream.offset+this.headerCache.size,(i=p.readEsds(this.stream))&&this.emit("cookie",i),this.stream.seek(h)):(t=this.stream.readBuffer(this.headerCache.size),this.emit("cookie",t)),this.headerCache=null);break;case"pakt":if(this.stream.available(this.headerCache.size)){if(0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");if(this.numPackets=this.stream.readUInt32(),0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");for(this.numFrames=this.stream.readUInt32(),this.primingFrames=this.stream.readUInt32(),this.remainderFrames=this.stream.readUInt32(),this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0),this.sentDuration=!0,a=u=e=0,l=this.numPackets;a<l;a+=1)this.addSeekPoint(e,u),e+=this.format.bytesPerPacket||p.readDescrLen(this.stream),u+=this.format.framesPerPacket||p.readDescrLen(this.stream);this.headerCache=null}break;case"info":for(s={},o=0,c=this.stream.readUInt32();0<=c?o<c:c<o;0<=c?++o:--o)r=this.stream.readString(null),d=this.stream.readString(null),s[r]=d;this.emit("metadata",s),this.headerCache=null;break;case"data":this.sentFirstDataChunk||(this.stream.advance(4),this.headerCache.size-=4,0===this.format.bytesPerPacket||this.sentDuration||(this.numFrames=this.headerCache.size/this.format.bytesPerPacket,this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0)),this.sentFirstDataChunk=!0),t=this.stream.readSingleBuffer(this.headerCache.size),this.headerCache.size-=t.length,this.emit("data",t),this.headerCache.size<=0&&(this.headerCache=null);break;default:this.stream.available(this.headerCache.size)&&(this.stream.advance(this.headerCache.size),this.headerCache=null)}}}}.call(this)},{"../demuxer":14,"./m4a":18}],18:[function(e,i,t){!function(){var p={}.hasOwnProperty,f=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},_=e("../demuxer"),t=function(){var i,e,n,s,h,a,t,o,r,l=d,c=_;for(r in c)p.call(c,r)&&(l[r]=c[r]);function u(){this.constructor=l}function d(){return d.__super__.constructor.apply(this,arguments)}return u.prototype=c.prototype,l.prototype=new u,l.__super__=c.prototype,_.register(d),e=["M4A ","M4P ","M4B ","M4V ","isom","mp42","qt  "],d.probe=function(t){return"ftyp"===t.peekString(4,4)&&(t=t.peekString(8,4),0<=f.call(e,t))},d.prototype.init=function(){return this.atoms=[],this.offsets=[],this.track=null,this.tracks=[]},s={},h={},n=function(t,e){for(var i,n=[],a=t.split(".").slice(0,-1),o=0,r=a.length;o<r;o++)i=a[o],n.push(i),h[n.join(".")]=!0;return null==s[t]&&(s[t]={}),s[t].fn=e},t=function(t,e){return null==s[t]&&(s[t]={}),s[t].after=e},d.prototype.readChunk=function(){var t,e;for(this.break=!1;this.stream.available(1)&&!this.break;){if(!this.readHeaders){if(!this.stream.available(8))return;if(this.len=this.stream.readUInt32()-8,this.type=this.stream.readString(4),0===this.len)continue;this.atoms.push(this.type),this.offsets.push(this.stream.offset+this.len),this.readHeaders=!0}if(e=this.atoms.join("."),null!=(t=s[e])&&t.fn){if(!this.stream.available(this.len)&&"mdat"!==e)return;t.fn.call(this),e in h&&(this.readHeaders=!1)}else if(e in h)this.readHeaders=!1;else{if(!this.stream.available(this.len))return;this.stream.advance(this.len)}for(;this.stream.offset>=this.offsets[this.offsets.length-1];)null!=(t=s[this.atoms.join(".")])&&t.after&&t.after.call(this),this.atoms.pop(),this.offsets.pop(),this.readHeaders=!1}},n("ftyp",function(){var t;return t=this.stream.readString(4),f.call(e,t)<0?this.emit("error","Not a valid M4A file."):this.stream.advance(this.len-4)}),n("moov.trak",function(){return this.track={},this.tracks.push(this.track)}),n("moov.trak.tkhd",function(){return this.stream.advance(4),this.stream.advance(8),this.track.id=this.stream.readUInt32(),this.stream.advance(this.len-16)}),n("moov.trak.mdia.hdlr",function(){return this.stream.advance(4),this.stream.advance(4),this.track.type=this.stream.readString(4),this.stream.advance(12),this.stream.advance(this.len-24)}),n("moov.trak.mdia.mdhd",function(){return this.stream.advance(4),this.stream.advance(8),this.track.timeScale=this.stream.readUInt32(),this.track.duration=this.stream.readUInt32(),this.stream.advance(4)}),i={ulaw:8,alaw:8,in24:24,in32:32,fl32:32,fl64:64},n("moov.trak.mdia.minf.stbl.stsd",function(){var t,e;return this.stream.advance(4),t=this.stream.readUInt32(),"soun"!==this.track.type?this.stream.advance(this.len-8):1!==t?this.emit("error","Only expecting one entry in sample description atom!"):(this.stream.advance(4),(t=this.track.format={}).formatID=this.stream.readString(4),this.stream.advance(6),this.stream.advance(2),e=this.stream.readUInt16(),this.stream.advance(6),t.channelsPerFrame=this.stream.readUInt16(),t.bitsPerChannel=this.stream.readUInt16(),this.stream.advance(4),t.sampleRate=this.stream.readUInt16(),this.stream.advance(2),1===e?(t.framesPerPacket=this.stream.readUInt32(),this.stream.advance(4),t.bytesPerFrame=this.stream.readUInt32(),this.stream.advance(4)):0!==e&&this.emit("error","Unknown version in stsd atom"),null!=i[t.formatID]&&(t.bitsPerChannel=i[t.formatID]),t.floatingPoint="fl32"===(e=t.formatID)||"fl64"===e,t.littleEndian="sowt"===t.formatID&&8<t.bitsPerChannel,"twos"===(e=t.formatID)||"sowt"===e||"in24"===e||"in32"===e||"fl32"===e||"fl64"===e||"raw "===e||"NONE"===e?t.formatID="lpcm":void 0)}),n("moov.trak.mdia.minf.stbl.stsd.alac",function(){return this.stream.advance(4),this.track.cookie=this.stream.readBuffer(this.len-4)}),n("moov.trak.mdia.minf.stbl.stsd.esds",function(){var t=this.stream.offset+this.len;return this.track.cookie=d.readEsds(this.stream),this.stream.seek(t)}),n("moov.trak.mdia.minf.stbl.stsd.wave.enda",function(){return this.track.format.littleEndian=!!this.stream.readUInt16()}),d.readDescrLen=function(t){for(var e,i=0,n=4;n--&&(i=i<<7|127&(e=t.readUInt8()),128&e););return i},d.readEsds=function(t){var e,i;return t.advance(4),i=t.readUInt8(),d.readDescrLen(t),(3!==i||(t.advance(2),128&(e=t.readUInt8())&&t.advance(2),64&e&&t.advance(t.readUInt8()),32&e))&&t.advance(2),i=t.readUInt8(),d.readDescrLen(t),4===i&&(t.readUInt8(),t.advance(1),t.advance(3),t.advance(4),t.advance(4),i=t.readUInt8(),e=d.readDescrLen(t),5===i)?t.readBuffer(e):null},n("moov.trak.mdia.minf.stbl.stts",function(){var t,e,i,n;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stts=[],e=i=0,n=t;i<n;e=i+=1)this.track.stts[e]={count:this.stream.readUInt32(),duration:this.stream.readUInt32()};return this.setupSeekPoints()}),n("moov.trak.mdia.minf.stbl.stsc",function(){var t,e,i,n;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stsc=[],e=i=0,n=t;i<n;e=i+=1)this.track.stsc[e]={first:this.stream.readUInt32(),count:this.stream.readUInt32(),id:this.stream.readUInt32()};return this.setupSeekPoints()}),n("moov.trak.mdia.minf.stbl.stsz",function(){var t,e,i,n;if(this.stream.advance(4),this.track.sampleSize=this.stream.readUInt32(),t=this.stream.readUInt32(),0===this.track.sampleSize&&0<t)for(this.track.sampleSizes=[],e=i=0,n=t;i<n;e=i+=1)this.track.sampleSizes[e]=this.stream.readUInt32();return this.setupSeekPoints()}),n("moov.trak.mdia.minf.stbl.stco",function(){var t,e,i,n;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.chunkOffsets=[],e=i=0,n=t;i<n;e=i+=1)this.track.chunkOffsets[e]=this.stream.readUInt32();return this.setupSeekPoints()}),n("moov.trak.tref.chap",function(){var t,e,i,n=this.len>>2;for(this.track.chapterTracks=[],t=e=0,i=n;e<i;t=e+=1)this.track.chapterTracks[t]=this.stream.readUInt32()}),d.prototype.setupSeekPoints=function(){var t,e,i,n,a,o,r,s,h,l,c,u,d,p,f;if(null!=this.track.chunkOffsets&&null!=this.track.stsc&&null!=this.track.sampleSize&&null!=this.track.stts){for(f=a=l=p=d=d=u=0,this.track.seekPoints=[],h=[],t=e=0,n=(r=this.track.chunkOffsets).length;e<n;t=++e){for(o=r[t],i=0,s=this.track.stsc[u].count;i<s;i+=1)this.track.seekPoints.push({offset:a,position:o,timestamp:f}),a+=c=this.track.sampleSize||this.track.sampleSizes[l++],o+=c,f+=this.track.stts[d].duration,d+1<this.track.stts.length&&++p===this.track.stts[d].count&&(p=0,d++);u+1<this.track.stsc.length&&t+1===this.track.stsc[u+1].first?h.push(u++):h.push(void 0)}return h}},t("moov",function(){var t,e,i,n;for(null!=this.mdatOffset&&this.stream.seek(this.mdatOffset-8),t=0,e=(i=this.tracks).length;t<e;t++)if("soun"===(n=i[t]).type){this.track=n;break}return"soun"!==this.track.type?(this.track=null,this.emit("error","No audio tracks in m4a file.")):(this.emit("format",this.track.format),this.emit("duration",this.track.duration/this.track.timeScale*1e3|0),this.track.cookie&&this.emit("cookie",this.track.cookie),this.seekPoints=this.track.seekPoints)}),n("mdat",function(){var t,e,i,n,a,o,r,s,h;if(!this.startedData){if(null==this.mdatOffset&&(this.mdatOffset=this.stream.offset),0===this.tracks.length)return t=Math.min(this.stream.remainingBytes(),this.len),this.stream.advance(t),void(this.len-=t);this.chunkIndex=0,this.stscIndex=0,this.sampleIndex=0,this.tailOffset=0,this.tailSamples=0,this.startedData=!0}if(!this.readChapters){if(this.readChapters=this.parseChapters(),this.break=!this.readChapters)return;this.stream.seek(this.mdatOffset)}if(o=this.track.chunkOffsets[this.chunkIndex]+this.tailOffset,n=0,this.stream.available(o-this.stream.offset)){for(this.stream.seek(o);this.chunkIndex<this.track.chunkOffsets.length;){for(s=i=e=0,r=a=this.track.stsc[this.stscIndex].count-this.tailSamples;i<r&&(h=this.track.sampleSize||this.track.sampleSizes[this.sampleIndex],this.stream.available(n+h));s=i+=1)n+=h,e+=h,this.sampleIndex++;if(s<a){this.tailOffset+=e,this.tailSamples+=s;break}if(this.chunkIndex++,this.tailOffset=0,this.tailSamples=0,this.stscIndex+1<this.track.stsc.length&&this.chunkIndex+1===this.track.stsc[this.stscIndex+1].first&&this.stscIndex++,o+n!==this.track.chunkOffsets[this.chunkIndex])break}return 0<n?(this.emit("data",this.stream.readBuffer(n)),this.break=this.chunkIndex===this.track.chunkOffsets.length):this.break=!0}this.break=!0}),d.prototype.parseChapters=function(){var t,e,i,n,a,o,r,s,h,l;if(0<(null!=(a=this.track.chapterTracks)?a.length:void 0)){for(t=this.track.chapterTracks[0],e=0,i=(o=this.tracks).length;e<i&&(l=o[e]).id!==t;e++);for(l.id!==t&&this.emit("error","Chapter track does not exist."),null==this.chapters&&(this.chapters=[]);this.chapters.length<l.seekPoints.length;){if(n=l.seekPoints[this.chapters.length],!this.stream.available(n.position-this.stream.offset+32))return!1;if(this.stream.seek(n.position),r=this.stream.readUInt16(),h=null,!this.stream.available(r))return!1;2<r&&(65279!==(s=this.stream.peekUInt16())&&65534!==s||(h=this.stream.readString(r,"utf16-bom"))),null==h&&(h=this.stream.readString(r,"utf8")),r=null!=(r=null!=(s=l.seekPoints[this.chapters.length+1])?s.timestamp:void 0)?r:l.duration,this.chapters.push({title:h,timestamp:n.timestamp/l.timeScale*1e3|0,duration:(r-n.timestamp)/l.timeScale*1e3|0})}this.emit("chapters",this.chapters)}return!0},n("moov.udta.meta",function(){return this.metadata={},this.stream.advance(4)}),t("moov.udta.meta",function(){return this.emit("metadata",this.metadata)}),(t=function(t,e,i){return n("moov.udta.meta.ilst."+t+".data",function(){return this.stream.advance(8),this.len-=8,i.call(this,e)})})("©alb","album",o=function(t){return this.metadata[t]=this.stream.readString(this.len,"utf8")}),t("©arg","arranger",o),t("©art","artist",o),t("©ART","artist",o),t("aART","albumArtist",o),t("catg","category",o),t("©com","composer",o),t("©cpy","copyright",o),t("cprt","copyright",o),t("©cmt","comments",o),t("©day","releaseDate",o),t("desc","description",o),t("©gen","genre",o),t("©grp","grouping",o),t("©isr","ISRC",o),t("keyw","keywords",o),t("©lab","recordLabel",o),t("ldes","longDescription",o),t("©lyr","lyrics",o),t("©nam","title",o),t("©phg","recordingCopyright",o),t("©prd","producer",o),t("©prf","performers",o),t("purd","purchaseDate",o),t("purl","podcastURL",o),t("©swf","songwriter",o),t("©too","encoder",o),t("©wrt","composer",o),t("covr","coverArt",function(t){return this.metadata[t]=this.stream.readBuffer(this.len)}),a=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Capella","Euro-House","Dance Hall"],t("gnre","genre",function(t){return this.metadata[t]=a[this.stream.readUInt16()-1]}),t("tmpo","tempo",function(t){return this.metadata[t]=this.stream.readUInt16()}),t("rtng","rating",function(t){var e=this.stream.readUInt8();return this.metadata[t]=2===e?"Clean":0!==e?"Explicit":"None"}),t("disk","diskNumber",o=function(t){return this.stream.advance(2),this.metadata[t]=this.stream.readUInt16()+" of "+this.stream.readUInt16(),this.stream.advance(this.len-6)}),t("trkn","trackNumber",o),t("cpil","compilation",o=function(t){return this.metadata[t]=1===this.stream.readUInt8()}),t("pcst","podcast",o),t("pgap","gapless",o),d}();i.exports=t}.call(this)},{"../demuxer":14}],19:[function(h,t,e){!function(){var i,t,e={}.hasOwnProperty,n=h("../demuxer"),a=s,o=n;for(t in o)e.call(o,t)&&(a[t]=o[t]);function r(){this.constructor=a}function s(){return s.__super__.constructor.apply(this,arguments)}r.prototype=o.prototype,a.prototype=new r,a.__super__=o.prototype,n.register(s),s.probe=function(t){return"RIFF"===t.peekString(0,4)&&"WAVE"===t.peekString(8,4)},i={1:"lpcm",3:"lpcm",6:"alaw",7:"ulaw"},s.prototype.readChunk=function(){var t,e;if(!this.readStart&&this.stream.available(12)){if("RIFF"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.");if(this.fileSize=this.stream.readUInt32(!0),this.readStart=!0,"WAVE"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32(!0)),this.type){case"fmt ":if(!((e=this.stream.readUInt16(!0))in i))return this.emit("error","Unsupported format in WAV file.");this.format={formatID:i[e],floatingPoint:3===e,littleEndian:"lpcm"===i[e],channelsPerFrame:this.stream.readUInt16(!0),sampleRate:this.stream.readUInt32(!0),framesPerPacket:1},this.stream.advance(4),this.stream.advance(2),this.format.bitsPerChannel=this.stream.readUInt16(!0),this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,this.emit("format",this.format),this.stream.advance(this.len-16);break;case"data":this.sentDuration||(e=this.format.bitsPerChannel/8,this.emit("duration",this.len/e/this.format.channelsPerFrame/this.format.sampleRate*1e3|0),this.sentDuration=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=0<this.len,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"data"!==this.type&&(this.readHeaders=!1)}}}.call(this)},{"../demuxer":14}],20:[function(e,i,t){!function(){var r={}.hasOwnProperty,s=e("./core/events"),t=function(){var o,t,e=a,i=s;for(t in i)r.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(t,e){var i,n;this.sampleRate=t,this.channels=e,this.updateTime=(i=this.updateTime,n=this,function(){return i.apply(n,arguments)}),this.playing=!1,this.currentTime=0,this._lastTime=0}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.prototype.start=function(){if(!this.playing){if(this.playing=!0,null==this.device&&(this.device=a.create(this.sampleRate,this.channels)),this.device)return this._lastTime=this.device.getDeviceTime(),this._timer=setInterval(this.updateTime,20),this.device.on("refill",this.refill=(e=this,function(t){return e.emit("refill",t)}));throw new Error("No supported audio device found.");var e}},a.prototype.stop=function(){if(this.playing)return this.playing=!1,this.device.off("refill",this.refill),clearInterval(this._timer)},a.prototype.destroy=function(){var t;return this.stop(),null!=(t=this.device)?t.destroy():void 0},a.prototype.seek=function(t){return this.currentTime=t,this.playing&&(this._lastTime=this.device.getDeviceTime()),this.emit("timeUpdate",this.currentTime)},a.prototype.updateTime=function(){var t=this.device.getDeviceTime();return this.currentTime+=(t-this._lastTime)/this.device.sampleRate*1e3|0,this._lastTime=t,this.emit("timeUpdate",this.currentTime)},o=[],a.register=function(t){return o.push(t)},a.create=function(t,e){for(var i,n=0,a=o.length;n<a;n++)if((i=o[n]).supported)return new i(t,e);return null},a.prototype._reCreateDevice=function(){if(this.device.off("refill",this.refill),clearInterval(this._timer),this.device.destroy(),this.device=AV.AudioDevice.create(this.sampleRate,this.channels),this.device)return this._lastTime=this.device.getDeviceTime(),this.currentTime=0,this._timer=setInterval(this.updateTime,20),this.device.on("refill",this.refill=(e=this,function(t){return e.emit("refill",t)}));throw new Error("No supported audio device found.");var e},a}();i.exports=t}.call(this)},{"./core/events":8}],21:[function(u,t,e){!function(){var a,t,e,i={}.hasOwnProperty,n=u("../core/events"),o=u("../device"),r=u("../core/buffer"),s=c,h=n;for(e in h)i.call(h,e)&&(s[e]=h[e]);function l(){this.constructor=s}function c(t,e){var i,n;this.sampleRate=t,this.channels=e,this.refill=(i=this.refill,n=this,function(){return i.apply(n,arguments)}),this.audio=new Audio,this.audio.mozSetup(this.channels,this.sampleRate),this.writePosition=0,this.prebufferSize=this.sampleRate/2,this.tail=null,this.timer=a(this.refill,100)}l.prototype=h.prototype,s.prototype=new l,s.__super__=h.prototype,o.register(c),c.supported="undefined"!=typeof Audio&&null!==Audio&&"mozWriteAudio"in new Audio,c.prototype.refill=function(){var t,e;this.tail&&(e=this.audio.mozWriteAudio(this.tail),this.writePosition+=e,this.writePosition<this.tail.length?this.tail=this.tail.subarray(e):this.tail=null),0<(t=this.audio.mozCurrentSampleOffset()+this.prebufferSize-this.writePosition)&&(t=new Float32Array(t),this.emit("refill",t),(e=this.audio.mozWriteAudio(t))<t.length&&(this.tail=t.subarray(e)),this.writePosition+=e)},c.prototype.destroy=function(){return t(this.timer)},c.prototype.getDeviceTime=function(){return this.audio.mozCurrentSampleOffset()/this.channels},a=function(t,e){var i=r.makeBlobURL("setInterval(function() { postMessage('ping'); }, "+e+");");return null==i?setInterval(t,e):((e=new Worker(i)).onmessage=t,e.url=i,e)},t=function(t){return t.terminate?(t.terminate(),URL.revokeObjectURL(t.url)):clearInterval(t)}}.call(this)},{"../core/buffer":6,"../core/events":8,"../device":20}],22:[function(t,e,i){function n(t,e,i,n){this.fromSampleRate=+t,this.toSampleRate=+e,this.channels=0|i,this.inputBufferLength=n,this.initialize()}n.prototype.initialize=function(){if(!(0<this.fromSampleRate&&0<this.toSampleRate&&0<this.channels))throw new Error("Invalid settings specified for the resampler.");var t;this.fromSampleRate==this.toSampleRate?(this.resampler=this.bypassResampler,this.ratioWeight=1):(this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0),t=Math.ceil(this.inputBufferLength*this.toSampleRate/this.fromSampleRate/this.channels*1.01)*this.channels+this.channels,this.outputBuffer=new Float32Array(t),this.lastOutput=new Float32Array(this.channels))},n.prototype.compileLinearInterpolationFunction=function(){for(var t="var outputOffset = 0;    var bufferLength = buffer.length;    if (bufferLength > 0) {      var weight = this.lastWeight;      var firstWeight = 0;      var secondWeight = 0;      var sourceOffset = 0;      var outputOffset = 0;      var outputBuffer = this.outputBuffer;      for (; weight < 1; weight += "+this.ratioWeight+") {        secondWeight = weight % 1;        firstWeight = 1 - secondWeight;",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (this.lastOutput["+e+"] * firstWeight) + (buffer["+e+"] * secondWeight);";t+="}      weight -= 1;      for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; sourceOffset < bufferLength;) {        secondWeight = weight % 1;        firstWeight = 1 - secondWeight;";for(e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(0<e?" + "+e:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+e)+"] * secondWeight);";t+="weight += "+this.ratioWeight+";        sourceOffset = Math.floor(weight) * "+this.channels+";      }";for(e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = buffer[sourceOffset++];";t+="this.lastWeight = weight % 1;    }    return this.outputBuffer;",this.resampler=Function("buffer",t)},n.prototype.compileMultiTapFunction=function(){for(var t="var outputOffset = 0;    var bufferLength = buffer.length;    if (bufferLength > 0) {      var weight = 0;",e=0;e<this.channels;++e)t+="var output"+e+" = 0;";for(t+="var actualPosition = 0;      var amountToNext = 0;      var alreadyProcessedTail = !this.tailExists;      this.tailExists = false;      var outputBuffer = this.outputBuffer;      var currentPosition = 0;      do {        if (alreadyProcessedTail) {          weight = "+this.ratioWeight+";",e=0;e<this.channels;++e)t+="output"+e+" = 0;";for(t+="}        else {          weight = this.lastWeight;",e=0;e<this.channels;++e)t+="output"+e+" = this.lastOutput["+e+"];";for(t+="alreadyProcessedTail = true;        }        while (weight > 0 && actualPosition < bufferLength) {          amountToNext = 1 + actualPosition - currentPosition;          if (weight >= amountToNext) {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition++] * amountToNext;";for(t+="currentPosition = actualPosition;            weight -= amountToNext;          }          else {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition"+(0<e?" + "+e:"")+"] * weight;";for(t+="currentPosition += weight;            weight = 0;            break;          }        }        if (weight <= 0) {",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = output"+e+" / "+this.ratioWeight+";";for(t+="}        else {          this.lastWeight = weight;",e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = output"+e+";";t+="this.tailExists = true;          break;        }      } while (actualPosition < bufferLength);    }    return this.outputBuffer;",this.resampler=Function("buffer",t)},n.prototype.bypassResampler=function(t){return t},e.exports=n},{}],23:[function(p,t,e){!function(d){!function(){var a,o,r,t,e={}.hasOwnProperty,i=p("../core/events"),n=p("../device"),s=p("./resampler"),h=u,l=i;for(t in l)e.call(l,t)&&(h[t]=l[t]);function c(){this.constructor=h}function u(t,e){var i,n;this.sampleRate=t,this.channels=e,this.refill=(i=this.refill,n=this,function(){return i.apply(n,arguments)}),this.context=null!=r?r:r=new a,this.deviceSampleRate=this.context.sampleRate,this.bufferSize=Math.ceil(4096/(this.deviceSampleRate/this.sampleRate)*this.channels),this.bufferSize+=this.bufferSize%this.channels,this.deviceSampleRate!==this.sampleRate&&(this.resampler=new s(this.sampleRate,this.deviceSampleRate,this.channels,this.bufferSize)),this.node=this.context[o](4096,this.channels,this.channels),this.node.onaudioprocess=this.refill,this.node.connect(this.context.destination)}c.prototype=l.prototype,h.prototype=new c,h.__super__=l.prototype,n.register(u),a=d.AudioContext||d.webkitAudioContext,u.supported=a&&("function"==typeof a.prototype[o="createScriptProcessor"]||"function"==typeof a.prototype[o="createJavaScriptNode"]),r=null,u.prototype.refill=function(t){for(var e,i,n,a,o,r,s,h=t.outputBuffer,l=h.numberOfChannels,c=new Array(l),u=i=0,d=l;i<d;u=i+=1)c[u]=h.getChannelData(u);for(e=new Float32Array(this.bufferSize),this.emit("refill",e),this.resampler&&(e=this.resampler.resampler(e)),u=n=0,r=h.length;n<r;u=n+=1)for(o=a=0,s=l;a<s;o=a+=1)c[o][u]=e[u*l+o]},u.prototype.destroy=function(){return this.node.disconnect(0)},u.prototype.getDeviceTime=function(){return this.context.currentTime*this.sampleRate}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/events":8,"../device":20,"./resampler":22}],24:[function(t,e,i){!function(){function t(t,e){t&&e&&Object.defineProperty(this,"value",{get:function(){return t[e]}})}t.prototype.process=function(t){},e.exports=t}.call(this)},{}],25:[function(e,i,t){!function(){var o={}.hasOwnProperty,r=e("../filter"),t=function(){var t,e=a,i=r;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(){return a.__super__.constructor.apply(this,arguments)}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.prototype.process=function(t){var e,i,n,a;if(0!==this.value)for(n=Math.max(-50,Math.min(50,this.value)),e=i=0,a=t.length;i<a;e=i+=2)t[e]*=Math.min(1,(50-n)/50),t[e+1]*=Math.min(1,(50+n)/50)},a}();i.exports=t}.call(this)},{"../filter":24}],26:[function(e,i,t){!function(){var o={}.hasOwnProperty,r=e("../filter"),t=function(){var t,e=a,i=r;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(){return a.__super__.constructor.apply(this,arguments)}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.prototype.process=function(t){var e,i,n,a;if(!(100<=this.value))for(a=Math.max(0,Math.min(100,this.value))/100,e=i=0,n=t.length;i<n;e=i+=1)t[e]*=a},a}();i.exports=t}.call(this)},{"../filter":24}],27:[function(e,i,t){!function(){var o={}.hasOwnProperty,r=e("./core/events"),s=e("./asset"),l=e("./filters/volume"),c=e("./filters/balance"),u=e("./queue"),d=e("./device"),t=function(){var t,e=a,i=r;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(t){var e,i,n,a,o,r,s,h;this.asset=t,this.startPlaying=(e=this.startPlaying,i=this,function(){return e.apply(i,arguments)}),this.playing=!1,this.buffered=0,this.currentTime=0,this.duration=0,this.volume=100,this.pan=0,this.metadata={},this.filters=[new l(this,"volume"),new c(this,"pan")],this.asset.on("buffer",(n=this,function(t){return n.buffered=t,n.emit("buffer",n.buffered)})),this.asset.on("decodeStart",(a=this,function(){return a.queue=new u(a.asset),a.queue.once("ready",a.startPlaying)})),this.asset.on("format",(o=this,function(t){return o.format=t,o.emit("format",o.format)})),this.asset.on("metadata",(r=this,function(t){return r.metadata=t,r.emit("metadata",r.metadata)})),this.asset.on("duration",(s=this,function(t){return s.duration=t,s.emit("duration",s.duration)})),this.asset.on("error",(h=this,function(t){return h.emit("error",t)}))}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.fromURL=function(t,e){return new a(s.fromURL(t,e))},a.fromFile=function(t){return new a(s.fromFile(t))},a.fromBuffer=function(t){return new a(s.fromBuffer(t))},a.prototype.preload=function(){if(this.asset)return this.startedPreloading=!0,this.asset.start(!1)},a.prototype.play=function(){var t;if(!this.playing)return this.startedPreloading||this.preload(),this.playing=!0,null!=(t=this.device)?t.start():void 0},a.prototype.pause=function(){var t;if(this.playing)return this.playing=!1,null!=(t=this.device)?t.stop():void 0},a.prototype.togglePlayback=function(){return this.playing?this.pause():this.play()},a.prototype.stop=function(){var t;return this.pause(),this.asset.stop(),null!=(t=this.device)?t.destroy():void 0},a.prototype.seek=function(t){var e,i;return null!=(e=this.device)&&e.stop(),this.queue.once("ready",(i=this,function(){var t;return null!=(t=i.device)&&t.seek(i.currentTime),i.playing&&null!=(t=i.device)?t.start():void 0})),t=t/1e3*this.format.sampleRate,t=this.asset.decoder.seek(t),this.currentTime=t/this.format.sampleRate*1e3|0,this.queue.reset(),this.currentTime},a.prototype.startPlaying=function(){var e,s,h=this.queue.read(),l=0;return this.device=new d(this.format.sampleRate,this.format.channelsPerFrame),this.device.on("timeUpdate",(e=this,function(t){return e.currentTime=t,e.emit("progress",e.currentTime)})),this.refill=(s=this,function(t){var e,i,n,a,o,r;if(s.playing){for(h||(h=s.queue.read(),l=0),e=0;h&&e<t.length;){for(i=0,o=Math.min(h.length-l,t.length-e);i<o;i+=1)t[e++]=h[l++];l===h.length&&(h=s.queue.read(),l=0)}for(n=0,a=(r=s.filters).length;n<a;n++)r[n].process(t);h||s.queue.ended&&(s.currentTime=s.duration,s.emit("progress",s.currentTime),s.emit("end"),s.stop())}}),this.device.on("refill",this.refill),this.playing&&this.device.start(),this.emit("ready")},a.prototype.destroy=function(){var t;return this.stop(),null!=(t=this.device)&&t.off(),null!=(t=this.asset)&&t.destroy(),this.off()},a}();i.exports=t}.call(this)},{"./asset":1,"./core/events":8,"./device":20,"./filters/balance":25,"./filters/volume":26,"./queue":28}],28:[function(e,i,t){!function(){var o={}.hasOwnProperty,r=e("./core/events"),t=function(){var t,e=a,i=r;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(t){var e,i,n;this.asset=t,this.write=(e=this.write,i=this,function(){return e.apply(i,arguments)}),this.readyMark=1,this.finished=!1,this.buffering=!0,this.ended=!1,this.buffers=[],this.asset.on("data",this.write),this.asset.on("end",(n=this,function(){return n.ended=!0})),this.asset.decodePacket()}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.prototype.write=function(t){if(t&&this.buffers.push(t),this.buffering)return this.buffers.length>=this.readyMark||this.ended?(this.buffering=!1,this.emit("ready")):this.asset.decodePacket()},a.prototype.read=function(){return 15<=this.buffers.length&&(this.buffers=[]),0===this.buffers.length?null:(this.asset.decodePacket(),this.buffers.shift())},a.prototype.reset=function(){return this.buffers.length=0,this.buffering=!0,this.asset.decodePacket()},a}();i.exports=t}.call(this)},{"./core/events":8}],29:[function(t,e,i){var o={}.hasOwnProperty,r=t("../../core/events"),s=t("../../core/buffer"),t=function(){var t,e=a,i=r;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(t){if(this.file=t,"undefined"==typeof FileReader||null===FileReader)return this.emit("error","This browser does not have FileReader support.");this.offset=0,this.length=this.file.size,this.chunkSize=1<<20,this.file[this.slice="slice"]||this.file[this.slice="webkitSlice"]||this.file[this.slice="mozSlice"]}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.prototype.start=function(){var e,t,i,n;return this.reader&&!this.active||(this.reader=new FileReader,this.active=!0,this.reader.onload=(e=this,function(t){t=new s(new Uint8Array(t.target.result));if(e.offset+=t.length,e.emit("data",t),e.active=!1,e.offset<e.length)return e.loop()}),this.reader.onloadend=(t=this,function(){if(t.offset===t.length)return t.emit("end"),t.reader=null}),this.reader.onerror=(i=this,function(t){return i.emit("error",t)}),this.reader.onprogress=(n=this,function(t){return n.emit("progress",(n.offset+t.loaded)/n.length*100)})),this.loop()},a.prototype.loop=function(){var t;return this.active=!0,t=Math.min(this.offset+this.chunkSize,this.length),t=this.file[this.slice](this.offset,t),this.reader.readAsArrayBuffer(t)},a.prototype.pause=function(){var t;this.active=!1;try{return null!=(t=this.reader)?t.abort():void 0}catch(t){}},a.prototype.reset=function(){return this.pause(),this.offset=0},a}();e.exports=t},{"../../core/buffer":6,"../../core/events":8}],30:[function(t,e,i){var o={}.hasOwnProperty,r=t("../../core/events"),h=t("../../core/buffer"),t=function(){var t,e=a,i=r;for(t in i)o.call(i,t)&&(e[t]=i[t]);function n(){this.constructor=e}function a(t,e){this.url=t,this.opts=null!=e?e:{},this.chunkSize=1<<20,this.inflight=!1,this.opts.length&&(this.length=this.opts.length),this.reset()}return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,a.prototype.start=function(){var e,i,n;return this.length&&!this.inflight?this.loop():(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=(e=this,function(t){return e.length=parseInt(e.xhr.getResponseHeader("Content-Length")),e.inflight=!1,e.loop()}),this.xhr.onerror=(i=this,function(t){return i.pause(),i.emit("error",t)}),this.xhr.onabort=(n=this,function(t){return n.inflight=!1}),this.xhr.open("HEAD",this.url,!0),this.xhr.send(null))},a.prototype.loop=function(){var t,s,e,i,n;return this.inflight||!this.length?this.emit("error","Something is wrong in HTTPSource.loop"):(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=(s=this,function(t){var e,i,n,a,o,r;if(s.xhr.response)e=new Uint8Array(s.xhr.response);else for(a=s.xhr.responseText,e=new Uint8Array(a.length),n=o=0,r=a.length;0<=r?o<r:r<o;n=0<=r?++o:--o)e[n]=255&a.charCodeAt(n);if(i=new h(e),s.offset+=i.length,s.emit("data",i),s.offset>=s.length&&s.emit("end"),s.inflight=!1,!(s.offset>=s.length))return s.loop()}),this.xhr.onprogress=(e=this,function(t){return e.emit("progress",(e.offset+t.loaded)/e.length*100)}),this.xhr.onerror=(i=this,function(t){return i.emit("error",t),i.pause()}),this.xhr.onabort=(n=this,function(t){return n.inflight=!1}),this.xhr.open("GET",this.url,!0),this.xhr.responseType="arraybuffer",t=Math.min(this.offset+this.chunkSize,this.length-1),this.xhr.setRequestHeader("If-None-Match","webkit-no-cache"),this.xhr.setRequestHeader("Range","bytes="+this.offset+"-"+t),this.xhr.overrideMimeType("text/plain; charset=x-user-defined"),this.xhr.send(null))},a.prototype.pause=function(){var t;return this.inflight=!1,null!=(t=this.xhr)?t.abort():void 0},a.prototype.reset=function(){return this.pause(),this.offset=0},a}();e.exports=t},{"../../core/buffer":6,"../../core/events":8}],31:[function(e,i,t){!function(u){!function(){var s={}.hasOwnProperty,h=e("../core/events"),l=e("../core/bufferlist"),c=e("../core/buffer"),t=function(){var t,e,i,n=r,a=h;for(i in a)s.call(a,i)&&(n[i]=a[i]);function o(){this.constructor=n}function r(t){var e,i;this.loop=(e=this.loop,i=this,function(){return e.apply(i,arguments)}),t instanceof l?this.list=t:(this.list=new l,this.list.append(new c(t))),this.paused=!0}return o.prototype=a.prototype,n.prototype=new o,n.__super__=a.prototype,e=u.setImmediate||function(t){return u.setTimeout(t,0)},t=u.clearImmediate||function(t){return u.clearTimeout(t)},r.prototype.start=function(){return this.paused=!1,this._timer=e(this.loop)},r.prototype.loop=function(){return this.emit("progress",(this.list.numBuffers-this.list.availableBuffers+1)/this.list.numBuffers*100|0),this.emit("data",this.list.first),this.list.advance()?e(this.loop):this.emit("end")},r.prototype.pause=function(){return t(this._timer),this.paused=!0},r.prototype.reset=function(){return this.pause(),this.list.rewind()},r}();i.exports=t}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/buffer":6,"../core/bufferlist":7,"../core/events":8}],32:[function(t,e,i){var n,a,o=t("./src/aurora");for(n in o)a=o[n],i[n]=a;t("./src/devices/webaudio"),t("./src/devices/mozilla")},{"./src/aurora":2,"./src/devices/mozilla":21,"./src/devices/webaudio":23}]},{},[32])(32)}),!function n(a,o,r){function s(i,t){if(!o[i]){if(!a[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);throw new Error("Cannot find module '"+i+"'")}t=o[i]={exports:{}};a[i][0].call(t.exports,function(t){var e=a[i][1][t];return s(e||t)},t,t.exports,n,a,o,r)}return o[i].exports}for(var h="function"==typeof require&&require,t=0;t<r.length;t++)s(r[t]);return s}({1:[function(e,i,t){!function(t){var a="undefined"!=typeof window?window.AV:void 0!==t?t.AV:null,o=e("./tables"),r=a.Demuxer.extend(function(){a.Demuxer.register(this),this.probe=function(t){for(var e=t.offset;t.available(2);)if(65520==(65526&t.readUInt16()))return t.seek(e),!0;return t.seek(e),!1},this.prototype.init=function(){this.bitstream=new a.Bitstream(this.stream)},this.readHeader=function(t){if(4095!==t.read(12))throw new Error("Invalid ADTS header.");var e={},i=(t.advance(3),!!t.read(1));return e.profile=t.read(2)+1,e.samplingIndex=t.read(4),t.advance(1),e.chanConfig=t.read(3),t.advance(4),e.frameLength=t.read(13),t.advance(11),e.numFrames=t.read(2)+1,i||t.advance(16),e},this.prototype.readChunk=function(){var t,e,i;for(this.sentHeader||(t=this.stream.offset,e=r.readHeader(this.bitstream),this.emit("format",{formatID:"aac ",sampleRate:o.SAMPLE_RATES[e.samplingIndex],channelsPerFrame:e.chanConfig,bitsPerChannel:16}),(i=new Uint8Array(2))[0]=e.profile<<3|e.samplingIndex>>1&7,i[1]=(1&e.samplingIndex)<<7|e.chanConfig<<3,this.emit("cookie",new a.Buffer(i)),this.stream.seek(t),this.sentHeader=!0);this.stream.available(1);){var n=this.stream.readSingleBuffer(this.stream.remainingBytes());this.emit("data",n)}}});i.exports=r}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./tables":11}],2:[function(t,e,i){var S=t("./ics"),b=t("./huffman");function I(t){this.ics=new S(t),this.channelPair=new Array(8),this.idSelect=new Int32Array(8),this.chSelect=new Int32Array(8),this.gain=new Array(16)}I.BEFORE_TNS=0,I.AFTER_TNS=1,I.AFTER_IMDCT=2;var B=new Float32Array([1.0905077326652577,1.189207115002721,1.4142135623730951,2]);I.prototype={decode:function(t,e){for(var i=this.channelPair,n=this.idSelect,a=this.chSelect,o=(this.couplingPoint=2*t.read(1),this.coupledCount=t.read(3),0),r=0;r<=this.coupledCount;r++)o++,i[r]=t.read(1),n[r]=t.read(4),i[r]?(a[r]=t.read(2),3===a[r]&&o++):a[r]=2;this.couplingPoint+=t.read(1),this.couplingPoint|=this.couplingPoint>>>1;for(var s=t.read(1),h=B[t.read(2)],l=(this.ics.decode(t,e,!1),this.ics.info.groupCount),c=this.ics.info.maxSFB,u=this.ics.bandTypes,r=0;r<o;r++){var d=0,p=1,f=0,_=1,m=(0<r&&(f=(p=this.couplingPoint===I.AFTER_IMDCT?1:t.read(1))?b.decodeScaleFactor(t)-60:0,_=Math.pow(h,-f)),this.gain[r]=new Float32Array(120));if(this.couplingPoint===I.AFTER_IMDCT)m[0]=_;else for(var g=0;g<l;g++)for(var v,y,P=0;P<c;P++)u[d]!==S.ZERO_BT&&(0===p&&0!==(y=b.decodeScaleFactor(t)-60)&&(v=1,y=f+=y,s||(v-=2*(1&y),y>>>=1),_=Math.pow(h,-y)*v),m[d++]=_)}},applyIndependentCoupling:function(t,e){for(var i=this.gain[t][0],n=this.ics.data,a=0;a<e.length;a++)e[a]+=i*n[a]},applyDependentCoupling:function(t,e){for(var i=this.ics.info,n=i.swbOffsets,a=i.groupCount,o=i.maxSFB,r=this.ics.bandTypes,s=this.ics.data,h=0,l=0,c=this.gain[t],u=0;u<a;u++){for(var d=i.groupLength[u],p=0;p<o;p++,h++)if(r[h]!==S.ZERO_BT)for(var f=c[h],_=0;_<d;_++)for(var m=n[p];m<n[swb+1];m++)e[l+128*_+m]+=f*s[l+128*_+m];l+=128*d}}},e.exports=I},{"./huffman":7,"./ics":8}],3:[function(t,e,i){var n=t("./ics");function a(t){this.ms_used=[],this.left=new n(t),this.right=new n(t)}a.prototype.decode=function(t,e){var i=this.left,n=this.right,a=this.ms_used;if(this.commonWindow=!!t.read(1)){i.info.decode(t,e,!0),n.info=i.info;var o=t.read(2);switch(this.maskPresent=!!o,o){case 1:for(var r=i.info.groupCount*i.info.maxSFB,s=0;s<r;s++)a[s]=!!t.read(1);break;case 0:case 2:for(var h=!!o,s=0;s<128;s++)a[s]=h;break;default:throw new Error("Reserved ms mask type: "+o)}}else for(s=0;s<128;s++)a[s]=!1;i.decode(t,e,this.commonWindow),n.decode(t,e,this.commonWindow)},e.exports=a},{"./ics":8}],4:[function(e,i,t){!function(t){var n="undefined"!=typeof window?window.AV:void 0!==t?t.AV:null,_=e("./adts_demuxer"),b=e("./ics"),m=e("./cpe"),g=e("./cce"),a=e("./filter_bank"),o=e("./tables"),t=n.Decoder.extend(function(){n.Decoder.register("mp4a",this),n.Decoder.register("aac ",this);this.prototype.init=function(){this.format.floatingPoint=!0},this.prototype.setCookie=function(t){var t=n.Stream.fromBuffer(t),e=new n.Bitstream(t);if(this.config={},this.config.profile=e.read(5),31===this.config.profile&&(this.config.profile=32+e.read(6)),this.config.sampleIndex=e.read(4),15===this.config.sampleIndex){this.config.sampleRate=e.read(24);for(var i=0;i<o.SAMPLE_RATES.length;i++)if(o.SAMPLE_RATES[i]===this.config.sampleRate){this.config.sampleIndex=i;break}}else this.config.sampleRate=o.SAMPLE_RATES[this.config.sampleIndex];switch(this.config.chanConfig=e.read(4),this.format.channelsPerFrame=this.config.chanConfig,this.config.profile){case 1:case 2:case 4:if(e.read(1))throw new Error("frameLengthFlag not supported");if(this.config.frameLength=1024,e.read(1)&&e.advance(14),e.read(1)&&(16<this.config.profile&&(this.config.sectionDataResilience=e.read(1),this.config.scalefactorResilience=e.read(1),this.config.spectralDataResilience=e.read(1)),e.advance(1)),0===this.config.chanConfig)throw e.advance(4),new Error("PCE unimplemented");break;default:throw new Error("AAC profile "+this.config.profile+" not supported.")}this.filter_bank=new a(!1,this.config.chanConfig)};this.prototype.readChunk=function(){for(var t,e=this.bitstream,i=(4095===e.peek(12)&&_.readHeader(e),this.cces=[],[]),n=this.config,a=n.frameLength;7!==(t=e.read(3));){var o=e.read(4);switch(t){case 0:case 3:var r=new b(this.config);r.id=o,i.push(r),r.decode(e,n,!1);break;case 1:r=new m(this.config);r.id=o,i.push(r),r.decode(e,n);break;case 2:var s=new g(this.config);this.cces.push(s),s.decode(e,n);break;case 4:var s=e.read(1),h=e.read(8);255===h&&(h+=e.read(8)),s&&e.align(),e.advance(8*h);break;case 5:throw new Error("TODO: PCE_ELEMENT");case 6:15===o&&(o+=e.read(8)-1),e.advance(8*o);break;default:throw new Error("Unknown element")}}e.align(),this.process(i);for(var l=this.data,c=l.length,u=new Float32Array(a*c),d=0,p=0;p<a;p++)for(var f=0;f<c;f++)u[d++]=l[f][p]/32768;return u},this.prototype.process=function(t){for(var e=this.config.chanConfig,i=+this.config.frameLength,n=this.data=[],a=0;a<e;a++)n[a]=new Float32Array(i);for(var o=0,a=0;a<t.length&&o<e;a++){var r=t[a];if(r instanceof b)o+=this.processSingle(r,o);else if(r instanceof m)this.processPair(r,o),o+=2;else{if(!(r instanceof g))throw new Error("Unknown element found.");o++}}},this.prototype.processSingle=function(t,e){var i=this.config.profile,n=t.info,a=t.data;if(1===i)throw new Error("Main prediction unimplemented");if(4===i)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,g.BEFORE_TNS,a,null),t.tnsPresent&&t.tns.process(t,a,!1),this.applyChannelCoupling(t,g.AFTER_TNS,a,null),this.filter_bank.process(n,a,this.data[e],e),4===i)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,g.AFTER_IMDCT,this.data[e],null),t.gainPresent)throw new Error("Gain control not implemented");if(this.sbrPresent)throw new Error("SBR not implemented");return 1},this.prototype.processPair=function(t,e){var i=this.config.profile,n=t.left,a=t.right,o=n.info,r=a.info,s=n.data,h=a.data;if(t.commonWindow&&t.maskPresent&&this.processMS(t,s,h),1===i)throw new Error("Main prediction unimplemented");if(this.processIS(t,s,h),4===i)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,g.BEFORE_TNS,s,h),n.tnsPresent&&n.tns.process(n,s,!1),a.tnsPresent&&a.tns.process(a,h,!1),this.applyChannelCoupling(t,g.AFTER_TNS,s,h),this.filter_bank.process(o,s,this.data[e],e),this.filter_bank.process(r,h,this.data[e+1],e+1),4===i)throw new Error("LTP prediction unimplemented");if(this.applyChannelCoupling(t,g.AFTER_IMDCT,this.data[e],this.data[e+1]),n.gainPresent)throw new Error("Gain control not implemented");if(a.gainPresent)throw new Error("Gain control not implemented");if(this.sbrPresent)throw new Error("SBR not implemented")},this.prototype.processIS=function(t,e,i){for(var n=t.right,a=n.info,o=a.swbOffsets,r=a.groupCount,s=a.maxSFB,h=n.bandTypes,l=n.sectEnd,c=n.scaleFactors,u=0,d=0,p=0;p<r;p++){for(var f=0;f<s;){var _=l[u];if(h[u]===b.INTENSITY_BT||h[u]===b.INTENSITY_BT2)for(;f<_;f++,u++)for(var m=h[u]===b.INTENSITY_BT?1:-1,g=(t.maskPresent&&(m*=t.ms_used[u]?-1:1),m*c[u]),v=0;v<a.groupLength[p];v++)for(var y=d+128*v+o[f],P=o[f+1]-o[f],S=0;S<P;S++)i[y+S]=e[y+S]*g;else u+=_-f,f=_}d+=128*a.groupLength[p]}},this.prototype.processMS=function(t,e,i){for(var n=t.left,a=n.info,o=a.swbOffsets,r=a.groupCount,s=a.maxSFB,h=n.bandTypes,l=t.right.bandTypes,c=0,u=0,d=0;d<r;d++){for(var p=0;p<s;p++,u++)if(t.ms_used[u]&&h[u]<b.NOISE_BT&&l[u]<b.NOISE_BT)for(var f=0;f<a.groupLength[d];f++)for(var _=c+128*f+o[p],m=0;m<o[p+1]-o[p];m++){var g=e[_+m]-i[_+m];e[_+m]+=i[_+m],i[_+m]=g}c+=128*a.groupLength[d]}},this.prototype.applyChannelCoupling=function(t,e,i,n){for(var a=this.cces,o=t instanceof m,r=e===g.AFTER_IMDCT?"applyIndependentCoupling":"applyDependentCoupling",s=0;s<a.length;s++){var h=a[s],l=0;if(h.couplingPoint===e)for(var c=0;c<h.coupledCount;c++){var u=h.chSelect[c];h.channelPair[c]===o&&h.idSelect[c]===t.id?(1!==u&&(h[r](l,i),u)&&l++,2!==u&&h[r](l++,n)):l+=1+(3===u?1:0)}}}});i.exports=t}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adts_demuxer":1,"./cce":2,"./cpe":3,"./filter_bank":6,"./ics":8,"./tables":11}],5:[function(t,e,i){function n(t){switch(this.length=t){case 64:this.roots=a(64);break;case 512:this.roots=o(512);break;case 60:this.roots=a(60);break;case 480:this.roots=o(480);break;default:throw new Error("unexpected FFT length: "+t)}this.rev=new Array(t);for(var e=0;e<t;e++)this.rev[e]=new Float32Array(2);this.a=new Float32Array(2),this.b=new Float32Array(2),this.c=new Float32Array(2),this.d=new Float32Array(2),this.e1=new Float32Array(2),this.e2=new Float32Array(2)}function a(t){for(var e=2*Math.PI/t,i=Math.cos(e),n=Math.sin(e),a=new Array(t),o=0;o<t;o++)a[o]=new Float32Array(2);a[0][0]=1;for(var r=a[0][1]=0,o=1;o<t;o++)a[o][0]=a[o-1][0]*i+r*n,r=r*i-a[o-1][0]*n,a[o][1]=-r;return a}function o(t){for(var e=2*Math.PI/t,i=Math.cos(e),n=Math.sin(e),a=new Array(t),o=0;o<t;o++)a[o]=new Float32Array(3);a[0][0]=1,a[0][1]=0,a[0][2]=0;for(o=1;o<t;o++)a[o][0]=a[o-1][0]*i+a[o-1][2]*n,a[o][2]=a[o-1][2]*i-a[o-1][0]*n,a[o][1]=-a[o][2];return a}n.prototype.process=function(t,e){for(var i=this.length,n=e?2:1,a=e?i:1,o=this.rev,r=this.roots,s=0,h=0;h<i;h++){o[h][0]=t[s][0],o[h][1]=t[s][1];for(var l=i>>>1;l<=s&&0<l;)s-=l,l>>=1;s+=l}for(var c=this.a,u=this.b,d=this.c,p=this.d,f=this.e1,_=this.e2,h=0;h<i;h++)t[h][0]=o[h][0],t[h][1]=o[h][1];for(h=0;h<i;h+=4)c[0]=t[h][0]+t[h+1][0],c[1]=t[h][1]+t[h+1][1],u[0]=t[h+2][0]+t[h+3][0],u[1]=t[h+2][1]+t[h+3][1],d[0]=t[h][0]-t[h+1][0],d[1]=t[h][1]-t[h+1][1],p[0]=t[h+2][0]-t[h+3][0],p[1]=t[h+2][1]-t[h+3][1],t[h][0]=c[0]+u[0],t[h][1]=c[1]+u[1],t[h+2][0]=c[0]-u[0],t[h+2][1]=c[1]-u[1],f[0]=d[0]-p[1],f[1]=d[1]+p[0],_[0]=d[0]+p[1],_[1]=d[1]-p[0],e?(t[h+1][0]=_[0],t[h+1][1]=_[1],t[h+3][0]=f[0],t[h+3][1]=f[1]):(t[h+1][0]=f[0],t[h+1][1]=f[1],t[h+3][0]=_[0],t[h+3][1]=_[1]);for(h=4;h<i;h<<=1)for(var m=h<<1,g=i/m,v=0;v<i;v+=m)for(l=0;l<h;l++){var y=l*g,P=r[y][0],y=r[y][n],S=t[h+v+l][0]*P-t[h+v+l][1]*y,y=t[h+v+l][0]*y+t[h+v+l][1]*P;t[h+v+l][0]=(t[v+l][0]-S)*a,t[h+v+l][1]=(t[v+l][1]-y)*a,t[v+l][0]=(t[v+l][0]+S)*a,t[v+l][1]=(t[v+l][1]+y)*a}},e.exports=n},{}],6:[function(t,e,i){var v=t("./ics"),n=t("./mdct");function a(t,e){if(t)throw new Error("WHA?? No small frames allowed.");this.length=1024,this.shortLength=128,this.mid=(this.length-this.shortLength)/2,this.trans=this.shortLength/2,this.mdctShort=new n(2*this.shortLength),this.mdctLong=new n(2*this.length),this.overlaps=new Array(e);for(var i=0;i<e;i++)this.overlaps[i]=new Float32Array(this.length);this.buf=new Float32Array(2*this.length)}function o(t){for(var e=new Float32Array(t),i=0;i<t;i++)e[i]=Math.sin((i+.5)*(Math.PI/(2*t)));return e}function r(t,e){for(var i=Math.PI/e,n=new Float32Array(e),a=0,o=new Float32Array(e),r=t*i*(t*i),s=0;s<e;s++){for(var h=s*(e-s)*r,l=1,c=50;0<c;c--)l=l*h/(c*c)+1;a+=l,o[s]=a}a++;for(s=0;s<e;s++)n[s]=Math.sqrt(o[s]/a);return n}var t=o(1024),s=o(128),h=r(4,1024),l=r(6,128),y=[t,h],P=[s,l];a.prototype.process=function(t,e,i,n){var a=this.overlaps[n],n=t.windowShape[1],o=t.windowShape[0],r=y[n],s=P[n],h=y[o],l=P[o],c=this.length,u=this.shortLength,d=this.mid,p=this.trans,f=this.buf,_=this.mdctLong,m=this.mdctShort;switch(t.windowSequence){case v.ONLY_LONG_SEQUENCE:_.process(e,0,f,0);for(var g=0;g<c;g++)i[g]=a[g]+f[g]*h[g];for(g=0;g<c;g++)a[g]=f[c+g]*r[c-1-g];break;case v.LONG_START_SEQUENCE:_.process(e,0,f,0);for(g=0;g<c;g++)i[g]=a[g]+f[g]*h[g];for(g=0;g<d;g++)a[g]=f[c+g];for(g=0;g<u;g++)a[d+g]=f[c+d+g]*s[u-g-1];for(g=0;g<d;g++)a[d+u+g]=0;break;case v.EIGHT_SHORT_SEQUENCE:for(g=0;g<8;g++)m.process(e,g*u,f,2*g*u);for(g=0;g<d;g++)i[g]=a[g];for(g=0;g<u;g++)i[d+g]=a[d+g]+f[g]*l[g],i[d+ +u+g]=a[d+ +u+g]+f[+u+g]*s[u-1-g]+f[2*u+g]*s[g],i[d+2*u+g]=a[d+2*u+g]+f[3*u+g]*s[u-1-g]+f[4*u+g]*s[g],i[d+3*u+g]=a[d+3*u+g]+f[5*u+g]*s[u-1-g]+f[6*u+g]*s[g],g<p&&(i[d+4*u+g]=a[d+4*u+g]+f[7*u+g]*s[u-1-g]+f[8*u+g]*s[g]);for(g=0;g<u;g++)p<=g&&(a[d+4*u+g-c]=f[7*u+g]*s[u-1-g]+f[8*u+g]*s[g]),a[d+5*u+g-c]=f[9*u+g]*s[u-1-g]+f[10*u+g]*s[g],a[d+6*u+g-c]=f[11*u+g]*s[u-1-g]+f[12*u+g]*s[g],a[d+7*u+g-c]=f[13*u+g]*s[u-1-g]+f[14*u+g]*s[g],a[d+8*u+g-c]=f[15*u+g]*s[u-1-g];for(g=0;g<d;g++)a[d+u+g]=0;break;case v.LONG_STOP_SEQUENCE:_.process(e,0,f,0);for(g=0;g<d;g++)i[g]=a[g];for(g=0;g<u;g++)i[d+g]=a[d+g]+f[d+g]*l[g];for(g=0;g<d;g++)i[d+u+g]=a[d+u+g]+f[d+u+g];for(g=0;g<c;g++)a[g]=f[c+g]*r[c-1-g]}},e.exports=a},{"./ics":8,"./mdct":9}],7:[function(t,e,i){var n=[[1,0,60],[3,4,59],[4,10,61],[4,11,58],[4,12,62],[5,26,57],[5,27,63],[6,56,56],[6,57,64],[6,58,55],[6,59,65],[7,120,66],[7,121,54],[7,122,67],[8,246,53],[8,247,68],[8,248,52],[8,249,69],[8,250,51],[9,502,70],[9,503,50],[9,504,49],[9,505,71],[10,1012,72],[10,1013,48],[10,1014,73],[10,1015,47],[10,1016,74],[10,1017,46],[11,2036,76],[11,2037,75],[11,2038,77],[11,2039,78],[11,2040,45],[11,2041,43],[12,4084,44],[12,4085,79],[12,4086,42],[12,4087,41],[12,4088,80],[12,4089,40],[13,8180,81],[13,8181,39],[13,8182,82],[13,8183,38],[13,8184,83],[14,16370,37],[14,16371,35],[14,16372,85],[14,16373,33],[14,16374,36],[14,16375,34],[14,16376,84],[14,16377,32],[15,32756,87],[15,32757,89],[15,32758,30],[15,32759,31],[16,65520,86],[16,65521,29],[16,65522,26],[16,65523,27],[16,65524,28],[16,65525,24],[16,65526,88],[17,131054,25],[17,131055,22],[17,131056,23],[18,262114,90],[18,262115,21],[18,262116,19],[18,262117,3],[18,262118,1],[18,262119,2],[18,262120,0],[19,524242,98],[19,524243,99],[19,524244,100],[19,524245,101],[19,524246,102],[19,524247,117],[19,524248,97],[19,524249,91],[19,524250,92],[19,524251,93],[19,524252,94],[19,524253,95],[19,524254,96],[19,524255,104],[19,524256,111],[19,524257,112],[19,524258,113],[19,524259,114],[19,524260,115],[19,524261,116],[19,524262,110],[19,524263,105],[19,524264,106],[19,524265,107],[19,524266,108],[19,524267,109],[19,524268,118],[19,524269,6],[19,524270,8],[19,524271,9],[19,524272,10],[19,524273,5],[19,524274,103],[19,524275,120],[19,524276,119],[19,524277,4],[19,524278,7],[19,524279,15],[19,524280,16],[19,524281,18],[19,524282,20],[19,524283,17],[19,524284,11],[19,524285,12],[19,524286,14],[19,524287,13]],r=[[[1,0,0,0,0,0],[5,16,1,0,0,0],[5,17,-1,0,0,0],[5,18,0,0,0,-1],[5,19,0,1,0,0],[5,20,0,0,0,1],[5,21,0,0,-1,0],[5,22,0,0,1,0],[5,23,0,-1,0,0],[7,96,1,-1,0,0],[7,97,-1,1,0,0],[7,98,0,0,-1,1],[7,99,0,1,-1,0],[7,100,0,-1,1,0],[7,101,0,0,1,-1],[7,102,1,1,0,0],[7,103,0,0,-1,-1],[7,104,-1,-1,0,0],[7,105,0,-1,-1,0],[7,106,1,0,-1,0],[7,107,0,1,0,-1],[7,108,-1,0,1,0],[7,109,0,0,1,1],[7,110,1,0,1,0],[7,111,0,-1,0,1],[7,112,0,1,1,0],[7,113,0,1,0,1],[7,114,-1,0,-1,0],[7,115,1,0,0,1],[7,116,-1,0,0,-1],[7,117,1,0,0,-1],[7,118,-1,0,0,1],[7,119,0,-1,0,-1],[9,480,1,1,-1,0],[9,481,-1,1,-1,0],[9,482,1,-1,1,0],[9,483,0,1,1,-1],[9,484,0,1,-1,1],[9,485,0,-1,1,1],[9,486,0,-1,1,-1],[9,487,1,-1,-1,0],[9,488,1,0,-1,1],[9,489,0,1,-1,-1],[9,490,-1,1,1,0],[9,491,-1,0,1,-1],[9,492,-1,-1,1,0],[9,493,0,-1,-1,1],[9,494,1,-1,0,1],[9,495,1,-1,0,-1],[9,496,-1,1,0,-1],[9,497,-1,-1,-1,0],[9,498,0,-1,-1,-1],[9,499,0,1,1,1],[9,500,1,0,1,-1],[9,501,1,1,0,1],[9,502,-1,1,0,1],[9,503,1,1,1,0],[10,1008,-1,-1,0,1],[10,1009,-1,0,-1,-1],[10,1010,1,1,0,-1],[10,1011,1,0,-1,-1],[10,1012,-1,0,-1,1],[10,1013,-1,-1,0,-1],[10,1014,-1,0,1,1],[10,1015,1,0,1,1],[11,2032,1,-1,1,-1],[11,2033,-1,1,-1,1],[11,2034,-1,1,1,-1],[11,2035,1,-1,-1,1],[11,2036,1,1,1,1],[11,2037,-1,-1,1,1],[11,2038,1,1,-1,-1],[11,2039,-1,-1,1,-1],[11,2040,-1,-1,-1,-1],[11,2041,1,1,-1,1],[11,2042,1,-1,1,1],[11,2043,-1,1,1,1],[11,2044,-1,1,-1,-1],[11,2045,-1,-1,-1,1],[11,2046,1,-1,-1,-1],[11,2047,1,1,1,-1]],[[3,0,0,0,0,0],[4,2,1,0,0,0],[5,6,-1,0,0,0],[5,7,0,0,0,1],[5,8,0,0,-1,0],[5,9,0,0,0,-1],[5,10,0,-1,0,0],[5,11,0,0,1,0],[5,12,0,1,0,0],[6,26,0,-1,1,0],[6,27,-1,1,0,0],[6,28,0,1,-1,0],[6,29,0,0,1,-1],[6,30,0,1,0,-1],[6,31,0,0,-1,1],[6,32,-1,0,0,-1],[6,33,1,-1,0,0],[6,34,1,0,-1,0],[6,35,-1,-1,0,0],[6,36,0,0,-1,-1],[6,37,1,0,1,0],[6,38,1,0,0,1],[6,39,0,-1,0,1],[6,40,-1,0,1,0],[6,41,0,1,0,1],[6,42,0,-1,-1,0],[6,43,-1,0,0,1],[6,44,0,-1,0,-1],[6,45,-1,0,-1,0],[6,46,1,1,0,0],[6,47,0,1,1,0],[6,48,0,0,1,1],[6,49,1,0,0,-1],[7,100,0,1,-1,1],[7,101,1,0,-1,1],[7,102,-1,1,-1,0],[7,103,0,-1,1,-1],[7,104,1,-1,1,0],[7,105,1,1,0,-1],[7,106,1,0,1,1],[7,107,-1,1,1,0],[7,108,0,-1,-1,1],[7,109,1,1,1,0],[7,110,-1,0,1,-1],[7,111,-1,-1,-1,0],[7,112,-1,0,-1,1],[7,113,1,-1,-1,0],[7,114,1,1,-1,0],[8,230,1,-1,0,1],[8,231,-1,1,0,-1],[8,232,-1,-1,1,0],[8,233,-1,0,1,1],[8,234,-1,-1,0,1],[8,235,-1,-1,0,-1],[8,236,0,-1,-1,-1],[8,237,1,0,1,-1],[8,238,1,0,-1,-1],[8,239,0,1,-1,-1],[8,240,0,1,1,1],[8,241,-1,1,0,1],[8,242,-1,0,-1,-1],[8,243,0,1,1,-1],[8,244,1,-1,0,-1],[8,245,0,-1,1,1],[8,246,1,1,0,1],[8,247,1,-1,1,-1],[8,248,-1,1,-1,1],[9,498,1,-1,-1,1],[9,499,-1,-1,-1,-1],[9,500,-1,1,1,-1],[9,501,-1,1,1,1],[9,502,1,1,1,1],[9,503,-1,-1,1,-1],[9,504,1,-1,1,1],[9,505,-1,1,-1,-1],[9,506,-1,-1,1,1],[9,507,1,1,-1,-1],[9,508,1,-1,-1,-1],[9,509,-1,-1,-1,1],[9,510,1,1,-1,1],[9,511,1,1,1,-1]],[[1,0,0,0,0,0],[4,8,1,0,0,0],[4,9,0,0,0,1],[4,10,0,1,0,0],[4,11,0,0,1,0],[5,24,1,1,0,0],[5,25,0,0,1,1],[6,52,0,1,1,0],[6,53,0,1,0,1],[6,54,1,0,1,0],[6,55,0,1,1,1],[6,56,1,0,0,1],[6,57,1,1,1,0],[7,116,1,1,1,1],[7,117,1,0,1,1],[7,118,1,1,0,1],[8,238,2,0,0,0],[8,239,0,0,0,2],[8,240,0,0,1,2],[8,241,2,1,0,0],[8,242,1,2,1,0],[9,486,0,0,2,1],[9,487,0,1,2,1],[9,488,1,2,0,0],[9,489,0,1,1,2],[9,490,2,1,1,0],[9,491,0,0,2,0],[9,492,0,2,1,0],[9,493,0,1,2,0],[9,494,0,2,0,0],[9,495,0,1,0,2],[9,496,2,0,1,0],[9,497,1,2,1,1],[9,498,0,2,1,1],[9,499,1,1,2,0],[9,500,1,1,2,1],[10,1002,1,2,0,1],[10,1003,1,0,2,0],[10,1004,1,0,2,1],[10,1005,0,2,0,1],[10,1006,2,1,1,1],[10,1007,1,1,1,2],[10,1008,2,1,0,1],[10,1009,1,0,1,2],[10,1010,0,0,2,2],[10,1011,0,1,2,2],[10,1012,2,2,1,0],[10,1013,1,2,2,0],[10,1014,1,0,0,2],[10,1015,2,0,0,1],[10,1016,0,2,2,1],[11,2034,2,2,0,0],[11,2035,1,2,2,1],[11,2036,1,1,0,2],[11,2037,2,0,1,1],[11,2038,1,1,2,2],[11,2039,2,2,1,1],[11,2040,0,2,2,0],[11,2041,0,2,1,2],[12,4084,1,0,2,2],[12,4085,2,2,0,1],[12,4086,2,1,2,0],[12,4087,2,2,2,0],[12,4088,0,2,2,2],[12,4089,2,2,2,1],[12,4090,2,1,2,1],[12,4091,1,2,1,2],[12,4092,1,2,2,2],[13,8186,0,2,0,2],[13,8187,2,0,2,0],[13,8188,1,2,0,2],[14,16378,2,0,2,1],[14,16379,2,1,1,2],[14,16380,2,1,0,2],[15,32762,2,2,2,2],[15,32763,2,2,1,2],[15,32764,2,1,2,2],[15,32765,2,0,1,2],[15,32766,2,0,0,2],[16,65534,2,2,0,2],[16,65535,2,0,2,2]],[[4,0,1,1,1,1],[4,1,0,1,1,1],[4,2,1,1,0,1],[4,3,1,1,1,0],[4,4,1,0,1,1],[4,5,1,0,0,0],[4,6,1,1,0,0],[4,7,0,0,0,0],[4,8,0,0,1,1],[4,9,1,0,1,0],[5,20,1,0,0,1],[5,21,0,1,1,0],[5,22,0,0,0,1],[5,23,0,1,0,1],[5,24,0,0,1,0],[5,25,0,1,0,0],[7,104,2,1,1,1],[7,105,1,1,2,1],[7,106,1,2,1,1],[7,107,1,1,1,2],[7,108,2,1,1,0],[7,109,2,1,0,1],[7,110,1,2,1,0],[7,111,2,0,1,1],[7,112,0,1,2,1],[8,226,0,1,1,2],[8,227,1,1,2,0],[8,228,0,2,1,1],[8,229,1,0,1,2],[8,230,1,2,0,1],[8,231,1,1,0,2],[8,232,1,0,2,1],[8,233,2,1,0,0],[8,234,2,0,1,0],[8,235,1,2,0,0],[8,236,2,0,0,1],[8,237,0,1,0,2],[8,238,0,2,1,0],[8,239,0,0,1,2],[8,240,0,1,2,0],[8,241,0,2,0,1],[8,242,1,0,0,2],[8,243,0,0,2,1],[8,244,1,0,2,0],[8,245,2,0,0,0],[8,246,0,0,0,2],[9,494,0,2,0,0],[9,495,0,0,2,0],[9,496,1,2,2,1],[9,497,2,2,1,1],[9,498,2,1,2,1],[9,499,1,1,2,2],[9,500,1,2,1,2],[9,501,2,1,1,2],[10,1004,1,2,2,0],[10,1005,2,2,1,0],[10,1006,2,1,2,0],[10,1007,0,2,2,1],[10,1008,0,1,2,2],[10,1009,2,2,0,1],[10,1010,0,2,1,2],[10,1011,2,0,2,1],[10,1012,1,0,2,2],[10,1013,2,2,2,1],[10,1014,1,2,0,2],[10,1015,2,0,1,2],[10,1016,2,1,0,2],[10,1017,1,2,2,2],[11,2036,2,1,2,2],[11,2037,2,2,1,2],[11,2038,0,2,2,0],[11,2039,2,2,0,0],[11,2040,0,0,2,2],[11,2041,2,0,2,0],[11,2042,0,2,0,2],[11,2043,2,0,0,2],[11,2044,2,2,2,2],[11,2045,0,2,2,2],[11,2046,2,2,2,0],[12,4094,2,2,0,2],[12,4095,2,0,2,2]],[[1,0,0,0],[4,8,-1,0],[4,9,1,0],[4,10,0,1],[4,11,0,-1],[5,24,1,-1],[5,25,-1,1],[5,26,-1,-1],[5,27,1,1],[7,112,-2,0],[7,113,0,2],[7,114,2,0],[7,115,0,-2],[8,232,-2,-1],[8,233,2,1],[8,234,-1,-2],[8,235,1,2],[8,236,-2,1],[8,237,2,-1],[8,238,-1,2],[8,239,1,-2],[8,240,-3,0],[8,241,3,0],[8,242,0,-3],[8,243,0,3],[9,488,-3,-1],[9,489,1,3],[9,490,3,1],[9,491,-1,-3],[9,492,-3,1],[9,493,3,-1],[9,494,1,-3],[9,495,-1,3],[9,496,-2,2],[9,497,2,2],[9,498,-2,-2],[9,499,2,-2],[10,1e3,-3,-2],[10,1001,3,-2],[10,1002,-2,3],[10,1003,2,-3],[10,1004,3,2],[10,1005,2,3],[10,1006,-3,2],[10,1007,-2,-3],[10,1008,0,-4],[10,1009,-4,0],[10,1010,4,1],[10,1011,4,0],[11,2024,-4,-1],[11,2025,0,4],[11,2026,4,-1],[11,2027,-1,-4],[11,2028,1,4],[11,2029,-1,4],[11,2030,-4,1],[11,2031,1,-4],[11,2032,3,-3],[11,2033,-3,-3],[11,2034,-3,3],[11,2035,-2,4],[11,2036,-4,-2],[11,2037,4,2],[11,2038,2,-4],[11,2039,2,4],[11,2040,3,3],[11,2041,-4,2],[12,4084,-2,-4],[12,4085,4,-2],[12,4086,3,-4],[12,4087,-4,-3],[12,4088,-4,3],[12,4089,3,4],[12,4090,-3,4],[12,4091,4,3],[12,4092,4,-3],[12,4093,-3,-4],[13,8188,4,-4],[13,8189,-4,4],[13,8190,4,4],[13,8191,-4,-4]],[[4,0,0,0],[4,1,1,0],[4,2,0,-1],[4,3,0,1],[4,4,-1,0],[4,5,1,1],[4,6,-1,1],[4,7,1,-1],[4,8,-1,-1],[6,36,2,-1],[6,37,2,1],[6,38,-2,1],[6,39,-2,-1],[6,40,-2,0],[6,41,-1,2],[6,42,2,0],[6,43,1,-2],[6,44,1,2],[6,45,0,-2],[6,46,-1,-2],[6,47,0,2],[6,48,2,-2],[6,49,-2,2],[6,50,-2,-2],[6,51,2,2],[7,104,-3,1],[7,105,3,1],[7,106,3,-1],[7,107,-1,3],[7,108,-3,-1],[7,109,1,3],[7,110,1,-3],[7,111,-1,-3],[7,112,3,0],[7,113,-3,0],[7,114,0,-3],[7,115,0,3],[7,116,3,2],[8,234,-3,-2],[8,235,-2,3],[8,236,2,3],[8,237,3,-2],[8,238,2,-3],[8,239,-2,-3],[8,240,-3,2],[8,241,3,3],[9,484,3,-3],[9,485,-3,-3],[9,486,-3,3],[9,487,1,-4],[9,488,-1,-4],[9,489,4,1],[9,490,-4,1],[9,491,-4,-1],[9,492,1,4],[9,493,4,-1],[9,494,-1,4],[9,495,0,-4],[9,496,-4,2],[9,497,-4,-2],[9,498,2,4],[9,499,-2,-4],[9,500,-4,0],[9,501,4,2],[9,502,4,-2],[9,503,-2,4],[9,504,4,0],[9,505,2,-4],[9,506,0,4],[10,1014,-3,-4],[10,1015,-3,4],[10,1016,3,-4],[10,1017,4,-3],[10,1018,3,4],[10,1019,4,3],[10,1020,-4,3],[10,1021,-4,-3],[11,2044,4,4],[11,2045,-4,4],[11,2046,-4,-4],[11,2047,4,-4]],[[1,0,0,0],[3,4,1,0],[3,5,0,1],[4,12,1,1],[6,52,2,1],[6,53,1,2],[6,54,2,0],[6,55,0,2],[7,112,3,1],[7,113,1,3],[7,114,2,2],[7,115,3,0],[7,116,0,3],[8,234,2,3],[8,235,3,2],[8,236,1,4],[8,237,4,1],[8,238,1,5],[8,239,5,1],[8,240,3,3],[8,241,2,4],[8,242,0,4],[8,243,4,0],[9,488,4,2],[9,489,2,5],[9,490,5,2],[9,491,0,5],[9,492,6,1],[9,493,5,0],[9,494,1,6],[9,495,4,3],[9,496,3,5],[9,497,3,4],[9,498,5,3],[9,499,2,6],[9,500,6,2],[9,501,1,7],[10,1004,3,6],[10,1005,0,6],[10,1006,6,0],[10,1007,4,4],[10,1008,7,1],[10,1009,4,5],[10,1010,7,2],[10,1011,5,4],[10,1012,6,3],[10,1013,2,7],[10,1014,7,3],[10,1015,6,4],[10,1016,5,5],[10,1017,4,6],[10,1018,3,7],[11,2038,7,0],[11,2039,0,7],[11,2040,6,5],[11,2041,5,6],[11,2042,7,4],[11,2043,4,7],[11,2044,5,7],[11,2045,7,5],[12,4092,7,6],[12,4093,6,6],[12,4094,6,7],[12,4095,7,7]],[[3,0,1,1],[4,2,2,1],[4,3,1,0],[4,4,1,2],[4,5,0,1],[4,6,2,2],[5,14,0,0],[5,15,2,0],[5,16,0,2],[5,17,3,1],[5,18,1,3],[5,19,3,2],[5,20,2,3],[6,42,3,3],[6,43,4,1],[6,44,1,4],[6,45,4,2],[6,46,2,4],[6,47,3,0],[6,48,0,3],[6,49,4,3],[6,50,3,4],[6,51,5,2],[7,104,5,1],[7,105,2,5],[7,106,1,5],[7,107,5,3],[7,108,3,5],[7,109,4,4],[7,110,5,4],[7,111,0,4],[7,112,4,5],[7,113,4,0],[7,114,2,6],[7,115,6,2],[7,116,6,1],[7,117,1,6],[8,236,3,6],[8,237,6,3],[8,238,5,5],[8,239,5,0],[8,240,6,4],[8,241,0,5],[8,242,4,6],[8,243,7,1],[8,244,7,2],[8,245,2,7],[8,246,6,5],[8,247,7,3],[8,248,1,7],[8,249,5,6],[8,250,3,7],[9,502,6,6],[9,503,7,4],[9,504,6,0],[9,505,4,7],[9,506,0,6],[9,507,7,5],[9,508,7,6],[9,509,6,7],[10,1020,5,7],[10,1021,7,0],[10,1022,0,7],[10,1023,7,7]],[[1,0,0,0],[3,4,1,0],[3,5,0,1],[4,12,1,1],[6,52,2,1],[6,53,1,2],[6,54,2,0],[6,55,0,2],[7,112,3,1],[7,113,2,2],[7,114,1,3],[8,230,3,0],[8,231,0,3],[8,232,2,3],[8,233,3,2],[8,234,1,4],[8,235,4,1],[8,236,2,4],[8,237,1,5],[9,476,4,2],[9,477,3,3],[9,478,0,4],[9,479,4,0],[9,480,5,1],[9,481,2,5],[9,482,1,6],[9,483,3,4],[9,484,5,2],[9,485,6,1],[9,486,4,3],[10,974,0,5],[10,975,2,6],[10,976,5,0],[10,977,1,7],[10,978,3,5],[10,979,1,8],[10,980,8,1],[10,981,4,4],[10,982,5,3],[10,983,6,2],[10,984,7,1],[10,985,0,6],[10,986,8,2],[10,987,2,8],[10,988,3,6],[10,989,2,7],[10,990,4,5],[10,991,9,1],[10,992,1,9],[10,993,7,2],[11,1988,6,0],[11,1989,5,4],[11,1990,6,3],[11,1991,8,3],[11,1992,0,7],[11,1993,9,2],[11,1994,3,8],[11,1995,4,6],[11,1996,3,7],[11,1997,0,8],[11,1998,10,1],[11,1999,6,4],[11,2e3,2,9],[11,2001,5,5],[11,2002,8,0],[11,2003,7,0],[11,2004,7,3],[11,2005,10,2],[11,2006,9,3],[11,2007,8,4],[11,2008,1,10],[11,2009,7,4],[11,2010,6,5],[11,2011,5,6],[11,2012,4,8],[11,2013,4,7],[11,2014,3,9],[11,2015,11,1],[11,2016,5,8],[11,2017,9,0],[11,2018,8,5],[12,4038,10,3],[12,4039,2,10],[12,4040,0,9],[12,4041,11,2],[12,4042,9,4],[12,4043,6,6],[12,4044,12,1],[12,4045,4,9],[12,4046,8,6],[12,4047,1,11],[12,4048,9,5],[12,4049,10,4],[12,4050,5,7],[12,4051,7,5],[12,4052,2,11],[12,4053,1,12],[12,4054,12,2],[12,4055,11,3],[12,4056,3,10],[12,4057,5,9],[12,4058,6,7],[12,4059,8,7],[12,4060,11,4],[12,4061,0,10],[12,4062,7,6],[12,4063,12,3],[12,4064,10,0],[12,4065,10,5],[12,4066,4,10],[12,4067,6,8],[12,4068,2,12],[12,4069,9,6],[12,4070,9,7],[12,4071,4,11],[12,4072,11,0],[12,4073,6,9],[12,4074,3,11],[12,4075,5,10],[13,8152,8,8],[13,8153,7,8],[13,8154,12,5],[13,8155,3,12],[13,8156,11,5],[13,8157,7,7],[13,8158,12,4],[13,8159,11,6],[13,8160,10,6],[13,8161,4,12],[13,8162,7,9],[13,8163,5,11],[13,8164,0,11],[13,8165,12,6],[13,8166,6,10],[13,8167,12,0],[13,8168,10,7],[13,8169,5,12],[13,8170,7,10],[13,8171,9,8],[13,8172,0,12],[13,8173,11,7],[13,8174,8,9],[13,8175,9,9],[13,8176,10,8],[13,8177,7,11],[13,8178,12,7],[13,8179,6,11],[13,8180,8,11],[13,8181,11,8],[13,8182,7,12],[13,8183,6,12],[14,16368,8,10],[14,16369,10,9],[14,16370,8,12],[14,16371,9,10],[14,16372,9,11],[14,16373,9,12],[14,16374,10,11],[14,16375,12,9],[14,16376,10,10],[14,16377,11,9],[14,16378,12,8],[14,16379,11,10],[14,16380,12,10],[14,16381,12,11],[15,32764,10,12],[15,32765,11,11],[15,32766,11,12],[15,32767,12,12]],[[4,0,1,1],[4,1,1,2],[4,2,2,1],[5,6,2,2],[5,7,1,0],[5,8,0,1],[5,9,1,3],[5,10,3,2],[5,11,3,1],[5,12,2,3],[5,13,3,3],[6,28,2,0],[6,29,0,2],[6,30,2,4],[6,31,4,2],[6,32,1,4],[6,33,4,1],[6,34,0,0],[6,35,4,3],[6,36,3,4],[6,37,3,0],[6,38,0,3],[6,39,4,4],[6,40,2,5],[6,41,5,2],[7,84,1,5],[7,85,5,1],[7,86,5,3],[7,87,3,5],[7,88,5,4],[7,89,4,5],[7,90,6,2],[7,91,2,6],[7,92,6,3],[7,93,4,0],[7,94,6,1],[7,95,0,4],[7,96,1,6],[7,97,3,6],[7,98,5,5],[7,99,6,4],[7,100,4,6],[8,202,6,5],[8,203,7,2],[8,204,3,7],[8,205,2,7],[8,206,5,6],[8,207,8,2],[8,208,7,3],[8,209,5,0],[8,210,7,1],[8,211,0,5],[8,212,8,1],[8,213,1,7],[8,214,8,3],[8,215,7,4],[8,216,4,7],[8,217,2,8],[8,218,6,6],[8,219,7,5],[8,220,1,8],[8,221,3,8],[8,222,8,4],[8,223,4,8],[8,224,5,7],[8,225,8,5],[8,226,5,8],[9,454,7,6],[9,455,6,7],[9,456,9,2],[9,457,6,0],[9,458,6,8],[9,459,9,3],[9,460,3,9],[9,461,9,1],[9,462,2,9],[9,463,0,6],[9,464,8,6],[9,465,9,4],[9,466,4,9],[9,467,10,2],[9,468,1,9],[9,469,7,7],[9,470,8,7],[9,471,9,5],[9,472,7,8],[9,473,10,3],[9,474,5,9],[9,475,10,4],[9,476,2,10],[9,477,10,1],[9,478,3,10],[9,479,9,6],[9,480,6,9],[9,481,8,0],[9,482,4,10],[9,483,7,0],[9,484,11,2],[10,970,7,9],[10,971,11,3],[10,972,10,6],[10,973,1,10],[10,974,11,1],[10,975,9,7],[10,976,0,7],[10,977,8,8],[10,978,10,5],[10,979,3,11],[10,980,5,10],[10,981,8,9],[10,982,11,5],[10,983,0,8],[10,984,11,4],[10,985,2,11],[10,986,7,10],[10,987,6,10],[10,988,10,7],[10,989,4,11],[10,990,1,11],[10,991,12,2],[10,992,9,8],[10,993,12,3],[10,994,11,6],[10,995,5,11],[10,996,12,4],[10,997,11,7],[10,998,12,5],[10,999,3,12],[10,1e3,6,11],[10,1001,9,0],[10,1002,10,8],[10,1003,10,0],[10,1004,12,1],[10,1005,0,9],[10,1006,4,12],[10,1007,9,9],[10,1008,12,6],[10,1009,2,12],[10,1010,8,10],[11,2022,9,10],[11,2023,1,12],[11,2024,11,8],[11,2025,12,7],[11,2026,7,11],[11,2027,5,12],[11,2028,6,12],[11,2029,10,9],[11,2030,8,11],[11,2031,12,8],[11,2032,0,10],[11,2033,7,12],[11,2034,11,0],[11,2035,10,10],[11,2036,11,9],[11,2037,11,10],[11,2038,0,11],[11,2039,11,11],[11,2040,9,11],[11,2041,10,11],[11,2042,12,0],[11,2043,8,12],[12,4088,12,9],[12,4089,10,12],[12,4090,9,12],[12,4091,11,12],[12,4092,12,11],[12,4093,0,12],[12,4094,12,10],[12,4095,12,12]],[[4,0,0,0],[4,1,1,1],[5,4,16,16],[5,5,1,0],[5,6,0,1],[5,7,2,1],[5,8,1,2],[5,9,2,2],[6,20,1,3],[6,21,3,1],[6,22,3,2],[6,23,2,0],[6,24,2,3],[6,25,0,2],[6,26,3,3],[7,54,4,1],[7,55,1,4],[7,56,4,2],[7,57,2,4],[7,58,4,3],[7,59,3,4],[7,60,3,0],[7,61,0,3],[7,62,5,1],[7,63,5,2],[7,64,2,5],[7,65,4,4],[7,66,1,5],[7,67,5,3],[7,68,3,5],[7,69,5,4],[8,140,4,5],[8,141,6,2],[8,142,2,6],[8,143,6,1],[8,144,6,3],[8,145,3,6],[8,146,1,6],[8,147,4,16],[8,148,3,16],[8,149,16,5],[8,150,16,3],[8,151,16,4],[8,152,6,4],[8,153,16,6],[8,154,4,0],[8,155,4,6],[8,156,0,4],[8,157,2,16],[8,158,5,5],[8,159,5,16],[8,160,16,7],[8,161,16,2],[8,162,16,8],[8,163,2,7],[8,164,7,2],[8,165,3,7],[8,166,6,5],[8,167,5,6],[8,168,6,16],[8,169,16,10],[8,170,7,3],[8,171,7,1],[8,172,16,9],[8,173,7,16],[8,174,1,16],[8,175,1,7],[8,176,4,7],[8,177,16,11],[8,178,7,4],[8,179,16,12],[8,180,8,16],[8,181,16,1],[8,182,6,6],[8,183,9,16],[8,184,2,8],[8,185,5,7],[8,186,10,16],[8,187,16,13],[8,188,8,3],[8,189,8,2],[8,190,3,8],[8,191,5,0],[8,192,16,14],[8,193,11,16],[8,194,7,5],[8,195,4,8],[8,196,6,7],[8,197,7,6],[8,198,0,5],[9,398,8,4],[9,399,16,15],[9,400,12,16],[9,401,1,8],[9,402,8,1],[9,403,14,16],[9,404,5,8],[9,405,13,16],[9,406,3,9],[9,407,8,5],[9,408,7,7],[9,409,2,9],[9,410,8,6],[9,411,9,2],[9,412,9,3],[9,413,15,16],[9,414,4,9],[9,415,6,8],[9,416,6,0],[9,417,9,4],[9,418,5,9],[9,419,8,7],[9,420,7,8],[9,421,1,9],[9,422,10,3],[9,423,0,6],[9,424,10,2],[9,425,9,1],[9,426,9,5],[9,427,4,10],[9,428,2,10],[9,429,9,6],[9,430,3,10],[9,431,6,9],[9,432,10,4],[9,433,8,8],[9,434,10,5],[9,435,9,7],[9,436,11,3],[9,437,1,10],[9,438,7,0],[9,439,10,6],[9,440,7,9],[9,441,3,11],[9,442,5,10],[9,443,10,1],[9,444,4,11],[9,445,11,2],[9,446,13,2],[9,447,6,10],[9,448,13,3],[9,449,2,11],[9,450,16,0],[9,451,5,11],[9,452,11,5],[10,906,11,4],[10,907,9,8],[10,908,7,10],[10,909,8,9],[10,910,0,16],[10,911,4,13],[10,912,0,7],[10,913,3,13],[10,914,11,6],[10,915,13,1],[10,916,13,4],[10,917,12,3],[10,918,2,13],[10,919,13,5],[10,920,8,10],[10,921,6,11],[10,922,10,8],[10,923,10,7],[10,924,14,2],[10,925,12,4],[10,926,1,11],[10,927,4,12],[10,928,11,1],[10,929,3,12],[10,930,1,13],[10,931,12,2],[10,932,7,11],[10,933,3,14],[10,934,5,12],[10,935,5,13],[10,936,14,4],[10,937,4,14],[10,938,11,7],[10,939,14,3],[10,940,12,5],[10,941,13,6],[10,942,12,6],[10,943,8,0],[10,944,11,8],[10,945,2,12],[10,946,9,9],[10,947,14,5],[10,948,6,13],[10,949,10,10],[10,950,15,2],[10,951,8,11],[10,952,9,10],[10,953,14,6],[10,954,10,9],[10,955,5,14],[10,956,11,9],[10,957,14,1],[10,958,2,14],[10,959,6,12],[10,960,1,12],[10,961,13,8],[10,962,0,8],[10,963,13,7],[10,964,7,12],[10,965,12,7],[10,966,7,13],[10,967,15,3],[10,968,12,1],[10,969,6,14],[10,970,2,15],[10,971,15,5],[10,972,15,4],[10,973,1,14],[10,974,9,11],[10,975,4,15],[10,976,14,7],[10,977,8,13],[10,978,13,9],[10,979,8,12],[10,980,5,15],[10,981,3,15],[10,982,10,11],[10,983,11,10],[10,984,12,8],[10,985,15,6],[10,986,15,7],[10,987,8,14],[10,988,15,1],[10,989,7,14],[10,990,9,0],[10,991,0,9],[10,992,9,13],[10,993,9,12],[10,994,12,9],[10,995,14,8],[10,996,10,13],[10,997,14,9],[10,998,12,10],[10,999,6,15],[10,1e3,7,15],[11,2002,9,14],[11,2003,15,8],[11,2004,11,11],[11,2005,11,14],[11,2006,1,15],[11,2007,10,12],[11,2008,10,14],[11,2009,13,11],[11,2010,13,10],[11,2011,11,13],[11,2012,11,12],[11,2013,8,15],[11,2014,14,11],[11,2015,13,12],[11,2016,12,13],[11,2017,15,9],[11,2018,14,10],[11,2019,10,0],[11,2020,12,11],[11,2021,9,15],[11,2022,0,10],[11,2023,12,12],[11,2024,11,0],[11,2025,12,14],[11,2026,10,15],[11,2027,13,13],[11,2028,0,13],[11,2029,14,12],[11,2030,15,10],[11,2031,15,11],[11,2032,11,15],[11,2033,14,13],[11,2034,13,0],[11,2035,0,11],[11,2036,13,14],[11,2037,15,12],[11,2038,15,13],[11,2039,12,15],[11,2040,14,0],[11,2041,14,14],[11,2042,13,15],[11,2043,12,0],[11,2044,14,15],[12,4090,0,14],[12,4091,0,12],[12,4092,15,14],[12,4093,15,0],[12,4094,0,15],[12,4095,15,15]]],s=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];e.exports={findOffset:function(t,e){for(var i=0,n=e[i][0],a=t.read(n);a!==e[i][1];)var o=e[++i][0]-n,n=e[i][0],a=(a<<=o)|t.read(o);return i},signValues:function(t,e,i,n){for(var a=i;a<i+n;a++)e[a]&&t.read(1)&&(e[a]=-e[a])},getEscape:function(t,e){for(var i=4;t.read(1);)i++;var n=t.read(i)|1<<i;return e<0?-n:n},decodeScaleFactor:function(t){t=this.findOffset(t,n);return n[t][2]},decodeSpectralData:function(t,e,i,n){var a=r[e-1],o=this.findOffset(t,a);if(i[n]=a[o][2],i[n+1]=a[o][3],e<5&&(i[n+2]=a[o][4],i[n+3]=a[o][5]),e<11)s[e-1]&&this.signValues(t,i,n,e<5?4:2);else{if(!(11===e||15<e))throw new Error("Huffman: unknown spectral codebook: "+e);this.signValues(t,i,n,e<5?4:2),16===Math.abs(i[n])&&(i[n]=this.getEscape(t,i[n])),16===Math.abs(i[n+1])&&(i[n+1]=this.getEscape(t,i[n+1]))}}}},{}],8:[function(t,e,i){var B=t("./tables"),C=t("./huffman"),n=t("./tns");function k(t){this.info=new r,this.bandTypes=new Int32Array(a),this.sectEnd=new Int32Array(a),this.data=new Float32Array(t.frameLength),this.scaleFactors=new Float32Array(a),this.randomState=523124044,this.tns=new n(t),this.specBuf=new Int32Array(4)}k.ZERO_BT=0,k.FIRST_PAIR_BT=5,k.ESC_BT=11,k.NOISE_BT=13,k.INTENSITY_BT2=14,k.INTENSITY_BT=15,k.ONLY_LONG_SEQUENCE=0,k.LONG_START_SEQUENCE=1,k.EIGHT_SHORT_SEQUENCE=2,k.LONG_STOP_SEQUENCE=3;var a=120,o=8;function r(){this.windowShape=new Int32Array(2),this.windowSequence=k.ONLY_LONG_SEQUENCE,this.groupLength=new Int32Array(o),this.ltpData1Present=!1,this.ltpData2Present=!1}k.prototype={decode:function(t,e,i){if(this.globalGain=t.read(8),i||this.info.decode(t,e,i),this.decodeBandTypes(t,e),this.decodeScaleFactors(t),this.pulsePresent=t.read(1)){if(this.info.windowSequence===k.EIGHT_SHORT_SEQUENCE)throw new Error("Pulse tool not allowed in eight short sequence.");this.decodePulseData(t)}if((this.tnsPresent=t.read(1))&&this.tns.decode(t,this.info),this.gainPresent=t.read(1))throw new Error("TODO: decode gain control/SSR");this.decodeSpectralData(t)},decodeBandTypes:function(t,e){for(var i=this.info.windowSequence===k.EIGHT_SHORT_SEQUENCE?3:5,n=this.info.groupCount,a=this.info.maxSFB,o=this.bandTypes,r=this.sectEnd,s=0,h=(1<<i)-1,l=0;l<n;l++)for(var c=0;c<a;){var u,d=c,p=t.read(4);if(12===p)throw new Error("Invalid band type: 12");for(;(u=t.read(i))===h;)d+=u;if(a<(d+=u))throw new Error("Too many bands ("+d+" > "+a+")");for(;c<d;c++)o[s]=p,r[s++]=d}},decodeScaleFactors:function(t){for(var e=this.info.groupCount,i=this.info.maxSFB,n=[this.globalGain,this.globalGain-90,0],a=0,o=!0,r=this.scaleFactors,s=this.sectEnd,h=this.bandTypes,l=0;l<e;l++)for(var c=0;c<i;){var u=s[a];switch(h[a]){case k.ZERO_BT:for(;c<u;c++,a++)r[a]=0;break;case k.INTENSITY_BT:case k.INTENSITY_BT2:for(;c<u;c++,a++){n[2]+=C.decodeScaleFactor(t)-60;var d=Math.min(Math.max(n[2],-155),100);r[a]=B.SCALEFACTOR_TABLE[200-d]}break;case k.NOISE_BT:for(;c<u;c++,a++){o?(n[1]+=t.read(9)-256,o=!1):n[1]+=C.decodeScaleFactor(t)-60;d=Math.min(Math.max(n[1],-100),155);r[a]=-B.SCALEFACTOR_TABLE[d+200]}break;default:for(;c<u;c++,a++){if(n[0]+=C.decodeScaleFactor(t)-60,255<n[0])throw new Error("Scalefactor out of range: "+n[0]);r[a]=B.SCALEFACTOR_TABLE[n[0]-100+200]}}}},decodePulseData:function(t){var e=t.read(2)+1,i=t.read(6);if(i>=this.info.swbCount)throw new Error("Pulse SWB out of range: "+i);if(this.pulseOffset&&this.pulseOffset.length===e||(this.pulseOffset=new Int32Array(e),this.pulseAmp=new Int32Array(e)),this.pulseOffset[0]=this.info.swbOffsets[i]+t.read(5),this.pulseAmp[0]=t.read(4),1023<this.pulseOffset[0])throw new Error("Pulse offset out of range: "+this.pulseOffset[0]);for(var n=1;n<e;n++){if(this.pulseOffset[n]=t.read(5)+this.pulseOffset[n-1],1023<this.pulseOffset[n])throw new Error("Pulse offset out of range: "+this.pulseOffset[n]);this.pulseAmp[n]=t.read(4)}},decodeSpectralData:function(t){for(var e=this.data,i=this.info,n=i.maxSFB,a=i.groupCount,o=i.swbOffsets,r=this.bandTypes,s=this.scaleFactors,h=this.specBuf,l=0,c=0,u=0;u<a;u++){for(var d=i.groupLength[u],p=0;p<n;p++,c++){var f=r[c],_=l+o[p],m=o[p+1]-o[p];if(f===k.ZERO_BT||f===k.INTENSITY_BT||f===k.INTENSITY_BT2)for(var g=0;g<d;g++,_+=128)for(var v=_;v<_+m;v++)e[v]=0;else if(f===k.NOISE_BT)for(g=0;g<d;g++,_+=128){for(var y=0,P=0;P<m;P++)this.randomState=1015568748*this.randomState|0,e[_+P]=this.randomState,y+=e[_+P]*e[_+P];for(var S=s[c]/Math.sqrt(y),P=0;P<m;P++)e[_+P]*=S}else for(g=0;g<d;g++,_+=128)for(var b=k.FIRST_PAIR_BT<=f?2:4,P=0;P<m;P+=b){C.decodeSpectralData(t,f,h,0);for(var I=0;I<b;I++)e[_+P+I]=0<h[I]?B.IQ_TABLE[h[I]]:-B.IQ_TABLE[-h[I]],e[_+P+I]*=s[c]}}l+=d<<7}if(this.pulsePresent)throw new Error("TODO: add pulse data")}},r.prototype={decode:function(t,e,i){if(t.advance(1),this.windowSequence=t.read(2),this.windowShape[0]=this.windowShape[1],this.windowShape[1]=t.read(1),this.groupCount=1,this.groupLength[0]=1,this.windowSequence===k.EIGHT_SHORT_SEQUENCE){this.maxSFB=t.read(4);for(var n=0;n<7;n++)t.read(1)?this.groupLength[this.groupCount-1]++:(this.groupCount++,this.groupLength[this.groupCount-1]=1);this.windowCount=8,this.swbOffsets=B.SWB_OFFSET_128[e.sampleIndex],this.swbCount=B.SWB_SHORT_WINDOW_COUNT[e.sampleIndex],this.predictorPresent=!1}else this.maxSFB=t.read(6),this.windowCount=1,this.swbOffsets=B.SWB_OFFSET_1024[e.sampleIndex],this.swbCount=B.SWB_LONG_WINDOW_COUNT[e.sampleIndex],this.predictorPresent=!!t.read(1),this.predictorPresent&&this.decodePrediction(t,e,i)},decodePrediction:function(t,e,i){throw new Error("Prediction not implemented.")}},e.exports=k},{"./huffman":7,"./tables":11,"./tns":12}],9:[function(t,e,i){var n=t("./mdct_tables"),a=t("./fft");function o(t){switch(this.N=t,this.N2=t>>>1,this.N4=t>>>2,this.N8=t>>>3,t){case 2048:this.sincos=n.MDCT_TABLE_2048;break;case 256:this.sincos=n.MDCT_TABLE_256;break;case 1920:this.sincos=n.MDCT_TABLE_1920;break;case 240:this.sincos=n.MDCT_TABLE_240;break;default:throw new Error("unsupported MDCT length: "+t)}this.fft=new a(this.N4),this.buf=new Array(this.N4);for(var e=0;e<this.N4;e++)this.buf[e]=new Float32Array(2);this.tmp=new Float32Array(2)}o.prototype.process=function(t,e,i,n){for(var a=this.N2,o=this.N4,r=this.N8,s=this.buf,h=this.tmp,l=this.sincos,c=this.fft,u=0;u<o;u++)s[u][1]=t[e+2*u]*l[u][0]+t[e+a-1-2*u]*l[u][1],s[u][0]=t[e+a-1-2*u]*l[u][0]-t[e+2*u]*l[u][1];c.process(s,!1);for(u=0;u<o;u++)h[0]=s[u][0],h[1]=s[u][1],s[u][1]=h[1]*l[u][0]+h[0]*l[u][1],s[u][0]=h[0]*l[u][0]-h[1]*l[u][1];for(u=0;u<r;u+=2)i[n+2*u]=s[r+u][1],i[n+2+2*u]=s[r+1+u][1],i[n+1+2*u]=-s[r-1-u][0],i[n+3+2*u]=-s[r-2-u][0],i[n+o+2*u]=s[u][0],i[n+o+2+2*u]=s[1+u][0],i[n+o+1+2*u]=-s[o-1-u][1],i[n+o+3+2*u]=-s[o-2-u][1],i[n+a+2*u]=s[r+u][0],i[n+a+2+2*u]=s[r+1+u][0],i[n+a+1+2*u]=-s[r-1-u][1],i[n+a+3+2*u]=-s[r-2-u][1],i[n+a+o+2*u]=-s[u][1],i[n+a+o+2+2*u]=-s[1+u][1],i[n+a+o+1+2*u]=s[o-1-u][0],i[n+a+o+3+2*u]=s[o-2-u][0]},e.exports=o},{"./fft":5,"./mdct_tables":10}],10:[function(t,e,i){i.MDCT_TABLE_2048=[[.031249997702054,11984224612e-15],[.031249813866531,.000107857810004],[.031249335895858,.000203730380198],[.031248563794535,.000299601032804],[.031247497569829,.000395468865451],[.031246137231775,.000491332975794],[.031244482793177,.000587192461525],[.031242534269608,.000683046420376],[.031240291679407,.000778893950134],[.031237755043684,.000874734148645],[.031234924386313,.000970566113826],[.031231799733938,.001066388943669],[.03122838111597,.001162201736253],[.031224668564585,.001258003589751],[.031220662114728,.001353793602441],[.031216361804108,.00144957087271],[.031211767673203,.001545334499065],[.031206879765253,.001641083580144],[.031201698126266,.001736817214719],[.031196222805014,.001832534501709],[.031190453853031,.001928234540186],[.031184391324617,.002023916429386],[.031178035276836,.002119579268713],[.031171385769513,.002215222157753],[.031164442865236,.002310844196278],[.031157206629353,.002406444484258],[.031149677129975,.002502022121865],[.031141854437973,.002597576209488],[.031133738626977,.002693105847734],[.031125329773375,.002788610137442],[.031116627956316,.002884088179689],[.031107633257703,.002979539075801],[.0310983457622,.003074961927355],[.031088765557222,.003170355836197],[.031078892732942,.003265719904442],[.031068727382288,.003361053234488],[.031058269600939,.003456354929021],[.031047519487329,.003551624091024],[.03103647714264,.00364685982379],[.031025142670809,.003742061230921],[.031013516178519,.003837227416347],[.031001597775203,.003932357484328],[.030989387573042,.004027450539462],[.030976885686963,.004122505686697],[.030964092234638,.00421752203134],[.030951007336485,.004312498679058],[.030937631115663,.004407434735897],[.030923963698074,.004502329308281],[.030910005212362,.004597181503027],[.030895755789908,.00469199042735],[.030881215564835,.004786755188872],[.030866384674,.004881474895632],[.030851263256996,.00497614865609],[.030835851456154,.005070775579142],[.030820149416533,.005165354774124],[.030804157285929,.005259885350819],[.030787875214864,.005354366419469],[.030771303356593,.005448797090784],[.030754441867095,.005543176475946],[.030737290905077,.005637503686619],[.030719850631972,.005731777834961],[.030702121211932,.005825998033626],[.030684102811835,.00592016339578],[.030665795601276,.006014273035101],[.03064719975257,.006108326065793],[.030628315440748,.006202321602594],[.030609142843557,.006296258760782],[.030589682141455,.006390136656185],[.030569933517616,.006483954405188],[.030549897157919,.006577711124743],[.030529573250956,.006671405932375],[.030508961988022,.006765037946194],[.030488063563118,.0068586062849],[.030466878172949,.006952110067791],[.030445406016919,.007045548414774],[.030423647297133,.007138920446372],[.030401602218392,.007232225283733],[.030379270988192,.007325462048634],[.030356653816724,.007418629863497],[.030333750916869,.00751172785139],[.030310562504198,.00760475513604],[.030287088796968,.007697710841838],[.030263330016124,.007790594093851],[.030239286385293,.007883404017824],[.030214958130781,.007976139740197],[.030190345481576,.008068800388104],[.030165448669342,.00816138508939],[.030140267928416,.00825389297261],[.030114803495809,.008346323167047],[.030089055611203,.008438674802711],[.030063024516947,.008530947010354],[.030036710458054,.008623138921475],[.030010113682202,.008715249668328],[.029983234439732,.008807278383932],[.02995607298364,.008899224202078],[.02992862956958,.008991086257336],[.02990090445586,.009082863685067],[.029872897903441,.009174555621425],[.029844610175929,.009266161203371],[.029816041539579,.009357679568679],[.029787192263292,.009449109855944],[.029758062618606,.009540451204587],[.029728652879702,.009631702754871],[.029698963323395,.0097228636479],[.029668994229134,.009813933025633],[.029638745879,.009904910030891],[.029608218557702,.009995793807363],[.029577412552575,.010086583499618],[.029546328153577,.010177278253107],[.029514965653285,.010267877214177],[.029483325346896,.010358379530076],[.02945140753222,.010448784348962],[.029419212509679,.010539090819911],[.029386740582307,.010629298092923],[.02935399205574,.010719405318933],[.02932096723822,.010809411649818],[.02928766644059,.010899316238403],[.02925408997629,.010989118238474],[.029220238161353,.011078816804778],[.029186111314406,.011168411093039],[.029151709756664,.011257900259961],[.029117033811927,.011347283463239],[.029082083806579,.011436559861563],[.029046860069582,.01152572861463],[.029011362932476,.01161478888315],[.028975592729373,.011703739828853],[.028939549796957,.0117925806145],[.028903234474475,.011881310403886],[.028866647103744,.011969928361855],[.028829788029135,.012058433654299],[.028792657597583,.012146825448172],[.028755256158571,.012235102911499],[.028717584064137,.012323265213377],[.028679641668864,.01241131152399],[.028641429329882,.012499241014612],[.028602947406859,.012587052857618],[.028564196262001,.012674746226488],[.02852517626005,.012762320295819],[.028485887768276,.012849774241331],[.028446331156478,.012937107239875],[.028406506796976,.013024318469437],[.028366415064615,.013111407109155],[.028326056336751,.013198372339315],[.028285430993258,.013285213341368],[.028244539416515,.013371929297933],[.028203381991411,.013458519392807],[.028161959105334,.013544982810971],[.028120271148172,.013631318738598],[.028078318512309,.013717526363062],[.028036101592619,.013803604872943],[.027993620786463,.013889553458039],[.027950876493687,.013975371309367],[.027907869116616,.014061057619178],[.027864599060052,.014146611580959],[.02782106673127,.014232032389445],[.027777272540012,.014317319240622],[.027733216898487,.014402471331737],[.027688900221361,.014487487861307],[.027644322925762,.014572368029123],[.027599485431266,.014657111036262],[.027554388159903,.01474171608509],[.027509031536144,.014826182379271],[.027463415986904,.014910509123778],[.027417541941533,.014994695524894],[.027371409831816,.015078740790225],[.027325020091965,.015162644128704],[.027278373158618,.015246404750603],[.027231469470833,.015330021867534],[.027184309470088,.01541349469246],[.027136893600268,.015496822439704],[.027089222307671,.015580004324954],[.027041296040997,.015663039565269],[.026993115251345,.015745927379091],[.026944680392213,.015828666986247],[.026895991919487,.015911257607961],[.026847050291442,.015993698466859],[.026797855968734,.016075988786976],[.026748409414401,.016158127793763],[.026698711093851,.016240114714099],[.026648761474864,.016321948776289],[.026598561027585,.016403629210082],[.026548110224519,.016485155246669],[.02649740954053,.016566526118696],[.02644645945283,.016647741060271],[.026395260440982,.016728799306966],[.02634381298689,.016809700095831],[.026292117574797,.016890442665397],[.02624017469128,.016971026255683],[.026187984825246,.017051450108208],[.026135548467924,.01713171346599],[.026082866112867,.01721181557356],[.026029938255941,.017291755676967],[.025976765395322,.017371533023784],[.025923348031494,.017451146863116],[.025869686667242,.017530596445607],[.025815781807646,.017609881023449],[.02576163396008,.017688999850383],[.025707243634204,.017767952181715],[.02565261134196,.017846737274313],[.025597737597568,.017925354386623],[.025542622917522,.018003802778671],[.025487267820581,.018082081712071],[.025431672827768,.018160190450031],[.025375838462365,.018238128257362],[.025319765249906,.018315894400484],[.025263453718173,.018393488147432],[.025206904397193,.018470908767865],[.025150117819228,.01854815553307],[.025093094518776,.018625227715971],[.025035835032562,.018702124591135],[.024978339899534,.01877884543478],[.024920609660858,.01885538952478],[.024862644859912,.018931756140672],[.024804446042284,.019007944563666],[.024746013755764,.019083954076646],[.024687348550337,.019159783964183],[.024628450978184,.019235433512536],[.02456932159367,.019310902009663],[.024509960953345,.019386188745225],[.024450369615932,.019461293010596],[.024390548142329,.019536214098866],[.024330497095598,.019610951304848],[.024270217040961,.019685503925087],[.024209708545799,.019759871257867],[.024148972179639,.019834052603212],[.024088008514157,.019908047262901],[.024026818123164,.019981854540467],[.023965401582609,.020055473741208],[.023903759470567,.020128904172192],[.023841892367236,.020202145142264],[.023779800854935,.020275195962052],[.023717485518092,.020348055943974],[.023654946943242,.020420724402244],[.023592185719023,.020493200652878],[.023529202436167,.020565484013703],[.023465997687496,.020637573804361],[.023402572067918,.020709469346314],[.023338926174419,.020781169962854],[.023275060606058,.020852674979108],[.023210975963963,.020923983722044],[.023146672851322,.020995095520475],[.02308215187338,.021066009705072],[.023017413637435,.021136725608363],[.022952458752826,.021207242564742],[.022887287830934,.021277559910478],[.022821901485173,.021347676983716],[.022756300330983,.021417593124488],[.022690484985827,.021487307674717],[.022624456069185,.021556819978223],[.022558214202547,.021626129380729],[.022491760009405,.021695235229869],[.022425094115252,.021764136875192],[.022358217147572,.021832833668171],[.022291129735838,.021901324962204],[.022223832511501,.021969610112625],[.022156326107988,.022037688476709],[.022088611160696,.022105559413676],[.022020688306983,.022173222284699],[.021952558186166,.022240676452909],[.02188422143951,.022307921283403],[.021815678710228,.022374956143245],[.021746930643469,.022441780401478],[.021677977886316,.022508393429127],[.02160882108778,.022574794599206],[.02153946089879,.022640983286719],[.02146989797219,.022706958868676],[.021400132962735,.022772720724087],[.021330166527077,.022838268233979],[.021259999323769,.022903600781391],[.02118963201325,.022968717751391],[.021119065257845,.023033618531071],[.021048299721754,.023098302509561],[.02097733607105,.023162769078031],[.02090617497367,.023227017629698],[.020834817099409,.023291047559828],[.020763263119915,.023354858265748],[.02069151370868,.023418449146848],[.020619569541038,.023481819604585],[.020547431294155,.023544969042494],[.020475099647023,.023607896866186],[.020402575280455,.023670602483363],[.020329858877078,.023733085303813],[.020256951121327,.023795344739427],[.020183852699437,.023857380204193],[.020110564299439,.023919191114211],[.02003708661115,.023980776887692],[.019963420326171,.024042136944968],[.019889566137877,.024103270708495],[.019815524741412,.024164177602859],[.019741296833681,.024224857054779],[.019666883113346,.02428530849312],[.019592284280817,.024345531348888],[.019517501038246,.024405525055242],[.019442534089523,.0244652890475],[.019367384140264,.024524822763141],[.019292051897809,.024584125641809],[.019216538071215,.024643197125323],[.019140843371246,.024702036657681],[.019064968510369,.024760643685063],[.018988914202748,.024819017655836],[.018912681164234,.024877158020562],[.018836270112363,.024935064232003],[.018759681766343,.024992735745123],[.018682916847054,.025050172017095],[.018605976077037,.025107372507308],[.018528860180486,.025164336677369],[.018451569883247,.02522106399111],[.018374105912805,.025277553914591],[.01829646899828,.025333805916107],[.018218659870421,.025389819466194],[.018140679261596,.02544559403763],[.01806252790579,.025501129105445],[.017984206538592,.02555642414692],[.017905715897192,.025611478641598],[.017827056720375,.025666292071285],[.017748229748511,.025720863920056],[.01766923572355,.02577519367426],[.017590075389012,.025829280822525],[.017510749489986,.025883124855762],[.017431258773116,.02593672526717],[.0173516039866,.025990081552242],[.01727178588018,.026043193208768],[.017191805205132,.026096059736841],[.017111662714267,.026148680638861],[.017031359161915,.026201055419541],[.016950895303924,.026253183585908],[.016870271897651,.026305064647313],[.016789489701954,.026356698115431],[.016708549477186,.026408083504269],[.016627451985187,.026459220330167],[.016546197989277,.026510108111806],[.01646478825425,.026560746370212],[.016383223546365,.026611134628757],[.016301504633341,.026661272413168],[.016219632284346,.02671115925153],[.016137607269996,.026760794674288],[.01605543036234,.026810178214254],[.015973102334858,.026859309406613],[.015890623962454,.026908187788922],[.015807996021446,.026956812901119],[.015725219289558,.027005184285527],[.015642294545918,.027053301486856],[.015559222571044,.027101164052208],[.015476004146842,.027148771531083],[.015392640056594,.02719612347538],[.015309131084956,.027243219439406],[.015225478017946,.027290058979875],[.015141681642938,.027336641655915],[.015057742748656,.027382967029073],[.014973662125164,.027429034663317],[.014889440563862,.02747484412504],[.014805078857474,.027520394983066],[.014720577800046,.027565686808654],[.014635938186934,.027610719175499],[.014551160814797,.02765549165974],[.014466246481592,.02770000383996],[.014381195986567,.027744255297195],[.014296010130247,.027788245614933],[.014210689714436,.02783197437912],[.014125235542201,.027875441178165],[.01403964841787,.027918645602941],[.01395392914702,.027961587246792],[.013868078536476,.028004265705534],[.013782097394294,.028046680577462],[.013695986529763,.028088831463351],[.01360974675339,.028130717966461],[.013523378876898,.02817233969254],[.013436883713214,.028213696249828],[.013350262076462,.028254787249062],[.01326351478196,.028295612303478],[.013176642646205,.028336171028814],[.013089646486871,.028376463043317],[.013002527122799,.028416487967743],[.01291528537399,.028456245425361],[.012827922061597,.02849573504196],[.012740438007915,.028534956445849],[.012652834036379,.028573909267859],[.01256511097155,.028612593141354],[.012477269639111,.028651007702224],[.012389310865858,.028689152588899],[.012301235479693,.028727027442343],[.012213044309615,.028764631906065],[.012124738185712,.028801965626115],[.012036317939156,.028839028251097],[.011947784402191,.028875819432161],[.01185913840813,.028912338823015],[.011770380791341,.028948586079925],[.011681512387245,.028984560861718],[.011592534032306,.029020262829785],[.011503446564022,.029055691648087],[.011414250820918,.029090846983152],[.011324947642537,.029125728504087],[.011235537869437,.029160335882573],[.011146022343175,.029194668792871],[.011056401906305,.029228726911828],[.010966677402371,.029262509918876],[.010876849675891,.029296017496036],[.010786919572361,.029329249327922],[.010696887938235,.029362205101743],[.010606755620926,.029394884507308],[.010516523468793,.029427287237024],[.010426192331137,.029459412985906],[.010335763058187,.029491261451573],[.010245236501099,.029522832334255],[.010154613511943,.029554125336796],[.010063894943698,.029585140164654],[.00997308165024,.029615876525905],[.00988217448634,.029646334131247],[.00979117430765,.029676512694001],[.009700081970699,.029706411930116],[.009608898332881,.029736031558168],[.009517624252453,.029765371299366],[.009426260588521,.029794430877553],[.009334808201034,.02982321001921],[.009243267950778,.029851708453456],[.009151640699363,.029879925912053],[.00905992730922,.029907862129408],[.008968128643591,.029935516842573],[.00887624556652,.029962889791254],[.008784278942845,.029989980717805],[.008692229638191,.030016789367235],[.008600098518961,.030043315487212],[.008507886452329,.030069558828062],[.00841559430623,.030095519142772],[.008323222949351,.030121196186994],[.008230773251129,.030146589719046],[.008138246081733,.030171699499915],[.008045642312067,.030196525293257],[.00795296281375,.030221066865402],[.007860208459119,.030245323985357],[.007767380121212,.030269296424803],[.007674478673766,.030292983958103],[.007581504991203,.030316386362302],[.007488459948628,.030339503417126],[.007395344421816,.030362334904989],[.007302159287206,.030384880610993],[.007208905421891,.030407140322928],[.007115583703613,.030429113831278],[.007022195010752,.03045080092922],[.006928740222316,.030472201412626],[.006835220217939,.030493315080068],[.006741635877866,.030514141732814],[.006647988082948,.030534681174838],[.006554277714635,.030554933212813],[.006460505654964,.030574897656119],[.006366672786553,.030594574316845],[.006272779992593,.030613963009786],[.006178828156839,.030633063552447],[.006084818163601,.030651875765048],[.005990750897737,.03067039947052],[.005896627244644,.030688634494512],[.00580244809025,.030706580665388],[.005708214321004,.030724237814232],[.005613926823871,.030741605774849],[.005519586486321,.030758684383764],[.005425194196321,.030775473480228],[.005330750842327,.030791972906214],[.005236257313276,.030808182506425],[.005141714498576,.030824102128288],[.005047123288102,.030839731621963],[.004952484572181,.030855070840339],[.004857799241589,.030870119639036],[.004763068187541,.030884877876411],[.004668292301681,.030899345413553],[.004573472476075,.030913522114288],[.004478609603205,.03092740784518],[.004383704575956,.03094100247553],[.00428875828761,.030954305877381],[.004193771631837,.030967317925516],[.004098745502689,.030980038497461],[.004003680794587,.030992467473486],[.003908578402316,.031004604736602],[.003813439221017,.031016450172571],[.003718264146176,.031028003669899],[.003623054073616,.031039265119839],[.003527809899492,.031050234416394],[.003432532520278,.031060911456318],[.00333722283276,.031071296139114],[.003241881734029,.031081388367037],[.003146510121474,.031091188045095],[.003051108892766,.031100695081051],[.00295567894586,.031109909385419],[.002860221178978,.031118830871473],[.002764736490604,.031127459455239],[.002669225779478,.031135795055501],[.002573689944583,.031143837593803],[.002478129885137,.031151586994444],[.002382546500589,.031159043184484],[.002286940690606,.031166206093743],[.002191313355067,.0311730756548],[.002095665394051,.031179651802998],[.001999997707835,.031185934476438],[.001904311196878,.031191923615985],[.00180860676182,.031197619165268],[.001712885303465,.031203021070678],[.001617147722782,.03120812928137],[.001521394920889,.031212943749264],[.001425627799047,.031217464429043],[.001329847258653,.031221691278159],[.001234054201231,.031225624256825],[.00113824952842,.031229263328024],[.001042434141971,.031232608457502],[.000946608943736,.031235659613775],[.000850774835656,.031238416768124],[.000754932719759,.031240879894597],[.000659083498149,.03124304897001],[.000563228072993,.031244923973948],[.00046736734652,.031246504888762],[.000371502221008,.031247791699571],[.000275633598775,.031248784394264],[.000179762382174,.031249482963498],[83889473581e-15,.031249887400697]],i.MDCT_TABLE_256=[[.088387931675923,.000271171628935],[.088354655998507,.002440238387037],[.08826815878011,.00460783523678],[.088128492123423,.006772656498875],[.087935740158418,.008933398165942],[.08769001899167,.011088758687994],[.087391476636423,.013237439756448],[.087040292923427,.015378147086172],[.086636679392621,.017509591195118],[.086180879165703,.019630488181053],[.085673166799686,.02173956049494],[.085113848121515,.023835537710479],[.084503260043847,.025917157289369],[.08384177036211,.027983165341813],[.083129777532952,.030032317381813],[.08236771043423,.032063379076803],[.081556028106671,.034075126991164],[.080695219477356,.036066349323177],[.079785803065216,.038035846634965],[.078828326668693,.039982432574992],[.077823367035766,.041904934592675],[.07677152951654,.043802194644686],[.075673447698606,.045673069892513],[.07452978302539,.047516433390863],[.073341224397728,.049331174766491],[.072108487758894,.051116200887052],[.070832315663343,.052870436519557],[.069513476829429,.054592824978055],[.068152765676348,.056282328760143],[.06675100184562,.057937930171918],[.065309029707361,.059558631940996],[.063827717851668,.061143457817234],[.062307958565413,.062691453160784],[.060750667294763,.064201685517134],[.059156782093749,.065673245178784],[.057527263059216,.06710524573322],[.055863091752499,.068496824596852],[.054165270608165,.069847143534609],[.052434822330188,.071155389164853],[.050672789275903,.072420773449336],[.048880232828135,.073642534167879],[.047058232755862,.074819935377512],[.045207886563797,.075952267855771],[.043330308831298,.077038849527912],[.041426630540984,.078079025877766],[.039497998397473,.079072170341994],[.037545574136653,.080017684687506],[.035570533825892,.080914999371817],[.033574067155622,.081763573886112],[.031557376722714,.082562897080836],[.029521677306074,.083312487473584],[.027468195134911,.084011893539132],[.025398167150101,.084660693981419],[.023312840259098,.08525849798732],[.021213470584847,.085804945462053],[.019101322709138,.086299707246093],[.016977668910873,.086742485313442],[.014843788399692,.087133012951149],[.012700966545425,.087471054919968],[.01055049410383,.087756407596056],[.008393666439096,.087988899093631],[.006231782743558,.08816838936851],[.004066145255116,.088294770302461],[.001898058472816,.088367965768336]],i.MDCT_TABLE_1920=[[.032274858518097,13202404176e-15],[.032274642494505,.000118821372483],[.032274080835421,.000224439068308],[.03227317354686,.000330054360572],[.032271920638538,.000435666118218],[.032270322123873,.000541273210231],[.032268378019984,.000646874505642],[.032266088347691,.000752468873546],[.032263453131514,.000858055183114],[.032260472399674,.0009636323036],[.032257146184092,.001069199104358],[.03225347452039,.001174754454853],[.032249457447888,.001280297224671],[.032245095009606,.001385826283535],[.032240387252262,.001491340501313],[.032235334226272,.001596838748031],[.03222993598575,.00170231989389],[.032224192588507,.001807782809271],[.03221810409605,.001913226364749],[.032211670573582,.002018649431111],[.03220489209,.002124050879359],[.032197768717898,.002229429580728],[.03219030053356,.002334784406698],[.032182487616965,.002440114229003],[.032174330051782,.002545417919644],[.032165827925374,.002650694350905],[.03215698132879,.002755942395358],[.032147790356771,.002861160925883],[.032138255107744,.002966348815672],[.032128375683825,.00307150493825],[.032118152190814,.003176628167476],[.032107584738196,.003281717377568],[.032096673439141,.003386771443102],[.0320854184105,.003491789239036],[.032073819772804,.003596769640711],[.032061877650267,.003701711523874],[.032049592170778,.00380661376468],[.032036963465906,.003911475239711],[.032023991670893,.004016294825985],[.032010676924657,.004121071400967],[.031997019369789,.004225803842586],[.031983019152549,.004330491029241],[.031968676422869,.004435131839816],[.031953991334348,.004539725153692],[.031938964044252,.004644269850758],[.03192359471351,.004748764811426],[.031907883506716,.004853208916638],[.031891830592124,.004957601047881],[.031875436141648,.0050619400872],[.031858700330859,.005166224917208],[.031841623338985,.005270454421097],[.031824205348907,.005374627482653],[.031806446547156,.005478742986267],[.031788347123916,.005582799816945],[.031769907273017,.005686796860323],[.031751127191935,.005790733002674],[.031732007081789,.005894607130928],[.03171254714734,.005998418132675],[.031692747596989,.006102164896182],[.031672608642773,.006205846310406],[.031652130500364,.006309461265002],[.031631313389067,.006413008650337],[.031610157531816,.006516487357501],[.031588663155172,.006619896278321],[.031566830489325,.00672323430537],[.031544659768083,.006826500331981],[.031522151228878,.006929693252258],[.031499305112758,.007032811961088],[.031476121664387,.007135855354151],[.03145260113204,.007238822327937],[.031428743767604,.007341711779751],[.031404549826572,.00744452260773],[.031380019568042,.007547253710853],[.031355153254712,.007649903988952],[.031329951152882,.007752472342725],[.031304413532445,.007854957673748],[.031278540666888,.007957358884484],[.03125233283329,.0080596748783],[.031225790312316,.008161904559473],[.031198913388214,.008264046833205],[.031171702348814,.008366100605636],[.031144157485525,.008468064783849],[.031116279093331,.008569938275893],[.031088067470786,.008671719990782],[.031059522920014,.008773408838517],[.031030645746705,.008875003730092],[.03100143626011,.008976503577507],[.030971894773039,.00907790729378],[.030942021601857,.009179213792959],[.030911817066483,.009280421990133],[.030881281490382,.009381530801444],[.030850415200566,.009482539144097],[.030819218527589,.009583445936373],[.030787691805541,.009684250097643],[.030755835372048,.009784950548375],[.030723649568268,.009885546210147],[.030691134738883,.009986036005661],[.030658291232103,.010086418858753],[.030625119399655,.010186693694402],[.030591619596781,.010286859438745],[.030557792182239,.010386915019088],[.030523637518292,.010486859363916],[.03048915597071,.010586691402906],[.030454347908763,.010686410066936],[.030419213705216,.010786014288099],[.030383753736329,.010885502999714],[.030347968381849,.010984875136338],[.03031185802501,.011084129633775],[.030275423052523,.011183265429088],[.030238663854579,.011282281460612],[.030201580824838,.011381176667967],[.03016417436043,.011479949992062],[.030126444861948,.011578600375117],[.030088392733446,.011677126760663],[.03005001838243,.011775528093563],[.030011322219859,.011873803320018],[.029972304660138,.011971951387578],[.029932966121114,.012069971245157],[.02989330702407,.012167861843041],[.029853327793724,.012265622132901],[.029813028858222,.012363251067801],[.029772410649132,.012460747602215],[.029731473601443,.012558110692033],[.029690218153558,.012655339294575],[.029648644747289,.0127524323686],[.029606753827855,.01284938887432],[.029564545843872,.012946207773407],[.029522021247356,.013042888029011],[.02947918049371,.013139428605762],[.029436024041725,.013235828469789],[.02939255235357,.013332086588727],[.029348765894794,.013428201931728],[.029304665134313,.013524173469475],[.029260250544412,.013620000174189],[.029215522600735,.013715681019643],[.029170481782283,.013811214981173],[.029125128571406,.013906601035686],[.029079463453801,.014001838161674],[.029033486918505,.014096925339225],[.028987199457889,.014191861550031],[.028940601567655,.014286645777401],[.028893693746829,.014381277006273],[.028846476497755,.014475754223221],[.028798950326094,.014570076416472],[.028751115740811,.01466424257591],[.028702973254178,.014758251693091],[.02865452338176,.014852102761253],[.028605766642418,.014945794775326],[.028556703558297,.015039326731945],[.028507334654823,.015132697629457],[.028457660460698,.015225906467935],[.028407681507891,.015318952249187],[.028357398331639,.015411833976768],[.028306811470432,.015504550655988],[.028255921466016,.015597101293927],[.028204728863381,.015689484899442],[.02815323421076,.015781700483179],[.028101438059619,.015873747057582],[.028049340964652,.015965623636907],[.027996943483779,.016057329237229],[.027944246178133,.016148862876456],[.027891249612061,.016240223574335],[.027837954353113,.016331410352467],[.027784360972039,.016422422234315],[.02773047004278,.016513258245214],[.027676282142466,.016603917412384],[.027621797851405,.016694398764938],[.02756701775308,.016784701333894],[.027511942434143,.016874824152183],[.027456572484404,.016964766254662],[.027400908496833,.017054526678124],[.027344951067546,.017144104461307],[.027288700795801,.017233498644904],[.027232158283994,.017322708271577],[.027175324137651,.01741173238596],[.027118198965418,.017500570034678],[.02706078337906,.017589220266351],[.027003077993454,.017677682131607],[.026945083426576,.017765954683088],[.026886800299502,.017854036975468],[.026828229236397,.017941928065456],[.026769370864511,.018029627011808],[.02671022581417,.01811713287534],[.026650794718768,.018204444718934],[.026591078214767,.018291561607551],[.02653107694168,.018378482608238],[.026470791542075,.018465206790142],[.026410222661558,.018551733224515],[.026349370948775,.01863806098473],[.026288237055398,.018724189146286],[.026226821636121,.018810116786819],[.026165125348656,.018895842986112],[.026103148853718,.018981366826109],[.026040892815028,.019066687390916],[.025978357899296,.019151803766819],[.025915544776223,.01923671504229],[.025852454118485,.019321420307998],[.025789086601733,.019405918656817],[.025725442904582,.019490209183837],[.025661523708606,.019574290986376],[.025597329698327,.019658163163984],[.025532861561211,.019741824818458],[.025468119987662,.019825275053848],[.025403105671008,.01990851297647],[.025337819307501,.019991537694913],[.025272261596305,.020074348320047],[.025206433239491,.020156943965039],[.025140334942028,.020239323745355],[.025073967411776,.020321486778774],[.025007331359476,.020403432185395],[.024940427498748,.02048515908765],[.024873256546079,.020566666610309],[.024805819220816,.020647953880491],[.024738116245157,.020729020027676],[.024670148344147,.020809864183709],[.024601916245669,.020890485482816],[.024533420680433,.020970883061607],[.024464662381971,.021051056059087],[.02439564208663,.02113100361667],[.024326360533561,.021210724878181],[.024256818464715,.021290218989868],[.02418701662483,.021369485100415],[.02411695576143,.021448522360944],[.024046636624808,.02152732992503],[.023976059968027,.021605906948708],[.023905226546906,.02168425259048],[.023834137120014,.021762366011328],[.023762792448662,.02184024637472],[.023691193296893,.02191789284662],[.023619340431478,.021995304595495],[.023547234621902,.02207248079233],[.023474876640361,.022149420610628],[.023402267261751,.022226123226426],[.023329407263659,.0223025878183],[.023256297426359,.022378813567377],[.023182938532797,.022454799657339],[.023109331368588,.022530545274437],[.023035476722006,.022606049607496],[.022961375383975,.022681311847926],[.022887028148061,.022756331189727],[.022812435810462,.022831106829504],[.022737599170003,.022905637966469],[.022662519028125,.022979923802453],[.022587196188874,.023053963541915],[.022511631458899,.02312775639195],[.022435825647437,.023201301562294],[.022359779566306,.023274598265338],[.0222834940299,.023347645716133],[.022206969855176,.0234204431324],[.022130207861645,.023492989734537],[.022053208871367,.023565284745628],[.02197597370894,.023637327391451],[.021898503201489,.023709116900488],[.021820798178663,.023780652503931],[.021742859472618,.023851933435691],[.021664687918017,.023922958932406],[.021586284352013,.023993728233451],[.021507649614247,.024064240580942],[.021428784546832,.02413449521975],[.02134968999435,.024204491397504],[.02127036680384,.0242742283646],[.021190815824791,.024343705374213],[.021111037909128,.024412921682298],[.02103103391121,.024481876547605],[.020950804687815,.024550569231683],[.020870351098134,.024618998998889],[.020789674003759,.024687165116394],[.020708774268678,.024755066854194],[.020627652759262,.024822703485116],[.020546310344257,.024890074284826],[.020464747894775,.024957178531837],[.020382966284284,.025024015507516],[.0203009663886,.025090584496093],[.020218749085876,.025156884784668],[.020136315256592,.025222915663218],[.020053665783549,.025288676424605],[.019970801551857,.025354166364584],[.019887723448925,.025419384781811],[.019804432364452,.025484330977848],[.019720929190419,.025549004257175],[.019637214821078,.025613403927192],[.019553290152943,.02567752929823],[.019469156084779,.025741379683559],[.019384813517595,.025804954399392],[.019300263354632,.025868252764895],[.019215506501354,.025931274102193],[.019130543865439,.025994017736379],[.019045376356769,.026056482995518],[.018960004887419,.026118669210657],[.018874430371648,.026180575715833],[.018788653725892,.026242201848076],[.01870267586875,.026303546947421],[.018616497720974,.026364610356909],[.018530120205464,.026425391422602],[.018443544247254,.026485889493583],[.018356770773502,.026546103921965],[.018269800713483,.026606034062902],[.018182634998576,.026665679274589],[.018095274562256,.026725038918274],[.018007720340083,.026784112358263],[.017919973269692,.026842898961926],[.017832034290785,.026901398099707],[.017743904345116,.026959609145127],[.017655584376488,.027017531474792],[.017567075330734,.027075164468401],[.017478378155718,.02713250750875],[.017389493801313,.027189559981742],[.017300423219401,.027246321276391],[.017211167363854,.027302790784828],[.017121727190533,.02735896790231],[.017032103657269,.027414852027226],[.016942297723858,.027470442561102],[.01685231035205,.027525738908608],[.016762142505537,.027580740477564],[.016671795149944,.027635446678948],[.016581269252819,.0276898569269],[.016490565783622,.02774397063873],[.016399685713714,.027797787234924],[.016308630016347,.027851306139149],[.016217399666655,.02790452677826],[.016125995641641,.027957448582309],[.01603441892017,.028010070984544],[.015942670482954,.028062393421421],[.015850751312545,.02811441533261],[.015758662393324,.028166136160998],[.015666404711489,.028217555352697],[.015573979255046,.028268672357047],[.015481387013797,.028319486626627],[.015388628979331,.028369997617257],[.015295706145012,.028420204788004],[.015202619505968,.028470107601191],[.015109370059084,.028519705522399],[.015015958802984,.028568998020472],[.01492238673803,.028617984567529],[.014828654866302,.028666664638963],[.014734764191593,.028715037713449],[.014640715719398,.028763103272951],[.0145465104569,.028810860802724],[.014452149412962,.028858309791325],[.014357633598114,.028905449730613],[.014262964024545,.028952280115756],[.01416814170609,.02899880044524],[.01407316765822,.029045010220868],[.01397804289803,.029090908947771],[.013882768444231,.029136496134411],[.013787345317136,.029181771292585],[.013691774538648,.029226733937433],[.013596057132255,.029271383587441],[.013500194123014,.029315719764447],[.013404186537539,.029359741993647],[.013308035403995,.029403449803598],[.013211741752084,.029446842726223],[.013115306613032,.02948992029682],[.013018731019584,.029532682054063],[.012922016005985,.029575127540008],[.012825162607977,.029617256300097],[.012728171862781,.029659067883165],[.012631044809089,.029700561841444],[.012533782487056,.029741737730567],[.012436385938281,.029782595109573],[.012338856205805,.029823133540913],[.012241194334091,.029863352590452],[.012143401369021,.029903251827477],[.012045478357878,.029942830824699],[.011947426349339,.029982089158259],[.011849246393462,.030021026407731],[.011750939541676,.030059642156129],[.011652506846768,.030097935989909],[.011553949362874,.030135907498976],[.011455268145464,.030173556276684],[.011356464251335,.030210881919845],[.011257538738598,.030247884028732],[.011158492666665,.030284562207083],[.01105932709624,.030320916062102],[.010960043089307,.03035694520447],[.010860641709118,.030392649248343],[.010761124020182,.030428027811361],[.010661491088253,.030463080514646],[.010561743980319,.030497806982812],[.010461883764593,.030532206843968],[.010361911510496,.030566279729717],[.010261828288652,.030600025275167],[.010161635170872,.030633443118931],[.010061333230142,.030666532903129],[.009960923540617,.030699294273397],[.009860407177603,.030731726878888],[.00975978521755,.030763830372273],[.009659058738038,.03079560440975],[.009558228817767,.030827048651045],[.009457296536545,.030858162759415],[.009356262975275,.030888946401653],[.009255129215945,.030919399248091],[.009153896341616,.030949520972603],[.009052565436412,.030979311252611],[.008951137585505,.031008769769084],[.008849613875105,.031037896206544],[.008747995392451,.031066690253072],[.008646283225794,.031095151600306],[.00854447846439,.031123279943448],[.008442582198486,.031151074981266],[.00834059551931,.031178536416098],[.008238519519057,.031205663953853],[.008136355290878,.031232457304017],[.008034103928871,.031258916179656],[.007931766528065,.031285040297416],[.007829344184412,.031310829377528],[.007726837994772,.031336283143813],[.007624249056906,.03136140132368],[.007521578469457,.031386183648135],[.007418827331946,.031410629851778],[.007315996744755,.031434739672811],[.007213087809115,.031458512853036],[.007110101627101,.031481949137863],[.00700703930161,.031505048276306],[.006903901936357,.031527810020993],[.006800690635862,.031550234128164],[.006697406505433,.031572320357675],[.006594050651161,.031594068473],[.006490624179905,.031615478241233],[.006387128199278,.031636549433095],[.006283563817639,.031657281822929],[.00617993214408,.031677675188707],[.006076234288412,.031697729312034],[.005972471361157,.031717443978146],[.005868644473532,.031736818975914],[.00576475473744,.031755854097848],[.005660803265456,.031774549140098],[.005556791170816,.031792903902453],[.005452719567407,.03181091818835],[.005348589569753,.031828591804869],[.005244402293001,.031845924562742],[.005140158852914,.031862916276347],[.005035860365855,.031879566763717],[.004931507948778,.031895875846539],[.004827102719212,.031911843350155],[.004722645795254,.031927469103567],[.004618138295554,.031942752939435],[.004513581339303,.031957694694082],[.004408976046222,.031972294207493],[.004304323536549,.03198655132332],[.00419962493103,.032000465888879],[.004094881350902,.032014037755158],[.003990093917884,.032027266776813],[.003885263754166,.03204015281217],[.003780391982394,.032052695723232],[.003675479725661,.032064895375674],[.003570528107494,.032076751638847],[.003465538251839,.03208826438578],[.003360511283053,.032099433493181],[.003255448325892,.032110258841438],[.003150350505494,.032120740314619],[.003045218947373,.032130877800478],[.002940054777404,.032140671190449],[.00283485912181,.032150120379653],[.002729633107153,.032159225266897],[.002624377860318,.032167985754674],[.002519094508504,.032176401749168],[.002413784179212,.03218447316025],[.002308448000231,.032192199901481],[.002203087099626,.032199581890114],[.002097702605728,.032206619047093],[.001992295647121,.032213311297057],[.001886867352628,.032219658568338],[.001781418851302,.03222566079296],[.00167595127241,.032231317906644],[.001570465745428,.032236629848809],[.001464963400018,.032241596562566],[.001359445366028,.032246217994727],[.00125391277347,.032250494095799],[.001148366752513,.03225442481999],[.001042808433471,.032258010125204],[.000937238946789,.032261249973045],[.00083165942303,.032264144328817],[.000726070992868,.032266693161525],[.000620474787068,.032268896443871],[.000514871936481,.032270754152261],[.00040926357203,.032272266266801],[.000303650824695,.032273432771295],[.000198034825504,.032274253653254],[92416705518e-15,.032274728903884]],i.MDCT_TABLE_240=[[.091286604111815,.000298735779793],[.091247502481454,.002688238127538],[.091145864370807,.005075898091152],[.090981759437558,.00746007928776],[.09075530015103,.009839147718664],[.090466641715108,.012211472889198],[.090115981961863,.014575428926191],[.089703561215976,.016929395692256],[.089229662130024,.019271759896156],[.088694609490769,.02160091619847],[.088098769996564,.02391526831181],[.087442552006035,.026213230094844],[.086726405258214,.028493226639351],[.085950820564309,.030753695349588],[.085116329471329,.032993087013213],[.084223503897785,.035209866863042],[.083272955741727,.037402515628894],[.082265336461381,.039569530578832],[.08120133662867,.041709426549053],[.08008168545593,.043820736961749],[.078907150296148,.045902014830227],[.077678536117054,.047951833750597],[.076396684949434,.049968788879362],[.07506247531005,.051951497896226],[.073676821599542,.053898601951466],[.072240673475749,.055808766597225],[.070755015202858,.057680682702068],[.06922086497684,.059513067348201],[.067639274227625,.061304664710718],[.066011326898512,.063054246918278],[.064338138703282,.06476061489463],[.062620856361546,.066422599180399],[.060860656812842,.068039060734572],[.059058746410016,.069608891715145],[.05721636009245,.071131016238378],[.055334760539699,.072604391116154],[.053415237306106,.07402800657093],[.051459105937014,.075400886927784],[.049467707067153,.076722091283096],[.047442405501835,.077990714149396],[.045384589281588,.079205886075941],[.043295668730857,.080366774244592],[.041177075491445,.081472583040586],[.039030261541332,.08252255459781],[.036856698199564,.083515969318206],[.034657875117883,.084452146364948],[.032435299259796,.085330444129049],[.030190493867775,.086150260669096],[.027924997419306,.086911034123781],[.025640362572491,.087612243096981],[.023338155101933,.088253407015092],[.021019952825636,.08883408645639],[.018687344523641,.089353883452193],[.016341928849164,.089812441759604],[.013985313232951,.090209447105664],[.011619112781631,.09054462740274],[.009244949170797,.090817752935],[.006864449533597,.091028636515846],[.004479245345574,.091177133616206],[.002090971306534,.091263142463585]]},{}],11:[function(t,e,i){var n=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]),a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]),o=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]),r=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]),s=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]),h=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]),l=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]),c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]),u=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]),d=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]),p=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]),f=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]),_=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);i.SWB_OFFSET_1024=[n,n,o,s,s,l,c,c,d,d,d,f],i.SWB_OFFSET_128=[a,a,r,h,h,h,u,u,p,p,p,_],i.SWB_SHORT_WINDOW_COUNT=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]),i.SWB_LONG_WINDOW_COUNT=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]),i.SCALEFACTOR_TABLE=function(){for(var t=new Float32Array(428),e=0;e<428;e++)t[e]=Math.pow(2,(e-200)/4);return t}(),i.IQ_TABLE=function(){for(var t=new Float32Array(8191),e=0;e<8191;e++)t[e]=Math.pow(e,4/3);return t}(),i.SAMPLE_RATES=new Int32Array([96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350])},{}],12:[function(t,e,i){function n(t){this.maxBands=a[t.sampleIndex],this.nFilt=new Int32Array(8),this.length=new Array(8),this.direction=new Array(8),this.order=new Array(8),this.coef=new Array(8);for(var e=0;e<8;e++){this.length[e]=new Int32Array(4),this.direction[e]=new Array(4),this.order[e]=new Int32Array(4),this.coef[e]=new Array(4);for(var i=0;i<4;i++)this.coef[e][i]=new Float32Array(20)}this.lpc=new Float32Array(20),this.tmp=new Float32Array(20)}var v=[1,4,3],y=[2,6,5],P=[[0,-.43388373,-.7818315,-.9749279,.98480773,.86602539,.64278758,.34202015],[0,-.2079117,-.40673664,-.58778524,-.74314481,-.86602539,-.95105654,-.99452192,.99573416,.96182561,.8951633,.7980172,.67369562,.52643216,.36124167,.18374951],[0,-.43388373,.64278758,.34202015],[0,-.2079117,-.40673664,-.58778524,.67369562,.52643216,.36124167,.18374951]],a=[31,31,34,40,42,51,46,46,42,42,42,39,39];n.prototype.decode=function(t,e){for(var i=e.windowCount,n=2===e.windowSequence?v:y,a=0;a<i;a++)if(this.nFilt[a]=t.read(n[0]))for(var o=t.read(1),r=this.nFilt[a],s=this.length[a],h=this.order[a],l=this.direction[a],c=this.coef[a],u=0;u<r;u++){if(s[u]=t.read(n[1]),20<(h[u]=t.read(n[2])))throw new Error("TNS filter out of range: "+h[u]);if(h[u]){l[u]=!!t.read(1);for(var d=t.read(1),p=o+3-d,f=P[2*d+o],_=h[u],m=c[u],g=0;g<_;g++)m[g]=f[t.read(p)]}}},n.prototype.process=function(t,e,i){for(var n=Math.min(this.maxBands,t.maxSFB),a=this.lpc,o=this.tmp,r=t.info,s=r.windowCount,h=0;h<s;h++)for(var l=r.swbCount,c=this.nFilt[h],u=this.length[h],d=this.order[h],p=this.coef[h],f=this.direction[h],_=0;_<c;_++){var m=l,l=Math.max(0,o-u[_]),g=d[_];if(0!==g){for(var v=p[_],y=0;y<g;y++){var P=-v[y];a[y]=P;for(var S=0,b=y+1>>1;S<b;S++){var I=a[S],B=a[y-1-S];a[S]=I+P*B,a[y-1-S]=B+P*I}}var C,k=r.swbOffsets[Math.min(l,n)],m=r.swbOffsets[Math.min(m,n)],T=1;if(!((C=m-k)<=0))if(f[_]&&(T=-1,k=m-1),k+=128*h,i)for(var x=0;x<C;x++,k+=T)for(y=1;y<=Math.min(x,g);y++)e[k]-=e[k-y*T]*a[y-1];else for(x=0;x<C;x++,k+=T){o[0]=e[k];for(y=1;y<=Math.min(x,g);y++)e[k]+=o[y]*a[y-1];for(y=g;0<y;y--)o[y]=o[y-1]}}}},e.exports=n},{}]},{},[4]),!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).flvjs=t()}(function(){return function n(a,o,r){function s(i,t){if(!o[i]){if(!a[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}e=o[i]={exports:{}};a[i][0].call(e.exports,function(t){var e=a[i][1][t];return s(e||t)},e,e.exports,n,a,o,r)}return o[i].exports}for(var h="function"==typeof require&&require,t=0;t<r.length;t++)s(r[t]);return s}({1:[function(j,i,n){!function(X,H){var t,e;t=this,e=function(){"use strict";function l(t){return"function"==typeof t}var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,e=void 0,a=void 0,s=function(t,e){c[n]=t,c[n+1]=e,2===(n+=2)&&(a?a(u):U())};var t="undefined"!=typeof window?window:void 0,o=t||{},o=o.MutationObserver||o.WebKitMutationObserver,r="undefined"==typeof self&&void 0!==X&&"[object process]"==={}.toString.call(X),N="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(u,1)}}var c=new Array(1e3);function u(){for(var t=0;t<n;t+=2)(0,c[t])(c[t+1]),c[t]=void 0,c[t+1]=void 0;n=0}function O(){try{var t=j("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(u)}:h()}catch(t){return h()}}var d,p,f,U=void 0;function _(t,e){var i,n=arguments,a=this,o=new this.constructor(v),r=(void 0===o[g]&&F(o),a._state);return r?(i=n[r-1],s(function(){return E(r,o,i,a._result)})):x(a,o,t,e),o}function m(t){var e;return t&&"object"==typeof t&&t.constructor===this?t:(C(e=new this(v),t),e)}var U=r?function(){return X.nextTick(u)}:o?(p=0,r=new o(u),f=document.createTextNode(""),r.observe(f,{characterData:!0}),function(){f.data=p=++p%2}):N?((d=new MessageChannel).port1.onmessage=u,function(){return d.port2.postMessage(0)}):(void 0===t&&"function"==typeof j?O:h)(),g=Math.random().toString(36).substring(16);function v(){}var y=void 0,P=1,S=2,b=new w;function I(t){try{return t.then}catch(t){return b.error=t,b}}function V(t,n,a){s(function(e){var i=!1,t=function(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}(a,n,function(t){i||(i=!0,(n!==t?C:k)(e,t))},function(t){i||(i=!0,T(e,t))},e._label);!i&&t&&(i=!0,T(e,t))},t)}function B(t,e,i){var n,a;e.constructor===t.constructor&&i===_&&e.constructor.resolve===m?(n=t,(a=e)._state===P?k(n,a._result):a._state===S?T(n,a._result):x(a,void 0,function(t){return C(n,t)},function(t){return T(n,t)})):i===b?(T(t,b.error),b.error=null):void 0!==i&&l(i)?V(t,e,i):k(t,e)}function C(t,e){var i;t===e?T(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(i=e)||"object"==typeof i&&null!==i?B(t,e,I(e)):k(t,e)}function G(t){t._onerror&&t._onerror(t._result),M(t)}function k(t,e){t._state===y&&(t._result=e,t._state=P,0!==t._subscribers.length)&&s(M,t)}function T(t,e){t._state===y&&(t._state=S,t._result=e,s(G,t))}function x(t,e,i,n){var a=t._subscribers,o=a.length;t._onerror=null,a[o]=e,a[o+P]=i,a[o+S]=n,0===o&&t._state&&s(M,t)}function M(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n,a=void 0,o=t._result,r=0;r<e.length;r+=3)n=e[r],a=e[r+i],n?E(i,n,a,o):a(o);t._subscribers.length=0}}function w(){this.error=null}var L=new w;function E(t,e,i,n){var a=l(i),o=void 0,r=void 0,s=void 0,h=void 0;if(a){if((o=function(t,e){try{return t(e)}catch(t){return L.error=t,L}}(i,n))===L?(h=!0,r=o.error,o.error=null):s=!0,e===o)return void T(e,new TypeError("A promises callback cannot return that same promise."))}else o=n,s=!0;e._state===y&&(a&&s?C(e,o):h?T(e,r):t===P?k(e,o):t===S&&T(e,o))}var A=0;function F(t){t[g]=A++,t._state=void 0,t._result=void 0,t._subscribers=[]}function D(t,e){this._instanceConstructor=t,this.promise=new t(v),this.promise[g]||F(this.promise),i(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(),0!==this._remaining)||k(this.promise,this._result)):T(this.promise,new Error("Array Methods must be provided an Array"))}function R(t){if(this[g]=A++,this._result=this._state=void 0,this._subscribers=[],v!==t){if("function"!=typeof t)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof R))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var e=this;try{t(function(t){C(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}}return D.prototype._enumerate=function(){for(var t=this.length,e=this._input,i=0;this._state===y&&i<t;i++)this._eachEntry(e[i],i)},D.prototype._eachEntry=function(e,t){var i,n,a=this._instanceConstructor,o=a.resolve;o===m?(i=I(e))===_&&e._state!==y?this._settledAt(e._state,t,e._result):"function"!=typeof i?(this._remaining--,this._result[t]=e):a===R?(B(n=new a(v),e,i),this._willSettleAt(n,t)):this._willSettleAt(new a(function(t){return t(e)}),t):this._willSettleAt(o(e),t)},D.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===y&&(this._remaining--,t===S?T(n,i):this._result[e]=i),0===this._remaining&&k(n,this._result)},D.prototype._willSettleAt=function(t,e){var i=this;x(t,void 0,function(t){return i._settledAt(P,e,t)},function(t){return i._settledAt(S,e,t)})},R.all=function(t){return new D(this,t).promise},R.race=function(a){var o=this;return i(a)?new o(function(t,e){for(var i=a.length,n=0;n<i;n++)o.resolve(a[n]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},R.resolve=m,R.reject=function(t){var e=new this(v);return T(e,t),e},R._setScheduler=function(t){a=t},R._setAsap=function(t){s=t},R._asap=s,R.prototype={constructor:R,then:_,catch:function(t){return this.then(null,t)}},R.polyfill=function(){var t=void 0;if(void 0!==H)t=H;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=R},R.Promise=R},"object"==typeof n&&void 0!==i?i.exports=e():t.ES6Promise=e()}.call(this,j("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(t,e,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function h(t){return"function"==typeof t}function l(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,a,o,r,s;if((this._events||(this._events={}),"error"===t)&&(!this._events.error||l(this._events.error)&&!this._events.error.length))throw(s=arguments[1])instanceof Error?s:((r=new Error('Uncaught, unspecified "error" event. ('+s+")")).context=s,r);if(c(e=this._events[t]))return!1;if(h(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),e.apply(this,n)}else if(l(e))for(n=Array.prototype.slice.call(arguments,1),i=(o=e.slice()).length,a=0;a<i;a++)o[a].apply(this,n);return!0},n.prototype.on=n.prototype.addListener=function(t,e){if(h(e))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,h(e.listener)?e.listener:e),this._events[t]?l(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,l(this._events[t])&&!this._events[t].warned&&(e=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<e&&this._events[t].length>e&&(this._events[t].warned=!0,console.trace),this;throw TypeError("listener must be a function")},n.prototype.once=function(t,e){var i;if(h(e))return i=!1,n.listener=e,this.on(t,n),this;throw TypeError("listener must be a function");function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}},n.prototype.removeListener=function(t,e){var i,n,a,o;if(!h(e))throw TypeError("listener must be a function");if(this._events&&this._events[t])if(a=(i=this._events[t]).length,n=-1,i===e||h(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(l(i)){for(o=a;0<o--;)if(i[o]===e||i[o].listener&&i[o].listener===e){n=o;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(this._events)if(this._events.removeListener)if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);this.removeAllListeners("removeListener"),this._events={}}else{if(h(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);delete this._events[t]}else 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t];return this},n.prototype.listeners=function(t){t=this._events&&this._events[t]?h(this._events[t])?[this._events[t]]:this._events[t].slice():[];return t},n.prototype.listenerCount=function(t){if(this._events){t=this._events[t];if(h(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],3:[function(t,e,i){var n,a,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{a="function"==typeof clearTimeout?clearTimeout:r}catch(t){a=r}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var h,l=[],c=!1,u=-1;function d(){c&&h&&(c=!1,h.length?l=h.concat(l):u=-1,l.length)&&p()}function p(){if(!c){for(var t=s(d),e=(c=!0,l.length);e;){for(h=l,l=[];++u<e;)h&&h[u].run();u=-1,e=l.length}h=null,c=!1,!function(e){if(a===clearTimeout)return clearTimeout(e);if((a===r||!a)&&clearTimeout)return(a=clearTimeout)(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function _(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new f(t,e)),1!==l.length||c||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=_,e.addListener=_,e.once=_,e.off=_,e.removeListener=_,e.removeAllListeners=_,e.emit=_,e.prependListener=_,e.prependOnceListener=_,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],4:[function(t,e,i){var d=arguments[3],p=arguments[4],f=arguments[5],_=JSON.stringify;e.exports=function(t,e){for(var i=Object.keys(f),n=0,a=i.length;n<a;n++){var o=i[n],r=f[o].exports;if(r===t||r&&r.default===t){s=o;break}}if(!s){for(var s=Math.floor(Math.pow(16,8)*Math.random()).toString(16),h={},n=0,a=i.length;n<a;n++)h[o=i[n]]=o;p[s]=[Function(["require","module","exports"],"("+t+")(self)"),h]}var l=Math.floor(Math.pow(16,8)*Math.random()).toString(16),c={},u=(c[s]=s,p[l]=[Function(["require"],"var f = require("+_(s)+");(f.default ? f.default : f)(self);"),c],{});!function t(e){u[e]=!0;for(var i in p[e][1]){i=p[e][1][i];u[i]||t(i)}}(l);var c="("+d+")({"+Object.keys(u).map(function(t){return _(t)+":["+p[t][0]+","+_(p[t][1])+"]"}).join(",")+"},{},["+_(l)+"])",l=window.URL||window.webkitURL||window.mozURL||window.msURL,c=new Blob([c],{type:"text/javascript"});return e&&e.bare?c:(e=l.createObjectURL(c),(l=new Worker(e)).objectURL=e,l)}},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createDefaultConfig=function(){return Object.assign({},n)};var n=i.defaultConfig={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:1e3,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1}},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("../io/io-controller.js"),r=(o=o)&&o.__esModule?o:{default:o},s=t("../config.js");n(h,null,[{key:"supportMSEH264Playback",value:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"supportNetworkStreamIO",value:function(){var t=new r.default({},(0,s.createDefaultConfig)()),e=t.loaderType;return t.destroy(),"fetch-stream-loader"==e||"xhr-moz-chunked-loader"==e}},{key:"getNetworkLoaderTypeName",value:function(){var t=new r.default({},(0,s.createDefaultConfig)()),e=t.loaderType;return t.destroy(),e}},{key:"supportNativeMediaPlayback",value:function(t){t=(h.videoElement=null==h.videoElement?window.document.createElement("video"):h.videoElement).canPlayType(t);return"probably"===t||"maybe"==t}},{key:"getFeatureList",value:function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=h.supportMSEH264Playback(),t.networkStreamIO=h.supportNetworkStreamIO(),t.networkLoaderName=h.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t}}]);o=h;function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function")}i.default=o},{"../config.js":5,"../io/io-controller.js":23}],7:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}Object.defineProperty(i,"__esModule",{value:!0}),function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(a,[{key:"isComplete",value:function(){var t=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,e=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen,i=null!=this.metadata;return t&&e&&(null==this.mimeType||null==this.duration||null==this.metadata||null==this.hasKeyframesIndex)&&(null==this.mimeType&&(this.mimeType='video/x-flv; codecs="avc1.42801f"'),null==this.duration&&(this.duration=0),0==i&&(i=!0),null==this.hasKeyframesIndex)&&(this.hasKeyframesIndex=!1),null!=this.mimeType&&null!=this.duration&&i&&null!=this.hasKeyframesIndex&&t&&e}},{key:"isSeekable",value:function(){return!0===this.hasKeyframesIndex}},{key:"getNearestKeyframe",value:function(t){var e;return null==this.keyframesIndex?null:(e=this.keyframesIndex,{index:t=this._search(e.times,t),milliseconds:e.times[t],fileposition:e.filepositions[t]})}},{key:"_search",value:function(t,e){var i,n=0,a=t.length-1,o=0,r=a;for(e<t[0]&&(n=0,o=r+1);o<=r;){if((i=o+Math.floor((r-o)/2))===a||e>=t[i]&&e<t[i+1]){n=i;break}t[i]<e?o=i+1:r=i-1}return n}}]),i.default=a},{}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.SampleInfo=function t(e,i,n,a,o){r(this,t),this.dts=e,this.pts=i,this.duration=n,this.originalDts=a,this.isSyncPoint=o,this.fileposition=null},i.MediaSegmentInfo=(n(o,[{key:"appendSyncPoint",value:function(t){t.isSyncPoint=!0,this.syncPoints.push(t)}}]),o);function o(){r(this,o),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}i.IDRSampleList=(n(s,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(t){var e=this._list;0!==t.length&&(0<e.length&&t[0].originalDts<e[e.length-1].originalDts&&this.clear(),Array.prototype.push.apply(e,t))}},{key:"getLastSyncPointBeforeDts",value:function(t){if(0==this._list.length)return null;var e,i=this._list,n=0,a=i.length-1,o=0,r=a;for(t<i[0].dts&&(n=0,o=r+1);o<=r;){if((e=o+Math.floor((r-o)/2))===a||t>=i[e].dts&&t<i[e+1].dts){n=e;break}i[e].dts<t?o=e+1:r=e-1}return this._list[n]}}]),s);function s(){r(this,s),this._list=[]}i.MediaSegmentInfoList=(n(h,[{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(t){var e=this._list;if(0===e.length)return-2;var i,n=e.length-1,a=0,o=n,r=0;if(t<e[0].originalBeginDts)return r=-1;for(;a<=o;){if((i=a+Math.floor((o-a)/2))===n||t>e[i].lastSample.originalDts&&t<e[i+1].originalBeginDts){r=i;break}e[i].originalBeginDts<t?a=i+1:o=i-1}return r}},{key:"_searchNearestSegmentAfter",value:function(t){return this._searchNearestSegmentBefore(t)+1}},{key:"append",value:function(t){var e=this._list,i=this._lastAppendLocation,n=0;-1!==i&&i<e.length&&t.originalBeginDts>=e[i].lastSample.originalDts&&(i===e.length-1||i<e.length-1&&t.originalBeginDts<e[i+1].originalBeginDts)?n=i+1:0<e.length&&(n=this._searchNearestSegmentBefore(t.originalBeginDts)+1),this._lastAppendLocation=n,this._list.splice(n,0,t)}},{key:"getLastSegmentBefore",value:function(t){t=this._searchNearestSegmentBefore(t);return 0<=t?this._list[t]:null}},{key:"getLastSampleBefore",value:function(t){t=this.getLastSegmentBefore(t);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(t){for(var e=this._searchNearestSegmentBefore(t),i=this._list[e].syncPoints;0===i.length&&0<e;)i=this._list[--e].syncPoints;return 0<i.length?i[i.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),h);function h(t){r(this,h),this._type=t,this._list=[],this._lastAppendLocation=-1}},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=u(t("events")),s=u(t("../utils/logger.js")),h=u(t("../utils/browser.js")),r=u(t("./mse-events.js")),l=t("./media-segment-info.js"),c=t("../utils/exception.js");function u(t){return t&&t.__esModule?t:{default:t}}n(d,[{key:"destroy",value:function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null,clearTimeout(this._stuckTimer),this._stuckTimer=null}},{key:"on",value:function(t,e){this._emitter.addListener(t,e)}},{key:"off",value:function(t,e){this._emitter.removeListener(t,e)}},{key:"attachMediaElement",value:function(t,e){if(this._mediaDataSource=e,this._mediaSource)throw new c.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");e=this._mediaSource=new window.MediaSource;e.addEventListener("sourceopen",this.e.onSourceOpen),e.addEventListener("sourceended",this.e.onSourceEnded),e.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=t,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),t.src=this._mediaSourceObjectURL}},{key:"detachMediaElement",value:function(){if(this._mediaSource){var t,e=this._mediaSource;for(t in this._sourceBuffers){var i=this._pendingSegments[t],i=(i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null,this._sourceBuffers[t]);i&&("closed"!==e.readyState&&(e.removeSourceBuffer(i),i.removeEventListener("error",this.e.onSourceBufferError),i.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)),this._mimeTypes[t]=null,this._sourceBuffers[t]=null)}if("open"===e.readyState)try{e.endOfStream()}catch(t){s.default.e(this.TAG,t.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}},{key:"appendInitSegment",value:function(t,e){if(this._mediaSource&&"open"===this._mediaSource.readyState){var i=t,n=""+i.container,a=(i.codec&&0<i.codec.length&&(n+=";codecs="+i.codec),!1);if(s.default.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])s.default.v(this.TAG,"Notice: "+i.type+" mimeType changed, origin: "+this._mimeTypes[i.type]+", target: "+n);else{a=!0;try{var o=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);o.addEventListener("error",this.e.onSourceBufferError),o.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(t){return s.default.e(this.TAG,t.message),void this._emitter.emit(r.default.ERROR,{code:t.code,msg:t.message})}}this._mimeTypes[i.type]=n}e||this._pendingSegments[i.type].push(i),a||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),h.default.safari&&"audio/mpeg"===i.container&&0<i.mediaDuration&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())}else this._pendingSourceBufferInit.push(t),this._pendingSegments[t.type].push(t)}},{key:"appendMediaSegment",value:function(t){this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var e=this._sourceBuffers[t.type];0!=e.buffered.length&&(t.info.beginDts,Math.round(1e3*e.buffered.end(0))),!e||e.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},{key:"seek",value:function(t){for(var e in this._sourceBuffers)if(this._sourceBuffers[e]){var i=this._sourceBuffers[e];if("open"===this._mediaSource.readyState)try{i.abort()}catch(t){s.default.e(this.TAG,t.message)}this._idrList.clear();var n=this._pendingSegments[e];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(var a=0;a<i.buffered.length;a++){var o=i.buffered.start(a),r=i.buffered.end(a);this._pendingRemoveRanges[e].push({start:o,end:r})}i.updating||this._doRemoveRanges(),h.default.safari&&(n=this._lastInitSegments[e])&&(this._pendingSegments[e].push(n),i.updating||this._doAppendSegments())}}}},{key:"endOfStream",value:function(){var t=this._mediaSource,e=this._sourceBuffers;t&&"open"===t.readyState?e.video&&e.video.updating||e.audio&&e.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,t.endOfStream()):t&&"closed"===t.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}},{key:"getNearestKeyframe",value:function(t){return this._idrList.getLastSyncPointBeforeDts(t)}},{key:"_needCleanupSourceBuffer",value:function(){if(this._config.autoCleanupSourceBuffer){var t,e=this._mediaElement.currentTime;for(t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){i=i.buffered;if(1<=i.length&&e-i.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}}return!1}},{key:"_doCleanupSourceBuffer",value:function(){var t,e=this._mediaElement.currentTime;for(t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){for(var n=i.buffered,a=!1,o=0;o<n.length;o++){var r,s=n.start(o),h=n.end(o);s<=e&&e<h+3?e-s>=this._config.autoCleanupMaxBackwardDuration&&(a=!0,r=e-this._config.autoCleanupMinBackwardDuration,this._pendingRemoveRanges[t].push({start:s,end:r})):h<e&&(a=!0,this._pendingRemoveRanges[t].push({start:s,end:h}))}a&&!i.updating&&this._doRemoveRanges()}}}},{key:"_updateMediaSourceDuration",value:function(){var t,e=this._sourceBuffers;0===this._mediaElement.readyState||"open"!==this._mediaSource.readyState||e.video&&e.video.updating||e.audio&&e.audio.updating||(e=this._mediaSource.duration,0<(t=this._pendingMediaDuration)&&(isNaN(e)||e<t)&&(s.default.v(this.TAG,"Update MediaSource duration from "+e+" to "+t),this._mediaSource.duration=t),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0)}},{key:"_doRemoveRanges",value:function(){for(var t in this._pendingRemoveRanges)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating)for(var e=this._sourceBuffers[t],i=this._pendingRemoveRanges[t];i.length&&!e.updating;){var n=i.shift();e.remove(n.start,n.end)}}},{key:"_doAppendSegments",value:function(){var e,t=this._pendingSegments;for(e in t)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating&&0<t[e].length){var i,n,a=t[e].shift();if(a.timestampOffset&&(i=this._sourceBuffers[e].timestampOffset,n=a.timestampOffset/1e3,.1<Math.abs(i-n)&&(s.default.v(this.TAG,"Update MPEG audio timestampOffset from "+i+" to "+n),this._sourceBuffers[e].timestampOffset=n),delete a.timestampOffset),a.data&&0!==a.data.byteLength)try{var o=this._mediaElement.buffered;0<o.length&&(this._mediaElement.currentTime>o.end(0)+.2&&1!=this._dontChase&&(this._mediaElement.currentTime=o.end(0)-.1,this._dontChase=!0,this._stuckTimer=setTimeout(function(){this._dontChase=!1}.bind(this),5e3)),this._mediaElement.currentTime+2<o.end(0))&&1!=this._dontChase&&(this._mediaElement.currentTime=o.end(0)-.1,this._dontChase=!0,this._stuckTimer=setTimeout(function(){this._dontChase=!1}.bind(this),5e3)),this._sourceBuffers[e].appendBuffer(a.data),this._isBufferFull=!1,"video"===e&&a.hasOwnProperty("info")&&this._idrList.appendArray(a.info.syncPoints)}catch(t){this._pendingSegments[e].unshift(a),22===t.code?(this._isBufferFull||this._emitter.emit(r.default.BUFFER_FULL),this._isBufferFull=!0):(s.default.e(this.TAG,t.message),this._emitter.emit(r.default.ERROR,{code:t.code,msg:t.message}))}}}},{key:"_onSourceOpen",value:function(){if(s.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),0<this._pendingSourceBufferInit.length)for(var t=this._pendingSourceBufferInit;t.length;){var e=t.shift();this.appendInitSegment(e,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(r.default.SOURCE_OPEN)}},{key:"_onSourceEnded",value:function(){s.default.v(this.TAG,"MediaSource onSourceEnded")}},{key:"_onSourceClose",value:function(){s.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"_hasPendingSegments",value:function(){var t=this._pendingSegments;return 0<t.video.length||0<t.audio.length}},{key:"_hasPendingRemoveRanges",value:function(){var t=this._pendingRemoveRanges;return 0<t.video.length||0<t.audio.length}},{key:"_onSourceBufferUpdateEnd",value:function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(r.default.UPDATE_END)}},{key:"_onSourceBufferError",value:function(t){s.default.e(this.TAG,"SourceBuffer Error: "+t)}}]);t=d;function d(t){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.TAG="MSEController",this._config=t,this._emitter=new o.default,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._mediaDataSource=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new l.IDRSampleList,this._lastIDR=null,this._stuckTimer=null,this._dontChase=!1}i.default=t},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./media-segment-info.js":8,"./mse-events.js":10,events:2}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},{}],11:[function(n,t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=d(n("events")),r=d(n("../utils/logger.js")),s=d(n("../utils/logging-control.js")),h=d(n("./transmuxing-controller.js")),l=d(n("./transmuxing-events.js")),c=d(n("./transmuxing-worker.js")),u=d(n("./media-info.js"));function d(t){return t&&t.__esModule?t:{default:t}}function p(e,i){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");if(this.TAG="Transmuxer",this._emitter=new o.default,this._mediaElement=null,this._mediaSource=null,i.enableWorker&&"undefined"!=typeof Worker)try{var t=n("webworkify");this._worker=t(c.default),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,i]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},s.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:s.default.getConfig()})}catch(t){r.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new h.default(e,i)}else this._controller=new h.default(e,i);this._controller&&((t=this._controller).on(l.default.IO_ERROR,this._onIOError.bind(this)),t.on(l.default.DEMUX_ERROR,this._onDemuxError.bind(this)),t.on(l.default.INIT_SEGMENT,this._onInitSegment.bind(this)),t.on(l.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),t.on(l.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),t.on(l.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),t.on(l.default.MEDIA_INFO,this._onMediaInfo.bind(this)),t.on(l.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),t.on(l.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this)))}i(p,[{key:"destroy",value:function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),s.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(t,e){this._emitter.addListener(t,e)}},{key:"off",value:function(t,e){this._emitter.removeListener(t,e)}},{key:"hasWorker",value:function(){return null!=this._worker}},{key:"open",value:function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}},{key:"close",value:function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}},{key:"seek",value:function(t){this._worker?this._worker.postMessage({cmd:"seek",param:t}):this._controller.seek(t)}},{key:"pause",value:function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}},{key:"resume",value:function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}},{key:"attachMediaElement",value:function(t,e){this._mediaElement=t,this._mediaSource=e,this._controller.attachMediaElement(t,e)}},{key:"_onInitSegment",value:function(t,e){var i=this;Promise.resolve().then(function(){i._emitter.emit(l.default.INIT_SEGMENT,t,e)})}},{key:"_onMediaSegment",value:function(t,e){var i=this;Promise.resolve().then(function(){i._emitter.emit(l.default.MEDIA_SEGMENT,t,e)})}},{key:"_onLoadingComplete",value:function(){var t=this;Promise.resolve().then(function(){t._emitter.emit(l.default.LOADING_COMPLETE)})}},{key:"_onRecoveredEarlyEof",value:function(){var t=this;Promise.resolve().then(function(){t._emitter.emit(l.default.RECOVERED_EARLY_EOF)})}},{key:"_onMediaInfo",value:function(t){var e=this;Promise.resolve().then(function(){e._emitter.emit(l.default.MEDIA_INFO,t)})}},{key:"_onStatisticsInfo",value:function(t){var e=this;Promise.resolve().then(function(){e._emitter.emit(l.default.STATISTICS_INFO,t)})}},{key:"_onIOError",value:function(t,e){var i=this;Promise.resolve().then(function(){i._emitter.emit(l.default.IO_ERROR,t,e)})}},{key:"_onDemuxError",value:function(t,e){var i=this;Promise.resolve().then(function(){i._emitter.emit(l.default.DEMUX_ERROR,t,e)})}},{key:"_onRecommendSeekpoint",value:function(t){var e=this;Promise.resolve().then(function(){e._emitter.emit(l.default.RECOMMEND_SEEKPOINT,t)})}},{key:"_onLoggingConfigChanged",value:function(t){this._worker&&this._worker.postMessage({cmd:"logging_config",param:t})}},{key:"_onWorkerMessage",value:function(t){var e=t.data,i=e.data;if("destroyed"===e.msg||this._workerDestroying)this._workerDestroying=!1,this._worker.terminate(),this._worker=null;else switch(e.msg){case l.default.INIT_SEGMENT:case l.default.MEDIA_SEGMENT:this._emitter.emit(e.msg,i.type,i.data);break;case l.default.LOADING_COMPLETE:case l.default.RECOVERED_EARLY_EOF:this._emitter.emit(e.msg);break;case l.default.MEDIA_INFO:Object.setPrototypeOf(i,u.default.prototype),this._emitter.emit(e.msg,i);break;case l.default.STATISTICS_INFO:this._emitter.emit(e.msg,i);break;case l.default.IO_ERROR:case l.default.DEMUX_ERROR:this._emitter.emit(e.msg,i.type,i.info);break;case l.default.RECOMMEND_SEEKPOINT:this._emitter.emit(e.msg,i);break;case"logcat_callback":r.default.emitter.emit("log",i.type,i.logcat)}}}]),e.default=p},{"../utils/logger.js":41,"../utils/logging-control.js":42,"./media-info.js":7,"./transmuxing-controller.js":12,"./transmuxing-events.js":13,"./transmuxing-worker.js":14,events:2,webworkify:4}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=f(t("events")),r=f(t("../utils/logger.js")),s=f(t("../utils/browser.js")),h=f(t("./media-info.js")),l=f(t("../demux/flv-demuxer.js")),c=f(t("../remux/mp4-remuxer.js")),u=f(t("../demux/demux-errors.js")),d=f(t("../io/io-controller.js")),p=f(t("./transmuxing-events.js"));t("../io/loader.js");function f(t){return t&&t.__esModule?t:{default:t}}n(_,[{key:"destroy",value:function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(t,e){this._emitter.addListener(t,e)}},{key:"off",value:function(t,e){this._emitter.removeListener(t,e)}},{key:"start",value:function(){this._loadSegment(0),this._enableStatisticsReporter()}},{key:"attachMediaElement",value:function(t,e){this._mediaElement=t,this._mediaSource=e}},{key:"_loadSegment",value:function(t,e){this._currentSegmentIndex=t;var i=this._mediaDataSource.segments[t],i=this._ioctl=new d.default(i,this._config,t);i.onError=this._onIOException.bind(this),i.onSeeked=this._onIOSeeked.bind(this),i.onComplete=this._onIOComplete.bind(this),i.onRedirect=this._onIORedirect.bind(this),i.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),e?this._demuxer.bindDataSource(this._ioctl):i.onDataArrival=this._onInitChunkArrival.bind(this),i.open(e)}},{key:"stop",value:function(){this._internalAbort(),this._disableStatisticsReporter()}},{key:"_internalAbort",value:function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}},{key:"pause",value:function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}},{key:"resume",value:function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}},{key:"seek",value:function(t){var e,i;null!=this._mediaInfo&&this._mediaInfo.isSeekable()&&((e=this._searchSegmentIndexContains(t))===this._currentSegmentIndex?null==(i=this._mediaInfo.segments[e])?this._pendingSeekTime=t:(i=i.getNearestKeyframe(t),this._remuxer.seek(i.milliseconds),this._ioctl.seek(i.fileposition),this._pendingResolveSeekPoint=i.milliseconds):null==(i=this._mediaInfo.segments[e])?(this._pendingSeekTime=t,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(e)):(i=i.getNearestKeyframe(t),this._internalAbort(),this._remuxer.seek(t),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[e].timestampBase,this._loadSegment(e,i.fileposition),this._pendingResolveSeekPoint=i.milliseconds,this._reportSegmentMediaInfo(e)),this._enableStatisticsReporter())}},{key:"_searchSegmentIndexContains",value:function(t){for(var e=this._mediaDataSource.segments,i=e.length-1,n=0;n<e.length;n++)if(t<e[n].timestampBase){i=n-1;break}return i}},{key:"_onInitChunkArrival",value:function(t,e){var i,n=this;return 0<e?(this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,this._demuxer.parseChunks(t,e)):(i=l.default.probe(t)).match?(this._demuxer=new l.default(i,this._config),this._demuxer.attachMediaElement(this._mediaElement,this._mediaSource),this._remuxer||(this._remuxer=new c.default(this._config)),this._remuxer.attachMediaElement(this._mediaElement,this._mediaSource),null==(i=this._mediaDataSource).duration||isNaN(i.duration)||(this._demuxer.overridedDuration=i.duration),"boolean"==typeof i.hasAudio&&(this._demuxer.overridedHasAudio=i.hasAudio),"boolean"==typeof i.hasVideo&&(this._demuxer.overridedHasVideo=i.hasVideo),this._demuxer.timestampBase=i.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),this._demuxer.parseChunks(t,e)):(r.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){n._internalAbort()}),this._emitter.emit(p.default.DEMUX_ERROR,u.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),0)}},{key:"_onMediaInfo",value:function(t){var e=this,t=(null==this._mediaInfo&&(this._mediaInfo=Object.assign({},t),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,h.default.prototype)),Object.assign({},t));Object.setPrototypeOf(t,h.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=t,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var t=e._pendingSeekTime;e._pendingSeekTime=null,e.seek(t)})}},{key:"_onIOSeeked",value:function(){this._remuxer.insertDiscontinuity()}},{key:"_onIOComplete",value:function(t){t+=1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(p.default.LOADING_COMPLETE),this._disableStatisticsReporter())}},{key:"_onIORedirect",value:function(t){var e=this._ioctl.extraData;this._mediaDataSource.segments[e].redirectedURL=t}},{key:"_onIORecoveredEarlyEof",value:function(){this._emitter.emit(p.default.RECOVERED_EARLY_EOF)}},{key:"_onIOException",value:function(t,e){r.default.e(this.TAG,"IOException: type = "+t+", code = "+e.code+", msg = "+e.msg),this._emitter.emit(p.default.IO_ERROR,t,e),this._disableStatisticsReporter()}},{key:"_onDemuxException",value:function(t,e){r.default.e(this.TAG,"DemuxException: type = "+t+", info = "+e),this._emitter.emit(p.default.DEMUX_ERROR,t,e)}},{key:"_onRemuxerInitSegmentArrival",value:function(t,e){this._emitter.emit(p.default.INIT_SEGMENT,t,e)}},{key:"_onRemuxerMediaSegmentArrival",value:function(t,e){null==this._pendingSeekTime&&(this._emitter.emit(p.default.MEDIA_SEGMENT,t,e),null!=this._pendingResolveSeekPoint)&&"video"===t&&(t=e.info.syncPoints,e=this._pendingResolveSeekPoint,this._pendingResolveSeekPoint=null,s.default.safari&&0<t.length&&t[0].originalDts===e&&(e=t[0].pts),this._emitter.emit(p.default.RECOMMEND_SEEKPOINT,e))}},{key:"_enableStatisticsReporter",value:function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}},{key:"_disableStatisticsReporter",value:function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"_reportSegmentMediaInfo",value:function(t){t=this._mediaInfo.segments[t],t=Object.assign({},t);t.duration=this._mediaInfo.duration,t.segmentCount=this._mediaInfo.segmentCount,delete t.segments,delete t.keyframesIndex,this._emitter.emit(p.default.MEDIA_INFO,t)}},{key:"_reportStatisticsInfo",value:function(){var t={};t.url=this._ioctl.currentURL,t.hasRedirect=this._ioctl.hasRedirect,t.hasRedirect&&(t.redirectedURL=this._ioctl.currentRedirectedURL),t.speed=this._ioctl.currentSpeed,t.loaderType=this._ioctl.loaderType,t.currentSegmentIndex=this._currentSegmentIndex,t.totalSegmentCount=this._mediaDataSource.segments.length,null==this._prevFps&&(this._prevFps=this._demuxer._vFrameCount),t.fps=this._demuxer._vFrameCount-this._prevFps,this._prevFps=this._demuxer._vFrameCount,this._emitter.emit(p.default.STATISTICS_INFO,t)}}]);t=_;function _(e,i){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.TAG="TransmuxingController",this._emitter=new o.default,this._config=i,this._mediaElement=null,this._mediaSource=null,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e;var n=this._currentSegmentIndex=0;this._mediaDataSource.segments.forEach(function(t){t.timestampBase=n,n+=t.duration,t.cors=e.cors,t.withCredentials=e.withCredentials,i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy)}),isNaN(n)||this._mediaDataSource.duration===n||(this._mediaDataSource.duration=n),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null,this._prevFPS=null}i.default=t},{"../demux/demux-errors.js":16,"../demux/flv-demuxer.js":18,"../io/io-controller.js":23,"../io/loader.js":24,"../remux/mp4-remuxer.js":38,"../utils/browser.js":39,"../utils/logger.js":41,"./media-info.js":7,"./transmuxing-events.js":13,events:2}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},{}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});n(t("../utils/logger.js"));var o=n(t("../utils/logging-control.js")),r=n(t("../utils/polyfill.js")),s=n(t("./transmuxing-controller.js")),h=n(t("./transmuxing-events.js"));function n(t){return t&&t.__esModule?t:{default:t}}i.default=function(i){var n=null,a=function(t,e){i.postMessage({msg:"logcat_callback",data:{type:t,logcat:e}})}.bind(this);r.default.install(),i.addEventListener("message",function(t){switch(t.data.cmd){case"init":(n=new s.default(t.data.param[0],t.data.param[1])).on(h.default.IO_ERROR,function(t,e){i.postMessage({msg:h.default.IO_ERROR,data:{type:t,info:e}})}.bind(this)),n.on(h.default.DEMUX_ERROR,function(t,e){i.postMessage({msg:h.default.DEMUX_ERROR,data:{type:t,info:e}})}.bind(this)),n.on(h.default.INIT_SEGMENT,function(t,e){t={msg:h.default.INIT_SEGMENT,data:{type:t,data:e}};i.postMessage(t,[e.data])}.bind(this)),n.on(h.default.MEDIA_SEGMENT,function(t,e){t={msg:h.default.MEDIA_SEGMENT,data:{type:t,data:e}};i.postMessage(t,[e.data])}.bind(this)),n.on(h.default.LOADING_COMPLETE,function(){var t={msg:h.default.LOADING_COMPLETE};i.postMessage(t)}.bind(this)),n.on(h.default.RECOVERED_EARLY_EOF,function(){var t={msg:h.default.RECOVERED_EARLY_EOF};i.postMessage(t)}.bind(this)),n.on(h.default.MEDIA_INFO,function(t){t={msg:h.default.MEDIA_INFO,data:t};i.postMessage(t)}.bind(this)),n.on(h.default.STATISTICS_INFO,function(t){t={msg:h.default.STATISTICS_INFO,data:t};i.postMessage(t)}.bind(this)),n.on(h.default.RECOMMEND_SEEKPOINT,function(t){i.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:t})}.bind(this));break;case"destroy":n&&(n.destroy(),n=null),i.postMessage({msg:"destroyed"});break;case"start":n.start();break;case"stop":n.stop();break;case"seek":n.seek(t.data.param);break;case"pause":n.pause();break;case"resume":n.resume();break;case"logging_config":var e=t.data.param;o.default.applyConfig(e),!0===e.enableCallback?o.default.addLogListener(a):o.default.removeLogListener(a)}})}},{"../utils/logger.js":41,"../utils/logging-control.js":42,"../utils/polyfill.js":43,"./transmuxing-controller.js":12,"./transmuxing-events.js":13}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=r(t("../utils/logger.js")),o=r(t("../utils/utf8-conv.js")),y=t("../utils/exception.js");function r(t){return t&&t.__esModule?t:{default:t}}t=new ArrayBuffer(2),new DataView(t).setInt16(0,256,!0);var P=256===new Int16Array(t)[0],t=(n(S,null,[{key:"parseScriptData",value:function(t,e,i){var n={};try{var a=S.parseValue(t,e,i),o=S.parseValue(t,e+a.size,i-a.size);n[a.data]=o.data}catch(t){v.default.e("AMF",t.toString())}return n}},{key:"parseObject",value:function(t,e,i){if(i<3)throw new y.IllegalStateException("Data not enough when parse ScriptDataObject");var n=S.parseString(t,e,i),t=S.parseValue(t,e+n.size,i-n.size),e=t.objectEnd;return{data:{name:n.data,value:t.data},size:n.size+t.size,objectEnd:e}}},{key:"parseVariable",value:function(t,e,i){return S.parseObject(t,e,i)}},{key:"parseString",value:function(t,e,i){if(i<2)throw new y.IllegalStateException("Data not enough when parse String");i=new DataView(t,e,i).getUint16(0,!P);return{data:0<i?(0,o.default)(new Uint8Array(t,e+2,i)):"",size:2+i}}},{key:"parseLongString",value:function(t,e,i){if(i<4)throw new y.IllegalStateException("Data not enough when parse LongString");i=new DataView(t,e,i).getUint32(0,!P);return{data:0<i?(0,o.default)(new Uint8Array(t,e+4,i)):"",size:4+i}}},{key:"parseDate",value:function(t,e,i){if(i<10)throw new y.IllegalStateException("Data size invalid when parse Date");t=new DataView(t,e,i),e=t.getFloat64(0,!P);return e+=60*t.getInt16(8,!P)*1e3,{data:new Date(e),size:10}}},{key:"parseValue",value:function(t,e,i){if(i<1)throw new y.IllegalStateException("Data not enough when parse Value");var n=new DataView(t,e,i),a=1,o=n.getUint8(0),r=void 0,s=!1;try{switch(o){case 0:r=n.getFloat64(1,!P),a+=8;break;case 1:r=!!n.getUint8(1);a+=1;break;case 2:var h=S.parseString(t,e+1,i-1);r=h.data,a+=h.size;break;case 3:r={};var l=0;for(9==(16777215&n.getUint32(i-4,!P))&&(l=3);a<i-4;){var c=S.parseObject(t,e+a,i-a-l);if(c.objectEnd)break;r[c.data.name]=c.data.value,a+=c.size}a<=i-3&&9==(16777215&n.getUint32(a-1,!P))&&(a+=3);break;case 8:r={},a+=4;var u=0;for(9==(16777215&n.getUint32(i-4,!P))&&(u=3);a<i-8;){var d=S.parseVariable(t,e+a,i-a-u);if(d.objectEnd)break;r[d.data.name]=d.data.value,a+=d.size}a<=i-3&&9==(16777215&n.getUint32(a-1,!P))&&(a+=3);break;case 9:a=1,s=!(r=void 0);break;case 10:r=[];var p=n.getUint32(1,!P);a+=4;for(var f=0;f<p;f++){var _=S.parseValue(t,e+a,i-a);r.push(_.data),a+=_.size}break;case 11:var m=S.parseDate(t,e+1,i-1);r=m.data,a+=m.size;break;case 12:var g=S.parseString(t,e+1,i-1);r=g.data,a+=g.size;break;default:a=i,v.default.w("AMF","Unsupported AMF value type "+o)}}catch(t){v.default.e("AMF",t.toString())}return{data:r,size:a,objectEnd:s}}}]),S);function S(){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function")}i.default=t},{"../utils/exception.js":40,"../utils/logger.js":41,"../utils/utf8-conv.js":44}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},{}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("../utils/exception.js");n(r,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var t=this._total_bytes-this._buffer_index;if(t<=0)throw new o.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,t),e=new Uint8Array(4);e.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(e.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(t){if(32<t)throw new o.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");var e,i;return t<=this._current_word_bits_left?(e=this._current_word>>>32-t,this._current_word<<=t,this._current_word_bits_left-=t,e):(e=this._current_word_bits_left?this._current_word:0,e>>>=32-this._current_word_bits_left,t=t-this._current_word_bits_left,this._fillCurrentWord(),t=Math.min(t,this._current_word_bits_left),i=this._current_word>>>32-t,this._current_word<<=t,this._current_word_bits_left-=t,e<<t|i)}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){for(var t=void 0,t=0;t<this._current_word_bits_left;t++)if(0!=(this._current_word&2147483648>>>t))return this._current_word<<=t,this._current_word_bits_left-=t,t;return this._fillCurrentWord(),t+this._skipLeadingZero()}},{key:"readUEG",value:function(){var t=this._skipLeadingZero();return this.readBits(t+1)-1}},{key:"readSEG",value:function(){var t=this.readUEG();return 1&t?t+1>>>1:-1*(t>>>1)}}]);t=r;function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.TAG="ExpGolomb",this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}i.default=t},{"../utils/exception.js":40}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t};function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=h(t("../utils/logger.js")),r=h(t("./amf-parser.js")),I=h(t("./sps-parser.js")),B=h(t("./demux-errors.js")),s=h(t("../core/media-info.js")),u=t("../utils/exception.js");function h(t){return t&&t.__esModule?t:{default:t}}a(d,[{key:"destroy",value:function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null}},{key:"attachMediaElement",value:function(t,e){this._mediaElement=t,this._mediaSource=e,"videohd"==this._mediaSource.key?this._referenceFrameRate={fixed:!0,fps:29.97,fps_num:29970,fps_den:1e3}:this._referenceFrameRate={fixed:!0,fps:10,fps_num:1e4,fps_den:1e3}}},{key:"bindDataSource",value:function(t){return t.onDataArrival=this.parseChunks.bind(this),this}},{key:"resetMediaInfo",value:function(){this._mediaInfo=new s.default}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}},{key:"parseChunks",value:function(t,e){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new u.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var i=0,n=this._littleEndian;if(0===e){if(this._firstParse=!0,!(13<t.byteLength))return 0;i=d.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,e+i!==this._dataOffset&&b.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(t,i).getUint32(0,!n)&&b.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4);i<t.byteLength;){this._dispatch=!0;var a=new DataView(t,i);if(i+11+4>t.byteLength)break;var o=a.getUint8(0),r=16777215&a.getUint32(0,!n);if(i+11+r+4>t.byteLength)break;if(8!==o&&9!==o&&18!==o)b.default.w(this.TAG,"Unsupported tag type "+o+", skipped");else{var s=a.getUint8(4),h=a.getUint8(5),l=a.getUint8(6)|h<<8|s<<16|a.getUint8(7)<<24,c=(0!=(16777215&a.getUint32(7,!n))&&b.default.w(this.TAG,"Meet tag which has StreamID != 0!"),i+11);switch(o){case 8:this._parseAudioData(t,c,r,l);break;case 9:this._vFrameCount++,this._parseVideoData(t,c,r,l,e+i);break;case 18:this._parseScriptData(t,c,r)}h=a.getUint32(11+r,!n);h!==11+r&&b.default.w(this.TAG,"Invalid PrevTagSize "+h)}i+=11+r+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i}},{key:"_parseScriptData",value:function(t,e,i){var t=r.default.parseScriptData(t,e,i);t.hasOwnProperty("onMetaData")&&(null==t.onMetaData||"object"!==n(t.onMetaData)?b.default.w(this.TAG,"Invalid onMetaData structure!"):(this._metadata&&b.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=t,"boolean"==typeof(e=this._metadata.onMetaData).hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=e.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof e.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=e.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof e.audiodatarate&&(this._mediaInfo.audioDataRate=e.audiodatarate),"number"==typeof e.videodatarate&&(this._mediaInfo.videoDataRate=e.videodatarate),"number"==typeof e.width&&(this._mediaInfo.width=e.width),"number"==typeof e.height&&(this._mediaInfo.height=e.height),"number"==typeof e.duration?this._durationOverrided||(i=Math.floor(e.duration*this._timescale),this._duration=i,this._mediaInfo.duration=i):this._mediaInfo.duration=0,"number"==typeof e.framerate&&0<(t=Math.floor(1e3*e.framerate))&&(i=t/1e3,this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=i,this._referenceFrameRate.fps_num=t,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=i),"object"===n(e.keyframes)?(this._mediaInfo.hasKeyframesIndex=!0,t=e.keyframes,this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(t),e.keyframes=null):this._mediaInfo.hasKeyframesIndex=!1,this._dispatch=!1,this._mediaInfo.metadata=e,b.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)))}},{key:"_parseKeyframesIndex",value:function(t){for(var e=[],i=[],n=1;n<t.times.length;n++){var a=this._timestampBase+Math.floor(1e3*t.times[n]);e.push(a),i.push(t.filepositions[n])}return{times:e,filepositions:i}}},{key:"_parseAudioData",value:function(t,e,i,n){var a=t,o=i;if(o<=1&&(b.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!"),(r=new Uint8Array(t.byteLength-i+7)).set(new Uint8Array(t),0),r.set([175,0,18,16,86,229,0,0,0,0,18],e),a=r.buffer,o=7),!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var r=new DataView(a,e,o).getUint8(0),s=r>>>4;if(2!=s&&10!=s)this._onError(B.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+s);else{var h=0,l=(12&r)>>>2;if(0<=l&&l<=4){var h=this._flvSoundRateTable[l],r=1&r,c=this._audioMetadata,u=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={type:"audio"}).id=u.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=h,c.channelCount=0==r?1:2),10==s){h=this._parseAACAudioData(a,e+1,o-1);null!=h&&(0===h.packetType?(c.config&&b.default.w(this.TAG,"Found another AudioSpecificConfig!"),r=h.data,c.audioSampleRate=r.samplingRate,c.channelCount=r.channelCount,c.codec=r.codec,c.originalCodec=r.originalCodec,c.config=r.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,b.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c),(a=this._mediaInfo).audioCodec=c.originalCodec,a.audioSampleRate=c.audioSampleRate,a.audioChannelCount=c.channelCount,a.hasVideo?null!=a.videoCodec&&(a.mimeType='video/x-flv; codecs="'+a.videoCodec+","+a.audioCodec+'"'):a.mimeType='video/x-flv; codecs="'+a.audioCodec+'"',a.isComplete()&&this._onMediaInfo(a)):1===h.packetType?(o=this._timestampBase+n,r={unit:h.data,length:h.data.byteLength,dts:o,pts:o},u.samples.push(r),u.length+=h.data.length):b.default.e(this.TAG,"Flv: Unsupported AAC data type "+h.packetType))}else if(2==s){if(!c.codec){a=this._parseMP3AudioData(t,e+1,i-1,!0);if(null==a)return;c.audioSampleRate=a.samplingRate,c.channelCount=a.channelCount,c.codec=a.codec,c.originalCodec=a.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,b.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",c);o=this._mediaInfo;o.audioCodec=c.codec,o.audioSampleRate=c.audioSampleRate,o.audioChannelCount=c.channelCount,o.audioDataRate=a.bitRate,o.hasVideo?null!=o.videoCodec&&(o.mimeType='video/x-flv; codecs="'+o.videoCodec+","+o.audioCodec+'"'):o.mimeType='video/x-flv; codecs="'+o.audioCodec+'"',o.isComplete()&&this._onMediaInfo(o)}r=this._parseMP3AudioData(t,e+1,i-1,!1);null!=r&&(h=this._timestampBase+n,s={unit:r,length:r.byteLength,dts:h,pts:h},u.samples.push(s),u.length+=r.length)}}else this._onError(B.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+l)}}}},{key:"_setDefaultAACMetaData",value:function(){var t=this._audioMetadata,e=this._audioTrack,e=(t||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(t=this._audioMetadata={type:"audio"}).id=e.id,t.timescale=this._timescale,t.duration=this._duration,t.audioSampleRate=44100,t.channelCount=2),t.audioSampleRate=44100,t.channelCount=2,t.codec="mp4a.40.5",t.originalCodec="mp4a.40.2",t.config=new Array([42,530,8,0]),t.refSampleDuration=1024/t.audioSampleRate*t.timescale,b.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",t),this._mediaInfo);e.audioCodec=t.originalCodec,e.audioSampleRate=t.audioSampleRate,e.audioChannelCount=t.channelCount,e.hasVideo?null!=e.videoCodec&&(e.mimeType='video/x-flv; codecs="'+e.videoCodec+","+e.audioCodec+'"'):e.mimeType='video/x-flv; codecs="'+e.audioCodec+'"',e.isComplete()&&this._onMediaInfo(e)}},{key:"_parseAACAudioData",value:function(t,e,i){var n,a;if(!(i<=1))return n={},a=new Uint8Array(t,e,i),n.packetType=a[0],0===a[0]?n.data=this._parseAACAudioSpecificConfig(t,e+1,i-1):n.data=a.subarray(1),n;b.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")}},{key:"_parseAACAudioSpecificConfig",value:function(t,e,i){var n,a,t=new Uint8Array(t,e,i),e=null,i=0,o=null,i=n=t[0]>>>3;if((a=(7&t[0])<<1|t[1]>>>7)<0||a>=this._mpegSamplingRates.length)this._onError(B.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var r=this._mpegSamplingRates[a],s=(120&t[1])>>>3;if(!(s<0||8<=s))return 5===i&&(o=(7&t[1])<<1|t[2]>>>7,t[2]),-1!==(t=self.navigator.userAgent.toLowerCase()).indexOf("firefox")?o=6<=a?(i=5,e=new Array(4),a-3):(i=2,e=new Array(2),a):-1!==t.indexOf("android")?(i=2,e=new Array(2),o=a):(i=5,o=a,e=new Array(4),6<=a?o=a-3:1==s&&(i=2,e=new Array(2),o=a)),e[0]=i<<3,e[0]|=(15&a)>>>1,e[1]=(15&a)<<7,e[1]|=(15&s)<<3,5===i&&(e[1]|=(15&o)>>>1,e[2]=(1&o)<<7,e[2]|=8,e[3]=0),{config:e,samplingRate:r,channelCount:s,codec:"mp4a.40."+i,originalCodec:"mp4a.40."+n};this._onError(B.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}}},{key:"_parseMP3AudioData",value:function(t,e,i,n){if(!(i<4)){this._littleEndian;t=new Uint8Array(t,e,i),e=null;if(n){if(255!==t[0])return;var i=t[1]>>>3&3,n=(6&t[1])>>1,a=(240&t[2])>>>4,o=(12&t[2])>>>2,r=3!=(t[3]>>>6&3)?2:1,s=0,h=0;switch(i){case 0:s=this._mpegAudioV25SampleRateTable[o];break;case 2:s=this._mpegAudioV20SampleRateTable[o];break;case 3:s=this._mpegAudioV10SampleRateTable[o]}switch(n){case 1:a<this._mpegAudioL3BitRateTable.length&&(h=this._mpegAudioL3BitRateTable[a]);break;case 2:a<this._mpegAudioL2BitRateTable.length&&(h=this._mpegAudioL2BitRateTable[a]);break;case 3:a<this._mpegAudioL1BitRateTable.length&&(h=this._mpegAudioL1BitRateTable[a])}e={bitRate:h,samplingRate:s,channelCount:r,codec:"mp3",originalCodec:"mp3"}}else e=t;return e}b.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")}},{key:"_parseVideoData",value:function(t,e,i,n,a){var o,r;i<=1?b.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!"):!0===this._hasVideoFlagOverrided&&!1===this._hasVideo||(o=(240&(r=new Uint8Array(t,e,i)[0]))>>>4,7!=(r=15&r)?this._onError(B.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+r):this._parseAVCVideoPacket(t,e+1,i-1,n,a,o))}},{key:"_parseAVCVideoPacket",value:function(t,e,i,n,a,o){var r,s,h;i<4?b.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime"):(r=this._littleEndian,s=(h=new DataView(t,e,i)).getUint8(0),h=(16777215&h.getUint32(0,!r))<<8>>8,0===s?this._parseAVCDecoderConfigurationRecord(t,e+4,i-4):1===s?this._parseAVCVideoData(t,e+4,i-4,n,a,o,h):2!==s&&this._onError(B.default.FORMAT_ERROR,"Flv: Invalid video packet type "+s))}},{key:"_parseAVCDecoderConfigurationRecord",value:function(t,e,i){if(i<7)b.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var n=this._videoMetadata,a=this._videoTrack,o=this._littleEndian,r=new DataView(t,e,i),a=(n?void 0!==n.avcc&&b.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={type:"video"}).id=a.id,n.timescale=this._timescale,n.duration=this._duration),r.getUint8(0)),s=r.getUint8(1);r.getUint8(2),r.getUint8(3);if(1!==a||0===s)this._onError(B.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");else if(this._naluLengthSize=1+(3&r.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)this._onError(B.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else{var h=31&r.getUint8(5);if(0==h)this._onError(B.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");else{1<h&&b.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+h);for(var l=6,c=0;c<h;c++){var u=r.getUint16(l,!o);if(l+=2,0!==u){var d=new Uint8Array(t,e+l,u),u=(l+=u,I.default.parseSPS(d));if(0===c){n.codecWidth=u.codec_size.width,n.codecHeight=u.codec_size.height,n.presentWidth=u.present_size.width,n.presentHeight=u.present_size.height,n.profile=u.profile_string,n.level=u.level_string,n.bitDepth=u.bit_depth,n.chromaFormat=u.chroma_format,n.sarRatio=u.sar_ratio,n.frameRate=this._referenceFrameRate,!1!==u.frame_rate.fixed&&0!==u.frame_rate.fps_num&&0!==u.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);for(var p=n.frameRate.fps_den,f=n.frameRate.fps_num,_=(n.refSampleDuration=n.timescale*(p/f),d.subarray(1,4)),m="avc1.",g=0;g<3;g++){var v=_[g].toString(16);m+=v=v.length<2?"0"+v:v}n.codec=m;p=this._mediaInfo;p.width=n.codecWidth,p.height=n.codecHeight,p.fps=n.frameRate.fps,p.profile=n.profile,p.level=n.level,p.refFrames=u.ref_frames,p.chromaFormat=u.chroma_format_string,p.sarNum=n.sarRatio.width,p.sarDen=n.sarRatio.height,p.videoCodec=m,p.hasAudio?null!=p.audioCodec&&(p.mimeType='video/x-flv; codecs="'+p.videoCodec+","+p.audioCodec+'"'):p.mimeType='video/x-flv; codecs="'+p.videoCodec+'"',p.isComplete()&&this._onMediaInfo(p)}}}var y=r.getUint8(l);if(0===y)this._onError(B.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");else{1<y&&b.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+y),l++;for(var P=0;P<y;P++){var S=r.getUint16(l,!o);l+=2,0!==S&&(l+=S)}n.avcc=new Uint8Array(i),n.avcc.set(new Uint8Array(t,e,i),0),b.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}}}}}},{key:"_parseAVCVideoData",value:function(t,e,i,n,a,o,r){for(var s=this._littleEndian,h=new DataView(t,e,i),l=[],c=0,u=0,d=this._naluLengthSize,p=this._timestampBase+n,f=1===o;u<i;){if(i<=u+4){b.default.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+u+", dataSize = "+i);break}var _=h.getUint32(u,!s);if(3===d&&(_>>>=8),i-d<_)return void b.default.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var m=31&h.getUint8(u+d),g=(5==m&&(f=!0),new Uint8Array(t,e+u,d+_));l.push({type:m,data:g}),c+=g.byteLength,u+=d+_}l.length&&(n=this._videoTrack,o={units:l,length:c,isKeyframe:f,dts:p,cts:r,pts:p+r},f&&(o.fileposition=a),n.samples.push(o),n.length+=c)}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(t){this._onTrackMetadata=t}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(t){this._onMediaInfo=t}},{key:"onError",get:function(){return this._onError},set:function(t){this._onError=t}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(t){this._onDataAvailable=t}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(t){this._timestampBase=t}},{key:"overridedDuration",get:function(){return this._duration},set:function(t){this._durationOverrided=!0,this._duration=t,this._mediaInfo.duration=t}},{key:"overridedHasAudio",set:function(t){this._hasAudioFlagOverrided=!0,this._hasAudio=t,this._mediaInfo.hasAudio=t}},{key:"overridedHasVideo",set:function(t){this._hasVideoFlagOverrided=!0,this._hasVideo=t,this._mediaInfo.hasVideo=t}}],[{key:"probe",value:function(t){var e,i,n,t=new Uint8Array(t),a={match:!1};return 70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3]||(e=(4&t[4])>>>2!=0,i=0!=(1&t[4]),(t=t[n=5]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])<9)?a:{match:!0,consumed:t,dataOffset:t,hasAudioTrack:e,hasVideoTrack:i}}}]);t=d;function d(t,e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.TAG="FLVDemuxer",this._config=e,this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=t.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=t.hasAudioTrack,this._hasVideo=t.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new s.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(e=new ArrayBuffer(2),new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]),this._vFrameCount=0,this._mediaElement=null,this._mediaSource=null}i.default=t},{"../core/media-info.js":7,"../utils/exception.js":40,"../utils/logger.js":41,"./amf-parser.js":15,"./demux-errors.js":16,"./sps-parser.js":19}],19:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var t=t("./exp-golomb.js"),T=(t=t)&&t.__esModule?t:{default:t};n(x,null,[{key:"_ebsp2rbsp",value:function(t){for(var e=t,i=e.byteLength,n=new Uint8Array(i),a=0,o=0;o<i;o++)2<=o&&3===e[o]&&0===e[o-1]&&0===e[o-2]||(n[a]=e[o],a++);return new Uint8Array(n.buffer,0,a)}},{key:"parseSPS",value:function(t){var t=x._ebsp2rbsp(t),e=new T.default(t),t=(e.readByte(),e.readByte()),i=(e.readByte(),e.readByte()),n=(e.readUEG(),x.getProfileString(t)),i=x.getLevelString(i),a=1,o=420,r=8;if((100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t||138===t||144===t)&&(3===(a=e.readUEG())&&e.readBits(1),a<=3&&(o=[0,420,422,444][a]),r=e.readUEG()+8,e.readUEG(),e.readBits(1),e.readBool()))for(var s=3!==a?8:12,h=0;h<s;h++)e.readBool()&&x._skipScalingList(e,h<6?16:64);e.readUEG();t=e.readUEG();if(0===t)e.readUEG();else if(1===t){e.readBits(1),e.readSEG(),e.readSEG();for(var l=e.readUEG(),c=0;c<l;c++)e.readSEG()}var t=e.readUEG(),u=(e.readBits(1),e.readUEG()),d=e.readUEG(),p=e.readBits(1),f=(0===p&&e.readBits(1),e.readBits(1),0),_=0,m=0,g=0,v=(e.readBool()&&(f=e.readUEG(),_=e.readUEG(),m=e.readUEG(),g=e.readUEG()),1),y=1,P=0,S=!0,b=0,I=0,B=(e.readBool()&&(e.readBool()&&(0<(C=e.readByte())&&C<16?(v=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][C-1],y=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][C-1]):255===C&&(v=e.readByte()<<8|e.readByte(),y=e.readByte()<<8|e.readByte())),e.readBool()&&e.readBool(),e.readBool()&&(e.readBits(4),e.readBool())&&e.readBits(24),e.readBool()&&(e.readUEG(),e.readUEG()),e.readBool())&&(C=e.readBits(32),B=e.readBits(32),S=e.readBool(),P=(b=B)/(I=2*C)),1),C=(1===v&&1===y||(B=v/y),0),k=0,a=(k=0===a?(C=1,2-p):(C=3===a?1:2,(1===a?2:1)*(2-p)),16*(u+1)),u=16*(d+1)*(2-p),d=(a-=(f+_)*C,u-=(m+g)*k,Math.ceil(a*B));return e.destroy(),e=null,{profile_string:n,level_string:i,bit_depth:r,ref_frames:t,chroma_format:o,chroma_format_string:x.getChromaFormatString(o),frame_rate:{fixed:S,fps:P,fps_den:I,fps_num:b},sar_ratio:{width:v,height:y},codec_size:{width:a,height:u},present_size:{width:d,height:u}}}},{key:"_skipScalingList",value:function(t,e){for(var i=8,n=8,a=0;a<e;a++)i=0===(n=0!==n?(i+t.readSEG()+256)%256:n)?i:n}},{key:"getProfileString",value:function(t){switch(t){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(t){return(t/10).toFixed(1)}},{key:"getChromaFormatString",value:function(t){switch(t){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]);t=x;function x(){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function")}i.default=t},{"./exp-golomb.js":17}],20:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=d(t("./utils/polyfill.js")),o=d(t("./core/features.js")),r=d(t("./player/flv-player.js")),s=d(t("./player/native-player.js")),h=d(t("./player/player-events.js")),l=t("./player/player-errors.js"),c=d(t("./utils/logging-control.js")),u=t("./utils/exception.js");function d(t){return t&&t.__esModule?t:{default:t}}a.default.install();t={createPlayer:function(t,e){if(null==t||"object"!==(void 0===t?"undefined":n(t)))throw new u.InvalidArgumentException("MediaDataSource must be an javascript object!");if(t.hasOwnProperty("type"))return new("flv"!==t.type?s:r).default(t,e);throw new u.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!")},isSupported:function(){return o.default.supportMSEH264Playback()},getFeatureList:function(){return o.default.getFeatureList()}};t.Events=h.default,t.ErrorTypes=l.ErrorTypes,t.ErrorDetails=l.ErrorDetails,t.FlvPlayer=r.default,t.NativePlayer=s.default,t.LoggingControl=c.default,Object.defineProperty(t,"version",{enumerable:!0,get:function(){return"1.4.2"}}),i.default=t},{"./core/features.js":6,"./player/flv-player.js":32,"./player/native-player.js":33,"./player/player-errors.js":34,"./player/player-events.js":35,"./utils/exception.js":40,"./utils/logging-control.js":42,"./utils/polyfill.js":43}],21:[function(t,e,i){"use strict";e.exports=t("./flv.js").default},{"./flv.js":20}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}s(t("../utils/logger.js"));var r=s(t("../utils/browser.js")),l=t("./loader.js"),c=t("../utils/exception.js");function s(t){return t&&t.__esModule?t:{default:t}}t=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){var i;if(this instanceof n)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"fetch-stream-loader"))).TAG="FetchStreamLoader",i._seekHandler=t,i._config=e,i._needStash=!0,i._requestAbort=!1,i._contentLength=null,i._receivedLength=0,i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,null,[{key:"isSupported",value:function(){try{var t=r.default.msedge&&15048<=r.default.version.minor,e=!r.default.msedge||t;return self.fetch&&self.ReadableStream&&e}catch(t){return!1}}}]),o(n,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"open",value:function(t,e){var i=this,n=(this._dataSource=t,this._range=e,t.url),a=(this._config.reuseRedirectedURL&&null!=t.redirectedURL&&(n=t.redirectedURL),this._seekHandler.getConfig(n,e)),o=new self.Headers;if("object"===h(a.headers)){var r,s=a.headers;for(r in s)s.hasOwnProperty(r)&&o.append(r,s[r])}n={method:"GET",headers:o,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};!1===t.cors&&(n.mode="same-origin"),t.withCredentials&&(n.credentials="include"),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),this._status=l.LoaderStatus.kConnecting,self.fetch(a.url,n).then(function(t){if(i._requestAbort)i._requestAbort=!1,i._status=l.LoaderStatus.kIdle;else{var e;if(t.ok&&200<=t.status&&t.status<=299)return t.url!==a.url&&i._onURLRedirect&&(e=i._seekHandler.removeURLParameters(t.url),i._onURLRedirect(e)),null!=(e=t.headers.get("Content-Length"))&&(i._contentLength=parseInt(e),0!==i._contentLength)&&i._onContentLengthKnown&&i._onContentLengthKnown(i._contentLength),i._pump.call(i,t.body.getReader());if(i._status=l.LoaderStatus.kError,!i._onError)throw new c.RuntimeException("FetchStreamLoader: Http code invalid, "+t.status+" "+t.statusText);i._onError(l.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}).catch(function(t){if(i._status=l.LoaderStatus.kError,!i._onError)throw t;i._onError(l.LoaderErrors.EXCEPTION,{code:-1,msg:t.message})})}},{key:"abort",value:function(){this._requestAbort=!0}},{key:"_pump",value:function(n){var a=this;return n.read().then(function(t){if(t.done)if(null!==a._contentLength&&a._receivedLength<a._contentLength){a._status=l.LoaderStatus.kError;var e=l.LoaderErrors.EARLY_EOF,i={code:-1,msg:"Fetch stream meet Early-EOF"};if(!a._onError)throw new c.RuntimeException(i.msg);a._onError(e,i)}else a._status=l.LoaderStatus.kComplete,a._onComplete&&a._onComplete(a._range.from,a._range.from+a._receivedLength-1);else{if(!0===a._requestAbort)return a._requestAbort=!1,a._status=l.LoaderStatus.kComplete,n.cancel();a._status=l.LoaderStatus.kBuffering;e=t.value.buffer,i=a._range.from+a._receivedLength;a._receivedLength+=e.byteLength,a._onDataArrival&&a._onDataArrival(e,i,a._receivedLength),a._pump(n)}}).catch(function(t){if(11!==t.code||!r.default.msedge){a._status=l.LoaderStatus.kError;var e=0,i=null,i=19!==t.code&&"network error"!==t.message||!(null===a._contentLength||null!==a._contentLength&&a._receivedLength<a._contentLength)?(e=l.LoaderErrors.EXCEPTION,{code:t.code,msg:t.message}):(e=l.LoaderErrors.EARLY_EOF,{code:t.code,msg:"Fetch stream meet Early-EOF"});if(!a._onError)throw new c.RuntimeException(i.msg);a._onError(e,i)}})}}]),n}(l.BaseLoader);i.default=t},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],23:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=_(t("../utils/logger.js")),r=_(t("./speed-sampler.js")),s=t("./loader.js"),h=_(t("./fetch-stream-loader.js")),l=_(t("./xhr-moz-chunked-loader.js")),c=(_(t("./xhr-msstream-loader.js")),_(t("./xhr-range-loader.js"))),u=_(t("./websocket-loader.js")),d=_(t("./range-seek-handler.js")),p=_(t("./param-seek-handler.js")),f=t("../utils/exception.js");function _(t){return t&&t.__esModule?t:{default:t}}n(m,[{key:"destroy",value:function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}},{key:"isWorking",value:function(){return this._loader&&this._loader.isWorking()&&!this._paused}},{key:"isPaused",value:function(){return this._paused}},{key:"_selectSeekHandler",value:function(){var t=this._config;if("range"===t.seekType)this._seekHandler=new d.default(this._config.rangeLoadZeroStart);else if("param"===t.seekType){var e=t.seekParamStart||"bstart",i=t.seekParamEnd||"bend";this._seekHandler=new p.default(e,i)}else{if("custom"!==t.seekType)throw new f.InvalidArgumentException("Invalid seekType in config: "+t.seekType);if("function"!=typeof t.customSeekHandler)throw new f.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new t.customSeekHandler}}},{key:"_selectLoader",value:function(){if(this._isWebSocketURL)this._loaderClass=u.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(l.default.isSupported())this._loaderClass=l.default;else{if(!c.default.isSupported())throw new f.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=c.default}}},{key:"_createLoader",value:function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}},{key:"open",value:function(t){this._currentRange={from:0,to:-1},t&&(this._currentRange.from=t),this._speedSampler.reset(),t||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}},{key:"abort",value:function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}},{key:"pause",value:function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}},{key:"resume",value:function(){var t;this._paused&&(this._paused=!1,t=this._resumeFrom,this._resumeFrom=0,this._internalSeek(t,!0))}},{key:"seek",value:function(t){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(t,!0)}},{key:"_internalSeek",value:function(t,e){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(e),this._loader.destroy(),this._loader=null;e={from:t,to:-1};this._currentRange={from:e.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,e),this._onSeeked&&this._onSeeked()}},{key:"updateUrl",value:function(t){if(!t||"string"!=typeof t||0===t.length)throw new f.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=t}},{key:"_expandBuffer",value:function(t){for(var e,i,n=this._stashSize;n+1048576<t;)n*=2;(n+=1048576)!==this._bufferSize&&(e=new ArrayBuffer(n),0<this._stashUsed&&(i=new Uint8Array(this._stashBuffer,0,this._stashUsed),new Uint8Array(e,0,n).set(i,0)),this._stashBuffer=e,this._bufferSize=n)}},{key:"_normalizeSpeed",value:function(t){var e,i=this._speedNormalizeList,n=i.length-1,a=0,o=n;if(t<i[0])return i[0];for(;a<=o;){if((e=a+Math.floor((o-a)/2))===n||t>=i[e]&&t<i[e+1])return i[e];i[e]<t?a=e+1:o=e-1}}},{key:"_adjustStashSize",value:function(t){var e=0,t=1024*(e=8192<(e=this._config.isLive||t<512?t:512<=t&&t<=1024?Math.floor(1.5*t):2*t)?8192:e)+1048576;this._bufferSize<t&&this._expandBuffer(t),this._stashSize=1024*e}},{key:"_dispatchChunks",value:function(t,e){return this._currentRange.to=e+t.byteLength-1,this._onDataArrival(t,e)}},{key:"_onURLRedirect",value:function(t){this._redirectedURL=t,this._onRedirect&&this._onRedirect(t)}},{key:"_onContentLengthKnown",value:function(t){t&&this._fullRequestFlag&&(this._totalLength=t,this._fullRequestFlag=!1)}},{key:"_onLoaderChunkArrival",value:function(t,e,i){if(!this._onDataArrival)throw new f.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");var n,a,o;this._paused||(this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof)&&this._onRecoveredEarlyEof(),this._speedSampler.addBytes(t.byteLength),0!==(n=this._speedSampler.lastSecondKBps)&&(n=this._normalizeSpeed(n),this._speedNormalized!==n)&&(this._speedNormalized=n,this._adjustStashSize(n)),this._enableStash?(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=e),this._stashUsed+t.byteLength<=this._stashSize?(new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength):(n=new Uint8Array(this._stashBuffer,0,this._bufferSize),0<this._stashUsed?(a=this._stashBuffer.slice(0,this._stashUsed),(o=this._dispatchChunks(a,this._stashByteStart))<a.byteLength?0<o&&(a=new Uint8Array(a,o),n.set(a,0),this._stashUsed=a.byteLength,this._stashByteStart+=o):(this._stashUsed=0,this._stashByteStart+=o),this._stashUsed+t.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+t.byteLength),n=new Uint8Array(this._stashBuffer,0,this._bufferSize)),n.set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength):(a=this._dispatchChunks(t,e))<t.byteLength&&((o=t.byteLength-a)>this._bufferSize&&(this._expandBuffer(o),n=new Uint8Array(this._stashBuffer,0,this._bufferSize)),n.set(new Uint8Array(t,a),0),this._stashUsed+=o,this._stashByteStart=e+a))):0===this._stashUsed?(n=this._dispatchChunks(t,e))<t.byteLength&&((o=t.byteLength-n)>this._bufferSize&&this._expandBuffer(o),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(t,n),0),this._stashUsed+=o,this._stashByteStart=e+n):(this._stashUsed+t.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+t.byteLength),(a=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(t),this._stashUsed),this._stashUsed+=t.byteLength,(o=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&0<o&&(e=new Uint8Array(this._stashBuffer,o),a.set(e,0)),this._stashUsed-=o,this._stashByteStart+=o))}},{key:"_flushStashBuffer",value:function(t){if(0<this._stashUsed){var e=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(e,this._stashByteStart),n=e.byteLength-i;if(i<e.byteLength){if(!t)return 0<i&&(t=new Uint8Array(this._stashBuffer,0,this._bufferSize),e=new Uint8Array(e,i),t.set(e,0),this._stashUsed=e.byteLength,this._stashByteStart+=i),0;o.default.w(this.TAG,n+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,n}return 0}},{key:"_onLoaderComplete",value:function(t,e){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}},{key:"_onLoaderError",value:function(t,e){switch(o.default.e(this.TAG,"Loader error, code = "+e.code+", msg = "+e.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,t=s.LoaderErrors.UNRECOVERABLE_EARLY_EOF),t){case s.LoaderErrors.EARLY_EOF:var i;if(!this._config.isLive)if(this._totalLength)return void((i=this._currentRange.to+1)<this._totalLength&&(o.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(i,!1)));t=s.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case s.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case s.LoaderErrors.CONNECTING_TIMEOUT:case s.LoaderErrors.HTTP_STATUS_CODE_INVALID:case s.LoaderErrors.EXCEPTION:}if(!this._onError)throw new f.RuntimeException("IOException: "+e.msg);this._onError(t,e)}},{key:"status",get:function(){return this._loader.status}},{key:"extraData",get:function(){return this._extraData},set:function(t){this._extraData=t}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(t){this._onDataArrival=t}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(t){this._onSeeked=t}},{key:"onError",get:function(){return this._onError},set:function(t){this._onError=t}},{key:"onComplete",get:function(){return this._onComplete},set:function(t){this._onComplete=t}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(t){this._onRedirect=t}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(t){this._onRecoveredEarlyEof=t}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===c.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"loaderType",get:function(){return this._loader.type}}]);t=m;function m(t,e,i){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.TAG="IOController",this._config=e,this._extraData=i,this._stashInitialSize=393216,null!=e.stashInitialSize&&0<e.stashInitialSize&&(this._stashInitialSize=e.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,!(this._enableStash=!0)===e.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(t.url)||"ws://"==t.url,this._refTotalLength=t.filesize||null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new r.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}i.default=t},{"../utils/exception.js":40,"../utils/logger.js":41,"./fetch-stream-loader.js":22,"./loader.js":24,"./param-seek-handler.js":25,"./range-seek-handler.js":26,"./speed-sampler.js":27,"./websocket-loader.js":28,"./xhr-moz-chunked-loader.js":29,"./xhr-msstream-loader.js":30,"./xhr-range-loader.js":31}],24:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseLoader=i.LoaderErrors=i.LoaderStatus=void 0;var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("../utils/exception.js");var r=i.LoaderStatus={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4};i.LoaderErrors={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},i.BaseLoader=(n(s,[{key:"destroy",value:function(){this._status=r.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}},{key:"isWorking",value:function(){return this._status===r.kConnecting||this._status===r.kBuffering}},{key:"open",value:function(t,e){throw new o.NotImplementedException("Unimplemented abstract function!")}},{key:"abort",value:function(){throw new o.NotImplementedException("Unimplemented abstract function!")}},{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(t){this._onContentLengthKnown=t}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(t){this._onURLRedirect=t}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(t){this._onDataArrival=t}},{key:"onError",get:function(){return this._onError},set:function(t){this._onError=t}},{key:"onComplete",get:function(){return this._onComplete},set:function(t){this._onComplete=t}}]),s);function s(t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._type=t||"undefined",this._status=r.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}},{"../utils/exception.js":40}],25:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._startName=t,this._endName=e}Object.defineProperty(i,"__esModule",{value:!0}),function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(a,[{key:"getConfig",value:function(t,e){var i;return 0===e.from&&-1===e.to||(i=!0,-1===t.indexOf("?")&&(t+="?",i=!1),i&&(t+="&"),t+=this._startName+"="+e.from.toString(),-1!==e.to&&(t+="&"+this._endName+"="+e.to.toString())),{url:t,headers:{}}}},{key:"removeURLParameters",value:function(t){var e=t.split("?")[0],i=void 0,n=t.indexOf("?"),a="";if(null!=(i=-1!==n?t.substring(n+1):i)&&0<i.length)for(var o=i.split("&"),r=0;r<o.length;r++){var s=o[r].split("=");s[0]!==this._startName&&s[0]!==this._endName&&(0<r&&(a+="&"),a+=o[r])}return 0===a.length?e:e+"?"+a}}]),i.default=a},{}],26:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(i,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(o,[{key:"getConfig",value:function(t,e){var i,n={};return 0!==e.from||-1!==e.to?(i=void 0,i=-1!==e.to?"bytes="+e.from.toString()+"-"+e.to.toString():"bytes="+e.from.toString()+"-",n.Range=i):this._zeroStart&&(n.Range="bytes=0-"),{url:t,headers:n}}},{key:"removeURLParameters",value:function(t){return t}}]);var a=o;function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._zeroStart=t||!1}i.default=a},{}],27:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}Object.defineProperty(i,"__esModule",{value:!0}),function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(a,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(t){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=t,this._totalBytes+=t):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=t,this._totalBytes+=t):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=t,this._totalBytes+=t,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var t=(this._now()-this._lastCheckpoint)/1e3;return this._intervalBytes/(t=0==t?1:t)/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:500<=this._now()-this._lastCheckpoint?this.currentKBps:0}},{key:"averageKBps",get:function(){var t=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/t/1024}}]),i.default=a},{}],28:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var n=function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t};function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=t("../utils/logger.js"),s=((r=r)&&r.__esModule,t("./loader.js")),h=t("../utils/exception.js");r=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"websocket-loader"))).TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,null,[{key:"isSupported",value:function(){try{return void 0!==self.WebSocket}catch(t){return!1}}}]),n(i,[{key:"destroy",value:function(){this._ws&&this.abort(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"destroy",this).call(this)}},{key:"open",value:function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=s.LoaderStatus.kConnecting}catch(t){this._status=s.LoaderStatus.kError;e={code:t.code,msg:t.message};if(!this._onError)throw new h.RuntimeException(e.msg);this._onError(s.LoaderErrors.EXCEPTION,e)}}},{key:"abort",value:function(){var t=this._ws;!t||0!==t.readyState&&1!==t.readyState||(this._requestAbort=!0,t.close()),this._ws=null,this._status=s.LoaderStatus.kComplete}},{key:"_onWebSocketOpen",value:function(t){this._status=s.LoaderStatus.kBuffering}},{key:"_onWebSocketClose",value:function(t){!0===this._requestAbort?this._requestAbort=!1:(this._status=s.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1))}},{key:"_onSendMessage",value:function(t){var e=this;if(t instanceof ArrayBuffer)this._dispatchArrayBuffer(t);else if(t.data instanceof Blob){var i=new FileReader;i.onload=function(){e._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(t.data)}else{this._status=s.LoaderStatus.kError;t={code:-1,msg:"Unsupported WebSocket message type: "+t.data.constructor.name};if(!this._onError)throw new h.RuntimeException(t.msg);this._onError(s.LoaderErrors.EXCEPTION,t)}}},{key:"_onWebSocketMessage",value:function(t){var e=this;if(t.data instanceof ArrayBuffer)this._dispatchArrayBuffer(t.data);else if(t.data instanceof Blob){var i=new FileReader;i.onload=function(){e._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(t.data)}else{this._status=s.LoaderStatus.kError;t={code:-1,msg:"Unsupported WebSocket message type: "+t.data.constructor.name};if(!this._onError)throw new h.RuntimeException(t.msg);this._onError(s.LoaderErrors.EXCEPTION,t)}}},{key:"_dispatchArrayBuffer",value:function(t){var e=this._receivedLength,i=(this._receivedLength+=t.byteLength,new Uint8Array(t));70==i[0]&&76==i[1]&&86==i[2]&&(e=0,this._receivedLength=t.byteLength),this._onDataArrival&&this._onDataArrival(t,e,this._receivedLength)}},{key:"_onWebSocketError",value:function(t){this._status=s.LoaderStatus.kError;t={code:t.code,msg:t.message};if(!this._onError)throw new h.RuntimeException(t.msg);this._onError(s.LoaderErrors.EXCEPTION,t)}}]),i}(s.BaseLoader);i.default=r},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],29:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=t("../utils/logger.js"),h=(s=s)&&s.__esModule?s:{default:s},l=t("./loader.js"),c=t("../utils/exception.js");s=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){var i;if(this instanceof n)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"xhr-moz-chunked-loader"))).TAG="MozChunkedLoader",i._seekHandler=t,i._config=e,i._needStash=!0,i._xhr=null,i._requestAbort=!1,i._contentLength=null,i._receivedLength=0,i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,null,[{key:"isSupported",value:function(){try{var t=new XMLHttpRequest;return t.open("GET","https://example.com",!0),(t.responseType="moz-chunked-arraybuffer")===t.responseType}catch(t){return h.default.w("MozChunkedLoader",t.message),!1}}}]),o(n,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"open",value:function(t,e){this._dataSource=t,this._range=e;var i=t.url,i=(this._config.reuseRedirectedURL&&null!=t.redirectedURL&&(i=t.redirectedURL),this._seekHandler.getConfig(i,e)),n=(this._requestURL=i.url,this._xhr=new XMLHttpRequest);if(n.open("GET",i.url,!0),n.responseType="moz-chunked-arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onloadend=this._onLoadEnd.bind(this),n.onerror=this._onXhrError.bind(this),t.withCredentials&&(n.withCredentials=!0),"object"===r(i.headers)){var a,o=i.headers;for(a in o)o.hasOwnProperty(a)&&n.setRequestHeader(a,o[a])}this._status=l.LoaderStatus.kConnecting,n.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=l.LoaderStatus.kComplete}},{key:"_onReadyStateChange",value:function(t){var e,t=t.target;if(2===t.readyState)if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect&&(e=this._seekHandler.removeURLParameters(t.responseURL),this._onURLRedirect(e)),0!==t.status&&(t.status<200||299<t.status)){if(this._status=l.LoaderStatus.kError,!this._onError)throw new c.RuntimeException("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(l.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=l.LoaderStatus.kBuffering}},{key:"_onProgress",value:function(t){var e;this._status!==l.LoaderStatus.kError&&(null===this._contentLength&&null!==t.total&&0!==t.total&&(this._contentLength=t.total,this._onContentLengthKnown)&&this._onContentLengthKnown(this._contentLength),t=t.target.response,e=this._range.from+this._receivedLength,this._receivedLength+=t.byteLength,this._onDataArrival)&&this._onDataArrival(t,e,this._receivedLength)}},{key:"_onLoadEnd",value:function(t){!0===this._requestAbort?this._requestAbort=!1:this._status!==l.LoaderStatus.kError&&(this._status=l.LoaderStatus.kComplete,this._onComplete)&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)}},{key:"_onXhrError",value:function(t){this._status=l.LoaderStatus.kError;var e=0,i=null,i=this._contentLength&&t.loaded<this._contentLength?(e=l.LoaderErrors.EARLY_EOF,{code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(e=l.LoaderErrors.EXCEPTION,{code:-1,msg:t.constructor.name+" "+t.type});if(!this._onError)throw new c.RuntimeException(i.msg);this._onError(e,i)}}]),n}(l.BaseLoader);i.default=s},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=t("../utils/logger.js"),h=(s=s)&&s.__esModule?s:{default:s},l=t("./loader.js"),c=t("../utils/exception.js");s=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){var i;if(this instanceof n)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"xhr-msstream-loader"))).TAG="MSStreamLoader",i._seekHandler=t,i._config=e,i._needStash=!0,i._xhr=null,i._reader=null,i._totalRange=null,i._currentRange=null,i._currentRequestURL=null,i._currentRedirectedURL=null,i._contentLength=null,i._receivedLength=0,i._bufferLimit=16777216,i._lastTimeBufferSize=0,i._isReconnecting=!1,i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,null,[{key:"isSupported",value:function(){try{var t;return void 0===self.MSStream||void 0===self.MSStreamReader?!1:((t=new XMLHttpRequest).open("GET","https://example.com",!0),(t.responseType="ms-stream")===t.responseType)}catch(t){return h.default.w("MSStreamLoader",t.message),!1}}}]),o(n,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"open",value:function(t,e){this._internalOpen(t,e,!1)}},{key:"_internalOpen",value:function(t,e,i){this._dataSource=t,i?this._currentRange=e:this._totalRange=e;var i=t.url,i=(this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=t.redirectedURL&&(i=t.redirectedURL)),this._seekHandler.getConfig(i,e)),e=(this._currentRequestURL=i.url,this._reader=new self.MSStreamReader),n=(e.onprogress=this._msrOnProgress.bind(this),e.onload=this._msrOnLoad.bind(this),e.onerror=this._msrOnError.bind(this),this._xhr=new XMLHttpRequest);if(n.open("GET",i.url,!0),n.responseType="ms-stream",n.onreadystatechange=this._xhrOnReadyStateChange.bind(this),n.onerror=this._xhrOnError.bind(this),t.withCredentials&&(n.withCredentials=!0),"object"===r(i.headers)){var a,o=i.headers;for(a in o)o.hasOwnProperty(a)&&n.setRequestHeader(a,o[a])}this._isReconnecting?this._isReconnecting=!1:this._status=l.LoaderStatus.kConnecting,n.send()}},{key:"abort",value:function(){this._internalAbort(),this._status=l.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._reader&&(1===this._reader.readyState&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)}},{key:"_xhrOnReadyStateChange",value:function(t){t=t.target;if(2===t.readyState)if(200<=t.status&&t.status<=299){this._status=l.LoaderStatus.kBuffering,null!=t.responseURL&&(e=this._seekHandler.removeURLParameters(t.responseURL),t.responseURL!==this._currentRequestURL)&&e!==this._currentRedirectedURL&&(this._currentRedirectedURL=e,this._onURLRedirect)&&this._onURLRedirect(e);var e=t.getResponseHeader("Content-Length");null!=e&&null==this._contentLength&&0<(e=parseInt(e))&&(this._contentLength=e,this._onContentLengthKnown)&&this._onContentLengthKnown(this._contentLength)}else{if(this._status=l.LoaderStatus.kError,!this._onError)throw new c.RuntimeException("MSStreamLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(l.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else 3===t.readyState&&200<=t.status&&t.status<=299&&(this._status=l.LoaderStatus.kBuffering,e=t.response,this._reader.readAsArrayBuffer(e))}},{key:"_xhrOnError",value:function(t){this._status=l.LoaderStatus.kError;var e=l.LoaderErrors.EXCEPTION,t={code:-1,msg:t.constructor.name+" "+t.type};if(!this._onError)throw new c.RuntimeException(t.msg);this._onError(e,t)}},{key:"_msrOnProgress",value:function(t){var e,i,t=t.target.result;null==t?this._doReconnectIfNeeded():(e=t.slice(this._lastTimeBufferSize),this._lastTimeBufferSize=t.byteLength,i=this._totalRange.from+this._receivedLength,this._receivedLength+=e.byteLength,this._onDataArrival&&this._onDataArrival(e,i,this._receivedLength),t.byteLength>=this._bufferLimit&&(h.default.v(this.TAG,"MSStream buffer exceeded max size near "+(i+e.byteLength)+", reconnecting..."),this._doReconnectIfNeeded()))}},{key:"_doReconnectIfNeeded",value:function(){var t;(null==this._contentLength||this._receivedLength<this._contentLength)&&(this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort(),t={from:this._totalRange.from+this._receivedLength,to:-1},this._internalOpen(this._dataSource,t,!0))}},{key:"_msrOnLoad",value:function(t){this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)}},{key:"_msrOnError",value:function(t){this._status=l.LoaderStatus.kError;var e=0,i=null,i=this._contentLength&&this._receivedLength<this._contentLength?(e=l.LoaderErrors.EARLY_EOF,{code:-1,msg:"MSStream meet Early-Eof"}):(e=l.LoaderErrors.EARLY_EOF,{code:-1,msg:t.constructor.name+" "+t.type});if(!this._onError)throw new c.RuntimeException(i.msg);this._onError(e,i)}}]),n}(l.BaseLoader);i.default=s},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],31:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=u(t("../utils/logger.js")),h=u(t("./speed-sampler.js")),l=t("./loader.js"),c=t("../utils/exception.js");function u(t){return t&&t.__esModule?t:{default:t}}t=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){var i;if(this instanceof n)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"xhr-range-loader"))).TAG="RangeLoader",i._seekHandler=t,i._config=e,i._needStash=!1,i._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],i._currentChunkSizeKB=384,i._currentSpeedNormalized=0,i._zeroSpeedChunkCount=0,i._xhr=null,i._speedSampler=new h.default,i._requestAbort=!1,i._waitForTotalLength=!1,i._totalLengthReceived=!1,i._currentRequestURL=null,i._currentRedirectedURL=null,i._currentRequestRange=null,i._totalLength=null,i._contentLength=null,i._receivedLength=0,i._lastTimeLoaded=0,i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,null,[{key:"isSupported",value:function(){try{var t=new XMLHttpRequest;return t.open("GET","https://example.com",!0),(t.responseType="arraybuffer")===t.responseType}catch(t){return s.default.w("RangeLoader",t.message),!1}}}]),o(n,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"open",value:function(t,e){this._dataSource=t,this._range=e,this._status=l.LoaderStatus.kConnecting;t=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(t=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||t?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}},{key:"_openSubRange",value:function(){var t=1024*this._currentChunkSizeKB,e=this._range.from+this._receivedLength,t=e+t;null!=this._contentLength&&t-this._range.from>=this._contentLength&&(t=this._range.from+this._contentLength-1),this._currentRequestRange={from:e,to:t},this._internalOpen(this._dataSource,this._currentRequestRange)}},{key:"_internalOpen",value:function(t,e){this._lastTimeLoaded=0;var i=t.url,i=(this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=t.redirectedURL&&(i=t.redirectedURL)),this._seekHandler.getConfig(i,e)),n=(this._currentRequestURL=i.url,this._xhr=new XMLHttpRequest);if(n.open("GET",i.url,!0),n.responseType="arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onload=this._onLoad.bind(this),n.onerror=this._onXhrError.bind(this),t.withCredentials&&(n.withCredentials=!0),"object"===r(i.headers)){var a,o=i.headers;for(a in o)o.hasOwnProperty(a)&&n.setRequestHeader(a,o[a])}n.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._internalAbort(),this._status=l.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}},{key:"_onReadyStateChange",value:function(t){var e,t=t.target;if(2===t.readyState)if(null!=t.responseURL&&(e=this._seekHandler.removeURLParameters(t.responseURL),t.responseURL!==this._currentRequestURL)&&e!==this._currentRedirectedURL&&(this._currentRedirectedURL=e,this._onURLRedirect)&&this._onURLRedirect(e),200<=t.status&&t.status<=299)this._waitForTotalLength||(this._status=l.LoaderStatus.kBuffering);else{if(this._status=l.LoaderStatus.kError,!this._onError)throw new c.RuntimeException("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(l.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},{key:"_onProgress",value:function(t){if(this._status!==l.LoaderStatus.kError){if(null===this._contentLength){var e=!1;if(this._waitForTotalLength&&(this._waitForTotalLength=!1,e=this._totalLengthReceived=!0,i=t.total,this._internalAbort(),null!=i&0!==i)&&(this._totalLength=i),-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,e)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var i=t.loaded-this._lastTimeLoaded;this._lastTimeLoaded=t.loaded,this._speedSampler.addBytes(i)}}},{key:"_normalizeSpeed",value:function(t){var e,i=this._chunkSizeKBList,n=i.length-1,a=0,o=n;if(t<i[0])return i[0];for(;a<=o;){if((e=a+Math.floor((o-a)/2))===n||t>=i[e]&&t<i[e+1])return i[e];i[e]<t?a=e+1:o=e-1}}},{key:"_onLoad",value:function(t){var e,i;this._status!==l.LoaderStatus.kError&&(this._waitForTotalLength?this._waitForTotalLength=!1:((this._lastTimeLoaded=0)!==(e=0===(e=this._speedSampler.lastSecondKBps)&&(this._zeroSpeedChunkCount++,3<=this._zeroSpeedChunkCount)?this._speedSampler.currentKBps:e)&&(e=this._normalizeSpeed(e),this._currentSpeedNormalized!==e)&&(this._currentSpeedNormalized=e,this._currentChunkSizeKB=e),e=t.target.response,t=this._range.from+this._receivedLength,this._receivedLength+=e.byteLength,i=!1,null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():i=!0,this._onDataArrival&&this._onDataArrival(e,t,this._receivedLength),i&&(this._status=l.LoaderStatus.kComplete,this._onComplete)&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)))}},{key:"_onXhrError",value:function(t){this._status=l.LoaderStatus.kError;var e=0,i=null,i=this._contentLength&&0<this._receivedLength&&this._receivedLength<this._contentLength?(e=l.LoaderErrors.EARLY_EOF,{code:-1,msg:"RangeLoader meet Early-Eof"}):(e=l.LoaderErrors.EXCEPTION,{code:-1,msg:t.constructor.name+" "+t.type});if(!this._onError)throw new c.RuntimeException(i.msg);this._onError(e,i)}},{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}}]),n}(l.BaseLoader);i.default=t},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24,"./speed-sampler.js":27}],32:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t};function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=g(t("events")),s=g(t("../utils/logger.js")),h=g(t("../utils/browser.js")),l=g(t("./player-events.js")),c=g(t("../core/transmuxer.js")),u=g(t("../core/transmuxing-events.js")),d=g(t("../core/mse-controller.js")),p=g(t("../core/mse-events.js")),f=t("./player-errors.js"),_=t("../config.js"),m=t("../utils/exception.js");function g(t){return t&&t.__esModule?t:{default:t}}a(v,[{key:"destroy",value:function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null,clearTimeout(this._timeUpdateEventTimer),this._timeUpdateEventTimer=null}},{key:"on",value:function(t,e){var i=this;t===l.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(function(){i._emitter.emit(l.default.MEDIA_INFO,i.mediaInfo)}):t===l.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(function(){i._emitter.emit(l.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(t,e)}},{key:"off",value:function(t,e){this._emitter.removeListener(t,e)}},{key:"attachMediaElement",value:function(t){var e=this;if((this._mediaElement=t).addEventListener("loadedmetadata",this.e.onvLoadedMetadata),t.addEventListener("seeking",this.e.onvSeeking),t.addEventListener("canplay",this.e.onvCanPlay),t.addEventListener("stalled",this.e.onvStalled),t.addEventListener("progress",this.e.onvProgress),t.addEventListener("play",this.e.onvPlay),t.addEventListener("waiting",this.e.onvWaiting),t.addEventListener("suspend",this.e.onvSuspend),t.addEventListener("canplaythrough",this.e.onvCanplaythrough),t.addEventListener("emptied",this.e.onvEmptied),t.addEventListener("ended",this.e.onvEmptied),t.addEventListener("error",this.e.onvError),t.addEventListener("loadeddata",this.e.onvLoadeddata),t.addEventListener("loadedmetadata",this.e.onvLoadedmetadata),t.addEventListener("loadstart",this.e.onvLoadstart),t.addEventListener("pause",this.e.onvPause),t.addEventListener("playing",this.e.onvPlaying),t.addEventListener("seeked",this.e.onvSeeked),t.addEventListener("timeupdate",this.e.onvTimeupdate),this._msectl=new d.default(this._config),this._msectl.on(p.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(p.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(p.default.SOURCE_OPEN,function(){e._mseSourceOpened=!0,e._hasPendingLoad&&(e._hasPendingLoad=!1,e.load())}),this._msectl.on(p.default.ERROR,function(t){e._emitter.emit(l.default.ERROR,f.ErrorTypes.MEDIA_ERROR,f.ErrorDetails.MEDIA_MSE_ERROR,t)}),this._msectl.attachMediaElement(t,this._mediaDataSource),null!=this._pendingSeekTime)try{t.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(t){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement.removeEventListener("play",this.e.onvPlay),this._mediaElement.removeEventListener("waiting",this.e.onvWaiting),this._mediaElement.removeEventListener("suspend",this.e.onvSuspend),this._mediaElement.removeEventListener("canplaythrough",this.e.onvCanplaythrough),this._mediaElement.removeEventListener("emptied",this.e.onvEmptied),this._mediaElement.removeEventListener("ended",this.e.onvEmptied),this._mediaElement.removeEventListener("error",this.e.onvError),this._mediaElement.removeEventListener("loadeddata",this.e.onvLoadeddata),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedmetadata),this._mediaElement.removeEventListener("loadstart",this.e.onvLoadstart),this._mediaElement.removeEventListener("pause",this.e.onvPause),this._mediaElement.removeEventListener("playing",this.e.onvPlaying),this._mediaElement.removeEventListener("seeked",this.e.onvSeeked),this._mediaElement.removeEventListener("timeupdate",this.e.onvTimeupdate),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}},{key:"load",value:function(){var n=this;if(!this._mediaElement)throw new m.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new m.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(0<this._mediaElement.readyState&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new c.default(this._mediaDataSource,this._config),this._transmuxer.attachMediaElement(this._mediaElement,this._mediaDataSource),this._transmuxer.on(u.default.INIT_SEGMENT,function(t,e){n._msectl.appendInitSegment(e)}),this._transmuxer.on(u.default.MEDIA_SEGMENT,function(t,e){var i;n._msectl.appendMediaSegment(e),n._config.lazyLoad&&!n._config.isLive&&(i=n._mediaElement.currentTime,e.info.endDts>=1e3*(i+n._config.lazyLoadMaxDuration))&&null==n._progressChecker&&(s.default.v(n.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),n._suspendTransmuxer())}),this._transmuxer.on(u.default.LOADING_COMPLETE,function(){n._msectl.endOfStream(),n._emitter.emit(l.default.LOADING_COMPLETE)}),this._transmuxer.on(u.default.RECOVERED_EARLY_EOF,function(){n._emitter.emit(l.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(u.default.IO_ERROR,function(t,e){n._emitter.emit(l.default.ERROR,f.ErrorTypes.NETWORK_ERROR,t,e)}),this._transmuxer.on(u.default.DEMUX_ERROR,function(t,e){n._emitter.emit(l.default.ERROR,f.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:e})}),this._transmuxer.on(u.default.MEDIA_INFO,function(t){n._mediaInfo=t,n._emitter.emit(l.default.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(u.default.STATISTICS_INFO,function(t){n._statisticsInfo=n._fillStatisticsInfo(t),n._emitter.emit(l.default.STATISTICS_INFO,Object.assign({},n._statisticsInfo))}),this._transmuxer.on(u.default.RECOMMEND_SEEKPOINT,function(t){n._mediaElement&&!n._config.accurateSeek&&(n._requestSetTime=!0,n._mediaElement.currentTime=t/1e3)}),this._transmuxer.open()))}},{key:"unload",value:function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_fillStatisticsInfo",value:function(t){var e,i,n,a;return t.playerType=this._type,this._mediaElement instanceof HTMLVideoElement&&(e=!0,a=n=0,this._mediaElement.getVideoPlaybackQuality?(n=(i=this._mediaElement.getVideoPlaybackQuality()).totalVideoFrames,a=i.droppedVideoFrames):null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,a=this._mediaElement.webkitDroppedFrameCount):e=!1,e)&&(t.decodedFrames=n,t.droppedFrames=a),t}},{key:"_onmseUpdateEnd",value:function(){if(this._config.lazyLoad&&!this._config.isLive){for(var t=this._mediaElement.buffered,e=this._mediaElement.currentTime,i=0,n=0;n<t.length;n++){var a=t.start(n),o=t.end(n);if(a<=e&&e<o){i=o;break}}i>=e+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(s.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}},{key:"_onmseBufferFull",value:function(){s.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}},{key:"_suspendTransmuxer",value:function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker)&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3))}},{key:"_checkProgressAndResume",value:function(){for(var t=this._mediaElement.currentTime,e=this._mediaElement.buffered,i=!1,n=0;n<e.length;n++){var a=e.start(n),o=e.end(n);if(a<=t&&t<o){t>=o-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i)&&(s.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume())}},{key:"_isTimepointBuffered",value:function(t){for(var e=this._mediaElement.buffered,i=0;i<e.length;i++){var n=e.start(i),a=e.end(i);if(n<=t&&t<a)return!0}return!1}},{key:"_internalSeek",value:function(t){var e,i=this._isTimepointBuffered(t),n=!1,a=0;t<1&&0<this._mediaElement.buffered.length&&((e=this._mediaElement.buffered.start(0))<1&&t<e||h.default.safari)&&(n=!0,a=h.default.safari?.1:e),n?(this._requestSetTime=!0,this._mediaElement.currentTime=a):i?(this._alwaysSeekKeyframe?(e=this._msectl.getNearestKeyframe(Math.floor(1e3*t)),this._requestSetTime=!0,this._mediaElement.currentTime=null!=e?e.dts/1e3:t):(this._requestSetTime=!0,this._mediaElement.currentTime=t),null!=this._progressChecker&&this._checkProgressAndResume()):(null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(t),this._transmuxer.seek(Math.floor(1e3*t)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=t))}},{key:"_checkAndApplyUnbufferedSeekpoint",value:function(){var t;this._seekpointRecord&&(this._seekpointRecord.recordTime<=this._now()-100?(t=this._mediaElement.currentTime,this._seekpointRecord=null,this._isTimepointBuffered(t)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(t),this._transmuxer.seek(Math.floor(1e3*t)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=t))):window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50))}},{key:"_checkAndResumeStuckPlayback",value:function(t){var e=this._mediaElement;t||!this._receivedCanPlay||e.readyState<2?0<(t=e.buffered).length&&e.currentTime<t.start(0)&&(s.default.w(this.TAG,"Playback seems stuck at "+e.currentTime+", seek to "+t.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=t.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress)):this._mediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"_onvLoadedMetadata",value:function(t){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(t){var e=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(e<1&&0<i.length){var i=i.start(0);if(i<1&&e<i||h.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=h.default.safari?.1:i)}this._isTimepointBuffered(e)?(this._alwaysSeekKeyframe&&null!=(i=this._msectl.getNearestKeyframe(Math.floor(1e3*e)))&&(this._requestSetTime=!0,this._mediaElement.currentTime=i.dts/1e3),null!=this._progressChecker&&this._checkProgressAndResume()):(this._seekpointRecord={seekPoint:e,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50))}}},{key:"_onvCanPlay",value:function(t){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay);var e=this._mediaElement.buffered;0<e.length&&.5<(e=e.end(0))-this._mediaElement.currentTime&&(this._mediaElement.currentTime=e-.1)}},{key:"_onvPlay",value:function(t){this._mediaElement.buffered}},{key:"_onvWaiting",value:function(t){var e=this._mediaElement.buffered;0<e.length&&.5<(e=e.end(0))-this._mediaElement.currentTime&&(this._mediaElement.currentTime=e-.1)}},{key:"_onvSuspend",value:function(t){}},{key:"_onvCanplaythrough",value:function(t){}},{key:"_onvEmptied",value:function(t){}},{key:"_onvEnded",value:function(t){}},{key:"_onvError",value:function(t){}},{key:"_onvLoadeddata",value:function(t){}},{key:"_onvLoadedmetadata",value:function(t){}},{key:"_onvLoadstart",value:function(t){}},{key:"_onvPause",value:function(t){}},{key:"_onvPlaying",value:function(t){}},{key:"_onvSeeked",value:function(t){}},{key:"_onvTimeupdate",value:function(t){var e,i=this._mediaElement.buffered;0<i.length&&(i=i.end(0)-this._mediaElement.currentTime,e=Math.floor(1e3/this._mediaInfo.fps),e=Math.floor(i/(e/1e3)),(30==this._mediaInfo.fps||29.97==this._mediaInfo.fps)&&20<e||10==this._mediaInfo.fps&&10<e)&&(1==this._dontChase?((30==this._mediaInfo.fps||29.97==this._mediaInfo.fps)&&1<i||10==this._mediaInfo.fps&&13<e)&&(this._mediaElement.currentTime=this._mediaElement.buffered.end(0)-.1,this._mediaElement.pause(),this._mediaElement.play(),this._mediaElement.removeEventListener("timeupdate",this.e.onvTimeupdate),this._timeUpdateEventTimer=setTimeout(this._reAddEventListenerTimeUpdate.bind(this),1e4)):(this._mediaElement.currentTime=this._mediaElement.buffered.end(0)-.1,this._mediaElement.pause(),this._mediaElement.play(),this._dontChase=!0,this._dontChaseTimer=setTimeout(function(){this._dontChase=!1}.bind(this),3e4)))}},{key:"_reAddEventListenerTimeUpdate",value:function(){this._mediaElement.addEventListener("timeupdate",this.e.onvTimeupdate)}},{key:"_onvStalled",value:function(t){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(t){this._checkAndResumeStuckPlayback()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(t){this._mediaElement.volume=t}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(t){this._mediaElement.muted=t}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(t){this._mediaElement?this._internalSeek(t):this._pendingSeekTime=t}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}}]);t=v;function v(t,e){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new r.default,this._config=(0,_.createDefaultConfig)(),"object"===(void 0===e?"undefined":n(e))&&Object.assign(this._config,e),"flv"!==t.type.toLowerCase())throw new m.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");!0===t.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this),onvPlay:this._onvPlay.bind(this),onvWaiting:this._onvWaiting.bind(this),onvSuspend:this._onvSuspend.bind(this),onvCanplaythrough:this._onvCanplaythrough.bind(this),onvEmptied:this._onvEmptied.bind(this),onvEnded:this._onvEnded.bind(this),onvError:this._onvError.bind(this),onvLoadeddata:this._onvLoadeddata.bind(this),onvLoadedmetadata:this._onvLoadedmetadata.bind(this),onvLoadstart:this._onvLoadstart.bind(this),onvPause:this._onvPause.bind(this),onvPlaying:this._onvPlaying.bind(this),onvSeeked:this._onvSeeked.bind(this),onvTimeupdate:this._onvTimeupdate.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=t,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;e=h.default.chrome&&(h.default.version.major<50||50===h.default.version.major&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(e||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1),this._timeUpdateEventTimer=null,this._dontChase=!1,this._dontChaseTimer=null}i.default=t},{"../config.js":5,"../core/mse-controller.js":9,"../core/mse-events.js":10,"../core/transmuxer.js":11,"../core/transmuxing-events.js":13,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./player-errors.js":34,"./player-events.js":35,events:2}],33:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t};function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=c(t("events")),s=c(t("./player-events.js")),h=t("../config.js"),l=t("../utils/exception.js");function c(t){return t&&t.__esModule?t:{default:t}}a(u,[{key:"destroy",value:function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(t,e){var i=this;t===s.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(s.default.MEDIA_INFO,i.mediaInfo)}):t===s.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(s.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(t,e)}},{key:"off",value:function(t,e){this._emitter.removeListener(t,e)}},{key:"attachMediaElement",value:function(t){if((this._mediaElement=t).addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{t.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(t){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"load",value:function(){if(!this._mediaElement)throw new l.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,0<this._mediaElement.readyState&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}},{key:"unload",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_onvLoadedMetadata",value:function(t){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(s.default.MEDIA_INFO,this.mediaInfo)}},{key:"_reportStatisticsInfo",value:function(){this._emitter.emit(s.default.STATISTICS_INFO,this.statisticsInfo)}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(t){this._mediaElement.volume=t}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(t){this._mediaElement.muted=t}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(t){this._mediaElement?this._mediaElement.currentTime=t:this._pendingSeekTime=t}},{key:"mediaInfo",get:function(){var t={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(t.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement)&&(t.width=this._mediaElement.videoWidth,t.height=this._mediaElement.videoHeight),t}},{key:"statisticsInfo",get:function(){var t,e,i,n,a={playerType:this._type,url:this._mediaDataSource.url};return this._mediaElement instanceof HTMLVideoElement&&(t=!0,n=i=0,this._mediaElement.getVideoPlaybackQuality?(i=(e=this._mediaElement.getVideoPlaybackQuality()).totalVideoFrames,n=e.droppedVideoFrames):null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1,t)&&(a.decodedFrames=i,a.droppedFrames=n),a}}]);t=u;function u(t,e){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new r.default,this._config=(0,h.createDefaultConfig)(),"object"===(void 0===e?"undefined":n(e))&&Object.assign(this._config,e),"flv"===t.type.toLowerCase())throw new l.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(t.hasOwnProperty("segments"))throw new l.InvalidArgumentException("NativePlayer("+t.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=t,this._mediaElement=null}i.default=t},{"../config.js":5,"../utils/exception.js":40,"./player-events.js":35,events:2}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorDetails=i.ErrorTypes=void 0;var n=t("../io/loader.js"),t=t("../demux/demux-errors.js"),t=(t=t)&&t.__esModule?t:{default:t};i.ErrorTypes={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},i.ErrorDetails={NETWORK_EXCEPTION:n.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:n.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:n.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:n.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:t.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:t.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:t.default.CODEC_UNSUPPORTED}},{"../demux/demux-errors.js":16,"../io/loader.js":24}],35:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",STATISTICS_INFO:"statistics_info"}},{}],36:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(a,null,[{key:"getSilentFrame",value:function(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),i.default=a},{}],37:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(i,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(c,null,[{key:"init",value:function(){for(var t in c.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]})c.types.hasOwnProperty(t)&&(c.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var e=c.constants={};e.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),e.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),e.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSC=e.STCO=e.STTS,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(t){for(var e=8,i=null,n=Array.prototype.slice.call(arguments,1),a=n.length,o=0;o<a;o++)e+=n[o].byteLength;(i=new Uint8Array(e))[0]=e>>>24&255,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=255&e,i.set(t,4);for(var r=8,s=0;s<a;s++)i.set(n[s],r),r+=n[s].byteLength;return i}},{key:"generateInitSegment",value:function(t){var e=c.box(c.types.ftyp,c.constants.FTYP),t=c.moov(t),i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i}},{key:"moov",value:function(t){var e=c.mvhd(t.timescale,t.duration),i=c.trak(t),t=c.mvex(t);return c.box(c.types.moov,e,i,t)}},{key:"mvhd",value:function(t,e){return c.box(c.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return c.box(c.types.trak,c.tkhd(t),c.mdia(t))}},{key:"tkhd",value:function(t){var e=t.id,i=t.duration,n=t.presentWidth,t=t.presentHeight;return c.box(c.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>>8&255,255&n,0,0,t>>>8&255,255&t,0,0]))}},{key:"mdia",value:function(t){return c.box(c.types.mdia,c.mdhd(t),c.hdlr(t),c.minf(t))}},{key:"mdhd",value:function(t){var e=t.timescale,t=t.duration;return c.box(c.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,85,196,0,0]))}},{key:"hdlr",value:function(t){var e=null,e="audio"===t.type?c.constants.HDLR_AUDIO:c.constants.HDLR_VIDEO;return c.box(c.types.hdlr,e)}},{key:"minf",value:function(t){var e=null,e="audio"===t.type?c.box(c.types.smhd,c.constants.SMHD):c.box(c.types.vmhd,c.constants.VMHD);return c.box(c.types.minf,e,c.dinf(),c.stbl(t))}},{key:"dinf",value:function(){return c.box(c.types.dinf,c.box(c.types.dref,c.constants.DREF))}},{key:"stbl",value:function(t){return c.box(c.types.stbl,c.stsd(t),c.box(c.types.stts,c.constants.STTS),c.box(c.types.stsc,c.constants.STSC),c.box(c.types.stsz,c.constants.STSZ),c.box(c.types.stco,c.constants.STCO))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.codec?c.box(c.types.stsd,c.constants.STSD_PREFIX,c.mp3(t)):c.box(c.types.stsd,c.constants.STSD_PREFIX,c.mp4a(t)):c.box(c.types.stsd,c.constants.STSD_PREFIX,c.avc1(t))}},{key:"mp3",value:function(t){var e=t.channelCount,t=t.audioSampleRate,e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e,0,16,0,0,0,0,t>>>8&255,255&t,0,0]);return c.box(c.types[".mp3"],e)}},{key:"mp4a",value:function(t){var e=t.channelCount,i=t.audioSampleRate,e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return c.box(c.types.mp4a,e,c.esds(t))}},{key:"esds",value:function(t){var t=t.config||[],e=t.length,e=new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t).concat([6,1,2]));return c.box(c.types.esds,e)}},{key:"avc1",value:function(t){var e=t.avcc,i=t.codecWidth,t=t.codecHeight,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,t>>>8&255,255&t,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return c.box(c.types.avc1,i,c.box(c.types.avcC,e))}},{key:"mvex",value:function(t){return c.box(c.types.mvex,c.trex(t))}},{key:"trex",value:function(t){t=t.id,t=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return c.box(c.types.trex,t)}},{key:"moof",value:function(t,e){return c.box(c.types.moof,c.mfhd(t.sequenceNumber),c.traf(t,e))}},{key:"mfhd",value:function(t){t=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return c.box(c.types.mfhd,t)}},{key:"traf",value:function(t,e){var i=t.id,i=c.box(c.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),e=c.box(c.types.tfdt,new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])),n=c.sdtp(t),t=c.trun(t,n.byteLength+16+16+8+16+8+8);return c.box(c.types.traf,i,e,t,n)}},{key:"sdtp",value:function(t){for(var e=t.samples||[],i=e.length,n=new Uint8Array(4+i),a=0;a<i;a++){var o=e[a].flags;n[a+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return c.box(c.types.sdtp,n)}},{key:"trun",value:function(t,e){var i=t.samples||[],n=i.length,t=12+16*n,a=new Uint8Array(t);a.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,(e+=8+t)>>>24&255,e>>>16&255,e>>>8&255,255&e],0);for(var o=0;o<n;o++){var r=i[o].duration,s=i[o].size,h=i[o].flags,l=i[o].cts;a.set([r>>>24&255,r>>>16&255,r>>>8&255,255&r,s>>>24&255,s>>>16&255,s>>>8&255,255&s,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.isNonSync,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*o)}return c.box(c.types.trun,a)}},{key:"mdat",value:function(t){return c.box(c.types.mdat,t)}}]);var a=c;function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function")}a.init(),i.default=a},{}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var D=r(t("../utils/logger.js")),R=r(t("./mp4-generator.js")),N=r(t("./aac-silent.js")),O=r(t("../utils/browser.js")),U=t("../core/media-segment-info.js"),o=t("../utils/exception.js");function r(t){return t&&t.__esModule?t:{default:t}}n(s,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(t){return t.onDataAvailable=this.remux.bind(this),t.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(t){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(t,e){if(!this._onMediaSegment)throw new o.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(t,e),this._remuxVideo(e),this._remuxAudio(t)}},{key:"attachMediaElement",value:function(t,e){this._mediaElement=t,this._mediaSource=e}},{key:"_onTrackMetadataReceived",value:function(t,e){var i=null,n="mp4",a=e.codec;if("audio"===t)i="mp3"===(this._audioMeta=e).codec&&this._mp3UseMpegAudio?(n="mpeg",a="",new Uint8Array):R.default.generateInitSegment(e);else{if("video"!==t)return;this._videoMeta=e,i=R.default.generateInitSegment(e)}if(!this._onInitSegment)throw new o.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(t,{type:t,data:i.buffer,codec:a,container:t+"/"+n,mediaDuration:e.duration})}},{key:"_calculateDtsBase",value:function(t,e){this._dtsBaseInited||(t.samples&&t.samples.length&&(this._audioDtsBase=t.samples[0].dts),e.samples&&e.samples.length&&(this._videoDtsBase=e.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"flushStashedSamples",value:function(){var t=this._videoStashedLastSample,e=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0},t=(null!=t&&(i.samples.push(t),i.length=t.length),{type:"audio",id:2,sequenceNumber:0,samples:[],length:0});null!=e&&(t.samples.push(e),t.length=e.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(t,!0)}},{key:"_remuxAudio",value:function(t,e){if(null!=this._audioMeta){var i=t.samples,n=void 0,a=-1,o=this._audioMeta.refSampleDuration,r="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,s=this._dtsBaseInited&&void 0===this._audioNextDts,h=!1;if(i&&0!==i.length&&(1!==i.length||e)){for(var l=0,c=null,u=0,u=r?(l=0,t.length):(l=8)+t.length,d=null,e=(1<i.length&&(u-=(d=i.pop()).length),null!=this._audioStashedLastSample&&(e=this._audioStashedLastSample,this._audioStashedLastSample=null,i.unshift(e),u+=e.length),null!=d&&(this._audioStashedLastSample=d),i[0].dts-this._dtsBase),p=(this._audioNextDts?n=e-this._audioNextDts:this._audioSegmentInfoList.isEmpty()?(n=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(h=!0)):n=null!=(E=this._audioSegmentInfoList.getLastSampleBefore(e))?(L=e-(E.originalDts+E.duration),e-(E.dts+E.duration+(L=L<=3?0:L))):0,h&&(E=e-n,null!=(L=this._videoSegmentInfoList.getLastSegmentBefore(e))&&L.beginDts<E?(e=N.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(A=L.beginDts,E=E-L.beginDts,D.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+A+", duration: "+E),i.unshift({unit:e,dts:A,pts:A}),u+=e.byteLength):h=!1),[]),f=0;f<i.length;f++){var _=i[f],m=_.unit,g=_.dts-this._dtsBase,v=g-n,y=(-1===a&&(a=v),0),P=!1,S=null;if(1.5*o<(y=f!==i.length-1?i[f+1].dts-this._dtsBase-n-v:null!=d?d.dts-this._dtsBase-n-v:1<=p.length?p[p.length-1].duration:Math.floor(o))&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!O.default.safari){var P=!0,b=Math.abs(y-o),I=Math.ceil(b/o),B=v+o,C=(D.default.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\ndts: "+(v+y)+" ms, expected: "+(v+Math.round(o))+" ms, delta: "+Math.round(b)+" ms, generate: "+I+" frames"),N.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount));null==C&&(D.default.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),C=m);for(var S=[],k=0;k<I;k++){var T=Math.round(B),x=(0<S.length&&((x=S[S.length-1]).duration=T-x.dts),{dts:T,pts:T,cts:0,unit:C,size:C.byteLength,duration:0,originalDts:g,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}});S.push(x),u+=m.byteLength,B+=o}b=S[S.length-1];b.duration=v+y-b.dts,y=Math.round(o)}p.push({dts:v,pts:v,cts:0,unit:_.unit,size:_.unit.byteLength,duration:y,originalDts:g,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),P&&p.push.apply(p,S)}r?c=new Uint8Array(u):((c=new Uint8Array(u))[0]=u>>>24&255,c[1]=u>>>16&255,c[2]=u>>>8&255,c[3]=255&u,c.set(R.default.types.mdat,4));for(var M=0;M<p.length;M++){var w=p[M].unit;c.set(w,l),l+=w.byteLength}var L=p[p.length-1],E=L.dts+L.duration,A=(this._audioNextDts=E,new U.MediaSegmentInfo),e=(A.beginDts=a,A.endDts=E,A.beginPts=a,A.endPts=E,A.originalBeginDts=p[0].originalDts,A.originalEndDts=L.originalDts+L.duration,A.firstSample=new U.SampleInfo(p[0].dts,p[0].pts,p[0].duration,p[0].originalDts,!1),A.lastSample=new U.SampleInfo(L.dts,L.pts,L.duration,L.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(A),t.samples=p,t.sequenceNumber++,null),e=r?new Uint8Array:R.default.moof(t,a),h=(t.samples=[],t.length=0,{type:"audio",data:this._mergeBoxes(e,c).buffer,sampleCount:p.length,info:A});r&&s&&(h.timestampOffset=a),this._onMediaSegment("audio",h)}}}},{key:"_remuxVideo",value:function(t,e){if(null!=this._videoMeta){var i=t,n=i.samples,a=void 0,o=-1,r=-1;if(n&&0!==n.length&&(1!==n.length||e||1!=this._mediaSource.hasAudio&&0!=this._mediaSource.hasOwnProperty("hasAudio"))){for(var s=8,h=null,e=8+t.length,l=null,t=(1<n.length&&(e-=(l=n.pop()).length),null!=this._videoStashedLastSample&&(t=this._videoStashedLastSample,this._videoStashedLastSample=null,n.unshift(t),e+=t.length),null!=l&&(this._videoStashedLastSample=l),n[0].dts-this._dtsBase),c=(a=this._videoNextDts?t-this._videoNextDts:!this._videoSegmentInfoList.isEmpty()&&null!=(B=this._videoSegmentInfoList.getLastSampleBefore(t))?(C=t-(B.originalDts+B.duration),t-(B.dts+B.duration+(C=C<=3?0:C))):0,new U.MediaSegmentInfo),u=[],d=0;d<n.length;d++){var p,f=n[d],_=f.dts-this._dtsBase,m=f.isKeyframe,g=_-a,v=f.cts,y=g+v,P=(-1===o&&(o=g,r=y),0);P=d!==n.length-1?n[d+1].dts-this._dtsBase-a-g:null!=l?l.dts-this._dtsBase-a-g:1<=u.length?u[u.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),m&&((p=new U.SampleInfo(g,y,P,f.dts,!0)).fileposition=f.fileposition,c.appendSyncPoint(p)),u.push({dts:g,pts:y,cts:v,units:f.units,size:f.length,isKeyframe:m,duration:P,originalDts:_,flags:{isLeading:0,dependsOn:m?2:1,isDependedOn:m?1:0,hasRedundancy:0,isNonSync:m?0:1}})}(h=new Uint8Array(e))[0]=e>>>24&255,h[1]=e>>>16&255,h[2]=e>>>8&255,h[3]=255&e,h.set(R.default.types.mdat,4);for(var S=0;S<u.length;S++)for(var b=u[S].units;b.length;){var I=b.shift().data;h.set(I,s),s+=I.byteLength}var t=u[u.length-1],B=t.dts+t.duration,C=t.pts+t.duration,B=(this._videoNextDts=B,c.beginDts=o,c.endDts=B,c.beginPts=r,c.endPts=C,c.originalBeginDts=u[0].originalDts,c.originalEndDts=t.originalDts+t.duration,c.firstSample=new U.SampleInfo(u[0].dts,u[0].pts,u[0].duration,u[0].originalDts,u[0].isKeyframe),c.lastSample=new U.SampleInfo(t.dts,t.pts,t.duration,t.originalDts,t.isKeyframe),this._isLive||this._videoSegmentInfoList.append(c),i.samples=u,i.sequenceNumber++,this._forceFirstIDR&&((e=u[0].flags).dependsOn=2,e.isNonSync=0),R.default.moof(i,o));i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(B,h).buffer,sampleCount:u.length,info:c})}}}},{key:"_mergeBoxes",value:function(t,e){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(t,0),i.set(e,t.byteLength),i}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(t){this._onInitSegment=t}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(t){this._onMediaSegment=t}}]);t=s;function s(t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.TAG="MP4Remuxer",this._mediaElement=null,this._mediaSource=null,this._config=t,this._isLive=!0===t.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new U.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new U.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!O.default.chrome||!(O.default.version.major<50||50===O.default.version.major&&O.default.version.build<2661)),this._fillSilentAfterSeek=O.default.msedge||O.default.msie,this._mp3UseMpegAudio=!O.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}i.default=t},{"../core/media-segment-info.js":8,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./aac-silent.js":36,"./mp4-generator.js":37}],39:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={};var a,o,r=self.navigator.userAgent.toLowerCase(),s=/(edge)\/([\w.]+)/.exec(r)||/(opr)[\/]([\w.]+)/.exec(r)||/(chrome)[ \/]([\w.]+)/.exec(r)||/(iemobile)[\/]([\w.]+)/.exec(r)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||0<=r.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(r)||[],r=/(ipad)/.exec(r)||/(ipod)/.exec(r)||/(windows phone)/.exec(r)||/(iphone)/.exec(r)||/(kindle)/.exec(r)||/(android)/.exec(r)||/(windows)/.exec(r)||/(mac)/.exec(r)||/(linux)/.exec(r)||/(cros)/.exec(r)||[],s={browser:s[5]||s[3]||s[1]||"",version:s[2]||s[4]||"0",majorVersion:s[4]||s[2]||"0",platform:r[0]||""},r={};for(o in s.browser&&(r[s.browser]=!0,a=s.majorVersion.split("."),r.version={major:parseInt(s.majorVersion,10),string:s.version},1<a.length&&(r.version.minor=parseInt(a[1],10)),2<a.length)&&(r.version.build=parseInt(a[2],10)),s.platform&&(r[s.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),(r.rv||r.iemobile)&&(r.rv&&delete r.rv,s.browser="msie",r.msie=!0),r.edge&&(delete r.edge,s.browser="msedge",r.msedge=!0),r.opr&&(s.browser="opera",r.opera=!0),r.safari&&r.android&&(s.browser="android",r.android=!0),r.name=s.browser,r.platform=s.platform,n)n.hasOwnProperty(o)&&delete n[o];Object.assign(n,r),i.default=n},{}],40:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=i.RuntimeException=(n(l,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),l);function l(t){s(this,l),this._message=t}i.IllegalStateException=(r(c,h),n(c,[{key:"name",get:function(){return"IllegalStateException"}}]),c);function c(t){return s(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t))}i.InvalidArgumentException=(r(u,h),n(u,[{key:"name",get:function(){return"InvalidArgumentException"}}]),u);function u(t){return s(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,t))}i.NotImplementedException=(r(d,h),n(d,[{key:"name",get:function(){return"NotImplementedException"}}]),d);function d(t){return s(this,d),o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,t))}},{}],41:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var t=t("events"),t=(t=t)&&t.__esModule?t:{default:t};n(o,null,[{key:"e",value:function(t,e){t="["+(t=t&&!o.FORCE_GLOBAL_TAG?t:o.GLOBAL_TAG)+"] > "+e;o.ENABLE_CALLBACK&&o.emitter.emit("log","error",t),o.ENABLE_ERROR&&!console.error&&console.warn}},{key:"i",value:function(t,e){t="["+(t=t&&!o.FORCE_GLOBAL_TAG?t:o.GLOBAL_TAG)+"] > "+e;o.ENABLE_CALLBACK&&o.emitter.emit("log","info",t),o.ENABLE_INFO&&console.info}},{key:"w",value:function(t,e){t="["+(t=t&&!o.FORCE_GLOBAL_TAG?t:o.GLOBAL_TAG)+"] > "+e;o.ENABLE_CALLBACK&&o.emitter.emit("log","warn",t),o.ENABLE_WARN&&console.warn}},{key:"d",value:function(t,e){t="["+(t=t&&!o.FORCE_GLOBAL_TAG?t:o.GLOBAL_TAG)+"] > "+e;o.ENABLE_CALLBACK&&o.emitter.emit("log","debug",t),o.ENABLE_DEBUG&&console.debug}},{key:"v",value:function(t,e){t="["+(t=t&&!o.FORCE_GLOBAL_TAG?t:o.GLOBAL_TAG)+"] > "+e;o.ENABLE_CALLBACK&&o.emitter.emit("log","verbose",t)}}]);n=o;function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}n.GLOBAL_TAG="flv.js",n.FORCE_GLOBAL_TAG=!1,n.ENABLE_ERROR=!0,n.ENABLE_INFO=!0,n.ENABLE_WARN=!0,n.ENABLE_DEBUG=!0,n.ENABLE_VERBOSE=!0,n.ENABLE_CALLBACK=!1,n.emitter=new t.default,i.default=n},{events:2}],42:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=s(t("events")),r=s(t("./logger.js"));function s(t){return t&&t.__esModule?t:{default:t}}n(h,null,[{key:"getConfig",value:function(){return{globalTag:r.default.GLOBAL_TAG,forceGlobalTag:r.default.FORCE_GLOBAL_TAG,enableVerbose:r.default.ENABLE_VERBOSE,enableDebug:r.default.ENABLE_DEBUG,enableInfo:r.default.ENABLE_INFO,enableWarn:r.default.ENABLE_WARN,enableError:r.default.ENABLE_ERROR,enableCallback:r.default.ENABLE_CALLBACK}}},{key:"applyConfig",value:function(t){r.default.GLOBAL_TAG=t.globalTag,r.default.FORCE_GLOBAL_TAG=t.forceGlobalTag,r.default.ENABLE_VERBOSE=t.enableVerbose,r.default.ENABLE_DEBUG=t.enableDebug,r.default.ENABLE_INFO=t.enableInfo,r.default.ENABLE_WARN=t.enableWarn,r.default.ENABLE_ERROR=t.enableError,r.default.ENABLE_CALLBACK=t.enableCallback}},{key:"_notifyChange",value:function(){var t,e=h.emitter;0<e.listenerCount("change")&&(t=h.getConfig(),e.emit("change",t))}},{key:"registerListener",value:function(t){h.emitter.addListener("change",t)}},{key:"removeListener",value:function(t){h.emitter.removeListener("change",t)}},{key:"addLogListener",value:function(t){r.default.emitter.addListener("log",t),0<r.default.emitter.listenerCount("log")&&(r.default.ENABLE_CALLBACK=!0,h._notifyChange())}},{key:"removeLogListener",value:function(t){r.default.emitter.removeListener("log",t),0===r.default.emitter.listenerCount("log")&&(r.default.ENABLE_CALLBACK=!1,h._notifyChange())}},{key:"forceGlobalTag",get:function(){return r.default.FORCE_GLOBAL_TAG},set:function(t){r.default.FORCE_GLOBAL_TAG=t,h._notifyChange()}},{key:"globalTag",get:function(){return r.default.GLOBAL_TAG},set:function(t){r.default.GLOBAL_TAG=t,h._notifyChange()}},{key:"enableAll",get:function(){return r.default.ENABLE_VERBOSE&&r.default.ENABLE_DEBUG&&r.default.ENABLE_INFO&&r.default.ENABLE_WARN&&r.default.ENABLE_ERROR},set:function(t){r.default.ENABLE_VERBOSE=t,r.default.ENABLE_DEBUG=t,r.default.ENABLE_INFO=t,r.default.ENABLE_WARN=t,r.default.ENABLE_ERROR=t,h._notifyChange()}},{key:"enableDebug",get:function(){return r.default.ENABLE_DEBUG},set:function(t){r.default.ENABLE_DEBUG=t,h._notifyChange()}},{key:"enableVerbose",get:function(){return r.default.ENABLE_VERBOSE},set:function(t){r.default.ENABLE_VERBOSE=t,h._notifyChange()}},{key:"enableInfo",get:function(){return r.default.ENABLE_INFO},set:function(t){r.default.ENABLE_INFO=t,h._notifyChange()}},{key:"enableWarn",get:function(){return r.default.ENABLE_WARN},set:function(t){r.default.ENABLE_WARN=t,h._notifyChange()}},{key:"enableError",get:function(){return r.default.ENABLE_ERROR},set:function(t){r.default.ENABLE_ERROR=t,h._notifyChange()}}]);t=h;function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function")}t.emitter=new o.default,i.default=t},{"./logger.js":41,events:2}],43:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(i,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(o,null,[{key:"install",value:function(){Object.setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Object.assign=Object.assign||function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e},"function"!=typeof self.Promise&&t("es6-promise").polyfill()}}]);var a=o;function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}a.install(),i.default=a},{"es6-promise":1}],44:[function(t,e,i){"use strict";function s(t,e,i){var n=t;if(e+i<n.length){for(;i--;)if(128!=(192&n[++e]))return;return 1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){for(var e=[],i=t,n=0,a=t.length;n<a;){if(i[n]<128)e.push(String.fromCharCode(i[n]));else{if(!(i[n]<192))if(i[n]<224){if(s(i,n,1)){var o=(31&i[n])<<6|63&i[n+1];if(128<=o){e.push(String.fromCharCode(65535&o)),n+=2;continue}}}else if(i[n]<240){if(s(i,n,2)){o=(15&i[n])<<12|(63&i[n+1])<<6|63&i[n+2];if(2048<=o&&55296!=(63488&o)){e.push(String.fromCharCode(65535&o)),n+=3;continue}}}else if(i[n]<248&&s(i,n,3)){var r=(7&i[n])<<18|(63&i[n+1])<<12|(63&i[n+2])<<6|63&i[n+3];if(65536<r&&r<1114112){r-=65536,e.push(String.fromCharCode(r>>>10|55296)),e.push(String.fromCharCode(1023&r|56320)),n+=4;continue}}e.push(String.fromCharCode(65533))}++n}return e.join("")}},{}]},{},[21])(21)}),!function(t){Object.defineProperty(a,"send",{get:function(){return t.PLI._send},enumerable:!1,configurable:!0}),a.allowSend=function(){return!0},a.encodeFormData=function(t){if(!t)return"";var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"function"!=typeof t[e]&&(i="",void 0!==t[e]&&"function"==typeof t[e].toString&&(i=t[e].toString()),e=encodeURIComponent(e.replace(" ","+")),i=encodeURIComponent(i.replace(" ","+")),n.push(e+"="+i));return n.join("&")},a.gameType="0",a.userID=0,a.portal="",a.entrance=0,a.loader=0,a.ws=0,a.login=0,a.startUI=0,a.startRender=0,a.complete=0,a.renderCost=0,a.version=0,a._send=!1,a.postInfo=function(){if(0!=a.loader&&0!=a.ws&&0!=a.login&&0!=a.complete){var t=new XMLHttpRequest,e=(t.open("POST",location.origin+"/ipl/portal.php/game/livefrontend/loadingtime",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),DeviceAndEnvironment.Device.getDeviceInfo());switch(DeviceAndEnvironment.Device.getParameterByName("platform")){case"AIO":a.portal="AIO";break;case"app":a.portal="APP";break;case null:DeviceAndEnvironment.Device.isMobile()||DeviceAndEnvironment.Device.isTablet()?a.portal="Phone":a.portal="PC";break;default:a.portal="其他"}var i=parent.HallID||0,n=parent.playtime||0,i={GameType:a.gameType,HallID:i,UserID:a.userID,SessionID:parent.SessionID,Domain:location.host,Browser:e.pf||"",OS:e.os||"",Portal:a.portal,ClickGame:n,Entrance:a.entrance,Loader:a.loader,WebSocket:a.ws,LoginCheck:a.login,Complete:a.complete,Version:a.version,Backend:parent.backendTime};a.allowSend()&&t.send(a.encodeFormData(i)),a._send=!0,a.postInfo=function(){}}};var e=a;function a(){}t.PLI=e}(PlayerLoadInfo=PlayerLoadInfo||{}),!function(t){function e(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=null),this._stopOtherListener=!1,this._stopCommunication=!1,this._type=t,this._bubbles=e,this._currentTarget=null,this._target=null,this._sendObject=i}Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTarget",{get:function(){return this._currentTarget},set:function(t){this._currentTarget=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sendObject",{get:function(){return this._sendObject},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stopOtherListener",{get:function(){return this._stopOtherListener},set:function(t){this._stopOtherListener=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stopCommunication",{get:function(){return this._stopCommunication},set:function(t){this._stopCommunication=t},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new t.H5BaseEvent(this._type,this._bubbles,this._sendObject)},e.COMPLETE="H5Event_complete",e.CHANGE="H5Event_change",e.REMOVED="H5Event_removed",e.IO_ERROR="H5Event_ioError",t.H5BaseEvent=e}(H5Event=H5Event||{}),!function(t){function e(){this._objEvent={},this._aryBubbles=[]}e.prototype.addEventListener=function(t,e){void 0===this._objEvent[t]&&(this._objEvent[t]=[]),-1===this.getIndex(t,e)&&this._objEvent[t].push(e)},e.prototype.removeEventListener=function(t,e){var i=this._objEvent[t];if(i)for(var n=i.length,a=0;a<n;a++)if(i[a]===e){i.splice(a,1),0==i.length&&delete this._objEvent[t];break}},e.prototype.removeEventListeners=function(t){void 0!==this._objEvent[t=void 0===t?"":t]?delete this._objEvent[t]:""==t&&(this._objEvent=null)},e.prototype.hasEventListener=function(t){return!!this._objEvent[t]},e.prototype.dispatchEvent=function(t){var e=t.target;t.target=this,t.bubbles?this.bubbleEvt(t):this.invokeEvt(t),null!=e&&(t.target=e)},e.prototype.invokeEvt=function(t){var e=this._objEvent[t.type];if(0<(void 0!==e?e.length:0)){var i=e.length;t.currentTarget=this;for(var n=0;n<i;n++)if(e[n](t),t.stopCommunication)return!0;return t.stopOtherListener}return!1},e.prototype.bubbleEvt=function(t){var e=1,i=this,n=0<this._aryBubbles.length?this._aryBubbles.pop():[];for(n.push(i);null!=(i=i.parent);)n[e++]=i;for(var a=0;a<e;a++)if(n[a].invokeEvt(t))break;n.length=0,this._aryBubbles.push(n)},e.prototype.getIndex=function(t,e){var i=-1;if(void 0!==this._objEvent[t])for(var n=this._objEvent[t],a=n.length,o=0;o<a;o++)if(n[o]===e){i=o;break}return i},t.EventDispatcher=e}(H5EventdispatcherCore=H5EventdispatcherCore||{}),!function(t){function e(){this.nativeBridge={callbacksCount:1,callbacks:{},resultForCallback:function(t,e){try{var i=this.callbacks[t];i&&i.apply(null,e)}catch(t){alert(t)}},call:function(t,e,i){var n=i&&"function"==typeof i,a=n?this.callbacksCount++:0,n=(n&&(this.callbacks[a]=i),document.createElement("IFRAME"));n.setAttribute("src","js-frame:".concat(t,":").concat(a,":").concat(encodeURIComponent(JSON.stringify(e)))),document.documentElement.appendChild(n),n.parentNode.removeChild(n)}}}e.prototype.iosAppToJsMessage=function(t){},e.prototype.androidAppToJsMessage=function(t){},e.prototype.iosJsToAppMessage=function(t){this.nativeBridge.call("JsToAppMessage",[t],this.iosAppToJsMessage)},e.prototype.androidJsToAppMessage=function(t){window.MyHandler&&window.MyHandler.JsToAppMessage(t)},e.prototype.jsToAppMessage=function(t){var e=null!==navigator.userAgent.match(/iPad/i),i=null!==navigator.userAgent.match(/iPhone/i),n=null!==navigator.userAgent.match(/Android/i);e||i?this.iosJsToAppMessage(t):n&&this.androidJsToAppMessage(t)},e.prototype.onLoaded=function(){this.jsToAppMessage('{ event : "LOADED", "data":"" }')},e.prototype.logout=function(){this.jsToAppMessage('{"event":"EXIT", "data":""}')},e.prototype.logout_quest=function(){this.jsToAppMessage('{"event":"SESSION_INVALIDATE", "data":""}')},e.prototype.open_hall=function(){var t="".concat(0===location.protocol.indexOf("https")?"https":"http","://").concat(location.hostname);this.jsToAppMessage('{"event":"NEW_WEBVIEW_ON_TOP","data":"'.concat(t,'/m/app#pageSport"}'))},e.prototype.startApp=function(t){this.jsToAppMessage('{"event":"START_APP","data":"'.concat(t,'"}'))},e.prototype.checkAppStatus=function(t){this.jsToAppMessage('{"event":"CHECK_APP","data":'.concat(JSON.stringify(t),"}"))},e.prototype.closeWebView=function(){this.jsToAppMessage('{"event":"CLOSE_WEBVIEW_ON_TOP", "data":""}')},e.prototype.startBrowser=function(t){var e="".concat(0===location.protocol.indexOf("https")?"https":"http","://").concat(location.hostname);this.jsToAppMessage('{"event":"START_BROWSER","data":"'.concat(e).concat(t,'"}'))},e.prototype.closePayonline=function(){this.jsToAppMessage('{"event":"CLOSE_WINDOW", "data":""}')},e.prototype.registerSuccess=function(){this.jsToAppMessage('{"event":"REGISTER_SUCCESS", "data":""}')},e.prototype.accountSuspended=function(){this.jsToAppMessage('{"event":"ACCOUNT_SUSPENDED", "data":""}')},e.prototype.maintaining=function(){this.jsToAppMessage('{"event":"MAINTAINING", "data":""}')},e.prototype.notOpen=function(){this.jsToAppMessage('{"event":"NOT_OPEN", "data":""}')},e.prototype.bound=function(){this.jsToAppMessage('{"event":"BOUND", "data":""}')},e.prototype.signin=function(){this.jsToAppMessage('{"event":"SIGNIN", "data":""}')},e.prototype.showWebGLAlert=function(){this.jsToAppMessage('{"event":"EVENT_WEBGL_NOTSUPPORT", "data":""}')},t.appTalking=e}(H5ToAIO=H5ToAIO||{}),!function(C){function k(){}k.isMobile=function(){return!!(C.Device.iOS()||C.Device.Android()||C.Device.BlackBerry()||C.Device.WindowsPhone()||C.Device.WindowsTablet()||C.Device.webOS())},k.DeviceType=function(){return C.Device.iOS()?"IOS":C.Device.Android()?"Android":C.Device.isAIO()?"AIO":C.Device.BlackBerry()?"BlackBerry":C.Device.WindowsPhone()?"WindowsPhone":C.Device.WindowsTablet()?"WindowsTablet":C.Device.webOS()?"webOS":"Desktop"},k.searchIndex=function(t,e){for(var i,n=0;n<t.length;n++)if(t[n].match(e)){i=n;break}return i},k.getDesktopOS=function(){var t="",e=window.navigator.userAgent;return-1!=e.indexOf("Windows NT 10.0")&&(t="Windows 10"),-1!=e.indexOf("Windows NT 6.2")&&(t="Windows 8"),-1!=e.indexOf("Windows NT 6.1")&&(t="Windows 7"),-1!=e.indexOf("Windows NT 6.0")&&(t="Windows Vista"),-1!=e.indexOf("Windows NT 5.1")&&(t="Windows XP"),-1!=e.indexOf("Windows NT 5.0")&&(t="Windows 2000"),-1!=e.indexOf("Mac")&&(t="Mac/iOS"),-1!=e.indexOf("X11")&&(t="UNIX"),t=-1!=e.indexOf("Linux")?"Linux":t},k.iOS=function(){return!(!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&!C.Device.iPadOS())},k.iPhone4Inch=function(){return!!(navigator.userAgent.match(/iPhone/i)&&screen.width<375)},k.iPadOS=function(){var t=window.navigator.userAgent;return-1<t.indexOf("iPad")||!!(-1<t.indexOf("Macintosh")&&window.navigator.maxTouchPoints&&2<window.navigator.maxTouchPoints)},k.isTablet=function(){return!(!C.Device.isMobile()||(C.Device.iOS()?!navigator.userAgent.match(/iPad/i)&&!C.Device.iPadOS():C.Device.Android()?navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Mobile/i)&&null==navigator.userAgent.match(/BTV-DL09/i):!C.Device.WindowsTablet()))},k.iOSWebView=function(){var t=window.navigator.userAgent.toLowerCase(),t=/safari/.test(t);return!(!k.iOS()||t)},k.AndroidWebView=function(){var t=window.navigator.userAgent.toLowerCase(),t=/wv/.test(t);return!(!k.Android()||!t)},k.isAIO=function(){return"AIO"==this.getParameterByName("platform")},k.getParameterByName=function(t){var e=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},k.Android=function(){return!!navigator.userAgent.match(/Android/i)},k.BlackBerry=function(){return!!navigator.userAgent.match(/BlackBerry/i)},k.WindowsPhone=function(){return!!navigator.userAgent.match(/Windows Phone/i)},k.WindowsTablet=function(){return!(!navigator.userAgent.match(/Windows/i)||!navigator.userAgent.match(/ARM/i))},k.webOS=function(){return!!navigator.userAgent.match(/webOS/i)},k.getflashPlayerVersion=function(){var t=!1,e=swfobject.getFlashPlayerVersion();return t=null!=e&&0<e.major?!0:t},k.getBrowser=function(){var t,e=["isUB","isOpera","isFirefox","isSafari","isIE","isEdge","isChrome"],i=[],n=e.length,a=0;i.push(C.Device.isUB()),i.push(C.Device.isOpera()),i.push(C.Device.isFirefox()),i.push(C.Device.isSafari()),i.push(C.Device.isIE()),i.push(C.Device.isEdge()),i.push(C.Device.isChrome());for(var o=0;o<n;o++){if(i[o]){a=o;break}a=i.length}a!=i.length&&(t=e[a]);var r=navigator.userAgent.split(" ");switch(t){case"isUB":case"isOpera":case"isSafari":case"isFirefox":case"isEdge":case"isIE":t=r[r.length-1].replace(/\//g," ");break;case"isChrome":t=r[r.length-2].replace(/\//g," ")}return navigator.userAgent.match(/Mobile Safari/i)?(t=(t=r[r.length-1].replace(/\//g," ")).match("Safari")?r[r.length-4].replace(/\//g," "):t).match("Gecko")&&(t=r[r.length-3].replace(/\//g," ")):C.Device.Android()&&a==i.length&&(t=r[r.length-2].replace(/\//g," ")),t=navigator.userAgent.match(/iOS/i)?r[r.length-3].replace(/\//g," "):t},k.getOSAndVersion=function(){var t=navigator.userAgent.split("(")[1].split(")")[0].split(";");if(C.Device.Android())return t[k.searchIndex(t,"Android")];if(C.Device.iOS()){var e,i=t[0],n=0;for(o in t)-1!=t[o].indexOf("OS")&&(n=Number(o));for(var a=t[n].split(" "),o=0;o<a.length;o++)if("OS"==a[o]){e=(-1<window.navigator.userAgent.indexOf("Macintosh")?a[o+2]:a[o+1]).replace(/_/g,".");break}return i+" "+e}return i="Mac/iOS"==C.Device.getDesktopOS()?t[1].replace(/_/g,"."):C.Device.getDesktopOS()},k.isUB=function(){return 0<=navigator.userAgent.indexOf(" UB")},k.isOpera=function(){return!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/")},k.isFirefox=function(){return-1!=navigator.userAgent.indexOf("Firefox")},k.isSafari=function(){var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("safari"))return!(-1<t.indexOf("chrome"))},k.isIE=function(){return!!document.documentMode},k.isEdge=function(){return-1<navigator.userAgent.indexOf("Trident")||-1<navigator.userAgent.indexOf("Edge")},k.isChrome=function(){return!!navigator.userAgent.match(/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/)},k.getResolution=function(){return{w:window.innerWidth,h:window.innerHeight}},k.getScreenResolution=function(){return{w:screen.width,h:screen.height}},k.getGraphicCardInfo=function(t){var t=t.getContext("webgl")||t.getContext("experimental-webgl"),e=null;try{e=t.getExtension("WEBGL_debug_renderer_info")}catch(t){}var i="undefined";return i=null!=e?t.getParameter(e.UNMASKED_RENDERER_WEBGL):i},k.getClientIP=function(){var t,e="",i=navigator.userAgent.split(" ");for(t in i)-1<i[t].indexOf("HTTP_BB_FORWARDED")&&(e=i[t].split("HTTP_BB_FORWARDED/")[1]);return e},k.getDeviceInfo=function(t){var e,i,n=k.getScreenResolution(),a=Date.now(),o=C.Device.getOSAndVersion(),r=C.Device.getBrowser(),s="false",h="",l="",c="",u="",d="",p="",f=!1,_=!1,m=!1,g=navigator.userAgent.split(" ");if(r&&r.replace(/\"/g,""),C.Device.isMobile()){if(e=(n.w*devicePixelRatio).toString()+"x"+(n.h*devicePixelRatio).toString(),f=C.Device.isAIO(),_=C.Device.isTablet(),C.Device.iOS()?s=C.Device.iOSWebView()?"is_iOSWebView":"isnot_iOSWebView":C.Device.Android()&&(s=C.Device.AndroidWebView()?"is_AndroidWebView":"isnot_AndroidWebView"),f){var v,r="",y=void 0,P=void 0;for(v in g)-1<g[v].indexOf("game_portal")&&(y=g[v]),-1<g[v].indexOf("game_platform")&&(P=g[v]);u=P+" "+y}}else e=n.w.toString()+"x"+n.h.toString();if(n=window.innerWidth.toString()+"x"+window.innerHeight.toString(),null!=t&&(h=C.Device.getGraphicCardInfo(t)),1<window.location.search.split("?").length){for(var S,b=[],I=window.location.search.split("?")[1].split("&"),B=0;B<I.length;B++)b[(S=I[B].split("="))[0]]=S[1];b.mua&&(l=b.mua),b.dtp&&(c=b.dtp)}for(i in g)k.isUB()&&(-1<g[i].indexOf("Chrome")||-1<g[i].indexOf("UB")||-1<g[i].indexOf("CustomBrowser"))&&(d+=""==d?g[i]:" "+g[i]),-1<g[i].indexOf("HTTP_BB_FORWARDED")&&(p=g[i].split("HTTP_BB_FORWARDED/")[1]);(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&(m=!0);t={rd:"fx",ua:navigator.userAgent,os:o,srs:e,wrs:n,dpr:devicePixelRatio,pl:"H5",pf:r,wv:s,aio:f,vga:h,tablet:_,cts:a,mua:l,dtp:c,newaio:u,ub:d,pwa:m};return""!==p&&(t.encodeIP=p),t},C.Device=k}(DeviceAndEnvironment=DeviceAndEnvironment||{}),LZMA||{}),LZMA=(!function(f){"use strict";f.OutWindow=function(){this._windowSize=0},f.OutWindow.prototype.create=function(t){this._buffer&&this._windowSize===t||(this._buffer=new Uint8Array(t)),this._windowSize=t,this._pos=0,this._streamPos=0},f.OutWindow.prototype.flush=function(){var t=this._pos-this._streamPos;if(0!=t){if(this._stream.writeBytes)this._stream.writeBytes(this._buffer,t);else for(var e=0;e<t;e++)this._stream.writeByte(this._buffer[e]);this._pos>=this._windowSize&&(this._pos=0),this._streamPos=this._pos}},f.OutWindow.prototype.releaseStream=function(){this.flush(),this._stream=null},f.OutWindow.prototype.setStream=function(t){this.releaseStream(),this._stream=t},f.OutWindow.prototype.init=function(t){t||(this._streamPos=0,this._pos=0)},f.OutWindow.prototype.copyBlock=function(t,e){var i=this._pos-t-1;for(i<0&&(i+=this._windowSize);e--;)i>=this._windowSize&&(i=0),this._buffer[this._pos++]=this._buffer[i++],this._pos>=this._windowSize&&this.flush()},f.OutWindow.prototype.putByte=function(t){this._buffer[this._pos++]=t,this._pos>=this._windowSize&&this.flush()},f.OutWindow.prototype.getByte=function(t){t=this._pos-t-1;return t<0&&(t+=this._windowSize),this._buffer[t]},f.RangeDecoder=function(){},f.RangeDecoder.prototype.setStream=function(t){this._stream=t},f.RangeDecoder.prototype.releaseStream=function(){this._stream=null},f.RangeDecoder.prototype.init=function(){var t=5;for(this._code=0,this._range=-1;t--;)this._code=this._code<<8|this._stream.readByte()},f.RangeDecoder.prototype.decodeDirectBits=function(t){for(var e,i=0,n=t;n--;)this._range>>>=1,e=this._code-this._range>>>31,this._code-=this._range&e-1,i=i<<1|1-e,0==(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8);return i},f.RangeDecoder.prototype.decodeBit=function(t,e){var i=t[e],n=(this._range>>>11)*i;return(2147483648^this._code)<(2147483648^n)?(this._range=n,t[e]+=2048-i>>>5,0==(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),0):(this._range-=n,this._code-=n,t[e]-=i>>>5,0==(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),1)},f.initBitModels=function(t,e){for(;e--;)t[e]=1024},f.BitTreeDecoder=function(t){this._models=[],this._numBitLevels=t},f.BitTreeDecoder.prototype.init=function(){f.initBitModels(this._models,1<<this._numBitLevels)},f.BitTreeDecoder.prototype.decode=function(t){for(var e=1,i=this._numBitLevels;i--;)e=e<<1|t.decodeBit(this._models,e);return e-(1<<this._numBitLevels)},f.BitTreeDecoder.prototype.reverseDecode=function(t){for(var e,i=1,n=0,a=0;a<this._numBitLevels;++a)i=i<<1|(e=t.decodeBit(this._models,i)),n|=e<<a;return n},f.reverseDecode2=function(t,e,i,n){for(var a,o=1,r=0,s=0;s<n;++s)o=o<<1|(a=i.decodeBit(t,e+o)),r|=a<<s;return r},f.LenDecoder=function(){this._choice=[],this._lowCoder=[],this._midCoder=[],this._highCoder=new f.BitTreeDecoder(8),this._numPosStates=0},f.LenDecoder.prototype.create=function(t){for(;this._numPosStates<t;++this._numPosStates)this._lowCoder[this._numPosStates]=new f.BitTreeDecoder(3),this._midCoder[this._numPosStates]=new f.BitTreeDecoder(3)},f.LenDecoder.prototype.init=function(){var t=this._numPosStates;for(f.initBitModels(this._choice,2);t--;)this._lowCoder[t].init(),this._midCoder[t].init();this._highCoder.init()},f.LenDecoder.prototype.decode=function(t,e){return 0===t.decodeBit(this._choice,0)?this._lowCoder[e].decode(t):0===t.decodeBit(this._choice,1)?8+this._midCoder[e].decode(t):16+this._highCoder.decode(t)},f.Decoder2=function(){this._decoders=[]},f.Decoder2.prototype.init=function(){f.initBitModels(this._decoders,768)},f.Decoder2.prototype.decodeNormal=function(t){for(var e=1;(e=e<<1|t.decodeBit(this._decoders,e))<256;);return 255&e},f.Decoder2.prototype.decodeWithMatchByte=function(t,e){var i,n,a=1;do{if(i=e>>7&1,e<<=1,a=a<<1|(n=t.decodeBit(this._decoders,(1+i<<8)+a)),i!==n){for(;a<256;)a=a<<1|t.decodeBit(this._decoders,a);break}}while(a<256);return 255&a},f.LiteralDecoder=function(){},f.LiteralDecoder.prototype.create=function(t,e){var i;if(!this._coders||this._numPrevBits!==e||this._numPosBits!==t)for(this._numPosBits=t,this._posMask=(1<<t)-1,this._numPrevBits=e,this._coders=[],i=1<<this._numPrevBits+this._numPosBits;i--;)this._coders[i]=new f.Decoder2},f.LiteralDecoder.prototype.init=function(){for(var t=1<<this._numPrevBits+this._numPosBits;t--;)this._coders[t].init()},f.LiteralDecoder.prototype.getDecoder=function(t,e){return this._coders[((t&this._posMask)<<this._numPrevBits)+((255&e)>>>8-this._numPrevBits)]},f.Decoder=function(){this._outWindow=new f.OutWindow,this._rangeDecoder=new f.RangeDecoder,this._isMatchDecoders=[],this._isRepDecoders=[],this._isRepG0Decoders=[],this._isRepG1Decoders=[],this._isRepG2Decoders=[],this._isRep0LongDecoders=[],this._posSlotDecoder=[],this._posDecoders=[],this._posAlignDecoder=new f.BitTreeDecoder(4),this._lenDecoder=new f.LenDecoder,this._repLenDecoder=new f.LenDecoder,this._literalDecoder=new f.LiteralDecoder,this._dictionarySize=-1,this._dictionarySizeCheck=-1,this._posSlotDecoder[0]=new f.BitTreeDecoder(6),this._posSlotDecoder[1]=new f.BitTreeDecoder(6),this._posSlotDecoder[2]=new f.BitTreeDecoder(6),this._posSlotDecoder[3]=new f.BitTreeDecoder(6)},f.Decoder.prototype.setDictionarySize=function(t){return!(t<0||(this._dictionarySize!==t&&(this._dictionarySize=t,this._dictionarySizeCheck=Math.max(this._dictionarySize,1),this._outWindow.create(Math.max(this._dictionarySizeCheck,4096))),0))},f.Decoder.prototype.setLcLpPb=function(t,e,i){var n=1<<i;return!(8<t||4<e||4<i||(this._literalDecoder.create(e,t),this._lenDecoder.create(n),this._repLenDecoder.create(n),this._posStateMask=n-1,0))},f.Decoder.prototype.setProperties=function(t){if(!this.setLcLpPb(t.lc,t.lp,t.pb))throw Error("Incorrect stream properties");if(!this.setDictionarySize(t.dictionarySize))throw Error("Invalid dictionary size")},f.Decoder.prototype.decodeHeader=function(t){var e,i,n,a,o;return!(t.size<13)&&(e=(n=t.readByte())%9,i=(n=~~(n/9))%5,n=~~(n/5),o=t.readByte(),o=(o=(o|=t.readByte()<<8)|t.readByte()<<16)+16777216*t.readByte(),a=t.readByte(),a=(a=(a|=t.readByte()<<8)|t.readByte()<<16)+16777216*t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),{lc:e,lp:i,pb:n,dictionarySize:o,uncompressedSize:a})},f.Decoder.prototype.init=function(){var t=4;for(this._outWindow.init(!1),f.initBitModels(this._isMatchDecoders,192),f.initBitModels(this._isRep0LongDecoders,192),f.initBitModels(this._isRepDecoders,12),f.initBitModels(this._isRepG0Decoders,12),f.initBitModels(this._isRepG1Decoders,12),f.initBitModels(this._isRepG2Decoders,12),f.initBitModels(this._posDecoders,114),this._literalDecoder.init();t--;)this._posSlotDecoder[t].init();this._lenDecoder.init(),this._repLenDecoder.init(),this._posAlignDecoder.init(),this._rangeDecoder.init()},f.Decoder.prototype.decodeBody=function(t,e,i){var n,a,o,r,s=0,h=0,l=0,c=0,u=0,d=0,p=0;for(this._rangeDecoder.setStream(t),this._outWindow.setStream(e),this.init();i<0||d<i;)if(r=d&this._posStateMask,0===this._rangeDecoder.decodeBit(this._isMatchDecoders,(s<<4)+r))o=this._literalDecoder.getDecoder(d++,p),p=7<=s?o.decodeWithMatchByte(this._rangeDecoder,this._outWindow.getByte(h)):o.decodeNormal(this._rangeDecoder),this._outWindow.putByte(p),s=s<4?0:s-(s<10?3:6);else{if(1===this._rangeDecoder.decodeBit(this._isRepDecoders,s))(n=0)===this._rangeDecoder.decodeBit(this._isRepG0Decoders,s)?0===this._rangeDecoder.decodeBit(this._isRep0LongDecoders,(s<<4)+r)&&(s=s<7?9:11,n=1):(0===this._rangeDecoder.decodeBit(this._isRepG1Decoders,s)?a=l:(0===this._rangeDecoder.decodeBit(this._isRepG2Decoders,s)?a=c:(a=u,u=c),c=l),l=h,h=a),0===n&&(n=2+this._repLenDecoder.decode(this._rangeDecoder,r),s=s<7?8:11);else if(u=c,c=l,l=h,n=2+this._lenDecoder.decode(this._rangeDecoder,r),s=s<7?7:10,4<=(o=this._posSlotDecoder[n<=5?n-2:3].decode(this._rangeDecoder))){if(h=(2|1&o)<<(r=(o>>1)-1),o<14)h+=f.reverseDecode2(this._posDecoders,h-o-1,this._rangeDecoder,r);else if((h=(h+=this._rangeDecoder.decodeDirectBits(r-4)<<4)+this._posAlignDecoder.reverseDecode(this._rangeDecoder))<0){if(-1===h)break;return!1}}else h=o;if(d<=h||h>=this._dictionarySizeCheck)return!1;this._outWindow.copyBlock(h,n),d+=n,p=this._outWindow.getByte(0)}return this._outWindow.flush(),this._outWindow.releaseStream(),this._rangeDecoder.releaseStream(),!0},f.Decoder.prototype.setDecoderProperties=function(t){var e;return!(t.size<5||(e=t.readByte(),!this.setLcLpPb(e%9,(e=~~(e/9))%5,~~(e/5))))&&(e=t.readByte(),e=(e=(e|=t.readByte()<<8)|t.readByte()<<16)+16777216*t.readByte(),this.setDictionarySize(e))},f.decompress=function(t,e,i,n){var a=new f.Decoder;if(!a.setDecoderProperties(t))throw Error("Incorrect lzma stream properties");if(a.decodeBody(e,i,n))return i;throw Error("Error in lzma data stream")},f.decompressFile=function(t,e){t instanceof ArrayBuffer&&(t=new f.iStream(t)),!e&&f.oStream&&(e=new f.oStream);var i=new f.Decoder,n=i.decodeHeader(t),a=n.uncompressedSize;if(i.setProperties(n),i.decodeBody(t,e,a))return e;throw Error("Error in lzma data stream")},f.decode=f.decompressFile}(LZMA),LZMA||{}),UTF8=(!function(r){r.iStream=function(t){this.array=new Uint8Array(t),this.size=t.byteLength,this.offset=0},r.iStream.prototype.readByte=function(){return this.array[this.offset++]},r.oStream=function(t){this.size=0,this.buffers=[];for(var e=0,i=(t=t||[]).length;e<i;e++)if(t[e]instanceof r.oStream)for(var n=t[e].buffers,a=0;a<n.length;a++)this.buffers.push(t[e].buffers[a]),this.size+=t[e].buffers[a].length;else this.buffers.push(t[e]),this.size+=t[e].length},r.oStream.prototype.writeBytes=function(t,e){if(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(t,e){return new Uint8Array(this.buffer.slice(t,e))}),!(e<=t.byteLength))throw Error("Buffer too small?");this.buffers.push(t.slice(0,e)),this.size+=e},r.oStream.prototype.toUint8Array=function(){var t=this.size,e=this.buffers;if(1==e.length)return e[0];try{for(var i=new Uint8Array(t),n=0,a=0;n<e.length;n++)i.set(e[n],a),a+=e[n].length;return e[0]=i,e.length=1,i}catch(t){}return null},r.oStream.prototype.forEach=function(t){for(var e=0;e<this.buffers.length;e++)t.call(this,this.buffers[e])},r.oStream.prototype.toCodePoints=function(){return r.UTF8||this.toUint8Array(),r.UTF8.decode(this.toUint8Array())},r.oStream.prototype.toString=function(){for(var t=this.buffers,e="",i=0,n=(t=r.UTF8?[this.toCodePoints()]:t).length;i<n;i++)for(var a=0,o=t[i].length;a<o;a++)e+=String.fromCharCode(t[i][a]);return e}}(LZMA),UTF8||{}),IPL,CDN,ScaleSprite,Tools,PIXILayoutTool,VersionTool,SoundsManager,H5Utils=(!function(t){"use strict";function o(t){for(var e=0,i=t.length;i--;)128!=(192&t[i])&&++e;return e}var r,s,h;String.fromCharCode;function n(){if(s<=h)throw Error("Invalid byte index");var t=255&r[h++];if(128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(){var t,e=0;if((0|s)<(0|h))throw Error("Invalid byte index");if(t=255&r[h],h=h+1|0,0==(128&t))return t;if(192==(224&t)){if(128<=(e=(31&t)<<6|n()))return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(e=(15&t)<<12|n()<<6|n())){var i=e;if(55296<=i&&i<=57343)throw Error("Lone surrogate U+"+i.toString(16).toUpperCase()+" is not a scalar value");return e}throw Error("Invalid continuation byte")}if(240==(248&t)&&65536<=(e=(7&t)<<18|n()<<12|n()<<6|n())&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}t.count=o,t.decode=function(t){var e=0,i=o(t),n=new Uint16Array(i);for(2<((h=0)|(s=(r=t).length))&239==(0|r[0])&187==(0|r[1])&191==(0|r[2])&&(h=3);(0|h)<(0|s);){var a=0|l();n[e++]=a}return n},void 0!==LZMA&&(LZMA.UTF8=t)}(UTF8),!function(i){e=H5Event.H5BaseEvent,__extends(a,e),a.prototype.clone=function(){var t=new a(this.type);return t.data=this.data,t},a.ON_PARAMETER="on_parameter",a.ON_HTTP_REQUEST_DATA="on_http_request_data";var e,n=a;function a(t){return e.call(this,t)||this}i.IPLEvent=n;o=H5EventdispatcherCore.EventDispatcher,__extends(r,o),r.prototype.isSupportedWASM=function(){var t=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]);return window.WebAssembly?WebAssembly.compile(t).then(function(t){t=0==new WebAssembly.Instance(t,{}).exports.test(4);return!t}).catch(function(t){return!1}):Promise.resolve(!1)},r.prototype.splitURL=function(){var t=this,e=window.location.href.split("/");-1==e[2].indexOf("127.0.0.1")&&-1==e[2].indexOf("localhost")&&-1==e[2].indexOf("192.168")&&-1==window.location.href.indexOf("file")||(r.isLocal=!0,r.localPath=window.location.href.split("index")[0]),this.getParameter(),r.domain=e[0]+"//"+e[2],r.isLocal?null!=r.allParameter&&null!=r.allParameter.domain&&(e=r.allParameter.domain.split("/"),r.domain=r.allParameter.domain,r.serverIP=e[2]):(r.serverIP=e[2],this.getServerIp()),"https:"==e[0]?r.isSecure=!0:r.isSecure=!1,this.startDictManager(),this._dictTimer=setTimeout(function(){t.allLoadtComplete()},5e3)},r.getDomainRdA=function(){var t,e="",e=-1!=r.domain.indexOf("vir888")?"ts-m.":-1!=r.domain.indexOf("vir999")?"www.":-1!=r.domain.indexOf("04vip")?"test.":-1!=r.domain.indexOf("//888.")?"777.":"www.",i="";return 0!=r.domain.indexOf("http://")&&0!=r.domain.indexOf("https://")||(t=r.domain.indexOf("://"),i=r.domain.substring(0,t+3)+e,i+=(e=r.domain.substring(t+3).split("."))[(t=e.length-1)-1]+"."+e[t]),i},r.prototype.startDictManager=function(){this._dictManager=new h(r.domain),this._dictManager.addEventListener("DICT_LOADED",this.onJsonLoaded),i.DictManager.setLang(r.lang)},r.prototype.allLoadtComplete=function(){this._dictReady||(this._dictReady=!0,this.allResourceReady())},r.prototype.allResourceReady=function(){var t;this._dictReady&&(this._isServerIpReady||r.isLocal)&&((t=new n(n.ON_PARAMETER)).data=this.parameter,o.prototype.dispatchEvent.call(this,t),this.isSupportedWASM().then(this.onWasmTest))},r.prototype.getParameter=function(){r.sid=window.SessionID;var t=window.location.href.split("?");if(1!=t.length){for(var e=t[1].split("&"),i=0;i<e.length;i++){var n=e[i].split("="),a=n[0].substring(0,n[0].length);this.parameter[a]=n[1];for(var o=2;o<n.length;o++)this.parameter[a]+="="+n[o]}null!=this.parameter.sid&&(r.sid=this.parameter.sid),window.parent.memberDomain?r.memberDomain=window.parent.memberDomain:this.parameter.domain&&(r.memberDomain=this.parameter.domain+"/"),null!=this.parameter.lang&&(r.originLang=this.parameter.lang,r.rdaLang=this.identifyRdLang(this.parameter.lang),r.lang=this.identifyLang(this.parameter.lang),r.noChangeLang=this.identifyNoLang(this.parameter.lang)),null!=this.parameter.listType&&(r.listType=this.parameter.listType),null!=this.parameter.utype&&(r.uType=this.parameter.utype),null!=this.parameter.Mobile&&(r.mobile=this.parameter.Mobile),null!=this.parameter.exit_option&&(r.exitOption=this.parameter.exit_option),window.parent.HallID?r.hallID=window.parent.HallID:null!=this.parameter.HALLID&&(r.hallID=this.parameter.HALLID),null!=this.parameter.pagr&&(r.pagr=this.parameter.pagr),null!=this.parameter.stress&&(r.stress=this.parameter.stress),null!=this.parameter.GameType&&(r.gameType=this.parameter.GameType),null!=this.parameter.GameCode&&(r.gameCode=this.parameter.GameCode),null!=this.parameter.tag&&""!=this.parameter.tag&&(r.tag=this.parameter.tag),r.allParameter=this.parameter}},r.prototype.noFlashGameType=function(){return"3017"==r.gameType||"3018"==r.gameType||"3019"==r.gameType},r.prototype.isWebGL=function(){return PIXI.utils.isWebGLSupported()},r.prototype.isIE=function(){var t=window.navigator.userAgent.toLowerCase(),e=-1!=t.indexOf("msie");if(!e&&"Netscape"==window.navigator.appName&&null!=new RegExp("trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t))return!0;return!1},r.prototype.tipsLang=function(t){return"zh-tw"==t||"tw"==t?"tw":"zh-cn"==t||"cn"==t?"cn":"en"},r.prototype.getServerIp=function(){var t=this,e=new XMLHttpRequest;e.open("GET",window.location.origin+"/ipl/app/flash/pig/game/videoH5/GameAPI/FxDataApi.php?gtype="+i.UrlParameter.gameType+"&dm="+location.host),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&(""!=JSON.parse(e.response).link&&(i.UrlParameter.serverIP=JSON.parse(e.response).link),t._isServerIpReady||(t._isServerIpReady=!0,t.allResourceReady()))},e.send()},r.prototype.identifyNoLang=function(t){return"vi"==t||"th"==t||"id"==t||"ja"==t||"es"==t||"kr"==t?t:"zh-tw"==t||"tw"==t?"tw":"zh-cn"==t||"ug"==t||"cn"==t?"cn":"ko"==t?"kr":"jp"==t?"ja":"vn"==t?"vi":"us"},r.prototype.identifyLang=function(t){return"vi"==t||"th"==t?t:"zh-tw"==t||"tw"==t?"tw":"zh-cn"==t||"ug"==t||"cn"==t?"cn":"ko"==t?"kr":"jp"==t?"ja":"vn"==t?"vi":"us"},r.prototype.identifyRdLang=function(t){return"vi"==t||"th"==t||"id"==t||"ja"==t||"es"==t?t:"zh-tw"==t||"tw"==t?"zh-tw":"zh-cn"==t||"ug"==t||"cn"==t?"zh-cn":"kr"==t||"ko"==t?"ko":"jp"==t?"ja":"vn"==t?"vi":"en"},r.getTime=function(){return(new Date).getTime().toString()},r.gotoUserInfo=function(){null!=parent.openMemberData&&parent.openMemberData()},r.gotoRD1WebglDetect=function(){null!=parent.checkWebGL&&parent.checkWebGL()},r.gotoBetHistory=function(t){t=""!=(t=void 0===t?"":t)?t:r.gameType;t={domain:r.domain,sid:this.sid,lang:r.originLang,vnd:r.getTime(),gameType:t};r.isIframe?null!=parent.show_betrecord?IframeController.setIframe(t.domain+parent.show_betrecord(t)):IframeController.betHistory(t):null!=parent.show_betrecord?window.open(t.domain+parent.show_betrecord(t)):window.open(t.domain+"/ipl/portal.php/game/betrecord_search/kind3?GameCode=1&GameType="+t.gameType+"&sid="+t.sid+"&lang="+t.lang+"&rnd"+t.vnd)},r.gotoHonorPoint=function(t){t=""!=(t=void 0===t?"":t)?t:r.gameType;var e,t={domain:r.domain,sid:this.sid,lang:r.originLang,vnd:r.getTime(),gameType:t};null==parent.show_betrecord?(e=t.domain+"/live/honorpoint_record/honorpoint",DeviceAndEnvironment.Device.isMobile()?IframeController.setIframe(e):window.open(e,"_blank")):r.isIframe?IframeController.setIframe(t.domain+parent.show_honorpoint(t)):window.open(t.domain+parent.show_honorpoint(t))},r.gotoBankerPage=function(){var t;null!=parent.checkWebGL?(t={sid:this.sid,lang:this.rdaLang,vnd:r.getTime()},parent.DepositUrl(t)):window.open(r.memberDomain+"infe/mcenter/#/deposit")},r.gotoRulePage=function(t,e,i){void 0===i&&(i="0"),t=""!=(t=void 0===t?"":t)?t:r.gameType,e=""!=(e=void 0===e?"":e)?e:r.gameCode;var n,t={domain:r.domain,sid:this.sid,lang:r.originLang,vnd:r.getTime(),gameType:t,gameCode:e,state:i};null!=parent.show_rule&&(n=parent.show_rule(t)),r.gotoTargetPage(n)},r.gotoTargetPage=function(t){t=r.domain+t,r.isIframe?IframeController.gotoTargetUrl(t):window.open(t)},r.gotoBulletin=function(){var t,e={domain:r.domain,lang:r.originLang,vnd:r.getTime(),gameType:r.gameType,gameCode:r.gameCode};null!=parent.show_msg&&(t=parent.show_msg(e)),r.gotoTargetPage(t)},r.gotoWheel=function(){var t={domain:r.domain,sid:this.sid};IframeController.wheel(t)},r.gotoITalking=function(){var t=r.isSecure?"https://":"http://";t=t+this.tmpITalking+"&dmsrc="+r.domain+"&isLogin=Y&sid="+this.sid+"&lang="+r.rdaLang,window.open(t,"_blank")},r.gotoExit=function(){DeviceAndEnvironment.Device.isMobile()?(r.apTalking.logout(),null!=parent.gobacklobbyNew?parent.gobacklobbyNew():null!=parent.gobacklobby&&parent.gobacklobby(),parent.document.fullscreenElement?parent.document.exitFullscreen():parent.document.msExitFullscreen?parent.document.msExitFullscreen():parent.document.mozCancelFullScreen?parent.document.mozCancelFullScreen():parent.document.webkitExitFullscreen&&parent.document.webkitExitFullscreen()):null!=parent.gobacklobbyNew?parent.gobacklobbyNew():parent.window.close()},r.sid="",r.gameType="",r.gameCode="",r.lang="cn",r.serverIP="",r.isSecure=!1,r.uType="2",r.hallID="",r.memberDomain="",r.stress="0",r.pagr="0",r.tag="1",r.listType="",r.canUseWasm="INIT",r.canUseWebGL=!1,r.originDomain="",r.noChangeLang=r.lang,r.domain="",r.isLocal=!1,r.isIE=!1,r.isIframe=!1,r.mobile="",r.exitOption="",r.originLang="",r.apTalking=new H5ToAIO.appTalking,r.isConChatRoom=!1;var o,t=r;function r(){var t=o.call(this)||this;return t._dictReady=!1,t._isServerIpReady=!1,t.onJsonLoaded=function(){null!=t._dictTimer&&clearTimeout(t._dictTimer),t.allLoadtComplete()},t.onWasmTest=function(t){r.canUseWasm=String(t)},t.parameter=new Object,t.splitURL(),t}i.UrlParameter=t;s=H5EventdispatcherCore.EventDispatcher,__extends(l,s),l.prototype.loadDict=function(){-1==window.location.href.indexOf("file")&&t.isLocal?this.xmlHR.open("GET",t.localPath+"scj_"+i.UrlParameter.lang):this.xmlHR.open("GET",this._domain+"/ipl/app/flash/publicbmw/common/scj_"+i.UrlParameter.lang),this.xmlHR.send()},l.setLang=function(t){l._lang=t},l.getDict=function(t){return null==l._dictObj||null==l._dictObj[l._lang][t]?t:l._dictObj[l._lang][t]},l.prototype.onResponse=function(){var t;200!=this.xmlHR.status&&this._failedCount<3?(this._failedCount++,this.loadDict()):0==this._dictLoad&&(this._failedCount=0,this._dictLoad=!0,t=new LZMA.iStream(this.xmlHR.response),t=LZMA.decompressFile(t),t=JSON.parse(t.toString()),l._dictObj=t.dict,s.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("DICT_LOADED")))},l._lang="id";var s,h=l;function l(t){var e=s.call(this)||this;return e._failedCount=0,e._dictLoad=!1,e._domain=t,e.xmlHR=new XMLHttpRequest,e.xmlHR.onreadystatechange=function(){try{e.xmlHR.responseType="arraybuffer"}catch(t){}},e.xmlHR.onloadend=function(){e.onResponse()},e.loadDict(),e}i.DictManager=h;c=H5EventdispatcherCore.EventDispatcher,__extends(d,c),d.prototype.onProgress=function(t){t.lengthComputable},d.prototype.onResponse=function(){var t=JSON.parse(this.xmlHR.responseText),e=new n(n.ON_HTTP_REQUEST_DATA);e.data=t,c.prototype.dispatchEvent.call(this,e)};var c,u=d;function d(t){var e=c.call(this)||this;return e.xmlHR=new XMLHttpRequest,e.xmlHR.onloadend=function(){e.onResponse()},e.xmlHR.onprogress=function(t){e.onProgress(t)},e.xmlHR.open("GET",t),e.xmlHR.send(),e}i.SimpleHttpRequest=u}(IPL=IPL||{}),!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),!function(t){e.ADDRESS="address";var o=e;function e(){}function i(){}t.CDNEvent=o,i.checkExist=function(){this.origin=window.location.href.split("index")[0],this.cdn="";var t=window.location.href.split("?"),e=[],i={};null!=t[1]&&(e=t[1].split("&"));for(var n=0;n<e.length;n++){var a=e[n].split("=");i[a[0].substring(0,a[0].length)]=a[1]}null!=i.curl&&"/pig/game/"!=i.curl&&"<?=$FX_ADR?>"!=i.curl&&"1"==i.fxn?(this.cdn=window.location.protocol+"//"+i.curl+window.location.href.split("index")[0].split("game/")[1],this.checkPing()):null!=window.FxAdr&&"/pig/game/"!=window.FxAdr&&"<?=$FX_ADR?>"!=window.FxAdr&&"1"==i.fxn?(this.cdn=window.location.protocol+"//"+window.FxAdr+window.location.href.split("index")[0].split("game/")[1],this.checkPing()):(t=new CustomEvent(o.ADDRESS),this.finalAddress=t.address=this.origin,this.event.dispatchEvent(t))},i.checkPing=function(){var e=this,i=(this.cdnCheck=!1,new XMLHttpRequest);i.onreadystatechange=function(){var t;4===i.readyState&&200===i.status&&(e.cdnPing=(new Date).getTime()-e.cdnPing,e.cdnCheck=!0,e.cdnPing<3e3)&&(t=new CustomEvent(o.ADDRESS),e.finalAddress=t.address=e.cdn,e.event.dispatchEvent(t))},i.open("GET",this.cdn+"?"+(new Date).getTime(),!0),this.cdnPing=(new Date).getTime(),i.send(),setTimeout(function(){e.cdnCheck||e.checkPing2()},3e3)},i.checkPing2=function(){var e=this,i=(this.originCheck=!1,new XMLHttpRequest);i.onreadystatechange=function(){var t;4===i.readyState&&200===i.status&&(e.originPing=(new Date).getTime()-e.originPing,e.originCheck=!0,e.originPing<3e3)&&(t=new CustomEvent(o.ADDRESS),e.finalAddress=t.address=e.origin,e.event.dispatchEvent(t))},i.open("GET",this.origin+"?"+(new Date).getTime(),!0),this.originPing=(new Date).getTime(),i.send(),setTimeout(function(){var t;e.originCheck||(t=new CustomEvent(o.ADDRESS),e.finalAddress=t.address=e.cdn,e.event.dispatchEvent(t))},3e3)},i.event=document.createElement("event"),t.CDNCheck=i}(CDN=CDN||{}),!function(t){var h,e=PIXI.Sprite,i=(__extends(n,h=e),Object.defineProperty(n.prototype,"texture9",{set:function(t){for(var e,i=0,n=0;n<3;n++)for(var a=0;a<3;a++)e=new PIXI.Rectangle(this.cols[n]+t.frame.x,this.rows[a]+t.frame.y,Math.abs(this.cols[n+1]-this.cols[n]),Math.abs(this.rows[a+1]-this.rows[a])),this.scale9Sprites[i].texture=new PIXI.Texture(t.baseTexture,e),i++},enumerable:!1,configurable:!0}),n.fromFrame9=function(t,e){var i=PIXI.utils.TextureCache[t];if(i)return new n(i,e);throw new Error('The frameId "'+t+'" does not exist in the texture cache')},n.prototype.setSize=function(t,e){for(var i,n=0,a=[0,e[0],e[2],this._texture9.frame.width],o=[0,e[1],e[3],this._texture9.frame.height],r=[0,e[1],t.y-(this._texture9.frame.height-e[3]),t.y],s=[0,e[0],t.x-(this._texture9.frame.width-e[2]),t.x],h=0;h<3;h++)for(var l=0;l<3;l++)new PIXI.Rectangle(a[h],o[l],Math.abs(a[h+1]-a[h]),Math.abs(o[l+1]-o[l])),i=new PIXI.Rectangle(s[h],r[l],Math.abs(s[h+1]-s[h]),Math.abs(r[l+1]-r[l])),this.scale9Sprites[n].position.x=i.x,this.scale9Sprites[n].position.y=i.y,n++},Object.defineProperty(n.prototype,"width9",{get:function(){var t=this.scale9Sprites[0].width+this.scale9Sprites[3].width+this.scale9Sprites[6].width,e=this.scale9Sprites[1].width+this.scale9Sprites[4].width+this.scale9Sprites[7].width,i=this.scale9Sprites[2].width+this.scale9Sprites[5].width+this.scale9Sprites[8].width,n=t;return(n=(n=t<e?e:t)<i?i:n)*this.scale.x},set:function(t){0<=t&&(t=t-this.scale9Sprites[0].width-this.scale9Sprites[6].width,this.scale9Sprites[3].width=t=t<0?0:t,this.scale9Sprites[4].width=t,this.scale9Sprites[5].width=t,this.scale9Sprites[6].x=this.scale9Sprites[3].x+this.scale9Sprites[3].width,this.scale9Sprites[7].x=this.scale9Sprites[6].x,this.scale9Sprites[8].x=this.scale9Sprites[6].x)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height9",{get:function(){var t=this.scale9Sprites[0].height+this.scale9Sprites[1].height+this.scale9Sprites[2].height,e=this.scale9Sprites[3].height+this.scale9Sprites[4].height+this.scale9Sprites[5].height,i=this.scale9Sprites[6].height+this.scale9Sprites[7].height+this.scale9Sprites[8].height,n=t;return(n=(n=t<e?e:t)<i?i:n)*this.scale.y},set:function(t){0<=t&&(t=t-this.scale9Sprites[0].height-this.scale9Sprites[6].height,this.scale9Sprites[1].height=t=t<0?0:t,this.scale9Sprites[4].height=t,this.scale9Sprites[7].height=t,this.scale9Sprites[2].y=this.scale9Sprites[1].y+this.scale9Sprites[1].height,this.scale9Sprites[5].y=this.scale9Sprites[2].y,this.scale9Sprites[8].y=this.scale9Sprites[2].y)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scale9X",{set:function(t){var e;1<=t?(e=this._texture9.frame.width*t-this.scale9Sprites[0].width-this.scale9Sprites[6].width,this.scale9Sprites[3].width=e,this.scale9Sprites[4].width=e,this.scale9Sprites[5].width=e,this.scale9Sprites[6].x=this.scale9Sprites[3].x+this.scale9Sprites[3].width,this.scale9Sprites[7].x=this.scale9Sprites[3].x+this.scale9Sprites[3].width,this.scale9Sprites[8].x=this.scale9Sprites[3].x+this.scale9Sprites[3].width):this.scale.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scale9Y",{set:function(t){var e;1<=t?(e=this._texture9.frame.height*t-this.scale9Sprites[0].height-this.scale9Sprites[2].height,this.scale9Sprites[1].height=e,this.scale9Sprites[4].height=e,this.scale9Sprites[7].height=e,this.scale9Sprites[2].y=this.scale9Sprites[1].y+this.scale9Sprites[1].height,this.scale9Sprites[5].y=this.scale9Sprites[1].y+this.scale9Sprites[1].height,this.scale9Sprites[8].y=this.scale9Sprites[1].y+this.scale9Sprites[1].height):this.scale.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scale9",{set:function(t){this.scale9X=t,this.scale9Y=t},enumerable:!1,configurable:!0}),n);function n(t,e){for(var i,n=h.call(this)||this,a=(n.cacheAsBitmap=!1,new PIXI.Point(t.frame.width,t.frame.height)),o=(n.scale9Sprites=[],n._texture9=t,n.cols=[0,e[0],e[2],n._texture9.frame.width],n.rows=[0,e[1],e[3],n._texture9.frame.height],0),r=0;r<3;r++)for(var s=0;s<3;s++)i=new PIXI.Rectangle(n.cols[r]+n._texture9.frame.x,n.rows[s]+n._texture9.frame.y,Math.abs(n.cols[r+1]-n.cols[r]),Math.abs(n.rows[s+1]-n.rows[s])),n.scale9Sprites[o]=new PIXI.Sprite(new PIXI.Texture(n._texture9.baseTexture,i)),n.addChild(n.scale9Sprites[o]),o++;return n.setSize(a,e),n}t.Sprite9=i;__extends(a,l=e),Object.defineProperty(a.prototype,"texture3",{set:function(t){for(var e,i=0,n=0;n<3;n++)e=0==this.scaleType?new PIXI.Rectangle(this.point[n]+this._texture3.frame.x,this._texture3.frame.y,Math.abs(this.point[n+1]-this.point[n]),this._texture3.frame.height):new PIXI.Rectangle(this._texture3.frame.x,this.point[n]+this._texture3.frame.y,this._texture3.frame.width,Math.abs(this.point[n+1]-this.point[n])),this.scale3Sprites[i]=new PIXI.Sprite(new PIXI.Texture(this._texture3.baseTexture,e)),i++},enumerable:!1,configurable:!0}),a.fromFrame3=function(t,e){var i=PIXI.utils.TextureCache[t];if(i)return new a(i,e);throw new Error('The frameId "'+t+'" does not exist in the texture cache')},a.prototype.setSize=function(t,e){for(var i,n=0,a=0==this.scaleType?[0,e[0],t.x-(this._texture3.frame.width-e[1]),t.x]:[0,e[0],t.y-(this._texture3.frame.height-e[1]),t.y],o=0;o<3;o++)i=0==this.scaleType?(new PIXI.Rectangle(this.point[o]+this._texture3.frame.x,this._texture3.frame.y,Math.abs(this.point[o+1]-this.point[o]),this._texture3.frame.height),new PIXI.Rectangle(a[o],0,Math.abs(a[o+1]-a[o]),this._texture3.frame.height)):(new PIXI.Rectangle(this._texture3.frame.x,this.point[o]+this._texture3.frame.y,this._texture3.frame.width,Math.abs(this.point[o+1]-this.point[o])),new PIXI.Rectangle(0,a[o],this._texture3.frame.width,Math.abs(a[o+1]-a[o]))),this.scale3Sprites[n].position.x=i.x,this.scale3Sprites[n].position.y=i.y,n++},Object.defineProperty(a.prototype,"width3",{set:function(t){0<=t&&(t=t-this.scale3Sprites[0].width-this.scale3Sprites[6].width,this.scale3Sprites[3].width=t=t<0?0:t,this.scale3Sprites[4].width=t,this.scale3Sprites[5].width=t,this.scale3Sprites[6].x=this.scale3Sprites[3].x+this.scale3Sprites[3].width,this.scale3Sprites[7].x=this.scale3Sprites[6].x,this.scale3Sprites[8].x=this.scale3Sprites[6].x)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height3",{set:function(t){0<=t&&(t=t-this.scale3Sprites[0].width-this.scale3Sprites[6].width,this.scale3Sprites[1].height=t=t<0?0:t,this.scale3Sprites[4].height=t,this.scale3Sprites[7].height=t,this.scale3Sprites[2].y=this.scale3Sprites[1].y+this.scale3Sprites[1].height,this.scale3Sprites[5].y=this.scale3Sprites[2].y,this.scale3Sprites[8].y=this.scale3Sprites[2].y)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scale3X",{set:function(t){1<=t&&0==this.scaleType?(this.scale3Sprites[1].width=this._texture3.frame.width*t-this.scale3Sprites[0].width-this.scale3Sprites[2].width,this.scale3Sprites[2].x=this.scale3Sprites[1].x+this.scale3Sprites[1].width):this.scale.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scale3Y",{set:function(t){1<=t&&1==this.scaleType?(this.scale3Sprites[1].height=this._texture3.frame.height*t-this.scale3Sprites[0].height-this.scale3Sprites[2].height,this.scale3Sprites[2].y=this.scale3Sprites[1].y+this.scale3Sprites[1].height):this.scale.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scale3",{set:function(t){this.scale3X=t,this.scale3Y=t},enumerable:!1,configurable:!0});var l,i=a;function a(t,e,i){void 0===i&&(i=0);for(var n,a=l.call(this)||this,o=(a.cacheAsBitmap=!1,new PIXI.Point(t.frame.width,t.frame.height)),r=(a.scale3Sprites=[],a._texture3=t,a.scaleType=i,0==a.scaleType?a.point=[0,e[0],e[1],a._texture3.frame.width]:a.point=[0,e[0],e[1],a._texture3.frame.height],0),s=0;s<3;s++)n=0==a.scaleType?new PIXI.Rectangle(a.point[s]+a._texture3.frame.x,a._texture3.frame.y,Math.abs(a.point[s+1]-a.point[s]),a._texture3.frame.height):new PIXI.Rectangle(a._texture3.frame.x,a.point[s]+a._texture3.frame.y,a._texture3.frame.width,Math.abs(a.point[s+1]-a.point[s])),a.scale3Sprites[r]=new PIXI.Sprite(new PIXI.Texture(a._texture3.baseTexture,n)),a.addChild(a.scale3Sprites[r]),r++;return a.setSize(o,e),a}t.Sprite3=i}(ScaleSprite=ScaleSprite||{}),!function(t){var l=PIXI.Sprite,n=PIXI.Texture,e=PIXI.Container,a=(i.BtnStatus="btnstatus",i.BtnAction="btnaction",i.BtnClick="BtnClick",i.BtnMove="BtnMove",i.BtnLongTap="BtnLongTap",i);function i(){}t.ButtonEventName=a;__extends(o,c=e),Object.defineProperty(o.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dragging",{get:function(){return this._dragging},set:function(t){this._dragging=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"autoMouseStatus",{set:function(t){this._autoMouseStatus=t},enumerable:!1,configurable:!0}),o.prototype.reSetTxtPos=function(t){this.txtInstance.position=t},o.prototype.reSetTxtAnchor=function(t){this.txtInstance.anchor.set(t.x,t.y)},o.prototype.reSetBtnAnchor=function(t){this.btnInstance.anchor.set(t.x,t.y),this.btnMask.anchor.set(t.x,t.y)},o.prototype.setLoacationFromJSON=function(t){var e;switch(t){case"up":e=0;break;case"over":e=1;break;case"down":e=2;break;case"no":e=3}t=this.btnLocation[e],this.btnInstance.x=t.x,this.btnInstance.y=t.y,this.btnMask.x=this.btnLocation[0].x,this.btnMask.y=this.btnLocation[0].y,t.skewX!=t.skewY&&(this.btnInstance.skew.x=t.skewX/180*Math.PI,this.btnInstance.skew.y=t.skewY/180*Math.PI,this.btnMask.skew.x=this.btnLocation[0].skewX/180*Math.PI,this.btnMask.skew.y=this.btnLocation[0].skewY/180*Math.PI),this.btnInstance.rotation=t.rotation/180*Math.PI,null!=this.txtInstance&&(t=this.txtLocation[e],this.txtInstance.x=t.x,this.txtInstance.y=t.y,t.skewX!=t.skewY&&(this.txtInstance.skew.x=t.skewX/180*Math.PI,this.txtInstance.skew.y=t.skewY/180*Math.PI),this.txtInstance.rotation=t.rotation/180*Math.PI)},o.prototype.checkSingleTouch=function(t){var e;return!("4"==PIXI.VERSION.split(".")[0]&&4<=parseInt(PIXI.VERSION.split(".")[1]))||(e="touchstart"==t.type?1:("touchend"!=t.type&&"touchendoutside"!=t.type&&t.type,0),t.data.originalEvent.touches?!(t.data.originalEvent.touches.length>e):null!=t.data.originalEvent.isPrimary?t.data.originalEvent.isPrimary:void 0)},o.prototype.onTouchMove=function(t){var e,i;t.currentTarget.parent.dragging&&this.checkSingleTouch(t)&&(e=t.currentTarget.getLocalBounds(),i=t.currentTarget.toLocal(t.data.global),e.contains(i.x,i.y)?this.onButtonDown(t):this.onButtonOut())},o.prototype.loadBtnTexture=function(t,e,i){void 0===e&&(e=""),this.btn_up=n.fromFrame(t+"_up0000"),this.btnLocation[0]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._btnName+"_up",this.btnElementNum,this.btnLayer),this.btn_down=n.fromFrame(t+"_down0000"),this.btnLocation[2]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._btnName+"_down",this.btnElementNum,this.btnLayer);try{this.btn_over=n.fromFrame(t+"_over0000"),this.btnLocation[1]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._btnName+"_over",this.btnElementNum,this.btnLayer)}catch(t){this.btn_over=this.btn_up,this.btnLocation[1]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._btnName+"_up",this.btnElementNum,this.btnLayer)}try{this.btn_no=n.fromFrame(t+"_no0000"),this.btnLocation[3]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._btnName+"_no",this.btnElementNum,this.btnLayer)}catch(t){this.btn_no=this.btn_up,this.btnLocation[3]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._btnName+"_up",this.btnElementNum,this.btnLayer)}if(""!=e){this.txt_up=n.fromFrame(e+i+"_up0000"),this.txtLocation[0]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._txtName+i+"_up",this.txtElementNum,this.txtLayer),this.txt_down=n.fromFrame(e+i+"_down0000"),this.txtLocation[2]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._txtName+i+"_down",this.txtElementNum,this.txtLayer);try{this.txt_over=n.fromFrame(e+i+"_over0000"),this.txtLocation[1]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._txtName+i+"_over",this.txtElementNum,this.txtLayer)}catch(t){this.txt_over=this.txt_up,this.txtLocation[1]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._txtName+i+"_up",this.txtElementNum,this.txtLayer)}try{this.txt_no=n.fromFrame(e+i+"_no0000"),this.txtLocation[3]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._txtName+i+"_no",this.txtElementNum,this.txtLayer)}catch(t){this.txt_no=this.txt_up,this.txtLocation[3]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo(this._txtName+i+"_up",this.txtElementNum,this.txtLayer)}}},o.prototype.onButtonDown=function(t){this.checkSingleTouch(t)&&this._autoMouseStatus&&(this.preState="down",this.setStatus("down"))},o.prototype.onButtonUp=function(t){this._autoMouseStatus&&"out"==this.preState?(this.preState="up",this.setStatus("up")):this._autoMouseStatus&&"down"==this.preState&&(null!=this.btn_over?(this.preState="over",this.setStatus("over")):(this.preState="up",this.setStatus("up")),this.emit(a.BtnAction,{currentTarget:this,type:a.BtnClick}))},o.prototype.onButtonOver=function(t){this._autoMouseStatus&&null!=this.btn_over&&(this.preState="over",this.setStatus("over"))},o.prototype.forceBtnOut=function(){this.onButtonOut()},o.prototype.onButtonOut=function(){this._autoMouseStatus&&(this.preState="out",this.setStatus("up"))},o.prototype.setMouseStatus=function(t){this.interactive=t,this.btnMask.interactive=t,(this.btnMask.buttonMode=t)?this.setStatus("up"):this.setStatus("no")},o.prototype.onLongTap=function(){this.emit(a.BtnAction,{currentTarget:this,type:a.BtnLongTap})},o.prototype.setStatus=function(t){var e=this;switch(this._status=t){case"up":clearTimeout(this.longTapTimer),this._dragging=!1,this.btnInstance.texture=this.btn_up,null!=this.txtInstance&&(this.txtInstance.texture=this.txt_up);var i={currentTarget:this,type:"up"};this.emit(a.BtnStatus,i);break;case"over":clearTimeout(this.longTapTimer),this.btnInstance.texture=this.btn_over,null!=this.txtInstance&&(this.txtInstance.texture=this.txt_over);i={currentTarget:this,type:"over"};this.emit(a.BtnStatus,i);break;case"down":this._dragging||(this.longTapTimer=setTimeout(function(){e.onLongTap()},1500)),this.btnInstance.texture=this.btn_down,null!=this.txtInstance&&(this.txtInstance.texture=this.txt_down);i={currentTarget:this,type:"down"};this.emit(a.BtnStatus,i);break;case"no":clearTimeout(this.longTapTimer),this.btnInstance.texture=this.btn_no,null!=this.txtInstance&&(this.txtInstance.texture=this.txt_no);i={currentTarget:this,type:"no"};this.emit(a.BtnStatus,i)}this.autoLoacation&&this.setLoacationFromJSON(t)};var c,e=o;function o(t,e,i,n,a,o,r,s){void 0===i&&(i=""),void 0===n&&(n=""),void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=0);var h=c.call(this)||this;return h.autoLoacation=!0,h.btnElementNum=0,h.txtElementNum=0,h._dragging=!1,h._status="",h.autoLoacation=t,h.lang=""!=n?"_"+n:n,h._btnName=e,h._txtName=i,h.btnElementNum=a,h.txtElementNum=o,h.btnLayer=r,h.txtLayer=s,h.btnLocation=[{},{},{},{}],h.txtLocation=[{},{},{},{}],h.loadBtnTexture(e,i,h.lang),h.btnInstance=new l(h.btn_up),h.addChild(h.btnInstance),null!=h.txt_up&&(h.txtInstance=new l(h.txt_up),h.addChild(h.txtInstance),t||(h.txtInstance.x=h.btnInstance.width/2-h.txtInstance.width/2,h.txtInstance.y=h.btnInstance.height/2-h.txtInstance.height/2)),h.btnMask=new l(h.btn_up),h.addChild(h.btnMask),h.btnMask.alpha=0,h.btnMask.buttonMode=!0,h.btnMask.interactive=!0,h._autoMouseStatus=!0,h.btnMask.on("mousedown",function(t){h.onButtonDown(t)}),h.btnMask.on("mouseup",function(t){h.onButtonUp(t)}),h.btnMask.on("mouseupoutside",function(t){h.onButtonUp(t)}),null!=h.btn_over&&(h.btnMask.on("mouseover",function(t){h.onButtonOver(t)}),h.btnMask.on("mouseout",function(){h.onButtonOut()})),h.btnMask.on("touchstart",function(t){h.onButtonDown(t)}),h.btnMask.on("touchend",function(t){h.onButtonUp(t)}),h.btnMask.on("touchendoutside",function(t){h.onButtonUp(t)}),h.btnMask.on("touchmove",function(t){h.onTouchMove(t)}),h.btnMask.on("touchstart",function(){h._dragging=!0}),h.btnMask.on("touchend",function(){h._dragging=!1}),h.btnMask.on("touchendoutside",function(){h._dragging=!1}),h.setStatus("up"),h}t.Button=e}(Tools=Tools||{}),!function(t){e.setData=function(t){e.potionData=t;try{e.allPos=e.allPos.concat(e.potionData.frames.elements)}catch(t){e.allPos=e.allPos.concat(e.potionData.frame.elements)}},e.loadJSON=function(t,e,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?e&&e(JSON.parse(n.responseText)):i&&i(n))},n.open("get",t,!0),n.send()},e.initJSON=function(t){e.loadJSON((t=void 0===t?"":t)+"position.json",function(t){e.setData(t)},function(t){})},e.allPos=[];var k=e;function e(){}function a(){}t.Info=k,a.getPositionTargetName=function(t,e){if(-1!=this.getNumTargetName(t,e))return i=k.allPos[this.getNumTargetName(t,e)],new PIXI.Point(i.x,i.y);for(var i,n="",a=t.split("_"),o=0;o<a.length-1;o++)n=n+a[o]+"_";return-1!=this.getNumTargetName(n+="us",e)?(i=k.allPos[this.getNumTargetName(n,e)],new PIXI.Point(i.x,i.y)):null},a.createImageTargetName=function(t,e,i){var n,a,o;return void 0===i&&(i=!0),-1!=this.getNumTargetName(t,e)?((n=k.allPos[this.getNumTargetName(t,e)]).scale9Image?(a=[n.scale9Image[4].x,n.scale9Image[1].y,n.scale9Image[8].x,n.scale9Image[2].y],(a=i?ScaleSprite.Sprite9.fromFrame9(t+"_"+e+"0000",a):ScaleSprite.Sprite9.fromFrame9(t+"0000",a)).x=n.x,a.y=n.y,a.scale9X=n.scaleX,a.scale9Y=n.scaleY):n.scale3Image?(o="3"==n.scale3Image[7].point.charAt(1)?[n.scale3Image[2].x,n.scale3Image[4].x]:[n.scale3Image[1].y,n.scale3Image[2].y],(a=ScaleSprite.Sprite3.fromFrame3(t+"_"+e+"0000",o)).x=n.x,a.y=n.y,a.scale3X=n.scaleX,a.scale3Y=n.scaleY):(a=i?PIXI.Sprite.fromFrame(t+"_"+e+"0000"):PIXI.Sprite.fromFrame(t+"0000"),n.skewX!=n.skewY&&(0!=n.skewX&&(a.skew.x=n.skewX/180*Math.PI),0!=n.skewY)&&(a.skew.y=n.skewY/180*Math.PI),a.rotation=n.rotation/180*Math.PI,a.scale.x=n.scaleX,a.scale.y=n.scaleY,a.x=n.x,a.y=n.y,a.name=t),a):null},a.getNumTargetName=function(t,e){for(var i=-1,n=0;n<k.allPos.length;n++)if(k.allPos[n].name==t&&k.allPos[n].targetName==e){i=n;break}return i},a.getDisplayObjectInfo=function(t,e,i,n){return void 0===n&&(n=""),k.allPos[a.getIndex(t,e=void 0===e?0:e,i=void 0===i?0:i)]},a.createImage=function(e,t,i,n){var a,o;if(void 0===n&&(n=""),(c=k.allPos[this.getIndex(e,t=void 0===t?0:t,i=void 0===i?0:i)]).name==e)c.scale9Image?(a=[c.scale9Image[4].x,c.scale9Image[1].y,c.scale9Image[8].x,c.scale9Image[2].y],(a=ScaleSprite.Sprite9.fromFrame9(e+"0000",a)).x=c.x,a.y=c.y,a.scale9X=c.scaleX,a.scale9Y=c.scaleY):c.scale3Image?(o="3"==c.scale3Image[7].point.charAt(1)?[c.scale3Image[2].x,c.scale3Image[4].x]:[c.scale3Image[1].y,c.scale3Image[2].y],(a=ScaleSprite.Sprite3.fromFrame3(e+"0000",o)).x=c.x,a.y=c.y,a.scale3X=c.scaleX,a.scale3Y=c.scaleY):(a=PIXI.Sprite.fromFrame(e+"0000"),""!=n?(l=k.allPos[this.getIndex(n,t,i)],a.x=l.x,a.y=l.y,a.scale.x=l.scaleX,a.scale.y=l.scaleY):(c.skewX!=c.skewY&&(0!=c.skewX&&(a.skew.x=c.skewX/180*Math.PI),0!=c.skewY)&&(a.skew.y=c.skewY/180*Math.PI),a.rotation=c.rotation/180*Math.PI,a.scale.x=c.scaleX,a.scale.y=c.scaleY,a.x=c.x,a.y=c.y),a.name=e);else{var r="";try{a=PIXI.Sprite.fromFrame(e+"0000")}catch(t){for(var s=e.split("_"),h=0;h<s.length-1;h++)r=r+s[h]+"_";r+="us",a=PIXI.Sprite.fromFrame(r+"0000")}var l,c=k.allPos[this.getIndex(r,t,i)];""!=n?(l=k.allPos[this.getIndex(n,t,i)],a.x=l.x,a.y=l.y,a.scale.x=l.scaleX,a.scale.y=l.scaleY):(c.skewX!=c.skewY&&(0!=c.skewX&&(a.skew.x=c.skewX/180*Math.PI),0!=c.skewY)&&(a.skew.y=c.skewY/180*Math.PI),a.rotation=c.rotation/180*Math.PI,a.scale.x=c.scaleX,a.scale.y=c.scaleY,a.x=c.x,a.y=c.y),a.name=e}return a},a.createMovieClip=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);for(var n,a=[],o=0,r=!0,s=PIXI.Texture.fromFrame(t+"0000");r;){a.push(s),o++;try{s=o<10?PIXI.Texture.fromFrame(t+"000"+o):o<100?PIXI.Texture.fromFrame(t+"00"+o):PIXI.Texture.fromFrame(t+"0"+o)}catch(t){r=!1}}n=new PIXI.extras.AnimatedSprite(a);try{var h=k.allPos[this.getIndex(t,e,i)];n.position.x=h.x,n.width!=h.width&&0<=n.position.x&&1==h.scaleX?n.position.x-=Math.abs(n.width-h.width)/2:n.scale.x=h.scaleX,n.position.y=h.y,n.height!=h.height&&1==h.scaleY?n.position.y-=Math.abs(n.height-h.height)/2:n.scale.y=h.scaleY}catch(t){}return n.loop=!1,n.play(),n.name=t,n},a.createBtn=function(t,e,i,n,a){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=0),void 0===a&&(a=0);var o=PIXI.Texture.fromFrame(t+"_up0000");try{var r=PIXI.Texture.fromFrame(t+"_over0000")}catch(t){}var s,h,l,c,u=PIXI.Texture.fromFrame(t+"_down0000"),d={x:0,y:0},p=(d.x=k.allPos[this.getIndex(t+"_up",n,a)].x,d.y=k.allPos[this.getIndex(t+"_up",n,a)].y,null!=r&&((s={x:0,y:0}).x=k.allPos[this.getIndex(t+"_over",n,a)].x,s.y=k.allPos[this.getIndex(t+"_over",n,a)].y),{x:0,y:0}),f=(p.x=k.allPos[this.getIndex(t+"_down",n,a)].x,p.y=k.allPos[this.getIndex(t+"_down",n,a)].y,new PIXI.Sprite),_=k.allPos[this.getIndex(t+"_up",n,a)];if(_.scale9Image?(l=[_.scale9Image[4].x,_.scale9Image[1].y,_.scale9Image[8].x,_.scale9Image[2].y],(h=ScaleSprite.Sprite9.fromFrame9(t+"_up0000",l)).width9=_.width,h.height9=_.height):(h=new PIXI.Sprite(o)).scale.set(_.scaleX,_.scaleY),h.x=d.x,h.y=d.y,f.addChild(h),""!=i){try{PIXI.Texture.fromFrame(e+"_"+i+"_up0000")}catch(t){i="cn"}var m=PIXI.Texture.fromFrame(e+"_"+i+"_up0000");try{var g=PIXI.Texture.fromFrame(e+"_"+i+"_over0000")}catch(t){}var v,y=PIXI.Texture.fromFrame(e+"_"+i+"_down0000"),P=new Object,S=(P.x=k.allPos[this.getIndex(e+"_"+i+"_up")].x,P.y=k.allPos[this.getIndex(e+"_"+i+"_up")].y,null!=g&&((v=new Object).x=k.allPos[this.getIndex(e+"_"+i+"_over")].x,v.y=k.allPos[this.getIndex(e+"_"+i+"_over")].y),new Object),b=(S.x=k.allPos[this.getIndex(e+"_"+i+"_down")].x,S.y=k.allPos[this.getIndex(e+"_"+i+"_down")].y,new PIXI.Sprite(m));b.x=P.x-h.x,b.y=P.y-h.y,h.addChild(b)}function I(t){switch(t.type){case"mousedown":case"touchstart":this.isdown=!0,_.scale9Image?h.texture9=u:h.texture=u,h.x=p.x,h.y=p.y,""!=i&&(b.texture=y,b.x=S.x-h.x,b.y=S.y-h.y);break;case"mouseup":case"touchend":case"mouseupoutside":case"touchendoutside":this.isOver?null!=r&&C():B();break;case"mouseover":if(null!=r){if(this.isOver=!0,this.isdown)return;C()}break;case"mouseout":this.isOver=!1,this.isdown=!1,this.isdown&&(this.isdown=!1),B()}}function B(){_.scale9Image?h.texture9=o:h.texture=o,h.x=d.x,h.y=d.y,""!=i&&(b.texture=m,b.x=P.x-h.x,b.y=P.y-h.y)}function C(){_.scale9Image?h.texture9=r:h.texture=r,h.x=s.x,h.y=s.y,""!=i&&(b.texture=g,b.x=v.x-h.x,b.y=v.y-h.y)}return _.scale9Image?(l=[_.scale9Image[4].x,_.scale9Image[1].y,_.scale9Image[8].x,_.scale9Image[2].y],(c=ScaleSprite.Sprite9.fromFrame9(t+"_up0000",l)).width9=_.width,c.height9=_.height):(c=new PIXI.Sprite(o)).scale.set(_.scaleX,_.scaleY),c.x=d.x,c.y=d.y,f.addChild(c),c.alpha=0,c.buttonMode=!0,c.interactive=!0,c.on("mousedown",function(t){I(t)}).on("touchstart",function(t){I(t)}).on("mouseup",function(t){I(t)}).on("touchend",function(t){I(t)}).on("mouseupoutside",function(t){I(t)}).on("touchendoutside",function(t){I(t)}).on("mouseover",function(t){I(t)}).on("mouseout",function(t){I(t)}),f},a.getNoBtn=function(t,e,i,n){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=0);var a=PIXI.Texture.fromFrame(t+"_no0000"),o=new Object,t=(o.x=k.allPos[this.getIndex(t+"_no",n)].x,o.y=k.allPos[this.getIndex(t+"_no",n)].y,new PIXI.Sprite),n=new PIXI.Sprite(a);if(n.x=o.x,n.y=o.y,t.addChild(n),""!=i){try{PIXI.Texture.fromFrame(e+"_"+i+"_no0000")}catch(t){i="cn"}a=PIXI.Texture.fromFrame(e+"_"+i+"_no0000"),o=new Object,e=(o.x=k.allPos[this.getIndex(e+"_"+i+"_no")].x,o.y=k.allPos[this.getIndex(e+"_"+i+"_no")].y,new PIXI.Sprite(a));e.x=o.x-n.x,e.y=o.y-n.y,n.addChild(e)}return t},a.createButton=function(t,e,i,n,a,o,r){t=new Tools.Button(!0,t,e=void 0===e?"":e,i=void 0===i?"":i,n=void 0===n?0:n,a=void 0===a?0:a,o=void 0===o?0:o,r=void 0===r?0:r);return t.setMouseStatus(!0),t},a.getNameIndex=function(t,e,i){void 0===e&&(e=0);var n=-1;if(0!=(i=void 0===i?0:i)){for(var a=k.allPos.length-1;0<=a;a--)if(k.allPos[a].name==t&&k.allPos[a].elementNum==e&&k.allPos[a].Layer==i){n=a;break}}else for(a=k.allPos.length-1;0<=a;a--)if(k.allPos[a].name==t&&k.allPos[a].elementNum==e){n=a;break}return n},a.getIndex=function(t,e,i){void 0===e&&(e=0);var n=0;if(0!=(i=void 0===i?0:i)){for(var a=k.allPos.length-1;0<=a;a--)if(k.allPos[a].name==t&&k.allPos[a].elementNum==e&&k.allPos[a].Layer==i){n=a;break}}else for(a=k.allPos.length-1;0<=a;a--)if(k.allPos[a].name==t&&k.allPos[a].elementNum==e){n=a;break}return n},t.DisplayObject=a}(PIXILayoutTool=PIXILayoutTool||{}),!function(t){function e(){}e.VERSION="2.1.200",e.PIXI_VERSION="__PIXI_VERSION__",e.BABYLON_VERSION="__BABYLON_VERSION__",e.BuildDate="2024/4/15 - 12:27",t.VersionControl=e}(VersionTool=VersionTool||{}),!function(l){function n(){var e=this;this.id="",this.loop=!1,this.mute=!1,this.auto=!1,this.listName="",this.groupName="",this.isThroughEnough=!1,this.volume=1,this._audioGain=null,this._bufferSource=null,this._audioBufferSourceNode=null,this._hTMLAudioElement=null,this._isPause=!1,this._numCount=0,this._isPlaying=!1,this._startOffset=0,this._state=n.STOP_MODE,this._bsAudioContext=null,this._numStartTime=0,this.onWebAudioEnded=function(){e.auto&&!e.loop&&(e.auto=!1),e.sendTarget(e._webAudioFunction),e.loop||(e._isPlaying=!1)},this._aryAudioElementPool=[],this._aryNowPlayingAudioElement=[],this._webAudioFunction=null,this._playAndCheckBuffer=!1,this._audioElementFunction=function(t){t=t.currentTarget;e.removeToPool(t.id)}}Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"webAudioFunction",{set:function(t){this._webAudioFunction=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bsAudioContext",{set:function(t){this._bsAudioContext=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bufferSource",{set:function(t){this._bufferSource=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hTMLAudioElement",{set:function(t){var e=this;this._hTMLAudioElement=t,this._audioTargetFunction=function(t){e._isPlaying=!1},this._hTMLAudioElement.addEventListener("ended",this._audioTargetFunction,!1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"audioBufferSourceNode",{set:function(t){this._audioBufferSourceNode=t,this._audioBufferSourceNode.buffer=this._bufferSource,this._audioBufferSourceNode.connect(this._audioGain)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"audioGain",{set:function(t){this._audioGain=t},enumerable:!1,configurable:!0}),n.prototype.play=function(t){if(void 0===t&&(t=null),this._playAndCheckBuffer=!0,null!==t&&(this.loop=t),null!=this._hTMLAudioElement){if(this._isPlaying){t=this.getHtmlElement();if(null===t)return;4===t.readyState?(t.loop=this.loop,t.play()):t.load()}else if(this._hTMLAudioElement.loop=this.loop,this._hTMLAudioElement.play(),0<this._aryNowPlayingAudioElement.length)for(var e=this._aryNowPlayingAudioElement.length,i=0;i<e;i++)this._aryNowPlayingAudioElement[i].loop=this.loop,this._aryNowPlayingAudioElement[i].play()}else null!=this._audioBufferSourceNode&&(this._audioBufferSourceNode.onended=this.onWebAudioEnded,this._audioBufferSourceNode.loop=this.loop,this._audioBufferSourceNode.start(0,this._isPause?this._startOffset%this._bufferSource.duration:0),this._numStartTime=this._bsAudioContext.currentTime,this._isPlaying=!0);this.setVolume(this.volume),this._isPause=!1,this._isPlaying=!0,this._state=n.PLAY_MODE},n.prototype.removeToPool=function(t){for(var e=this._aryNowPlayingAudioElement.length,i=0;i<e;i++)if(this._aryNowPlayingAudioElement[i].id===t){var n=this._aryNowPlayingAudioElement[i];this._aryNowPlayingAudioElement.splice(i,1),5<=this._aryAudioElementPool.length?(n.removeEventListener("ended",this._audioElementFunction),n.src="",n=null):this._aryAudioElementPool.push(n);break}},n.prototype.getHtmlElement=function(){var e,i=this,t=null;return this._numCount++,0==this._aryAudioElementPool.length?this._aryNowPlayingAudioElement.length<=5&&((t=new Audio).src=this._hTMLAudioElement.src,t.id=this.id+"_"+this._numCount,e=function(t){t=t.currentTarget;t.removeEventListener("canplaythrough",e),t.loop=i.loop,t.play()},t.addEventListener("canplaythrough",e,!1),t.addEventListener("ended",this._audioElementFunction,!1)):t=this._aryAudioElementPool.pop(),null!==t&&this._aryNowPlayingAudioElement.push(t),t},n.prototype.stop=function(t){if(null!=this._hTMLAudioElement){if(this._hTMLAudioElement.pause(),0<this._hTMLAudioElement.currentTime&&(this._hTMLAudioElement.currentTime=0),0<this._aryNowPlayingAudioElement.length)for(var e=0;e<this._aryNowPlayingAudioElement.length;e++)this._aryNowPlayingAudioElement[e].pause(),0<this._aryNowPlayingAudioElement[e].currentTime&&(this._aryNowPlayingAudioElement[e].currentTime=0),this.removeToPool(this._aryNowPlayingAudioElement[e].id)}else if(null!=this._audioBufferSourceNode){try{this._audioBufferSourceNode.stop(0)}catch(t){}this._isPause||(this._startOffset=0)}this._isPlaying=!1,this._state=n.STOP_MODE},n.prototype.pause=function(t){if(this._isPlaying){if(this._isPlaying=!1,this._isPause=!0,null!=this._hTMLAudioElement){if(this._hTMLAudioElement.pause(),0<this._aryNowPlayingAudioElement.length)for(var e=this._aryNowPlayingAudioElement.length,i=0;i<e;i++)this._aryNowPlayingAudioElement[i].pause()}else null!=this._audioBufferSourceNode&&(this._audioBufferSourceNode.stop(0),this._startOffset+=t);this._state=n.PAUSE_MODE}},n.prototype.setVolume=function(t){this.volume=t=void 0===t?1:t,null!=this._hTMLAudioElement?this._hTMLAudioElement.volume=t:null!=this._audioBufferSourceNode&&null!=this._audioGain&&(this._audioGain.gain.value=t)},n.prototype.removeSound=function(){if(null!=this._hTMLAudioElement){if(this._hTMLAudioElement.pause(),this._hTMLAudioElement.src="",0<this._aryNowPlayingAudioElement.length)for(var t=0;t<this._aryNowPlayingAudioElement.length;t++)this._aryNowPlayingAudioElement[t].pause(),this.removeToPool(this._aryNowPlayingAudioElement[t].id);if(0<this._aryAudioElementPool.length)for(var e=0;e<this._aryAudioElementPool.length;e++)this._aryAudioElementPool[t].src="",this._aryAudioElementPool[t].removeEventListener("ended",this._audioElementFunction),this._aryAudioElementPool[t]=null;this._hTMLAudioElement.removeEventListener("ended",this._audioTargetFunction),this._aryAudioElementPool.length=0,this._aryAudioElementPool=null,this._aryNowPlayingAudioElement=null,this._hTMLAudioElement=null}else null!=this._audioBufferSourceNode&&(this._audioBufferSourceNode.stop(0),this._audioGain.disconnect(),this._audioBufferSourceNode.disconnect(),this._audioBufferSourceNode=null,this._audioGain=null)},n.prototype.sendTarget=function(t){Math.floor(this._bufferSource.duration)<=Math.floor(this._bsAudioContext.currentTime-this._numStartTime)&&null!=t&&t(this),this._playAndCheckBuffer&&(this._playAndCheckBuffer=!1)},n.PLAY_MODE="play_mode",n.STOP_MODE="stop_mode",n.PAUSE_MODE="pause_mode",l.BasicSound=n;e=H5EventdispatcherCore.EventDispatcher,__extends(i,e),Object.defineProperty(i.prototype,"sequenceLoadFile",{set:function(t){this._sequenceLoadFile=t},enumerable:!1,configurable:!0}),i.prototype.getAudioContext=function(){return this._audioContext},Object.defineProperty(i.prototype,"loadCompleteFunction",{set:function(t){this._loadCompleteFunction=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"readyToPlay",{get:function(){return this._readyToPlay},set:function(t){this._readyToPlay=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"muteGame",{get:function(){return this._muteGame},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"musicMute",{get:function(){return this._musicMute},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mode",{get:function(){var t="sounds mode is null";return t=""!==this._mode?this._mode:t},enumerable:!1,configurable:!0}),i.prototype.setPlaylist=function(t,e){null==this._aryBgMusicList&&(this._aryBgMusicList={}),void 0===this._aryBgMusicList[e]?this._aryBgMusicList[e]=t:this._aryBgMusicList[e]=this._aryBgMusicList[e].concat(t)},i.prototype.checkIndexInList=function(t){var e,i={flag:!1,listName:""};for(e in this._aryBgMusicList)for(var n=this._aryBgMusicList[e].length,a=0;a<n;a++)if(this._aryBgMusicList[e][a]==t)return i.flag=!0,i.listName=e,i;return i},i.prototype.completeListSound=function(t){var e;""!=t.listName&&(e=(e=this._aryBgMusicList[t.listName].indexOf(t.id))==this._aryBgMusicList[t.listName].length-1?0:e+1,this.dispatchEvent(new H5Event.H5BaseEvent(H5Event.H5BaseEvent.CHANGE,!1,{id:this._aryBgMusicList[t.listName][e]})),this.play(this._aryBgMusicList[t.listName][e]))},i.prototype.addSoundFromResourceLoader=function(t,e,i){var n=this;t instanceof ArrayBuffer?this.decodeAudio(t,function(t){n.addWebAudioDecodeBuffer(i,t),e()},function(){}):t instanceof HTMLAudioElement&&(this.addAudioElementSource(i,t),e())},i.prototype.addWebAudioDecodeBuffer=function(t,e){var i=this,n=new l.BasicSound,e=(n.bsAudioContext=this._audioContext,n.id=t.s,n.bufferSource=e,this._audioContext.createGain()),e=(e.connect(this._audioContext.destination),n.audioGain=e,n.loop=t.loop,n.auto=t.auto,n.groupName=t.groupName,this.checkIndexInList(t.s));e.flag?(n.loop=!1,n.listName=e.listName,n.webAudioFunction=function(t){i.completeListSound(t)}):n.listName="",this._arySounds.push(n)},i.prototype.addWebAudioNotDecodeBuffer=function(e,t){var i=this;this.decodeAudio(t,function(t){i.addWebAudioDecodeBuffer(e,t)})},i.prototype.addAudioElementSource=function(t,e){var i=new l.BasicSound,e=(i.hTMLAudioElement=e,i.id=t.s,i.loop=t.loop,i.auto=t.auto,i.groupName=t.groupName,this.checkIndexInList(t.s));e.flag?(i.loop=!1,i.listName=e.listName):i.listName="",this._arySounds.push(i)},i.prototype.addSingleSoundAndLoad=function(t,e,i,n,a){void 0===a&&(a=""),this.addSound(t,e=void 0===e?!1:e,i=void 0===i?!1:i,n=void 0===n?"":n),this.loadQueue()},i.prototype.addSounds=function(t){for(var e,i,n,a,o=t.length,r=0;r<o;r++)e=null!=t[r].loop&&t[r].loop,i=null!=t[r].auto&&t[r].auto,n=null==t[r].groupName?"":t[r].groupName,a=null==t[r].path?"":t[r].path,this.addSound(t[r].s,e,i,n,a)},i.prototype.addSound=function(t,e,i,n,a){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=""),void 0===a&&(a="");var o,r="",s=(-1==t.indexOf(".")?(r=t,t+=".mp3"):r=t.split(".")[0],t.substring(t.length,t.indexOf(".")+1));this._objSupportTypeList[s]?(o=this._mode==l.BasicSoundsManager.WEBAUDIO_MODE?"audioBuffer":"audioElement",this._aryLoadloadQueue.push({id:r,fileType:o,url:a+t+"?v="+VersionTool.VersionControl.VERSION,loopMode:e,autoMode:i,gName:n,list:!1,listName:""})):(o=this._mode==l.BasicSoundsManager.WEBAUDIO_MODE?"audioBuffer":"audioElement",this._aryLoadloadQueue.push({id:r+"-no",fileType:o,url:a+t+"?v="+VersionTool.VersionControl.VERSION,loopMode:e,autoMode:i,gName:n,list:!1,listName:""}))},i.prototype.checkIsSupportFile=function(){var t=new Audio;return{mp3:!!t.canPlayType("audio/mpeg;").replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")}},i.prototype.getSound=function(t){var e=null;if(""!=t)for(var i=this._arySounds.length,n=0;n<i;n++)if(this._arySounds[n].id===t){e=this._arySounds[n];break}return e},i.prototype.play=function(t,e){e=null==e?null:e,t=this.getSound(t);null!==t&&(null==t.hTMLAudioElement&&null!==this._audioContext&&(t.audioBufferSourceNode=this._audioContext.createBufferSource()),t.play(e))},i.prototype.stop=function(t){var e,t=this.getSound(t);null!==t&&(e=null!==this._audioContext?this._audioContext.currentTime:0,t.stop(e))},i.prototype.setAllVolume=function(t){for(var e=this._arySounds.length,i=0;i<e;i++)this._arySounds[i].setVolume(t)},i.prototype.stopAll=function(){for(var t=this._arySounds.length,e=0;e<t;e++)this._arySounds[e].stop()},i.prototype.setVolume=function(t,e){t=this.getSound(t);null!==t&&t.setVolume(e)},i.prototype.mute=function(t){this.stop(t)},i.prototype.pause=function(t){var e,t=this.getSound(t);null!=t&&(e=null!==this._audioContext?this._audioContext.currentTime:0,t.pause(e))},i.prototype.remove=function(t){t=this.getSound(t);null!==t&&t.removeSound()},i.prototype.exit=function(){for(var t=this._arySounds.length,e=0;e<t;e++)this._arySounds[e].removeSound();this._aryBgMusicList={},this._arySounds=[]},i.prototype.stopAllList=function(){for(var t in this._aryBgMusicList)for(var e=this._aryBgMusicList[t].length,i=0;i<e;i++){var n=this.getSound(this._aryBgMusicList[t][i]);null!=n&&n.stop()}},i.prototype.playListOne=function(){for(var t in this._aryBgMusicList)0<this._aryBgMusicList[t].length&&null!=(t=this.getSound(this._aryBgMusicList[t][0]))&&t.play()},i.prototype.loadReadyAutoPlay=function(){for(var t,e=this._arySounds.length,i=0;i<e;i++)this._arySounds[i].isThroughEnough=!0,this._arySounds[i].auto&&(null==this._arySounds[i].hTMLAudioElement&&null!==this._audioContext&&(this._arySounds[i].audioBufferSourceNode=this._audioContext.createBufferSource()),this._arySounds[i].stop(),this._arySounds[i].play());for(t in this._aryBgMusicList){var n=this._aryBgMusicList[t];if(0<n.length){n=this.getSound(n[0]);null!=n&&(null==n.hTMLAudioElement&&null!==this._audioContext&&(n.audioBufferSourceNode=this._audioContext.createBufferSource()),n.stop(),n.play());break}}},i.prototype.loadQueue=function(o){var i=this;if(0==this._aryLoadloadQueue.length){if(0==this._arySounds.length)throw new Error("this._aryLoadloadQueue length is zero");this._readyToPlay&&this.loadReadyAutoPlay()}for(var n=this._aryLoadloadQueue.length,r=[],a=function(t,e){r[t]=e;for(var i=0,n=r.length,a=0;a<n;a++)i+=r[a];o&&o(i/n*1)},s=function(e,t){"no"==t.id.split("-")[1]?i._loadCompleteFunction():i.processSounds(t,function(){a(e,1),0==--n?(i._readyToPlay&&i.loadReadyAutoPlay(),i._loadCompleteFunction&&i._loadCompleteFunction(),i._aryLoadloadQueue=[]):i._sequenceLoadFile&&s(i._aryLoadloadQueue.length-n,i._aryLoadloadQueue[i._aryLoadloadQueue.length-n])},function(t){a(e,.8*t)})},t=0;t<n;t++)r[t]=0,this._sequenceLoadFile||setTimeout(s(t,this._aryLoadloadQueue[t]),15*t);this._sequenceLoadFile&&0!=this._aryLoadloadQueue.length&&s(0,this._aryLoadloadQueue[0])},i.prototype.processSounds=function(i,n,e){var t,a,o,r=this,s=function(t){var e;"audioElement"==i.fileType?n():"audioBuffer"==i.fileType?(i.fileType="webAudio",e={url:i.url,fileType:"webAudio",decode:t},r.loadSounds(e,s,h)):"webAudio"==i.fileType&&(e=t,(t=new l.BasicSound).bsAudioContext=r._audioContext,t.id=i.id,t.bufferSource=e,(e=r._audioContext.createGain()).connect(r._audioContext.destination),t.audioGain=e,t.loop=i.loopMode,t.auto=i.autoMode,t.groupName=i.gName,(e=r.checkIndexInList(i.id)).flag?(t.loop=!1,t.listName=e.listName,t.webAudioFunction=function(t){r.completeListSound(t)}):t.listName="",r._arySounds.push(t),n())},h=function(){var t=arguments[0],t=t.loaded/t.total;e(t)};"audioElement"==i.fileType?(t=new Audio,a=document.createElement("source"),t.canPlayType("audio/mpeg;")?(a.type="audio/mpeg",a.src="audio/song.mp3"):(a.type="audio/wav",a.src="audio/song.wav"),t.appendChild(a),t.src=i.url,(a=new l.BasicSound).hTMLAudioElement=t,a.id=i.id,a.loop=i.loopMode,a.auto=i.autoMode,a.groupName=i.gName,(o=this.checkIndexInList(i.id)).flag?(a.loop=!1,a.listName=o.listName):a.listName="",this._arySounds.push(a),this.loadSounds({url:i.url,fileType:i.fileType},s,h,t)):this.loadSounds({url:i.url,fileType:i.fileType},s,h)},i.prototype.loadSounds=function(t,e,i,n){switch(t.fileType){case"audioElement":this.setAudioElement(t.url,e,null,function(t){},n);break;case"audioBuffer":H5Utils.loadFile(t.url,e,i,null,!0);break;case"webAudio":t.decode&&this.decodeAudio(t.decode,e,function(){})}},i.prototype.setAudioElement=function(t,e,i,n,a){function o(t){t.currentTarget.removeEventListener("canplaythrough",o),t.currentTarget.removeEventListener("error",r),null!=s&&t.currentTarget.removeEventListener("progress",s),e&&e()}function r(t){n&&n(t)}var s,h=a;null!=i&&(s=function(){var t;i&&(t=h.buffered.end(0)/h.duration*100,i(t))});h.addEventListener("canplaythrough",o,!1),h.addEventListener("error",r,!1),null!=i&&h.addEventListener("progress",s,!1),h.load()},i.prototype.decodeAudio=function(t,e,i){this._audioContext.decodeAudioData(t,function(t){e(t)},function(){i&&i()})},Object.defineProperty(i,"AudioContext",{get:function(){var t=window;return t.AudioContext||t.webkitAudioContext||null},enumerable:!1,configurable:!0}),i.prototype.creatAndCheckAudioType=function(){var t,e=this;DeviceAndEnvironment.Device.isMobile()?(t=function(){window.removeEventListener("touchstart",t,!1),e._isTouchUnlock=!0,e.loadQueue()},window.addEventListener("touchstart",t,!1)):this._isTouchUnlock=!0,void 0!==window.AudioContext||void 0!==window.webkitAudioContext?(window.AudioContext=window.AudioContext||window.webkitAudioContext,this._audioContext=new AudioContext,this._mode=l.BasicSoundsManager.WEBAUDIO_MODE,/iPad|iPhone|iPod/.test(navigator.platform)&&this.unlockiosAudio()):this._mode=l.BasicSoundsManager.AUDIOELEMENT_MODE},i.prototype.unlockiosAudio=function(){var i,n=this;this._unlocked||(i=function(){var t=n._audioContext.createBuffer(1,1,22050),e=n._audioContext.createBufferSource();e.buffer=t,e.connect(n._audioContext.destination),void 0===e.start?e.noteOn(0):e.start(0),setTimeout(function(){e.playbackState!==e.PLAYING_STATE&&e.playbackState!==e.FINISHED_STATE||(n._unlocked=!0,document.removeEventListener("click",i,!1))},0)},document.addEventListener("click",i,!1))},i.WEBAUDIO_MODE="use webAudio",i.AUDIOELEMENT_MODE="use audioElement";var e,t=i;function i(){var t=e.call(this)||this;return t._sequenceLoadFile=!1,t._audioContext=null,t._mode="",t._isTouchUnlock=!1,t._arySounds=[],t._readyToPlay=!0,t._aryBgMusicList=null,t._loadCompleteFunction=null,t._getBrowser=DeviceAndEnvironment.Device.getBrowser(),t._aryLoadloadQueue=[],t.creatAndCheckAudioType(),t._objSupportTypeList=t.checkIsSupportFile(),t}l.BasicSoundsManager=t;a=l.BasicSoundsManager,__extends(o,a),Object.defineProperty(o.prototype,"strBgBonus1Music",{set:function(t){this._strBgBonus1Music=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"strBgBonus2Music",{set:function(t){this._strBgBonus2Music=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"strBgMusic",{set:function(t){this._strBgMusic=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"strFreeBgMusic",{set:function(t){this._strFreeBgMusic=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isFree",{set:function(t){this._isFree=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isBonusOne",{set:function(t){this._isBonusOne=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isBonusTwo",{set:function(t){this._isBonusTwo=t},enumerable:!1,configurable:!0}),o.getInstance=function(){return null==l.SoundsManagerCore._instance?new l.SoundsManagerCore:l.SoundsManagerCore._instance},o.prototype.muteSoundsInGame=function(){this._muteGame=!this._muteGame,this._musicMute=this._muteGame,this.checkSounds()},o.prototype.muteBgMusic=function(){this._muteGame||(this._musicMute=!this._musicMute,this.checkSounds())},o.prototype.checkSounds=function(){this._muteGame?this.stopAll():this._musicMute?this._isFree?this.stop(this._strFreeBgMusic):this._isBonusOne?this.stop(this._strBgBonus1Music):this._isBonusTwo?this.stop(this._strBgBonus2Music):null!==this._aryBgMusicList&&this.stopAllList():this._isFree?this.play(this._strFreeBgMusic):this._isBonusOne?this.play(this._strBgBonus1Music):this._isBonusTwo?this.play(this._strBgBonus2Music):null!==this._aryBgMusicList&&this.playListOne()},o.prototype.play=function(t,e){var e=e&&null,i=this.getSound(t);if(null!==i)if(null==i.hTMLAudioElement&&null!==this._audioContext&&(i.audioBufferSourceNode=this._audioContext.createBufferSource()),""!=i.listName){for(var n=this._aryBgMusicList[i.listName].length,a=0;a<n;a++){var o=this.getSound(t);null!==o&&o.state!=l.BasicSound.STOP_MODE&&o.stop()}this._muteGame||this._musicMute||i.play()}else t==this._strBgMusic||t==this._strFreeBgMusic||t==this._strBgBonus1Music||t==this._strBgBonus2Music?this._muteGame||this._musicMute||i.play(e):this._muteGame||i.play(e)};var a,t=o;function o(){var t=this;if(l.SoundsManagerCore._instance)throw new Error("please use getInstance_SoundsManagerCore");return t=a.call(this)||this,(l.SoundsManagerCore._instance=t)._strBgBonus1Music="",t._strBgBonus2Music="",t._strBgMusic="",t._strFreeBgMusic="",t._isFree=!1,t._isBonusOne=!1,t._isBonusTwo=!1,t}l.SoundsManagerCore=t;r=l.BasicSoundsManager,__extends(s,r),s.getInstance=function(){return null==l.VideoSoundsManager._instance?new l.VideoSoundsManager:l.VideoSoundsManager._instance},s.prototype.setPlaylist=function(t,e){void 0===this._objSoundsList[e]?this._objSoundsList[e]=t:this._objSoundsList[e]=this._objSoundsList[e].concat(t),r.prototype.setPlaylist.call(this,t,e)},s.prototype.getNowPlayingSingleInList=function(t){if(void 0===this._objSoundsList[t])return"can`t find this group id";for(var e,i="can`t find this id",n=this._objSoundsList[t],a=n.length,o=0;o<a;o++)if((e=this.getSound(n[o])).state===l.BasicSound.PLAY_MODE){i=e.id;break}return i},s.prototype.setGroupVolume=function(t,e){if(void 0!==this._objSoundsList[t])for(var i,n=this._objSoundsList[t],a=n.length,o=0;o<a;o++)null!==(i=this.getSound(n[o]))&&i.setVolume(e)},s.prototype.onGroupMute=function(t){for(var e=this._arySounds.length,i=0;i<e;i++)this._arySounds[i].groupName==t&&(this._arySounds[i].mute=!1);if(t==l.VideoSoundsManager.BGList)for(var n in this._aryBgMusicList){n=this._aryBgMusicList[n];if(0<n.length){n=this.getSound(n[0]);if(null!=n){null==n.hTMLAudioElement&&null!==this._audioContext&&(n.audioBufferSourceNode=this._audioContext.createBufferSource()),n.play();break}}}},s.prototype.offGroupMute=function(t){for(var e=this._arySounds.length,i=0;i<e;i++)this._arySounds[i].groupName==t&&(this._arySounds[i].stop(),this._arySounds[i].mute=!0)},s.prototype.play=function(t,e){void 0===e&&(e=null);var i=this.getSound(t);if(null!==i)if(""!=i.listName){for(var n=this._aryBgMusicList[i.listName].length,a=0;a<n;a++){var o,r=this.getSound(this._aryBgMusicList[i.listName][a]);null!==r&&r.state!=l.BasicSound.STOP_MODE&&(o=null!==this._audioContext?this._audioContext.currentTime:0,r.stop(o))}i.mute||(null==i.hTMLAudioElement&&null!==this._audioContext&&(i.audioBufferSourceNode=this._audioContext.createBufferSource()),i.play())}else i.mute||(null==i.hTMLAudioElement&&null!==this._audioContext&&(i.audioBufferSourceNode=this._audioContext.createBufferSource()),i.play(e))},s.BGList="BackGroundList";var r,t=s;function s(){var t=this;if(l.VideoSoundsManager._instance)throw new Error("please use getInstance_VideoSoundsManager");return t=r.call(this)||this,(l.VideoSoundsManager._instance=t)._objSoundsList={},t}l.VideoSoundsManager=t}(SoundsManager=SoundsManager||{}),function(){function s(){}return s.CleanUrl=function(t){return t=t.replace(/#/gm,"%23")},s.loadFile=function(i,n,a,t,o,r){i=s.CleanUrl(i);function e(){var t=new XMLHttpRequest,e=s.BaseUrl+i;t.open("GET",e,!0),o&&(t.responseType="arraybuffer"),t.onprogress=a,t.onreadystatechange=function(){if(4===t.readyState)if(t.onreadystatechange=null,0==t.status)n(o?t.response:t.responseText);else if(200<=t.status&&t.status<300)n(o?t.response:t.responseText);else{if(!r)throw new Error("Error status: "+t.status+" - Unable to load "+e);r()}},t.send(null)}t&&t.enableSceneOffline?t.openAsync(function(){t.loadFileFromDB(i,n,a,e,o)},e):e()},s.deepCloneForObject=function(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){for(var e=[],i=0,n=t.length;i<n;i++)e[i]=this.deepCloneForObject(t[i]);return e}if(t instanceof Object){for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=this.deepCloneForObject(t[a]));return e}throw new Error("Unable to copy obj! Its type isn't supported.")},s.BaseUrl="",s}()),GameLoadingScreen=function(){function n(t,e){void 0===e&&(e="0");var i=this;this._isRemove=!1,this._noParent=!1,this.resizeUI=function(){var t=i._renderingCanvas.getBoundingClientRect();i._loadingDiv.style.position="fixed",i._loadingDiv.style.left=t.left+"px",i._loadingDiv.style.top=t.top+"px",i._loadingDiv.style.width=t.width+"px",i._loadingDiv.style.height=t.height+"px"},this._renderingCanvas=t,this._loadingText=e,this._completeEvent=function(){i.hideComplete()},n._instance=this}return n.getInstance=function(t){return null==n._instance?new n(t):n._instance},Object.defineProperty(n.prototype,"loadingImgPath",{set:function(t){""!=t&&(this._loadingImgPath=t)},enumerable:!1,configurable:!0}),n.prototype.changeLoadingUI=function(){this._loadingDiv.style.backgroundImage="url("+this._loadingImgPath+")"},n.prototype.displayLoadingUI=function(){var t=this;this._loadingDiv=document.createElement("div"),this._loadingDiv.id="testDiv",this._loadingDiv.style.backgroundImage="url("+this._loadingImgPath+")",this._loadingDiv.style.backgroundSize="cover",this._loadingDiv.style.width="100%",this._loadingDiv.style.height="100%",this._loadingDiv.style.left="0px",this._loadingDiv.style.top="0px",this._loadingDiv.style.backgroundRepeat="no-repeat",this._loadingDiv.style.opacity="0",this._loadingDiv.style.transition="opacity 1.0s ease",this._loadingDiv.style.position="fixed",this._loadingDiv.style.backgroundPosition="center",this._loadingDiv.addEventListener("touchstart",function(t){1<t.touches.length&&t.preventDefault()},!1),this._loadingTextDiv=document.createElement("div"),this._loadingTextDiv.style.position="absolute",this._loadingTextDiv.style.left="0",this._loadingTextDiv.style.bottom="20%",this._loadingTextDiv.style.marginTop="80px",this._loadingTextDiv.style.width="100%",this._loadingTextDiv.style.height="20px",this._loadingTextDiv.style.fontFamily="Arial",DeviceAndEnvironment.Device.isMobile()?this._loadingTextDiv.style.fontSize="25px":this._loadingTextDiv.style.fontSize="40px",this._loadingTextDiv.style.color="#D29F9F",this._loadingTextDiv.style.textAlign="center",this._loadingTextDiv.innerHTML="Loading",this._loadingTextDiv.addEventListener("touchstart",function(t){1<t.touches.length&&t.preventDefault()},!1),this._loadingDiv.appendChild(this._loadingTextDiv),this._loadingTextDiv.innerHTML=this._loadingText,setTimeout(function(){t._loadingDiv.style.opacity="1"},0)},n.prototype.addLoadingUI=function(t){this._loadingDiv.style.opacity="1",this._noParent=t,(this._noParent?document:parent.document).body.appendChild(this._loadingDiv)},Object.defineProperty(n.prototype,"loadingUIText",{set:function(t){this._loadingText=t,this._loadingTextDiv&&(this._loadingTextDiv.innerHTML=this._loadingText)},enumerable:!1,configurable:!0}),n.prototype.hideLoadingUI=function(){this._isRemove=!0,(this._noParent?document:parent.document).body.removeChild(this._loadingDiv),window.removeEventListener("resize",this.resizeUI)},n.prototype.hideComplete=function(){},n}(),VideoLoaderCore,VideoShare,VideoShare,CheckSize,Tools,VideoAssetManager,PTI,Model,Composite,Tools,VideoShare,VideoShare,BacBet,BacBet,DtfBet,SicBet,RouBet,TTBet,FanTanBet,BullBet,PaiBet,SedieBet,TexasBet,TripleBet,FishSCBet,BjBet,ThreeCardBet,MonWheelBet,HiloBet,Bac21Bet,FishSCThBet,SicBoVnBet,Lucky5CardsBet,AceyDeuceyBet,Bac28Bet,VideoShare,RouLogicShare,Model,Model,ShareLogic,ShareUI,Chip,Chip,ChipMultiGamesStyle,SharePanel,ShareMultiGames,SharePanel,ShareMultiGames,Tools,IframeController=(!function(i){Object.defineProperty(e.prototype,"loader",{get:function(){return this._loader},set:function(t){this._loader=t,this._loader.defaultQueryString="v="+VersionTool.VersionControl.VERSION},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"soundsManager",{get:function(){return this._soundsManager},set:function(t){this._soundsManager=t},enumerable:!1,configurable:!0}),e.getInstance=function(){return null==e._instance?new e:e._instance},e.prototype.getJsonDataByName=function(t){return null!=this._layouInfoAry[t]?this._layouInfoAry[t]:null},e.prototype.getAllJsonData=function(){return this._layouInfoAry},e.prototype.getPIXIResourceByName=function(t){return null!=this._resAry[t]?this._resAry[t]:null},e.prototype.setQueue=function(t){var e=t.length,i=[],n=[];null==this._loader&&(this._loader=new PIXI.loaders.Loader,this._loader.defaultQueryString="v="+VersionTool.VersionControl.VERSION);for(var a,o,r,s=0;s<e;s++)null!=t[s].url?(r=t[s].fileName.indexOf(".json"),t[s].cutPic&&!t[s].keep?(a={url:t[s].url+t[s].fileName,fileName:t[s].fileName.split(".")[0]},i.push(a)):-1!=r&&(o={fileType:"json",info:{url:t[s].url,fileName:t[s].fileName,keep:t[s].keep}},this._aryStandbyQueue.push(o))):n.push(t[s]);if(0<i.length&&this._aryStandbyQueue.push(o={fileType:"pixi",info:i}),0<n.length)if(this._isMobile){if(null==this._soundsManager)throw new Error("please set soundsManager");this._soundsManager.addSounds(n),this._soundsManager.loadQueue()}else this._aryStandbyQueue.push(o={fileType:"sounds",info:n})},e.prototype.loadQueue=function(o){var i=this;if(0==this._aryStandbyQueue.length)throw new Error("this._aryLoadloadQueue length is zero");for(var n=this._aryStandbyQueue.length,r=[],a=function(t,e){r[t]=e;for(var i=0,n=r.length,a=0;a<n;a++)i+=r[a];o&&o(i/n*1)},t=0;t<n;t++)r[t]=0,setTimeout(function(e,t){i.processLoader(t,function(){a(e,1),n--},function(t){a(e,.8*t)})}(t,this._aryStandbyQueue[t]),5*t);this._aryStandbyQueue.length=0},e.prototype.processLoader=function(i,n,a){var o=this;this.load(i,function(t,e){"pixi"==i.fileType?(o._resAry=e,n()):"json"==i.fileType?(i.info.keep&&(e=i.info.fileName.split("."),o._layouInfoAry[e[0]]=t),n()):"sounds"==i.fileType&&n()},function(){var t,e=arguments[0];"pixi"==i.fileType?(t=.01*(0|e.progress),"4"==PIXI.VERSION.split(".")[0]&&(t/=2)):"json"==i.fileType?t=e.loaded/e.total:"sounds"==i.fileType&&(t=e),a(t)})},e.prototype.load=function(t,e,i){if("pixi"==t.fileType){for(var n=0;n<t.info.length;n++)this._loader.add(t.info[n].fileName,t.info[n].url);this._loader.on("progress",i),this._loader.on("complete",e),this._loader.load()}else if("json"==t.fileType){var a=t.info.url+t.info.fileName+"?v="+VersionTool.VersionControl.VERSION;H5Utils.loadFile(a,e,i)}else if("sounds"==t.fileType){if(null==this._soundsManager)throw new Error("please set soundsManager");this._soundsManager.addSounds(t.info),this._soundsManager.loadCompleteFunction=e,this._soundsManager.loadQueue(i)}};var t=e;function e(){if(e._instance)throw new Error("please use getInstance_AssetsLoaderManager");(e._instance=this)._isMobile=DeviceAndEnvironment.Device.isMobile(),this._aryStandbyQueue=[],this._soundInfoAry={},this._layouInfoAry={},this._resAry={},this._soundsManager=null}i.AssetsLoaderManager=t;n=H5Event.H5BaseEvent,__extends(o,n),o.prototype.clone=function(){return new o(this.type,this.sendObject)},o.ASSETS_IS_READY="assetsEvent_assets_is_ready";var n,a=o;function o(t,e){return n.call(this,t,!1,e)||this}i.LoadingProgressEvent=a;r=H5EventdispatcherCore.EventDispatcher,__extends(s,r),Object.defineProperty(s.prototype,"setLayoutToProgress",{set:function(t){this._setLayoutToProgress=t},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"loadingImgPath",{set:function(t){this._loadingImgPath=t,this._loadingScreen.loadingImgPath=this._loadingImgPath,this._loadingScreen.displayLoadingUI()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"soundsManager",{get:function(){return this._assetsLoaderManager.soundsManager},set:function(t){this._assetsLoaderManager.soundsManager=t},enumerable:!1,configurable:!0}),s.prototype.setQueues=function(t){this._setLayoutToProgress&&(this._assetsLoaderManager.soundsManager.readyToPlay=!1),this._assetsLoaderManager.setQueue(t)},s.prototype.startLoad=function(t){var e=this;this._noParent=t=void 0===t?!1:t,this.setLoadingScreenText("0%"),this._loadingScreen.addLoadingUI(this._noParent),this._assetsLoaderManager.loadQueue(function(t){e.showProgress(t)})},s.prototype.getJsonData=function(t){return this._assetsLoaderManager.getJsonDataByName(t)},s.prototype.getPIXIResource=function(t){return this._assetsLoaderManager.getPIXIResourceByName(t)},s.prototype.showProgress=function(t){(t=Math.floor(100*t))!=1/0&&!isNaN(t)||(t=0),this._setLayoutToProgress?90==(t=Math.floor(.9*t))&&this.dispatchEvent(new a(a.ASSETS_IS_READY)):100==t&&this.dispatchEvent(new a(a.ASSETS_IS_READY)),this.setLoadingScreenText(t+"%")},s.prototype.setLoadingScreenText=function(t){this._loadingScreen.loadingUIText=t},s.prototype.close=function(){this._loadingScreen.hideLoadingUI(),this._setLayoutToProgress&&this.setLoadingScreenText("100%")},s.prototype.setLoadingBarVisible=function(t){t?this._loadingScreen.addLoadingUI(this._noParent):this._loadingScreen.hideLoadingUI()},s.prototype.changeLoadingUI=function(t){this._loadingImgPath=t,this._loadingScreen.loadingImgPath=this._loadingImgPath,this._loadingScreen.changeLoadingUI()};var r,t=s;function s(t){var e=r.call(this)||this;return e._loadingImgPath="",e._canvas=t,e._setLayoutToProgress=!1,e._assetsLoaderManager=i.AssetsLoaderManager.getInstance(),e._loadingScreen=GameLoadingScreen.getInstance(e._canvas),e}i.GameLoadingProgress=t;h=i.GameLoadingProgress,__extends(l,h),l.prototype.showProgress=function(t){(t=Math.floor(100*t))!=1/0&&!isNaN(t)||(t=0),this._setLayoutToProgress?80==(t=Math.floor(.8*t))&&(this.dispatchEvent(new a(a.ASSETS_IS_READY)),this.loadingTx=!1):100==t&&this.dispatchEvent(new a(a.ASSETS_IS_READY)),this.loadingTx&&this.setLoadingScreenText(t+"%")};var h,t=l;function l(t){t=h.call(this,t)||this;return t.loadingTx=!0,t}i.GameLoadingProgress1440=t}(VideoLoaderCore=VideoLoaderCore||{}),!function(t){function e(){this._result=this._result2=this._notOp="0",this._gameType=this._gameCode=this._gameCodeName=this._status=this._poker="",this._roundSerial=this._roundNo=this._extRound=this._extNo=this._dealerName=this._roadmap=this._winPoker=this._insOdds=this._CardsResult=this._runOdds="",this._turbo=this._countdown="",this._marquee=this._odds=this._dice="",this._srcdown="1",this._pokershow=this._miing=this._mitype=this._miname="",this._pokerdown=this._seats=0,this._dealerPic=this._barrierPri=this._VIP="",this._single=this._lock=this._sit=this._stand=this._barrier=this._tableNum="",this._dealerType=this._dealerID=this._shuffle=this._coldHot=this._sicPercent="",this._dealerData={},this._mtst=this._mtet="",this._mt="0",this._mt2="0",this._cardCount=""}function i(){this._username="- - - ",this._nickname="",this._credit=0,this._payoff=0,this._testBench=0,this._vip="N",this._miPrivilege="N",this._vipPrivilege="N",this._kick="Y",this._hallID="",this._chipList="",this._chipFilter="",this._phone="",this._userID="",this._payWay=!0,this._sixChip="",this._preSetChip="1",this._lobby3Tip="N",this._roadMapSwitch="N",this._roadMapInfo="",this._dealerTip=new Object,this._tableList=new Object,this._xRates=new Object,this._whitelist=!1,this._mod="",this._mod21=""}e.prototype.setData=function(t){this._result=null!=t.res?t.res:this._result,this._result2=null!=t.res2?t.res2:this._result2,this._countdown=null!=t.cd?t.cd:this._countdown,this._srcdown=null!=t.sd?t.sd:this._srcdown,this._gameType=null!=t.gt?t.gt:this._gameType,this._turbo=null!=t.tb?t.tb:this._turbo,this._status=null!=t.st?t.st:this._status,this._gameCodeName=null!=t.gcn?t.gcn:this._gameCodeName,this._roadmap=null!=t.map?t.map:this._roadmap,this._roundNo=null!=t.rn?t.rn:this._roundNo,this._roundSerial=null!=t.rs?t.rs:this._roundSerial,this._dealerName=null!=t.dn?t.dn:this._dealerName,this._gameCode=null!=t.gc?String(t.gc):this._gameCode,this._mt=null!=t.mt?t.mt:this._mt,this._mt2=null!=t.mt2?t.mt2:this._mt2,this._sit=null!=t.sit?t.sit:this._sit,this._stand=null!=t.std?t.std:this._stand,this._tableNum=null!=t.tn?t.tn:this._tableNum,this._barrier=null!=t.br?t.br:this._barrier,this._dealerPic=null!=t.hdp?t.hdp:this._dealerPic,this._VIP=null!=t.vip?t.vip:this._VIP,this._lock=null!=t.lk?String(t.lk):this._lock,this._barrierPri=null!=t.brp?t.brp:this._barrierPri,this._single=null!=t.sg?String(t.sg):this._single,this._poker=null!=t.pk?t.pk:this._poker,this._winPoker=null!=t.wpk?t.wpk:this._winPoker,this._marquee=null!=t.mrqu?t.mrqu:this._marquee,this._insOdds=null!=t.ins?t.ins:this._insOdds,this._CardsResult=null!=t.cdr?t.cdr:this._CardsResult,this._notOp=null!=t.nop?t.nop:this._notOp,this._dealerType=null!=t.dtp?t.dtp:this._dealerType,this._dealerData=null!=t.dob?t.dob:this._dealerData,this._shuffle=null!=t.shf?t.shf:this._shuffle,this._dealerID=null!=t.did?t.did:this._dealerID,this._coldHot=null!=t.ch?t.ch:this._coldHot,this._sicPercent=null!=t.rsp?t.rsp:this._sicPercent,this._odds=null!=t.odds?t.odds:this._odds,this._dice=null!=t.dice?t.dice:this._dice,this._runOdds=null!=t.rod?t.rod:this._runOdds,this._pokershow=null!=t.pks?t.pks:this._pokershow,this._miing=null!=t.mii?t.mii:this._miing,this._mitype=null!=t.mit?t.mit:this._mitype,this._miname=null!=t.mib?t.mib:this._miname,this._miPName=null!=t.mip?t.mip:this._miPName,this._pokerdown=null!=t.pkd?t.pkd:this._pokerdown,this._seats=null!=t.seats?t.seats:this._seats,this._extRound=null!=t.exr?t.exr:this._extRound,this._extNo=null!=t.exn?t.exn:this._extNo,this._mtst=null!=t.mtst?t.mtst:this._mtst,this._mtet=null!=t.mtet?t.mtet:this._mtet,this._cardCount=null!=t.cardCount?t.cardCount:this._cardCount},e.prototype.getGameType=function(){return this._gameType},e.prototype.getGameCode=function(){return this._gameCode},e.prototype.getGameCodeName=function(){return this._gameCodeName},e.prototype.getCountdown=function(){return this._countdown},e.prototype.getStatus=function(){return this._status},e.prototype.getRoundSerial=function(){return this._roundSerial},e.prototype.getRoundNo=function(){return this._roundNo},e.prototype.getExtRound=function(){return this._extRound},e.prototype.getExtNo=function(){return this._extNo},e.prototype.getDealerName=function(){return this._dealerName},e.prototype.getRoadmap=function(){return this._roadmap},e.prototype.getVIP=function(){return this._VIP},e.prototype.getSingle=function(){return this._single},e.prototype.getLock=function(){return this._lock},e.prototype.getSit=function(){return this._sit},e.prototype.getStand=function(){return this._stand},e.prototype.getBarrier=function(){return this._barrier},e.prototype.getBarrierPri=function(){return this._barrierPri},e.prototype.getDealerPic=function(){return this._dealerPic},e.prototype.getMt=function(){return this._mt},e.prototype.getMt2=function(){return this._mt2},e.prototype.getSrcdown=function(){return this._srcdown},e.prototype.getTurbo=function(){return this._turbo},e.prototype.getTableNum=function(){return this._tableNum},e.prototype.getPoker=function(){return this._poker},e.prototype.getResult=function(){return this._result},e.prototype.getResult2=function(){return this._result2},e.prototype.getWinPoker=function(){return this._winPoker},e.prototype.getOdds=function(){return this._odds},e.prototype.getPokershow=function(){return this._pokershow},e.prototype.getMiing=function(){return this._miing},e.prototype.getMitype=function(){return this._mitype},e.prototype.getMiname=function(){return this._miname},e.prototype.getMiPName=function(){return this._miPName},e.prototype.getPokerdown=function(){return this._pokerdown},e.prototype.getSeats=function(){return this._seats},e.prototype.getMarquee=function(){return this._marquee},e.prototype.getInsOdds=function(){return this._insOdds},e.prototype.getCardsResult=function(){return this._CardsResult},e.prototype.getnotOp=function(){return this._notOp},e.prototype.getDealerType=function(){return this._dealerType},e.prototype.getDealerData=function(){return this._dealerData},e.prototype.getShuffle=function(){return this._shuffle},e.prototype.getDealerID=function(){return this._dealerID},e.prototype.getColdHot=function(){return this._coldHot},e.prototype.getSicPercent=function(){return this._sicPercent},e.prototype.getDice=function(){return this._dice},e.prototype.getRunOdds=function(){return this._runOdds},e.prototype.getCardCount=function(){return this._cardCount},t.GameInfo=e,i.prototype.getUsername=function(){return this._username},i.prototype.getNickname=function(){return this._nickname},i.prototype.setNickname=function(t){this._nickname=t},i.prototype.getCredit=function(){return this._credit},i.prototype.setCredit=function(t){this._credit=t},i.prototype.getPayoff=function(){return this._payoff},i.prototype.setPayoff=function(t){return this._payoff=t,this._payoff},i.prototype.getVip=function(){return this._vip},i.prototype.getKick=function(){return this._kick},i.prototype.getHallID=function(){return this._hallID},i.prototype.getCurrency=function(){return this._currency},i.prototype.getChipList=function(){return this._chipList},i.prototype.setChipList=function(t){return this._chipList=t,this._chipList},i.prototype.getChipFilter=function(){return this._chipFilter},i.prototype.setChipFilter=function(t){return this._chipFilter=t,this._chipFilter},i.prototype.getPhone=function(){return this._phone},i.prototype.getCurrencyRate=function(){return this._CurrencyRate},i.prototype.getCurrencyPic=function(){return this._CurrencyPic},i.prototype.getUserID=function(){return this._userID},i.prototype.getPayWay=function(){return this._payWay},i.prototype.getSixChip=function(){return this._sixChip},i.prototype.getPreSetChip=function(){return this._preSetChip},i.prototype.getLobby3Tip=function(){return this._lobby3Tip},i.prototype.getDealerTip=function(){return this._dealerTip},i.prototype.getTableList=function(){return this._tableList},i.prototype.getRoadMapSwitch=function(){return this._roadMapSwitch},i.prototype.getRoadMapInfo=function(){return this._roadMapInfo},i.prototype.setRoadMapInfo=function(t){this._roadMapInfo=t},i.prototype.getPrivilege=function(){return this._miPrivilege},i.prototype.getVipPrivilege=function(){return this._vipPrivilege},i.prototype.getXRates=function(){return this._xRates},i.prototype.getTestBench=function(){return this._testBench},i.prototype.getWhitelist=function(){return this._whitelist},i.prototype.getMod=function(){return this._mod},i.prototype.getMod21=function(){return this._mod21},i.prototype.setData=function(t){this._username=null!=t.userName?t.userName:this._username,this._nickname=null!=t.nickname?t.nickname:this._nickname,this._credit=null!=t.credit?t.credit:this._credit,this._payoff=null!=t.payoff?t.payoff:this._payoff,this._vip=null!=t.vip?t.vip:this._vip,this._miPrivilege=null!=t.miPrivilege?t.miPrivilege:this._miPrivilege,this._vipPrivilege=null!=t.vipPrivilege?t.vipPrivilege:this._vipPrivilege,this._kick=null!=t.kick?t.kick:this._kick,this._hallID=null!=t.hallID?t.hallID:this._hallID,this._currency=null!=t.currency?t.currency:this._currency,this._chipList=null!=t.chipList?t.chipList:this._chipList,this._chipFilter=null!=t.chipFilter?t.chipFilter:this._chipFilter,this._phone=null!=t.phone?t.phone:this._phone,this._CurrencyRate=null!=t.currencyRate?t.currencyRate:this._CurrencyRate,this._CurrencyPic=null!=t.currencyPic?t.currencyPic:this._CurrencyPic,this._userID=null!=t.userID?t.userID:this._userID,this._payWay=null!=t.PayWay?t.PayWay:this._payWay,this._payWay=null!=t.payWay?t.payWay:this._payWay,this._sixChip=null!=t.sixChip?t.sixChip:this._sixChip,this._preSetChip=null!=t.preSetChip?t.preSetChip:this._preSetChip,this._lobby3Tip=null!=t.lobby3Tip?t.lobby3Tip:this._lobby3Tip,this._dealerTip=null!=t.dealerTip?t.dealerTip:this._dealerTip,this._tableList=null!=t.tableList?t.tableList:this._tableList,this._roadMapSwitch=null!=t.roadMapSwitch?t.roadMapSwitch:this._roadMapSwitch,this._roadMapInfo=null!=t.roadMapInfo?t.roadMapInfo:this._roadMapInfo,this._xRates=null!=t.xRates?t.xRates:this._xRates,this._testBench=null!=t.testBench?t.testBench:this._testBench,this._whitelist=null!=t.whitelist?t.whitelist:this._whitelist,this._mod=null!=t.mod?t.mod:this._mod,this._mod21=null!=t.mod21?t.mod21:this._mod21},t.UserInfo=i}(VideoShare=VideoShare||{}),!function(t){e=H5Event.H5BaseEvent,__extends(n,e),n.prototype.clone=function(){var t=new n(this.type);return t.data=this.data,t},n.CHANGE="CHANGE";var e,i=n;function n(t){return e.call(this,t)||this}t.BetManagerEvent=i;a=H5Event.H5BaseEvent,__extends(o,a),o.prototype.clone=function(){var t=new o(this.type);return t.data=this.data,t.status=this.status,t},o.NET_STATUS="NET_STATUS",o.HALL_READY="HALL_READY",o.HALL_LOGIN="HALL_LOGIN",o.ON_LOGIN="ON_LOGIN",o.ON_LAS="ON_LAS",o.ON_VIDEO_IP="ON_VIDEO_IP",o.ON_USER_INFO="ON_USER_INFO",o.GAME_INFO="GAME_INFO",o.ON_POOL_INFO="ON_POOL_INFO",o.ON_BET="ON_BET",o.ON_SETCHIP="ON_SETCHIP",o.ON_ENDGAME="ON_ENDGAME",o.ON_PREFERENCES="ON_PREFERENCES",o.ON_SET_PREFERENCES="ON_SET_PREFERENCES",o.ON_CHANGE_NICKNAME="ON_CHANGE_NICKNAME",o.ON_REFRESH_NICKNAME="ON_REFRESH_NICKNAME",o.ON_GET_GIRLPHOTOS="ON_GET_GIRLPHOTOS",o.ON_GET_CNPROMOTIONS="ON_GET_CNPROMOTIONS",o.ON_ACTIVITY="ON_ACTIVITY",o.ON_RESTORE_CHIPS="ON_RESTORE_CHIPS",o.ON_GET_ROADMAP="ON_GET_ROADMAP",o.ON_SET_ROADINFO="ON_SET_ROADINFO",o.ON_SET_CUSTOMROAD="ON_SET_CUSTOMROAD",o.GET_TABLE_VIEW="GET_TABLE_VIEW",o.ON_SET_USERTAB="ON_SET_USERTAB",o.ON_UPSET_TABLE="ON_UPSET_TABLE",o.ON_REMOVE_TABLE="ON_REMOVE_TABLE",o.ON_JOIN_TABLE="ON_JOIN_TABLE",o.ON_LEAVE_TABLE="ON_LEAVE_TABLE",o.ON_START_GAME="ON_START_GAME",o.ON_LEAVE_GAME="ON_LEAVE_GAME",o.ON_SEAT_DATA="ON_SEAT_DATA",o.ON_SEND_TIP="ON_SEND_TIP",o.ON_GET_PROMOTIONS="ON_GET_PROMOTIONS",o.ON_PING="ON_PING",o.ON_TABLE_LIST="ON_TABLE_LIST",o.ON_PUSH_BANKER_MIDATA="ON_PUSH_BANKER_MIDATA",o.ON_PUSH_PLAYER_MIDATA="ON_PUSH_PLAYER_MIDATA",o.ON_PUSH_MIDATA="ON_PUSH_MIDATA",o.ON_FLY_POKER_TIME="ON_FLY_POKER_TIME",o.ON_NOTIFY="ON_NOTIFY",o.ON_BET_RATE="ON_BET_RATE",o.ON_GAME_CONFIG="ON_GAME_CONFIG",o.ON_JOIN_DRAW_BANKER="ON_JOIN_DRAW_BANKER",o.ON_DECISION_BANKER="ON_DECISION_BANKER",o.ON_DASHBOARD="ON_DASHBOARD",o.ON_CLAIM_POINTS_INFO="ON_CLAIM_POINTS_INFO",o.ON_CLAIM_POINTS="ON_CLAIM_POINTS",o.ON_LOYALTY_DETAILS="ON_LOYALTY_DETAILS",o.ON_AVAILBLE_REWARDS="ON_AVAILBLE_REWARDS",o.ACTIVITY_STATUS="ACTIVITY_STATUS",o.ON_HONOR_POINTS_CHG="ON_HONOR_POINTS_CHG",o.ON_GET_HASH="ON_GET_HASH",o.ON_SUBSCRIBE="ON_SUBSCRIBE",o.ON_UNSUBSCRIBE="ON_UNSUBSCRIBE",o.ON_BLOCKCHAIN_UPDATE="ON_BLOCKCHAIN_UPDATE",o.ON_LIVESTREAM_LIST="ON_LIVESTREAM_LIST",o.ON_LIVESTREAM_CHANNELS="ON_LIVESTREAM_CHANNELS";var a,i=o;function o(t){return a.call(this,t)||this}t.PlayerKonnectorEvent=i;r=H5Event.H5BaseEvent,__extends(s,r),s.prototype.clone=function(){var t=new s(this.type);return t.data=this.data,t.status=this.status,t},s.NET_STATUS="NET_STATUS",s.HALL_READY="HALL_READY",s.HALL_LOGIN="HALL_LOGIN",s.INFO_READY="INFO_READY",s.ON_LOGIN="ON_LOGIN",s.ON_LAS="ON_LAS",s.USER_INFO="USER_INFO",s.ON_VIDEO_IP="ON_VIDEO_IP",s.GAME_INFO="GAME_INFO",s.ON_POOL_INFO="ON_POOL_INFO",s.ON_BET="ON_BET",s.ON_SETCHIP="ON_SETCHIP",s.ON_ENDGAME="ON_ENDGAME",s.ON_RESTORE_CHIPS="ON_RESTORE_CHIPS",s.ON_SEND_TIP="ON_SEND_TIP",s.IDLE3="IDLE3",s.IDLE5="IDLE5",s.IDLE_PAUSE="IDLE_PAUSE",s.ON_GET_ROADMAP="ON_GET_ROADMAP",s.ON_SET_ROADINFO="ON_SET_ROADINFO",s.ON_SET_CUSTOMROAD="ON_SET_CUSTOMROAD",s.GET_TABLE_VIEW="GET_TABLE_VIEW",s.ON_SET_USERTAB="ON_SET_USERTAB",s.ON_UPSET_TABLE="ON_UPSET_TABLE",s.ON_REMOVE_TABLE="ON_REMOVE_TABLE",s.ON_GET_PROMOTIONS="ON_GET_PROMOTIONS",s.ON_PING="ON_PING",s.ON_COLDHOT="ON_COLDHOT",s.ON_SIC_PERCENT="ON_SIC_PERCENT",s.ON_PREFERENCES="ON_PREFERENCES",s.ON_SET_PREFERENCES="ON_SET_PREFERENCES",s.ON_CHANGE_NICKNAME="ON_CHANGE_NICKNAME",s.ON_REFRESH_NICKNAME="ON_REFRESH_NICKNAME",s.ON_GET_GIRLPHOTOS="ON_GET_GIRLPHOTOS",s.ON_GET_CNPROMOTIONS="ON_GET_CNPROMOTIONS",s.ON_ACTIVITY="ON_ACTIVITY",s.ON_JOIN_TABLE="ON_JOIN_TABLE",s.ON_LEAVE_TABLE="ON_LEAVE_TABLE",s.ON_SEAT_DATA="ON_SEAT_DATA",s.CANCEL_CUSTOM_BET="CANCEL_CUSTOM_BET",s.ON_START_GAME="ON_START_GAME",s.ON_LEAVE_GAME="ON_LEAVE_GAME",s.DEALER_TYPE="DEALER_TYPE",s.DEALER_DATA="DEALER_DATA",s.CHANGE_DEALER_PIC="CHANGE_DEALER_PIC",s.ON_SHUFFLE="ON_SHUFFLE",s.CHANGE_DEALER_ID="CHANGE_DEALER_ID",s.CHANGE_DEALER_NAME="CHANGE_DEALER_NAME",s.ON_ODDS="ON_ODDS",s.GAME_URL="GAME_URL",s.GROUP_SWITCH_SET="GROUP_SWITCH_SET",s.ROUND_INFO="ROUND_INFO",s.BET_LIMIT="BET_LIMIT",s.BET_INFO="BET_INFO",s.BET_INFO_COMMITTED="BET_INFO_COMMITTED",s.STATUS_CHANGED="STATUS_CHANGED",s.MARQUEE="MARQUEE",s.ON_FOLLOW_DEALER="ON_FOLLOW_DEALER",s.CHANGE_SEATS_INFO="CHANGE_SEATS_INFO",s.CLOSE_GAME="CLOSE_GAME",s.BET_RECORD="BET_RECORD",s.ON_PUSH_BANKER_MIDATA="ON_PUSH_BANKER_MIDATA",s.ON_PUSH_PLAYER_MIDATA="ON_PUSH_PLAYER_MIDATA",s.ON_PUSH_MIDATA="ON_PUSH_MIDATA",s.CHANGE_CREDIT="CHANGE_CREDIT",s.ON_TABLE_LIST="ON_TABLE_LIST",s.CHANGE_LOCK="CHANGE_LOCK",s.CHANGE_SIT="CHANGE_SIT",s.CHANGE_SINGLE="CHANGE_SINGLE",s.ON_FLY_POKER_TIME="ON_FLY_POKER_TIME",s.ON_NOTIFY="ON_NOTIFY",s.ON_BET_RATE="ON_BET_RATE",s.ON_GAME_CONFIG="ON_GAME_CONFIG",s.ON_JOIN_DRAW_BANKER="ON_JOIN_DRAW_BANKER",s.ON_DECISION_BANKER="ON_DECISION_BANKER",s.ON_DASHBOARD="ON_DASHBOARD",s.ON_CLAIM_POINTS_INFO="ON_CLAIM_POINTS_INFO",s.ON_CLAIM_POINTS="ON_CLAIM_POINTS",s.ON_LOYALTY_DETAILS="ON_LOYALTY_DETAILS",s.ON_AVAILBLE_REWARDS="ON_AVAILBLE_REWARDS",s.ON_HONOR_POINTS_CHG="ON_HONOR_POINTS_CHG",s.ON_CREDIT_LIMIT="ON_CREDIT_LIMIT",s.ON_BLOCKCHAIN_LOGIN="ON_BLOCKCHAIN_LOGIN",s.ON_GET_HASH="ON_GET_HASH",s.ON_SUBSCRIBE="ON_SUBSCRIBE",s.ON_UNSUBSCRIBE="ON_UNSUBSCRIBE",s.ON_BLOCKCHAIN_UPDATE="ON_BLOCKCHAIN_UPDATE",s.ON_MAINTAIN_INFO="ON_MAINTAIN_INFO",s.ON_LIVESTREAM_LIST="ON_LIVESTREAM_LIST",s.ON_LIVESTREAM_CHANNELS="ON_LIVESTREAM_CHANNELS";var r,i=s;function s(t){return r.call(this,t)||this}t.LiveGameEvent=i;h=H5Event.H5BaseEvent,__extends(c,h),c.prototype.clone=function(){var t=new c(this.type);return t.data=this.data,t},c.ASSETS_READY="ASSETS_READY",c.UI_READY="UI_READY",c.ENTER_GAME="ENTER_GAME",c.BET="BET",c.FLOP_BET="FLOP_BET",c.NO_END_GAME="NO_END_GAME",c.ON_SETING_CHIP="ON_SETING_CHIP",c.CHIP_VALUE="CHIP_VALUE",c.ON_CUSTOM_CHIP="ON_CUSTOM_CHIP",c.ON_UPDATE_CHIP="ON_UPDATE_CHIP",c.CHIP_TURN="CHIP_TURN",c.ON_CANCEL_SAVE="ON_CANCEL_SAVE",c.CHATROOM_SWITCH="CHATROOM_SWITCH",c.SETTING_CLOSE="SETTING_CLOSE",c.COMMIT="COMMIT",c.CANCEL="CANCEL",c.REBET="REBET",c.UNDO="UNDO",c.RASIE="RASIE",c.SEND_TIP="SEND_TIP",c.ON_SEND_TIP="ON_SEND_TIP",c.PASS_WIN_INFO="PASS_WIN_INFO",c.ON_CHANGE_TABLE="ON_CHANGE_TABLE",c.ON_CHANGE_VIDEO="ON_CHANGE_VIDEO",c.VIP_DEAL="VIP_DEAL",c.FLY_DEAL="FLY_DEAL",c.ON_OPEN_POKER="ON_OPEN_POKER",c.SEND_MIPOKER_INFO="SEND_MIPOKER_INFO",c.CHOOSE_TIME="CHOOSE_TIME",c.ON_FLY_POKER_MAX="ON_FLY_POKER_MAX",c.ON_CHG_ROADMAP="ON_CHG_ROADMAP",c.ON_CHG_DEALER="ON_CHG_DEALER",c.BULL_BET="BULL_BET",c.JOIN_DRAW_BANKER="JOIN_DRAW_BANKER",c.JUMP_GOODROAD="JUMP_GOODROAD",c.VIDEO_PING="VIDEO_PING",c.FOLLOW_DEALER="FOLLOW_DEALER",c.HAVE_CHINESE_DEALER="HAVE_CHINESE_DEALER",c.SET_UI_TYPE="SET_UI_TYPE",c.ON_JOIN_DRAW_BANKER="ON_JOIN_DRAW_BANKER",c.ACTIVITY_INFO="ACTIVITY_INFO",c.ON_BLOCKCHAIN_UPDATE="ON_BLOCKCHAIN_UPDATE",c.ON_GET_HASH="ON_GET_HASH",c.PLST_UPDATE="PLST_UPDATE";var h,l=c;function c(t){return h.call(this,t)||this}t.VideoGameEvent=l;u=H5Event.H5BaseEvent,__extends(d,u),d.prototype.clone=function(){var t=new d(this.type);return t.betType=this.betType,t.data=this.data,t},d.CLK="CLICK";var u,i=d;function d(t){return u.call(this,t)||this}t.BetSensorEvent=i;p=H5Event.H5BaseEvent,__extends(f,p),f.SELECT_LIST="SELECT_LIST";var p,i=f;function f(t){return p.call(this,t)||this}t.ListEvent=i;_=H5Event.H5BaseEvent,__extends(m,_),m.PORT_STATUS="PORT_STATUS",m.IP_FORMAT_ERROR="IP_FORMAT_ERROR",m.IP_DISCONNECT="IP_DISCONNECT";var _,i=m;function m(t){return _.call(this,t)||this}t.IPCheckEvent=i;g=H5Event.H5BaseEvent,__extends(v,g),v.prototype.clone=function(){var t=new v(this.type);return t.value=this.value,t};var g,i=v;function v(t){t=g.call(this,t)||this;return t.ON_BAR_MOVE="ON_BAR_MOVE",t}t.ScrollBarEvent=i;y=H5Event.H5BaseEvent,__extends(P,y),P.prototype.clone=function(){var t=new P(this.type);return t.isMute=this.isMute,t.value=this.value,t},P.DUB_VOLUMN="DUB_VOLUMN",P.DUB_CHANGE="DUB_CHANGE",P.EFFECT_CHANGE="EFFECT_CHANGE",P.BGM_CHANGE="BGM_CHANGE",P.MUTE_CHANGE="MUTE_CHANGE";var y,i=P;function P(t){return y.call(this,t)||this}t.MusicEvent=i;S=H5Event.H5BaseEvent,__extends(b,S),b.prototype.clone=function(){var t=new b(this.type);return t.data=this.data,t.roadArray=this.roadArray,t},b.ARRAYSORT="ARRAYSORT",b.SUMROADMAP="SUMROADMAP",b.ROADMAPSTATUS="ROADMAPSTATUS";var S,i=b;function b(t){return S.call(this,t)||this}t.RoadmapEvent=i;I=H5Event.H5BaseEvent,__extends(B,I),B.prototype.clone=function(){return new B(this.type)},B.LOAD_COMPLETE="LOAD_COMPLETE";var I,i=B;function B(t){return I.call(this,t)||this}t.AssetManagerEvent=i;C=H5Event.H5BaseEvent,__extends(k,C),k.prototype.clone=function(){return new k(this.type)},k.RESIZE="RESIZE";var C,i=k;function k(t){return C.call(this,t)||this}t.SizeEvent=i;T=H5Event.H5BaseEvent,__extends(x,T),x.prototype.clone=function(){var t=new x(this.type);return t.data=this.data,t.mySwitch=this.mySwitch,t},x.SELECT_GAME="SELECT_GAME",x.CLOSE_TABLE="CLOSE_TABLE",x.HAVE_GOOD_TABLE="HAVE_GOOD_TABLE";var T,i=x;function x(t){return T.call(this,t)||this}t.RoadTipEvent=i;M=H5Event.H5BaseEvent,__extends(w,M),w.prototype.clone=function(){var t=new w(this.type);return t.data=this.data,t.status=this.status,t},w.ON_LAYOUT_COMPLETE="ON_LAYOUT_COMPLETE",w.ON_LOG_CLICKBTN="ON_LOG_CLICKBTN",w.ON_SELECT_GAME="ON_SELECT_GAME",w.ON_CLOSE_TABLE="ON_CLOSE_TABLE",w.ON_CHANGE_LIST="ON_CHANGE_LIST",w.ON_AUTO_POKER="ON_AUTO_POKER",w.ON_SELECT_OUT="ON_SELECT_OUT",w.SET_TAB_LIST="SET_TAB_LIST",w.ON_PLAY_BTN="ON_PLAY_BTN",w.ON_SET_KEY="ON_SET_KEY";var M,i=w;function w(t){return M.call(this,t)||this}t.HallEvent=i;L=H5Event.H5BaseEvent,__extends(E,L),E.prototype.clone=function(){var t=new l(this.type);return t.data=this.data,t.mySwitch=this.mySwitch,t},E.VIEW_CHIP="VIEW_CHIP",E.VIEW_PEOPLE="VIEW_PEOPLE",E.VIEW_PERCENT="VIEW_PERCENT",E.VIEW_MONEY="VIEW_MONEY",E.SELECT_VIDEO_IP="SELECT_VIDEO_IP",E.PASS_LIMIT_INFO="PASS_LIMIT_INFO",E.PLAY_VIDEO="PLAY_VIDEO",E.CHANGE_UI_TYPE="CHANGE_UI_TYPE",E.CHANGE_MI_SET="CHANGE_MI_SET",E.VIDEO_SWITCH="VIDEO_SWITCH",E.GO_USERINFO="GO_USERINFO",E.SAVE_MONEY="SAVE_MONEY",E.MESSAGE_HISTORY="MESSAGE_HISTORY",E.BET_HISTORY="BET_HISTORY",E.HELP="HELP",E.FOLLOW_DEALER="FOLLOW_DEALER",E.EXIT="EXIT";var L,i=E;function E(t){return L.call(this,t)||this}t.ToolBarEvent=i;N=H5Event.H5BaseEvent,__extends(A,N),A.prototype.clone=function(){var t=new A(this.type);return t.data=this.data,t};var N,i=A;function A(t){return N.call(this,t)||this}t.MenuEvent=i;O=H5Event.H5BaseEvent,__extends(D,O),D.prototype.clone=function(){var t=new D(this.type);return t.data=this.data,t.mySwitch=this.mySwitch,t},D.TEXT_INPUT="TEXT_INPUT",D.END_SEARCH="END_SEARCH",D.NO_MATCH_DATA="NO_MATCH_DATA",D.SEARCHBAR_SWITCH="SEARCHBAR_SWITCH",D.KEYBOARD_VISIBLE="KEYBOARD_VISIBLE";var O,i=D;function D(t){return O.call(this,t)||this}t.SearchEvent=i;U=H5Event.H5BaseEvent,__extends(R,U),R.prototype.clone=function(){var t=new l(this.type);return t.data=this.data,t.mySwitch=this.mySwitch,t},R.ON_SWITCH="ON_SWITCH";var U,i=R;function R(t){return U.call(this,t)||this}t.PushMsgEvent=i}(VideoShare=VideoShare||{}),!function(t){e=H5EventdispatcherCore.EventDispatcher,__extends(n,e),n.setStyle=function(t){n.style=t},n.setSize=function(t,e){n.GAME_WIDTH=t,n.GAME_HEIGHT=e},n.setRatio=function(t,e){n.phoneRatioW=n.GAME_WIDTH/t,n.phoneRatioH=n.GAME_HEIGHT/e};var e,i=n;function n(){return e.call(this)||this}t.GameStyle=i}(CheckSize=CheckSize||{}),!function(t){e=PIXI.Container,__extends(n,e),Object.defineProperty(n.prototype,"Now",{get:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},enumerable:!1,configurable:!0}),n.prototype.changeStyle=function(){this.fpsSpr.visible=!1,this.fpsStr="FPS ",this.addChild(this.fpsText),this.fpsText.style={fontFamily:"Arial",fontSize:"14px",fill:"#FFFFFF"}},n.prototype.measureFps=function(){this.previousFramesDuration.push(this.Now);var t=this.previousFramesDuration.length;if(2<=t&&(this.deltaTime=this.previousFramesDuration[t-1]-this.previousFramesDuration[t-2]),t>=this.fpsRange){t>this.fpsRange&&(this.previousFramesDuration.splice(0,1),t=this.previousFramesDuration.length);for(var e=0,i=0;i<t-1;i++)e+=this.previousFramesDuration[i+1]-this.previousFramesDuration[i];this.fps=1e3/(e/(t-1))}this.fpsText.text=this.fpsStr+String(Math.ceil(this.fps))};var e,i=n;function n(){var t=e.call(this)||this;return t.fps=60,t.previousFramesDuration=[],t.fpsRange=60,t.deltaTime=0,t.fpsStr="",t.fpsSpr=new PIXI.Graphics,t.fpsSpr.beginFill(0),t.fpsSpr.drawRect(0,0,100,60),t.addChild(t.fpsSpr),t.fpsText=new PIXI.Text("",{fontFamily:"Arial",fontSize:"50px",fill:"#FFFFFF"}),t.fpsSpr.addChild(t.fpsText),t}t.FpsMeasure=i}(Tools=Tools||{}),!function(t){function a(){a.event=new H5EventdispatcherCore.EventDispatcher}a.loadJSON=function(t,e,i){var n=new XMLHttpRequest;n.onloadend=function(){a.loadSuccess()},n.onreadystatechange=function(){4===n.readyState&&(0===n.status&&null!=n.responseText||200===n.status?e&&e(JSON.parse(n.responseText)):i&&i(n))},n.open("get",t,!0),n.send()},a.initJSON=function(t,e){this.arrFile.push((t=void 0===t?"":t)+(e=void 0===e?"":e))},a.loadFile=function(){a.loadJSON(a.arrFile[a.loadedCount],function(t){t.settingData&&(a.settingData=t.settingData),t.bgMusicList&&(a.bgMusicList=t.bgMusicList),t.bgMusicNameList&&(a.bgMusicNameList=t.bgMusicNameList),t.videoSettingData&&(a.videoSettingData=t.videoSettingData)},function(t){this.loadedCount++})},a.setFile=function(t){t.settingData&&(a.settingData=t.settingData),t.bgMusicList&&(a.bgMusicList=t.bgMusicList),t.bgMusicNameList&&(a.bgMusicNameList=t.bgMusicNameList),t.videoSettingData&&(a.videoSettingData=t.videoSettingData)},a.loadSuccess=function(){this.loadedCount++,this.loadedCount<this.arrFile.length?a.loadFile():a.event.dispatchEvent(new VideoShare.AssetManagerEvent(VideoShare.AssetManagerEvent.LOAD_COMPLETE))},a.arrFile=[],a.loadedCount=0,a.bgMusicList=[],a.bgMusicNameList=[],t.Informantion=a}(VideoAssetManager=VideoAssetManager||{}),Date.now||(Date.now=function(){return(new Date).getTime()}),!function(t){function e(){}Date.prototype.Format=function(t){var e,i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t},e.checkZone1=function(){void 0!==window.SessionID&&(this.sid=window.SessionID),this.Zone2=Date.now(),this.Zone1=this.Zone2-parent.enterTime,this.emitPTI(1,this.Zone1)},e.checkZone2=function(){this.Zone3=Date.now(),this.Zone2=this.Zone3-this.Zone2,this.emitPTI(2,this.Zone2)},e.checkZone3=function(){this.Zone3=Date.now()-this.Zone3,this.Zone5=Date.now()-parent.enterTime,this.emitPTI(3,this.Zone3),this.emitPTI(5,this.Zone5)},e.getCookie=function(t){for(var e=document.cookie.split(";"),i=0;i<e.length;i++)if(e[i].trim().match("^"+t+"="))return e[i].replace(t+"=","").trim();return null},e.emitPTI=function(t,e){var i,n,a=this;-1==location.hostname.indexOf("vir888")&&"localhost"!=location.hostname&&"127.0.0.1"!=location.hostname&&(i=new XMLHttpRequest,n="//fxlog.mentalqueen.com/setWebLog.php",-1!=location.hostname.indexOf("vir999")&&(n="//talk.vir999.net/setWebLog.php"),e="?t_zone="+t+"&sid="+this.sid+"&uuid="+this.uu+"&proc_time="+e+"&uid="+this.uid+"&device="+this.device+"&ping="+this.ping+"&gping="+this.gping+"&domain="+this.domain+"&g_domain="+this.gdomain+"&gtype="+this.gtype+"&utype="+this.utype+"&c_domain="+this.cdomain,i.onreadystatechange=function(){if(4==i.readyState&&200==i.status)switch(t){case 1:a.ZC1=1;break;case 2:a.ZC2=1;break;case 3:a.ZC3=1}},e+="&ZC1="+this.ZC1+"&ZC2="+this.ZC2+"&ZC3="+this.ZC3,i.open("GET",location.protocol+n+e,!0),i.send())},e.getIPD=function(){var t=this,e=(this.getUU(),this.domain=location.host,new XMLHttpRequest);e.onreadystatechange=function(){1==e.readyState&&(t.ping=Date.now()),4==e.readyState&&(t.ping=Date.now()-t.ping)},e.open("GET",location.origin,!0),e.send(),DeviceAndEnvironment.Device.isMobile()?this.device=1:this.device=0},e.setCDomain=function(t){this.cdomain=t.split("//")[1].split("/")[0]},e.getUU=function(){var t;return this.uu=this.getCookie("FXUID"),null==this.uu&&(t=Date.now().toString(16)+window.SessionID,t=window.shake128(t,128),this.uu=t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20),document.cookie="FXUID="+this.uu+"; path=/"),this.uu},e.Zone0=0,e.Zone1=0,e.Zone2=0,e.Zone3=0,e.Zone4=0,e.Zone5=0,e.domain="",e.cdomain="",e.gdomain="",e.uid="",e.uu="",e.sid="",e.ping=0,e.gping=0,e.gtype="",e.utype="",e.ZC1=0,e.ZC2=0,e.ZC3=0,t.PT=e}(PTI=PTI||{}),!function(e){i=H5EventdispatcherCore.EventDispatcher,__extends(n,i),n.prototype.connect=function(t){var e=this,i="",i=IPL.UrlParameter.isSecure?"wss://":"ws://";this._ws=new WebSocket(i+t+"/fxLive/fxLB?gameType=tracking"),this._ws.onmessage=function(t){e.evt_ws_onmessage(t)}},n.prototype.evt_ws_onmessage=function(t){"NetConnect.Success"==JSON.parse(t.data).NetStatusEvent&&((t=new e.LogEvent(e.LogEvent.NET_STATUS)).status="NetConnection.Connect.Success",i.prototype.dispatchEvent.call(this,t))},n.prototype.sendLog=function(t){var e={action:"GameEnv"};e.log=t,this.callServer(e)},n.prototype.callServer=function(t){t=JSON.stringify(t);this._ws.send(t)};var i,t=n;function n(){return i.call(this)||this}e.LogModel=t;a=H5Event.H5BaseEvent,__extends(o,a),o.prototype.clone=function(){var t=new o(this.type);return t.status=this.status,t},o.NET_STATUS="NET_STATUS";var a,t=o;function o(t){return a.call(this,t)||this}e.LogEvent=t}(Model=Model||{}),!function(t){e=PIXI.Sprite,__extends(n,e);var e,i=n;function n(){var t=e.call(this)||this;return t.event=new H5EventdispatcherCore.EventDispatcher,t}t.EventSprite=i;a=PIXI.Container,__extends(o,a),o.prototype.onDragStart=function(t){this._clicking=!0,this._dragging=!0,this._startPos=t.data.getLocalPosition(this._stage),this._targetStarPos=new PIXI.Point(this.x,this.y),this._holding=!0,this._holdStartTime=Date.now(),0==this._ClickCount?(this._ClickCount++,this._click2StartTime=Date.now()):1==this._ClickCount?this._ClickCount++:(this._ClickCount=1,this._click2StartTime=Date.now())},o.prototype.onDragEnd=function(t){var e;1==this._clicking&&(this.event.dispatchEvent(new s(s.CLICK,this._startPos)),this._clicking=!1),2==this._ClickCount&&Date.now()-this._click2StartTime<300&&this.event.dispatchEvent(new s(s.DOUBLE_CLICK)),1==this._holding&&200<Date.now()-this._holdStartTime&&this.event.dispatchEvent(new s(s.HOLD_THEN_DROP)),this._currentPos=t.data.getLocalPosition(this._stage),1==this._dragging&&(t=new s(s.SLIDE_END,this._startPos,this._currentPos),(e={}).targetStartPos=this._targetStarPos,t.data=e,this.event.dispatchEvent(t)),this._dragging=!1,this._holding=!1},o.prototype.onDragMove=function(t){this._holding=!1,1==this._dragging&&(3<Math.abs(t.data.getLocalPosition(this._stage).x-this._startPos.x)&&(this._clicking=!1),this.startPos||(this.startPos=this._startPos),this.startPos==this._startPos?this.changeStart=!1:(this.changeStart=!0,this.startPos=this._startPos),!this._prevPos||1==this.changeStart?this._prevPos=this._startPos:this._prevPos=this._currentPos,this._currentPos=t.data.getLocalPosition(this._stage),this._currentPos.x>this._prevPos.x&&this.event.dispatchEvent(new s(s.RIGHT_SLIDE,this._startPos,this._currentPos,this._currentPos.x-this._prevPos.x)),this._currentPos.x<this._prevPos.x&&this.event.dispatchEvent(new s(s.LEFT_SLIDE,this._startPos,this._currentPos,this._currentPos.x-this._prevPos.x)),this._currentPos.y>this._prevPos.y?this.event.dispatchEvent(new s(s.DOWN_SLIDE,this._startPos,this._currentPos,this._currentPos.y-this._prevPos.y)):this._prevPos.y>this._currentPos.y&&this.event.dispatchEvent(new s(s.UP_SLIDE,this._startPos,this._currentPos,this._currentPos.y-this._prevPos.y)))};var a,i=o;function o(t){void 0===t&&(t=null);var e=a.call(this)||this;return e._dragging=!1,e._holding=!1,e._clicking=!1,e._ClickCount=0,e.event=new H5EventdispatcherCore.EventDispatcher,null!=t&&(e._stage=t,e.interactive=!0,DeviceAndEnvironment.Device.isMobile()?e.on("touchstart",function(t){e.onDragStart(t)}).on("touchend",function(t){e.onDragEnd(t)}).on("touchendoutside",function(t){e.onDragEnd(t)}).on("touchmove",function(t){e.onDragMove(t)}):e.on("mousedown",function(t){e.onDragStart(t)}).on("mouseup",function(t){e.onDragEnd(t)}).on("mouseout",function(t){e.onDragEnd(t)}).on("mousemove",function(t){e.onDragMove(t)})),e}t.EventContainer=i;r=H5Event.H5BaseEvent,__extends(h,r),h.prototype.clone=function(){var t=new h(this.type,this.startPos,this.curPos,this.movPos);return t.data=this.data,t.status=this.status,t.startPos=this.startPos,t.movPos=this.movPos,t.curPos=this.curPos,t},h.RIGHT_SLIDE="RIGHT_SLIDE",h.LEFT_SLIDE="LEFT_SLIDE",h.UP_SLIDE="UP_SLIDE",h.DOWN_SLIDE="DOWN_SLIDE",h.HOLD_THEN_DROP="HOLD_THEN_DROP",h.DOUBLE_CLICK="DOUBLE_CLICK",h.SLIDE_END="SLIDE_END",h.CLICK="CLICK";var r,s=h;function h(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=0);t=r.call(this,t)||this;return t.startPos=e,t.movPos=n,t.curPos=i,t}t.SlideEvent=s;l=PIXI.Sprite,__extends(c,l),c.prototype.onDragStart=function(){this.alpha=.5,this.dragging=!0},c.prototype.onDragEnd=function(){this.alpha=1,this.dragging=!1},c.prototype.onDragMove=function(t){this.dragging&&(t=t.data.getLocalPosition(t.currentTarget.parent),this.x=t.x)};var l,i=c;function c(){var e=l.call(this)||this;return e.on("mousemove",function(t){e.onDragMove(t)}),e.on("touchmove",function(t){e.onDragMove(t)}),e.interactive=!0,e}t.DragSprite=i}(Composite=Composite||{}),!function(t){var e,r=PIXI.Sprite,i=PIXI.Container,i=(__extends(s,e=i),s.prototype.setAlertSize=function(t){"phone"==t?s.alertCon.scale.set(CheckSize.GameStyle.GAME_WIDTH/420,CheckSize.GameStyle.GAME_WIDTH/420):"hud"==t&&(s.alertCon.width>parent.window.innerWidth||s.alertCon.height>parent.window.innerHeight)&&(t=Math.min(parent.window.innerWidth/CheckSize.GameStyle.GAME_WIDTH,parent.window.innerHeight/CheckSize.GameStyle.GAME_HEIGHT),s.alertCon.scale.set(t)),this.setPosition()},s.prototype.setSize=function(t,e){this._stageWidth=t,this._stageHeight=e,this.setMask()},s.prototype.setStyle=function(t,e,i,n,a){var o=this;if(void 0===n&&(n=null),void 0===a&&(a=null),this.interactive=!0,this.interactiveChildren=!0,s._textObj=e,s._content.style=e,s._content.y=i.cy,null!=i.cya&&(s._content.anchor.y=i.cya),s._title.style=t,s._title.y=i.ty,null!=i.tx&&(s._title.x=i.tx),null==i.maskA&&(i.maskA=.5),s._cover.alpha=i.maskA,null!=i.scale9?(s._alertWindow.texture=CheckSize.GameStyle.renderer.generateTexture(PIXILayoutTool.DisplayObject.createImage(i.strBG)),null!=i.cx&&(s._content.x=i.cx),s._content.anchor.x=.5):s._alertWindow.texture=PIXI.Texture.fromImage(i.strBG),null!=i.strIcon&&(a=PIXI.Sprite.fromImage(i.strIcon),s._alertWindow.addChild(a),a.x=i.iconX,a.y=i.iconY),s._alertWindow.texture.baseTexture.hasLoaded?this.onLoaded():s._alertWindow.texture.baseTexture.once("loaded",function(){o.onLoaded()}),s.alertCon.visible=!1,null!=n&&(null!=n.scale9?(this._textureCloseBtnUp=CheckSize.GameStyle.renderer.generateTexture(PIXILayoutTool.DisplayObject.createImage(n.strBtnUp)),null!=n.strBtnOver&&(this._textureCloseBtnOver=CheckSize.GameStyle.renderer.generateTexture(PIXILayoutTool.DisplayObject.createImage(n.strBtnOver))),this._textureCloseBtnDown=CheckSize.GameStyle.renderer.generateTexture(PIXILayoutTool.DisplayObject.createImage(n.strBtnDown))):(this._textureCloseBtnUp=PIXI.Texture.fromImage(n.strBtnUp),null!=n.strBtnOver&&(this._textureCloseBtnOver=PIXI.Texture.fromImage(n.strBtnOver)),this._textureCloseBtnDown=PIXI.Texture.fromImage(n.strBtnDown)),s._closeBtn.texture=this._textureCloseBtnUp,s._closeBtn.position.x=n.posX,s._closeBtn.position.y=n.posY,s._alertWindow.addChild(s._closeBtn),s._closeBtn.visible=!1,this.setCloseBtn()),null!=n.iconName){try{PIXI.Texture.fromFrame(n.iconName+"000"+this.lanArr.indexOf(n.lang))}catch(t){n.lang="us"}e=r.fromImage(n.iconName+"000"+this.lanArr.indexOf(n.lang));e.x=(s._closeBtn.width-e.texture.frame.width)/2,e.y=(s._closeBtn.height-e.texture.frame.height)/2,s._closeBtn.addChild(e)}},s.setReConnectBtn=function(t,e){void 0===e&&(e=null),t.btn.x=t.posX,t.btn.y=t.posY,s._alertWindow.addChild(t.btn),e&&(e.btn.x=e.posX,e.btn.y=e.posY,s._alertWindow.addChild(e.btn))},s.showAlert=function(t,e,i,n,a){void 0===e&&(e=0),void 0===i&&(i=""),void 0===n&&(n=!0),void 0===a&&(a=!0),s.close(),s.alertCon.visible=!0,s._content.text=t;t=new o(o.ALERT_VISIBLE);t.mySwitch=s.alertCon.visible,s.event.dispatchEvent(t),1==n&&(s._closeBtn.visible=!0),a&&(s._cover.visible=!0),""!=i&&(s._title.text=i),0!=e&&(null!=this._timeVar&&clearTimeout(this._timeVar),this._timeVar=setTimeout(function(){s.close()},e))},s.close=function(){s._cover.visible=!1,s.alertCon.visible=!1,s._closeBtn.visible=!1;var t=new o(o.ALERT_VISIBLE);t.mySwitch=s.alertCon.visible,s.event.dispatchEvent(t),null!=this._timeVar&&clearTimeout(this._timeVar),this.isChipSelect=!1},s.prototype.setMask=function(){s._cover.clear(),s._cover.beginFill(0,1),s._cover.drawRect(0,0,this._stageWidth,this._stageHeight),s._cover.visible=!1},s.prototype.onLoaded=function(){s._content.x=s._alertWindow.width/2,0==s._title.x&&(s._title.x=s._alertWindow.width/2,s._title.anchor.x=.5),s._content.anchor.x=.5,this.setPosition()},s.getVisible=function(){return s.alertCon.visible},s.prototype.setPosition=function(){s.alertCon.position.x=(this._stageWidth-s.alertCon.width)/2,s.alertCon.position.y=(this._stageHeight-s.alertCon.height)/2},s.prototype.setCloseBtn=function(){var e=this;s._closeBtn.interactive||(s._closeBtn.interactive=!0,s._closeBtn.buttonMode=!0,DeviceAndEnvironment.Device.isMobile()?s._closeBtn.on("touchstart",function(t){s._closeBtn.texture=e._textureCloseBtnDown}).on("touchend",function(t){s.close(),s._closeBtn.texture=e._textureCloseBtnUp}).on("touchendoutside",function(t){s._closeBtn.texture=e._textureCloseBtnUp}):s._closeBtn.on("mousedown",function(t){s._closeBtn.texture=e._textureCloseBtnDown}).on("mouseup",function(t){s.close(),s._closeBtn.texture=e._textureCloseBtnUp}).on("mouseout",function(t){s._closeBtn.texture=e._textureCloseBtnUp}).on("mouseover",function(t){null!=e._textureCloseBtnOver&&(s._closeBtn.texture=e._textureCloseBtnOver)}))},s.isChipSelect=!1,s);function s(){var t=e.call(this)||this;return t.lanArr=["tw","cn","us","kr","vi","th","ja","id","es"],s.event=new H5EventdispatcherCore.EventDispatcher,s.alertCon=new PIXI.Container,s._alertWindow=new PIXI.Sprite,s._closeBtn=new PIXI.Sprite,s._title=new PIXI.Text(""),s._content=new PIXI.Text(""),s._cover=new PIXI.Graphics,t.addChild(s._cover),t.addChild(s.alertCon),s.alertCon.addChild(s._alertWindow),s._alertWindow.addChild(s._title),s._alertWindow.addChild(s._content),t}t.AlertPanel=i;n=H5Event.H5BaseEvent,__extends(a,n),a.prototype.clone=function(){var t=new a(this.type);return t.data=this.data,t},a.ALERT_VISIBLE="ALERT_VISIBLE";var n,o=a;function a(t){return n.call(this,t)||this}t.AlertEvent=o}(Tools=Tools||{}),!function(i){n=H5EventdispatcherCore.EventDispatcher,__extends(e,n),e.prototype.getSid=function(){return this._sid},e.prototype.setSid=function(t){this._sid=t},e.prototype.close=function(){this._ws.close()},e.prototype.connect=function(t,e){var i=this;IPL.UrlParameter.isSecure;t="wss://"+t+"/fxLive/fxLB?gameType="+e;null!=this._ws&&(this._ws.close(),this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws=null),IPL.UrlParameter.isLocal||-1!=IPL.UrlParameter.domain.indexOf("vir999")?this._ws=new WebSocket(t):(this._ws=new WebSocket(t,"casino.bin"),this._ws.binaryType="arraybuffer"),this._ws.onmessage=function(t){i.netConnectionHandler(t)},this._ws.onclose=function(t){i.netConnectionHandler(t)}},e.prototype.Utf8ArrayToStr=function(t){for(var e,i,n,a="",o=t.length,r=0;r<o;)switch((e=t[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(e);break;case 12:case 13:i=t[r++],a+=String.fromCharCode((31&e)<<6|63&i);break;case 14:i=t[r++],n=t[r++],a+=String.fromCharCode((15&e)<<12|(63&i)<<6|(63&n)<<0)}return a},e.prototype.str2ab=function(t){for(var e,i=t.length,n=-1,a=512,o=new Uint8Array(a),r=0;r<i;++r)(e=t.charCodeAt(r))<=127?o[++n]=e:(e<=2047?o[++n]=192|e>>>6:(e<=65535?o[++n]=224|e>>>12:(o[++n]=240|e>>>18,o[++n]=128|e>>>12&63),o[++n]=128|e>>>6&63),o[++n]=128|63&e),a-n<=4&&(e=o,a*=2,(o=new Uint8Array(a)).set(e));return o.subarray(0,++n)},e.prototype.netConnectionHandler=function(t){var e;switch(t.data instanceof Blob||(t.data instanceof ArrayBuffer?e=this.Utf8ArrayToStr(new Uint8Array(t.data)):"string"==typeof t.data&&(e=t.data)),t.type){case"close":this.onWebSocketClose();break;case"message":var i=void 0,i=null!=e?e:t.data,n=JSON.parse(i);i&&this.onMessageHandle(n)}},e.prototype.onWebSocketClose=function(){var t=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.NET_STATUS);t.status="NetConnection.Connect.Closed",n.prototype.dispatchEvent.call(this,t)},e.prototype.onMessageHandle=function(t){var e;if("NetConnect.Success"==t.NetStatusEvent&&((e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.NET_STATUS)).status="NetConnection.Connect.Success"),null!=t.action)switch(t.action){case"ready":e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.HALL_READY);break;case"onHallLogin":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.HALL_LOGIN)).data=t;break;case"onLogin":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_LOGIN)).data=t;break;case"onLAS":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_LAS)).data=t;break;case"onVideoLink":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_VIDEO_IP)).data=t;break;case"onUserInfo":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_USER_INFO)).data=t;break;case"onUpdateGameInfo":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.GAME_INFO)).data=t.sl;break;case"onRestoreChips":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_RESTORE_CHIPS)).data=t.bet;break;case"onGetRoMap":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_GET_ROADMAP)).data=t;break;case"onSetRoMapInfo":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SET_ROADINFO)).data=t;break;case"onSetCustRoMap":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SET_CUSTOMROAD)).data=t;break;case"onBet":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_BET)).data=t;break;case"onSetChip":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SETCHIP)).data=t;break;case"onPoolInfo":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_POOL_INFO)).data=t.data;break;case"onGiveTips":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SEND_TIP)).data=t;break;case"onEndGame":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_ENDGAME)).data=t;break;case"onGetUsrListView":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.GET_TABLE_VIEW)).data=t;break;case"onSetUsrTabStrip":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SET_USERTAB)).data=t;break;case"onUpsertUsrTableView":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_UPSET_TABLE)).data=t;break;case"onRmUsrTableView":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_REMOVE_TABLE)).data=t;break;case"onJoinVTable":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_JOIN_TABLE)).data=t;break;case"onLeaveVTable":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_LEAVE_TABLE)).data=t;break;case"onVtableUpdate":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SEAT_DATA)).data=t;break;case"onStartGame":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_START_GAME)).data=t;break;case"onLeaveGame":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_LEAVE_GAME)).data=t;break;case"onPromotions":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_GET_PROMOTIONS)).data=t;break;case"onPreferences":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_PREFERENCES)).data=t;break;case"onSetPreferences":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SET_PREFERENCES)).data=t;break;case"onChangeNickname":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_CHANGE_NICKNAME)).data=t;break;case"onRefreshNickname":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_REFRESH_NICKNAME)).data=t;break;case"onGameGirlPhotos":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_GET_GIRLPHOTOS)).data=t;break;case"onCnPromotions":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_GET_CNPROMOTIONS)).data=t;break;case"onActivity":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_ACTIVITY)).data=t;break;case"pushMiBankdata":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_PUSH_BANKER_MIDATA)).data=t;break;case"pushMiPlaydata":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_PUSH_PLAYER_MIDATA)).data=t;break;case"pushMidata":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_PUSH_MIDATA)).data=t;break;case"onTableList":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_TABLE_LIST)).data=t;break;case"onFlyTime":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_FLY_POKER_TIME)).data=t;break;case"onNotify":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_NOTIFY)).data=t;case"onBetRateRange":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_BET_RATE)).data=t;break;case"onGameConfig":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_GAME_CONFIG)).data=t;break;case"onJoinDrawBanker":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_JOIN_DRAW_BANKER)).data=t;break;case"onDecisionBanker":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_DECISION_BANKER)).data=t;break;case"onDashboard":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_DASHBOARD)).data=t;break;case"onClaimPointsInfo":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_CLAIM_POINTS_INFO)).data=t;break;case"onClaimPoints":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_CLAIM_POINTS)).data=t;break;case"onLoyaltyDetails":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_LOYALTY_DETAILS)).data=t;break;case"onAvailableRewards":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_AVAILBLE_REWARDS)).data=t;break;case"onHonorPointsChg":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_HONOR_POINTS_CHG)).data=t;break;case"onGetHash":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_GET_HASH)).data=t;break;case"onSubscribe":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_SUBSCRIBE)).data=t;break;case"onUnsubscribe":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_UNSUBSCRIBE)).data=t;break;case"onUpdate":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_BLOCKCHAIN_UPDATE)).data=t.data;break;case"onLiveStreamList":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_LIVESTREAM_LIST)).data=t.data;break;case"onLiveStreamChannels":(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_LIVESTREAM_CHANNELS)).data=t.data}null!=t.ping&&(this.callServer(t),(e=new i.PlayerKonnectorEvent(i.PlayerKonnectorEvent.ON_PING)).data=t),null!=e&&n.prototype.dispatchEvent.call(this,e)},e.prototype.callServer=function(t){var e,t=JSON.stringify(t);"arraybuffer"!=this._ws.binaryType?this._ws.send(e=t):(e=this.str2ab(t),this._ws.send(e))};var n,t=e;function e(){return n.call(this)||this}i.Konnector=t;a=H5EventdispatcherCore.EventDispatcher,__extends(r,a),r.prototype.netStatusHandler=function(t){"NetConnection.Connect.Success"!=t.status&&"NetConnection.Connect.Closed"==t.status&&((t=new i.LiveGameEvent(i.LiveGameEvent.NET_STATUS)).status="NetConnection.Connect.Closed",a.prototype.dispatchEvent.call(this,t))},r.prototype.onhallReady=function(t){var e=new i.LiveGameEvent(i.LiveGameEvent.NET_STATUS);e.status="NetConnection.Connect.Success",a.prototype.dispatchEvent.call(this,e)},r.prototype.onHallLogin=function(t){null!=this._tReConnect&&clearTimeout(this._tReConnect);var e=new i.LiveGameEvent(i.LiveGameEvent.HALL_LOGIN);null==t.data.runEor?(this._verID=t.data.verID,0==t.data.site?this.onGetHallList(t.data.data):1==t.data.site&&this.onGetGroupSwitch(t.data.data),e.status="HallConnection.Connect.Success"):e.status=t.data.runEor,a.prototype.dispatchEvent.call(this,e)},r.prototype.onLogin=function(t){null!=this._tReConnect&&clearTimeout(this._tReConnect);var t=t.data,e=new i.LiveGameEvent(i.LiveGameEvent.ON_LOGIN);e.data=t,a.prototype.dispatchEvent.call(this,e)},r.prototype.onGetHallList=function(t){var e;null!=(t=void 0===t?null:t)&&((e=new i.LiveGameEvent(i.LiveGameEvent.GAME_URL)).data=t,e.status=this._verID,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGetGroupSwitch=function(t){var e;null!=(t=void 0===t?null:t)&&((e=new i.LiveGameEvent(i.LiveGameEvent.GROUP_SWITCH_SET)).data=t,e.status=this._verID,a.prototype.dispatchEvent.call(this,e))},r.prototype.onLAS=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_LAS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onPing=function(t){var e=new i.LiveGameEvent(i.LiveGameEvent.ON_PING);e.data=t.data,a.prototype.dispatchEvent.call(this,e)},r.prototype.onVideoIP=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_VIDEO_IP)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onUpdateGameInfo=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.GAME_INFO)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onUserInfo=function(t){var e;null!=this._tReConnect&&clearTimeout(this._tReConnect),null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.USER_INFO)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onTableList=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_TABLE_LIST)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onRestoreChips=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_RESTORE_CHIPS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGetRoadmap=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_GET_ROADMAP)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onRoadInfo=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SET_ROADINFO)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onCustomRoad=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SET_CUSTOMROAD)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onBet=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_BET)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onSetChip=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SETCHIP)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onPoolInfo=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_POOL_INFO)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onEndGame=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_ENDGAME)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGetTableView=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.GET_TABLE_VIEW)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onSetUserTab=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SET_USERTAB)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onUpsetTable=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_UPSET_TABLE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onRemoveTable=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_REMOVE_TABLE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onJoinTable=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_JOIN_TABLE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onLeaveTable=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_LEAVE_TABLE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onSeatData=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SEAT_DATA)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onSendTip=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SEND_TIP)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onStartGame=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_START_GAME)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onLeaveGame=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_LEAVE_GAME)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGetPromotions=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_GET_PROMOTIONS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onPreferences=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_PREFERENCES)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onSetPreferences=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SET_PREFERENCES)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onChangeNickname=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_CHANGE_NICKNAME)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onRefreshNickname=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_REFRESH_NICKNAME)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGetGameGirlPhotos=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_GET_GIRLPHOTOS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGetCnPromotions=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_GET_CNPROMOTIONS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onActivity=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_ACTIVITY)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onPushBankMiData=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_PUSH_BANKER_MIDATA)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onPushPlayMiData=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_PUSH_PLAYER_MIDATA)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onPushMiData=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_PUSH_MIDATA)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onFlyPokerTime=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_FLY_POKER_TIME)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onNotify=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_NOTIFY)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onBetRate=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_BET_RATE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGameConfig=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_GAME_CONFIG)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onJoinDrawBanker=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_JOIN_DRAW_BANKER)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onDecisionBanker=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_DECISION_BANKER)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onDashboard=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_DASHBOARD)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onClaimPointsInfo=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_CLAIM_POINTS_INFO)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onClaimPoints=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_CLAIM_POINTS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onLoyaltyDetails=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_LOYALTY_DETAILS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onAvailableRewards=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_AVAILBLE_REWARDS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onHonorPointsChg=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_HONOR_POINTS_CHG)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onLiveStreamList=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_LIVESTREAM_LIST)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onLiveStreamChannels=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_LIVESTREAM_CHANNELS)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onGetHash=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_GET_HASH)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onSubscribe=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_SUBSCRIBE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onUnsubscribe=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_UNSUBSCRIBE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.onUpdateBlockChain=function(t){var e;null!=t.data&&((e=new i.LiveGameEvent(i.LiveGameEvent.ON_BLOCKCHAIN_UPDATE)).data=t.data,a.prototype.dispatchEvent.call(this,e))},r.prototype.getSid=function(){return this._sid},r.prototype.setSid=function(t){this._sid=t,this._sever.setSid(this._sid)},r.prototype.connect=function(t,e){this._sever.connect(t,e)},r.prototype.hallLogin=function(t){var e=this;null!=this._tReConnect&&clearTimeout(this._tReConnect),this._tReConnect=setTimeout(function(){var t=new i.LiveGameEvent(i.LiveGameEvent.NET_STATUS);t.status="HallConnection.Connect.TimeOut",a.prototype.dispatchEvent.call(e,t),clearTimeout(e._tReConnect)},15e3),t.sid=this._sid,t.action="hallLogin",this._sever.callServer(t)},r.prototype.login=function(t){var e=this;null!=this._tReConnect&&clearTimeout(this._tReConnect),this._tReConnect=setTimeout(function(){var t=new i.LiveGameEvent(i.LiveGameEvent.NET_STATUS);t.status="LoginConnection.Connect.TimeOut",a.prototype.dispatchEvent.call(e,t),clearTimeout(e._tReConnect)},15e3),t.sid=this._sid,this._sever.callServer(t)},r.prototype.close=function(){this._sever.close()},r.prototype.noEndGame=function(t){t.action="getCredit",this._sever.callServer(t)},r.prototype.commit=function(t){t.ts=Date.now(),t.bs=++this.bs,t.sid=this._sid,t.action="bet",this._sever.callServer(t)},r.prototype.flopBet=function(){var t={action:"betFold"};this._sever.callServer(t)},r.prototype.setChip=function(t){var e={};e.chipList=t,e.sid=this._sid,e.action="setChip",this._sever.callServer(e)},r.prototype.setMiPoker=function(t){var e={};e.opoker=t,e.action="openPoker",this._sever.callServer(e)},r.prototype.goJumpDice=function(t){var e={};e.time=t,e.action="goJumpDice",this._sever.callServer(e)},r.prototype.setMidata=function(t){var e={};e.midata=t,e.action="setMidata",this._sever.callServer(e)},r.prototype.setGoodRoad=function(t){var e={};e.adRoadMap=t,e.action="hallSettings",this._sever.callServer(e)},r.prototype.getRoadmap=function(t){var e={};e.gameType=t,e.action="getRoMap",this._sever.callServer(e)},r.prototype.setRoadmapInfo=function(t){var e={};e.showItem=t,e.action="setRoMapInfo",this._sever.callServer(e)},r.prototype.setCustomRoad=function(t){var e={};e.id=t.id,e.name=t.name,e.cnt=t.cnt,e.action="setCustRoMap",this._sever.callServer(e)},r.prototype.getTableView=function(){var t={action:"getUsrListView"};this._sever.callServer(t)},r.prototype.setUserTab=function(t){var e={};e.tabStrip=t,e.action="setUsrTabStrip",this._sever.callServer(e)},r.prototype.setUpsetTable=function(t){var e={};e.tableView=t,e.action="upsertUsrTableView",this._sever.callServer(e)},r.prototype.setRemoveTable=function(t){var e={};e.tableView=t,e.action="rmUsrTableView",this._sever.callServer(e)},r.prototype.sendTip=function(t){t.action="giveTips",this._sever.callServer(t)},r.prototype.joinTable=function(t){t.action="joinVTable",this._sever.callServer(t)},r.prototype.leaveVTable=function(t){var e={};e.game=t,e.action="leaveVTable",this._sever.callServer(e)},r.prototype.startGame=function(t){t.action="startGame",this._sever.callServer(t)},r.prototype.leaveGame=function(t){var e={};e.game=t,e.action="leaveGame",this._sever.callServer(e)},r.prototype.getPromotions=function(t){t.action="promotions",this._sever.callServer(t)},r.prototype.getPreferences=function(){var t={action:"preferences"};this._sever.callServer(t)},r.prototype.setPreferences=function(t){var e={};e.settings=t,e.action="setPreferences",this._sever.callServer(e)},r.prototype.changeNickname=function(t){var e={};e.name=t,e.action="changeNickname",this._sever.callServer(e)},r.prototype.refreshNickname=function(){var t={action:"refreshNickname"};this._sever.callServer(t)},r.prototype.getGameGirlPhotos=function(){var t={action:"getGameGirlPhotos"};this._sever.callServer(t)},r.prototype.getCnPromotions=function(){var t={action:"cnPromotions"};this._sever.callServer(t)},r.prototype.setDealing=function(){var t={action:"setDealing"};this._sever.callServer(t)},r.prototype.cleanRoadmap=function(){var t={action:"cleanRoadmap"};this._sever.callServer(t)},r.prototype.changeDealer=function(){var t={action:"changeDealer"};this._sever.callServer(t)},r.prototype.joinDrawBanker=function(t){t.action="joinDrawBanker",this._sever.callServer(t)},r.prototype.bullBet=function(t){t.action="bet",this._sever.callServer(t)},r.prototype.dashboard=function(){var t={action:"dashboard"};t.sid=this._sid,this._sever.callServer(t)},r.prototype.claimPointsInfo=function(){var t={action:"claimPointsInfo"};t.sid=this._sid,this._sever.callServer(t)},r.prototype.claimPoints=function(){var t={action:"claimPoints"};t.sid=this._sid,this._sever.callServer(t)},r.prototype.loyaltyDetails=function(){var t={action:"loyaltyDetails"};t.sid=this._sid,this._sever.callServer(t)},r.prototype.sendBtnLog=function(t){t.action="sendBtnLog",t.sid=this._sid,this._sever.callServer(t)},r.prototype.setClickBtn=function(t){var e={action:"logShareWithMethod"};e.method=t.btnName,this._sever.callServer(e)},r.prototype.getHash=function(t){t.action="getHash",this._sever.callServer(t)},r.prototype.subscribe=function(t){t.action="subscribe",this._sever.callServer(t)},r.prototype.unsubscribe=function(t){t.action="unsubscribe",this._sever.callServer(t)},r.prototype.liveStreamList=function(){var t={action:"liveStreamList"};this._sever.callServer(t)},r.prototype.liveStreamChannels=function(t){t.action="liveStreamChannels",this._sever.callServer(t)};var a,o=r;function r(){var e=a.call(this)||this;return e.bs=0,e._sever=new t,e._sever.addEventListener(i.PlayerKonnectorEvent.NET_STATUS,function(t){e.netStatusHandler(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.HALL_READY,function(t){e.onhallReady(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.HALL_LOGIN,function(t){e.onHallLogin(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_LOGIN,function(t){e.onLogin(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_LAS,function(t){e.onLAS(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_PING,function(t){e.onPing(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_VIDEO_IP,function(t){e.onVideoIP(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.GAME_INFO,function(t){e.onUpdateGameInfo(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_USER_INFO,function(t){e.onUserInfo(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_RESTORE_CHIPS,function(t){e.onRestoreChips(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_GET_ROADMAP,function(t){e.onGetRoadmap(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SET_ROADINFO,function(t){e.onRoadInfo(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SET_CUSTOMROAD,function(t){e.onCustomRoad(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_BET,function(t){e.onBet(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SETCHIP,function(t){e.onSetChip(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_POOL_INFO,function(t){e.onPoolInfo(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_ENDGAME,function(t){e.onEndGame(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.GET_TABLE_VIEW,function(t){e.onGetTableView(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SET_USERTAB,function(t){e.onSetUserTab(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_UPSET_TABLE,function(t){e.onUpsetTable(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_REMOVE_TABLE,function(t){e.onRemoveTable(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_JOIN_TABLE,function(t){e.onJoinTable(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_LEAVE_TABLE,function(t){e.onLeaveTable(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SEAT_DATA,function(t){e.onSeatData(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_START_GAME,function(t){e.onStartGame(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_LEAVE_GAME,function(t){e.onLeaveGame(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SEND_TIP,function(t){e.onSendTip(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_GET_PROMOTIONS,function(t){e.onGetPromotions(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_PREFERENCES,function(t){e.onPreferences(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SET_PREFERENCES,function(t){e.onSetPreferences(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_CHANGE_NICKNAME,function(t){e.onChangeNickname(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_REFRESH_NICKNAME,function(t){e.onRefreshNickname(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_GET_GIRLPHOTOS,function(t){e.onGetGameGirlPhotos(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_GET_CNPROMOTIONS,function(t){e.onGetCnPromotions(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_ACTIVITY,function(t){e.onActivity(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_PUSH_BANKER_MIDATA,function(t){e.onPushBankMiData(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_PUSH_PLAYER_MIDATA,function(t){e.onPushPlayMiData(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_PUSH_MIDATA,function(t){e.onPushMiData(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_TABLE_LIST,function(t){e.onTableList(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_FLY_POKER_TIME,function(t){e.onFlyPokerTime(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_NOTIFY,function(t){e.onNotify(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_BET_RATE,function(t){e.onBetRate(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_GAME_CONFIG,function(t){e.onGameConfig(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_JOIN_DRAW_BANKER,function(t){e.onJoinDrawBanker(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_DECISION_BANKER,function(t){e.onDecisionBanker(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_DASHBOARD,function(t){e.onDashboard(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_CLAIM_POINTS_INFO,function(t){e.onClaimPointsInfo(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_CLAIM_POINTS,function(t){e.onClaimPoints(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_LOYALTY_DETAILS,function(t){e.onLoyaltyDetails(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_AVAILBLE_REWARDS,function(t){e.onAvailableRewards(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_HONOR_POINTS_CHG,function(t){e.onHonorPointsChg(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_GET_HASH,function(t){e.onGetHash(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_SUBSCRIBE,function(t){e.onSubscribe(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_UNSUBSCRIBE,function(t){e.onUnsubscribe(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_BLOCKCHAIN_UPDATE,function(t){e.onUpdateBlockChain(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_LIVESTREAM_LIST,function(t){e.onLiveStreamList(t)}),e._sever.addEventListener(i.PlayerKonnectorEvent.ON_LIVESTREAM_CHANNELS,function(t){e.onLiveStreamChannels(t)}),e}i.LiveGame=o}(VideoShare=VideoShare||{}),!function(r){t.prototype.getType=function(){return this._type},t.prototype.getValue=function(){return this._value};var s=t;function t(t,e){this._type=t,this._value=e}r.Bet=s;h=H5EventdispatcherCore.EventDispatcher,__extends(l,h),l.prototype.sum=function(){for(var t=0;t<=200;t++)this.betSum[t]=0;for(var e=0;e<this.betQueue.length;e++)if(this.betQueue[e]instanceof s){var i=this.betQueue[e];this.betSum[i.getType()]+=i.getValue()}else if(this.betQueue[e]instanceof l)for(var n=this.betQueue[e],a=this.gameDefine.getMinBetType();a<this.gameDefine.getMaxBetType()+1;a++)this.betSum[a]=this.betSum[a]+n.getAmount(a);this._total=0;for(var o=this.gameDefine.getMinBetType();o<this.gameDefine.getMaxBetType()+1;o++)this._total+=this.betSum[o];h.prototype.dispatchEvent.call(this,new r.BetManagerEvent(r.BetManagerEvent.CHANGE))},l.prototype.reset=function(){this.betQueue=new Array,this.fastBet=new Array,null==this.betSum&&(this.betSum=new Array);for(var t=this.gameDefine.getMinBetType();t<this.gameDefine.getMaxBetType()+1;t++)this.betSum[t]=0;this._total=0,h.prototype.dispatchEvent.call(this,new r.BetManagerEvent(r.BetManagerEvent.CHANGE))},l.prototype.addBet=function(t,e){this.betQueue.push(new s(t,e)),this.sum()},l.prototype.addBetSet=function(t){t.getGameType()==this.getGameType()&&0!=t.getTotal()&&(this.betQueue.push(t),this.sum())},l.prototype.addFastBet=function(t,e,i){this.fastBet.push({type:t=void 0===t?null:t,value:e=void 0===e?null:e,reBet:i=void 0===i?null:i})},l.prototype.addFastBetSet=function(t){if(t.getGameType()==this.getGameType()&&0<t.getFastBet().length)for(var e=0;e<t.getFastBet().length;e++)if(76==t.getFastBet()[e].type)for(var i=0;i<t.getFastBet()[e].reBet.length;i++)this.fastBet.push(t.getFastBet()[e].reBet[i]);else this.fastBet.push(t.getFastBet()[e])},l.prototype.undoBet=function(){var t=this.betQueue.length,e=0;if(0<this.betQueue.length&&(this.betQueue[t-1].betQueue&&(e=this.betQueue[t-1].betQueue.length),this.betQueue.pop(),this.sum()),0<this.fastBet.length)for(var i=0;i<e;i++)this.fastBet.pop()},l.prototype.cancelBet=function(){this.reset()},l.prototype.getAmount=function(t){return null!=this.betSum[t]&&0!=this.betSum[t]?this.betSum[t]:0},l.prototype.getNoCommAmount=function(t){return null!=this.betSum[t]?1==t?this.betSum[1]+this.betSum[14]:14==t?0:this.betSum[t]:0},l.prototype.getTotal=function(){return this._total},l.prototype.getGameType=function(){return this.gameDefine.getGameType()},l.prototype.getMaxBetType=function(){return this.gameDefine.getMaxBetType()},l.prototype.getMinBetType=function(){return this.gameDefine.getMinBetType()},l.prototype.getFastBet=function(){return this.fastBet};var h,e=l;function l(t){var e=h.call(this)||this;return e.gameDefine=t,e.reset(),e}r.BetManager=e}(VideoShare=VideoShare||{}),!function(t){i.prototype.setBetManager=function(t){this.betManager=t},i.prototype.setCommitManager=function(t){this.commitManager=t},i.prototype.setLimiter=function(t){this.limiter=t},i.prototype.getFailedReason=function(){return this._failedReason},i.prototype.checkMax=function(){for(var t=[1,2,8,9,10,11,14,29,30],e=[6,7],i=[4,5],n=[27,28],a=[16,17],o=[19,20],r=[21,22,23,24],s=0;s<t.length;s++)if(this.sumBetByType(t[s])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("BAC_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(s=0;s<2;s++)if(this.sumBetByType(e[s])>this.limiter.getLimit("hightlowMax"))return this._failedReason=IPL.DictManager.getDict("HIGHT_LOW_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(s=0;s<2;s++)if(this.sumBetByType(i[s])>this.limiter.getLimit("pairMax"))return this._failedReason=IPL.DictManager.getDict("PAIRMAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(3)>this.limiter.getLimit("tieMax"))return this._failedReason=IPL.DictManager.getDict("MAX_TIE_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(12)>this.limiter.getLimit("eitherPairMax"))return this._failedReason=IPL.DictManager.getDict("MAX_EITHERPAIR_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(13)>this.limiter.getLimit("perfectPairMax"))return this._failedReason=IPL.DictManager.getDict("MAX_PERFECTPAIR_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(15)>this.limiter.getLimit("superSixMax"))return this._failedReason=IPL.DictManager.getDict("MAX_SUPERSIX_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(26)>this.limiter.getLimit("superPairMax"))return this._failedReason=IPL.DictManager.getDict("SUPER_PAIR_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(s=0;s<n.length;s++)if(this.sumBetByType(n[s])>this.limiter.getLimit("comboPairMax"))return this._failedReason=IPL.DictManager.getDict("COMBO_PAIR_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(s=0;s<a.length;s++)if(this.sumBetByType(a[s])>this.limiter.getLimit("bankerPlayerTianMax"))return this._failedReason=IPL.DictManager.getDict("BANKER_PLAYER_TIAN_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(18)>this.limiter.getLimit("tianMax"))return this._failedReason=IPL.DictManager.getDict("TIAN_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(25)>this.limiter.getLimit("luckySixMax"))return this._failedReason=IPL.DictManager.getDict("LUCKY_SIX_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(s=0;s<o.length;s++)if(this.sumBetByType(o[s])>this.limiter.getLimit("bankerPlayerDragonMax"))return this._failedReason=IPL.DictManager.getDict("BANKER_PLAYER_DRAGON_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(s=0;s<r.length;s++)if(this.sumBetByType(r[s])>this.limiter.getLimit("bankerPlayerOddEvenMax"))return this._failedReason=IPL.DictManager.getDict("BANKER_PLAYER_ODD_EVEN_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},i.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},i.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},i.prototype.checkMinBet=function(t,e){for(var i=0,n=0;n<t.length;n++){var a=this.betManager.getAmount(t[n]);if(i+=this.betManager.getAmount(t[n]),0!=a&&a<e)return!1}return!(i<=0)};var e=i;function i(){}t.BacLimitChecker=e;__extends(a,n=e),a.prototype.checkMax=function(){for(var t=[1,2,8,9,10,11,14],e=[6,7],i=[4,5],n=0;n<t.length;n++)if(this.sumBetByType(t[n])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("BAC_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(n=0;n<2;n++)if(this.sumBetByType(e[n])>this.limiter.getLimit("hightlowMax"))return this._failedReason=IPL.DictManager.getDict("HIGHT_LOW_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(n=0;n<2;n++)if(this.sumBetByType(i[n])>this.limiter.getLimit("pairMax"))return this._failedReason=IPL.DictManager.getDict("PAIRMAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return this.sumBetByType(3)>this.limiter.getLimit("tieMax")?(this._failedReason=IPL.DictManager.getDict("MAX_TIE_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(12)>this.limiter.getLimit("eitherPairMax")?(this._failedReason=IPL.DictManager.getDict("MAX_EITHERPAIR_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(13)>this.limiter.getLimit("perfectPairMax")?(this._failedReason=IPL.DictManager.getDict("MAX_PERFECTPAIR_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(15)>this.limiter.getLimit("superSixMax")?(this._failedReason=IPL.DictManager.getDict("MAX_SUPERSIX_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1):!(this._failedReason="")},a.prototype.checkMin=function(){return this.checkInsMinBet([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],this.limiter.getLimit("roundBetMin"),[16,17],this.limiter.getLimit("insPlayerMin"),this.limiter.getLimit("insBankerMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},a.prototype.checkInsMinBet=function(t,e,i,n,a){for(var o=0,r=0;r<t.length;r++){var s=this.betManager.getAmount(t[r]);if(o+=this.betManager.getAmount(t[r]),0!=s&&s<e)return!1}for(var h=i.length,l=0;l<h;l++){var c=this.betManager.getAmount(i[l]);if(o+=this.betManager.getAmount(i[l]),0!=c&&(16==i[l]&&c<a||17==i[l]&&c<n))return!1}return!(o<=0)};var n,e=a;function a(){return n.call(this)||this}function o(){}t.BacInsLimitChecker=e,o.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.max),this.hightlowMax=t.ou,this.roundBetMin=t.min,this.tieMax=t.tie,this.pairMax=t.pair,this.perfectPairMax=t.perfectPair,this.eitherPairMax=t.eitherPair},o.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},o.prototype.setTableInfo=function(t){var e=t.tieMax,i=t.pairMax,n=t.max,a=t.min,o=t.ouMax;this.roundBetMax=Math.min(n,this.roundBetMax),this.roundBetMin=Math.max(a,this.roundBetMin),this.tieMax=Math.min(e,this.tieMax),this.pairMax=Math.min(i,this.pairMax),this.hightlowMax=Math.min(o,this.hightlowMax),this.seatID=t.seatID,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},o.prototype.setLimitInfo=function(t){t.btx&&(this.roundBetMax=t.btx),t.btn&&(this.roundBetMin=t.btn),t.tx&&(this.tieMax=t.tx),t.prx&&(this.pairMax=t.prx),t.oux&&(this.hightlowMax=t.oux),t.ppx&&(this.perfectPairMax=t.ppx),t.epx&&(this.eitherPairMax=t.epx),t.sursx&&(this.superSixMax=t.sursx),t.spx&&(this.superPairMax=t.spx),t.cpx&&(this.comboPairMax=t.cpx),t.bptx&&(this.bankerPlayerTianMax=t.bptx),t.tix&&(this.tianMax=t.tix),t.lsx&&(this.luckySixMax=t.lsx),t.bpdx&&(this.bankerPlayerDragonMax=t.bpdx),t.bpoex&&(this.bankerPlayerOddEvenMax=t.bpoex)},o.prototype.setInsMax=function(t,e){"PlayerInsBet"==t?this.insPlayerMax=e:"BankerInsBet"==t&&(this.insBankerMax=e)},o.prototype.setInsMin=function(t,e){"PlayerInsBet"==t?this.insPlayerMin=e:"BankerInsBet"==t&&(this.insBankerMin=e)},o.prototype.resetInsMax=function(){this.insPlayerMax=0,this.insBankerMax=0,this.insPlayerMin=0,this.insBankerMin=0},o.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.BacLimiter=o}(BacBet=BacBet||{}),!function(t){function e(){}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){for(var t=[1,2,8,9,10,11],e=[6,7],i=[4,5],n=[14,15],a=0;a<t.length;a++)if(this.sumBetByType(t[a])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("BAC_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<2;a++)if(this.sumBetByType(e[a])>this.limiter.getLimit("hightlowMax"))return this._failedReason=IPL.DictManager.getDict("HIGHT_LOW_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<2;a++)if(this.sumBetByType(i[a])>this.limiter.getLimit("pairMax"))return this._failedReason=IPL.DictManager.getDict("PAIRMAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(3)>this.limiter.getLimit("tieMax"))return this._failedReason=IPL.DictManager.getDict("MAX_TIE_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(12)>this.limiter.getLimit("eitherPairMax"))return this._failedReason=IPL.DictManager.getDict("MAX_EITHERPAIR_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(13)>this.limiter.getLimit("perfectPairMax"))return this._failedReason=IPL.DictManager.getDict("MAX_PERFECTPAIR_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<2;a++)if(this.sumBetByType(n[a])>this.limiter.getLimit("flushMax"))return this._failedReason=IPL.DictManager.getDict("MAX_BANKER_PLAYER_FLUSH_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.checkMinBet=function(t,e){for(var i=0,n=0;n<t.length;n++){var a=this.betManager.getAmount(t[n]);if(i+=this.betManager.getAmount(t[n]),0!=a&&a<e)return!1}return!(i<=0)},t.BacRunLimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.max),this.hightlowMax=t.ou,this.roundBetMin=t.min,this.tieMax=t.tie,this.pairMax=t.pair,this.perfectPairMax=t.perfectPair,this.eitherPairMax=t.eitherPair,this.flushMax=t.flx},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setTableInfo=function(t){var e=t.tieMax,i=t.pairMax,n=t.max,a=t.min,o=t.ouMax,r=t.flx;this.roundBetMax=Math.min(n,this.roundBetMax),this.roundBetMin=Math.max(a,this.roundBetMin),this.tieMax=Math.min(e,this.tieMax),this.pairMax=Math.min(i,this.pairMax),this.hightlowMax=Math.min(o,this.hightlowMax),this.flushMax=Math.min(r,this.flushMax),this.seatID=t.seatID,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.btx,this.roundBetMin=t.btn,this.tieMax=t.tx,this.pairMax=t.prx,this.hightlowMax=t.oux,this.perfectPairMax=t.ppx,this.eitherPairMax=t.epx,this.flushMax=t.flx},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.BacRunLimiter=i}(BacBet=BacBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){for(var t=[1,2,4,5,6,7,8,9,10,11],e=t.length,i=0;i<e;i++)if(this.sumBetByType(t[i])>this.limiter.getLimit("roundBetMax"))return!(this._failedReason="OVER_MAX");return this.sumBetByType(3)>this.limiter.getLimit("tie")?(this._failedReason=IPL.DictManager.getDict("MAX_TIE_BET")+" , "+IPL.DictManager.getDict("OVER_MAX"),!1):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9,10,11],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.DTFLimitChecker=e,i.prototype.setUserInfo=function(t){this.roundBetMin=t.min,this.roundBetMax=t.max,this.tie=t.tie},i.prototype.setTableInfo=function(t){var e=t.max,i=t.tieMax,n=t.min;this.totalMax=t.totalMax,this.seatID=t.seatID,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2,this.roundBetMax>e&&(this.roundBetMax=e),this.roundBetMin<n&&(this.roundBetMin=n),this.tie>i&&(this.tie=i)},i.prototype.toString=function(){return"[DTFLimiter] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.btx,this.roundBetMin=t.btn,this.tie=t.tx,this.totalMax=t.totx},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.DTFLimiter=i}(DtfBet=DtfBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){var t=[4,17],e=[5,16],i=[6,15],n=[7,14],a=[8,13],o=[9,10,11,12],r=[45];return this.sumBetByType(1,2)>this.limiter.getLimit("highLowMax")?!(this._failedReason="BIGSMALL_NUM_OVER_BET"):this.sumBetByType(1,2)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(t)>this.limiter.getLimit("fourMax")?!(this._failedReason="SIC_FOUR_NUM_OVER_BET"):this.ArrayBetByType(t)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(e)>this.limiter.getLimit("fiveMax")?!(this._failedReason="SIC_FIVE_NUM_OVER_BET"):this.ArrayBetByType(e)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(i)>this.limiter.getLimit("sixMax")?!(this._failedReason="SIC_SIX_NUM_OVER_BET"):this.ArrayBetByType(i)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(n)>this.limiter.getLimit("sevenMax")?!(this._failedReason="SIC_SEVEN_OVER_BET"):this.ArrayBetByType(n)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(a)>this.limiter.getLimit("eightMax")?!(this._failedReason="SIC_EIGHT_OVER_BET"):this.ArrayBetByType(a)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(o)>this.limiter.getLimit("nineMax")?!(this._failedReason="SIC_NINE_OVER_BET"):this.ArrayBetByType(o)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(18,32)>this.limiter.getLimit("twoDicesMax")?!(this._failedReason="TWODICES_NUM_OVER_BET"):this.sumBetByType(18,32)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(33,38)>this.limiter.getLimit("doubleDicesMax")?!(this._failedReason="DOUBLEDICES_NUM_OVER_BET"):this.sumBetByType(33,38)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(39,44)>this.limiter.getLimit("tripleDicesMax")?!(this._failedReason="TRIPLEDICES_NUM_OVER_BET"):this.sumBetByType(39,44)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(r)>this.limiter.getLimit("allTripleMax")?!(this._failedReason="ALLTRIPLE_NUM_OVER_BET"):this.ArrayBetByType(r)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(46,51)>this.limiter.getLimit("singleMax")?!(this._failedReason="SIC_SINGLE_NUM_OVER_BET"):this.sumBetByType(46,51)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(52,53)>this.limiter.getLimit("singleDoubleMax")?(this._failedReason=IPL.DictManager.getDict("SIC_ODDEVEN_NUM_OVER_BET"),!1):this.sumBetByType(52,53)>this.limiter.getLimit("roundBetMax")||this.sumBetByType(0,156)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet(1,2,this.limiter.getLimit("highLowMin"))&&this.checkMinBetArray([4,17],this.limiter.getLimit("fourMin"))&&this.checkMinBetArray([5,16],this.limiter.getLimit("fiveMin"))&&this.checkMinBetArray([6,15],this.limiter.getLimit("sixMin"))&&this.checkMinBetArray([7,14],this.limiter.getLimit("sevenMin"))&&this.checkMinBetArray([8,13],this.limiter.getLimit("eightMin"))&&this.checkMinBetArray([9,10,11,12],this.limiter.getLimit("nineMin"))&&this.checkMinBet(18,32,this.limiter.getLimit("twoDicesMin"))&&this.checkMinBet(33,38,this.limiter.getLimit("doubleDicesMin"))&&this.checkMinBet(39,44,this.limiter.getLimit("tripleDicesMin"))&&this.checkMinBetArray([45],this.limiter.getLimit("allTripleMin"))&&this.checkMinBet(46,51,this.limiter.getLimit("singleMin"))&&this.checkMinBet(52,53,this.limiter.getLimit("singleDoubleMin"))&&this.checkMinTotalBet(1,53,this.limiter.getLimit("roundBetMin"))&&this.checkBetManagerTotal(1,53)?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},Object.defineProperty(e.prototype,"failedReason",{get:function(){return this._failedReason},enumerable:!1,configurable:!0}),e.prototype.ArrayBetByType=function(t){var e,i=0;for(e in t)i=(i+=this.betManager.getAmount(t[e]))+this.commitManager.getAmount(t[e]);return i},e.prototype.sumBetByType=function(t,e){for(var i=0,n=t;n<e+1;n++)i=(i+=this.betManager.getAmount(n))+this.commitManager.getAmount(n);return i},e.prototype.checkMinBetArray=function(t,e){for(var i in t){i=this.betManager.getAmount(t[i])+this.commitManager.getAmount(t[i]);if(0!=i&&i<e)return!1}return!0},e.prototype.checkMinBet=function(t,e,i){for(var n=t;n<e+1;n++){var a=this.betManager.getAmount(n)+this.commitManager.getAmount(n);if(0!=a&&a<i)return!1}return!0},e.prototype.checkMinTotalBet=function(t,e,i){for(var n=0,a=t;a<e+1;a++)n=(n+=this.betManager.getAmount(a))+this.commitManager.getAmount(a);return!(n<i)},e.prototype.checkBetManagerTotal=function(t,e){for(var i=0,n=t;n<e+1;n++)i+=this.betManager.getAmount(n);return 0!=i},t.SicLimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.roundBetMax),this.roundBetMin=t.roundBetMin},i.prototype.setTableInfo=function(t){this.highLowMax=t.highLowMax,this.highLowMin=t.highLowMin,this.singleMax=t.singleMax,this.singleMin=t.singleMin,this.twoDicesMax=t.twoDicesMax,this.twoDicesMin=t.twoDicesMin,this.doubleDicesMax=t.doubleDicesMax,this.doubleDicesMin=t.doubleDicesMin,this.allTripleMax=t.allTripleMax,this.allTripleMin=t.allTripleMin,this.tripleDicesMax=t.tripleDicesMax,this.tripleDicesMin=t.tripleDicesMin,this.fourMax=t.fourMax,this.fourMin=t.fourMin,this.fiveMax=t.fiveMax,this.fiveMin=t.fiveMin,this.sixMax=t.sixMax,this.sixMin=t.sixMin,this.sevenMax=t.sevenMax,this.sevenMin=t.sevenMin,this.eightMax=t.eightMax,this.eightMin=t.eightMin,this.nineMax=t.nineMax,this.nineMin=t.nineMin,this.singleDoubleMax=t.highLowMax,this.singleDoubleMin=t.highLowMin,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){t.hlx&&(this.highLowMax=t.hlx),t.hln&&(this.highLowMin=t.hln),t.sgx&&(this.singleMax=t.sgx),t.sgn&&(this.singleMin=t.sgn),t.tdx&&(this.twoDicesMax=t.tdx),t.tdn&&(this.twoDicesMin=t.tdn),t.ddx&&(this.doubleDicesMax=t.ddx),t.ddn&&(this.doubleDicesMin=t.ddn),t.atx&&(this.allTripleMax=t.atx),t.atn&&(this.allTripleMin=t.atn),t.trx&&(this.tripleDicesMax=t.trx),t.trn&&(this.tripleDicesMin=t.trn),t.fox&&(this.fourMax=t.fox),t.fon&&(this.fourMin=t.fon),t.fix&&(this.fiveMax=t.fix),t.fin&&(this.fiveMin=t.fin),t.six&&(this.sixMax=t.six),t.sin&&(this.sixMin=t.sin),t.svx&&(this.sevenMax=t.svx),t.svn&&(this.sevenMin=t.svn),t.etx&&(this.eightMax=t.etx),t.etn&&(this.eightMin=t.etn),t.nix&&(this.nineMax=t.nix),t.nin&&(this.nineMin=t.nin),t.hlx&&(this.singleDoubleMax=t.hlx),t.hln&&(this.singleDoubleMin=t.hln),t.rbx&&(this.roundBetMax=t.rbx),t.rbn&&(this.roundBetMin=t.rbn)},i.prototype.getMinLimit=function(){var t=[this.roundBetMin,this.highLowMin,this.fourMin,this.fiveMin,this.sixMin,this.sevenMin,this.eightMin,this.nineMin,this.twoDicesMin,this.doubleDicesMin,this.tripleDicesMin,this.allTripleMin,this.singleMin,this.singleDoubleMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.SicLimiter=i}(SicBet=SicBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){return this.sumBetByType(0,36,this.limiter.getLimit("singleMax"))?!(this._failedReason="SINGLE_NUM_OVER_BET"):this.sumBetByType(37,96,this.limiter.getLimit("splitMax"))?!(this._failedReason="SPLIT_NUM_OVER_BET"):this.sumBetByType(97,108,this.limiter.getLimit("rowMax"))?!(this._failedReason="STREET_NUM_OVER_BET"):this.sumBetByType(109,110,this.limiter.getLimit("tripleMax"))?!(this._failedReason="TRIPLE_NUM_OVER_BET"):this.sumBetByType(111,132,this.limiter.getLimit("cornerMax"))?!(this._failedReason="CORNER_NUM_OVER_BET"):this.sumBetByType(133,133,this.limiter.getLimit("topLineMax"))?!(this._failedReason="FOUR_NUM_OVER_BET"):this.sumBetByType(134,144,this.limiter.getLimit("lineMax"))?!(this._failedReason="LINE_NUM_OVER_BET"):this.sumBetByType(145,147,this.limiter.getLimit("columnMax"))?!(this._failedReason="COLUMN_NUM_OVER_BET"):this.sumBetByType(148,150,this.limiter.getLimit("dozensMax"))?!(this._failedReason="DOZENS_NUM_OVER_BET"):this.sumBetByType(151,152,this.limiter.getLimit("redBlackMax"))?!(this._failedReason="REDBLACK_NUM_OVER_BET"):this.sumBetByType(153,154,this.limiter.getLimit("oddEvenMax"))?!(this._failedReason="ODDEVEN_NUM_OVER_BET"):this.sumBetByType(155,156,this.limiter.getLimit("highLowMax"))?!(this._failedReason="HIGHLOW_NUM_OVER_BET"):this.sumBetByType2(0,200)>this.limiter.getLimit("roundBetMax")||this.sumBetByTypeF(110,197,this.limiter.getLimit("tripleMax"),9,2)||this.sumBetByTypeF(127,197,this.limiter.getLimit("cornerMax"),9,2)||this.sumBetByTypeF(46,197,this.limiter.getLimit("splitMax"),9,1)||this.sumBetByTypeF(59,197,this.limiter.getLimit("splitMax"),9,1)||this.sumBetByTypeF(69,197,this.limiter.getLimit("splitMax"),9,1)||this.sumBetByTypeF(71,197,this.limiter.getLimit("splitMax"),9,1)||this.sumBetByTypeF(93,197,this.limiter.getLimit("splitMax"),9,1)||this.sumBetByTypeF(1,198,this.limiter.getLimit("singleMax"),5,1)||this.sumBetByTypeF(49,198,this.limiter.getLimit("splitMax"),5,1)||this.sumBetByTypeF(63,198,this.limiter.getLimit("splitMax"),5,1)||this.sumBetByTypeF(68,198,this.limiter.getLimit("splitMax"),5,1)||this.sumBetByTypeF(91,198,this.limiter.getLimit("splitMax"),5,1)||this.sumBetByTypeF(48,199,this.limiter.getLimit("splitMax"),6,1)||this.sumBetByTypeF(55,199,this.limiter.getLimit("splitMax"),6,1)||this.sumBetByTypeF(61,199,this.limiter.getLimit("splitMax"),6,1)||this.sumBetByTypeF(77,199,this.limiter.getLimit("splitMax"),6,1)||this.sumBetByTypeF(84,199,this.limiter.getLimit("splitMax"),6,1)||this.sumBetByTypeF(94,199,this.limiter.getLimit("splitMax"),6,1)||this.sumBetByTypeF(39,200,this.limiter.getLimit("tripleMax"),4,1)||this.sumBetByTypeF(59,200,this.limiter.getLimit("splitMax"),4,1)||this.sumBetByTypeF(93,200,this.limiter.getLimit("splitMax"),4,1)||this.sumBetByTypeF(26,200,this.limiter.getLimit("splitMax"),4,1)?!(this._failedReason="OVER_MAX"):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet(0,36,this.limiter.getLimit("singleMin"))&&this.checkMinBet(37,96,this.limiter.getLimit("splitMin"))&&this.checkMinBet(97,108,this.limiter.getLimit("rowMin"))&&this.checkMinBet(109,110,this.limiter.getLimit("tripleMin"))&&this.checkMinBet(111,132,this.limiter.getLimit("cornerMin"))&&this.checkMinBet(133,133,this.limiter.getLimit("topLineMin"))&&this.checkMinBet(134,144,this.limiter.getLimit("lineMin"))&&this.checkMinBet(145,147,this.limiter.getLimit("columnMin"))&&this.checkMinBet(148,150,this.limiter.getLimit("dozensMin"))&&this.checkMinBet(151,152,this.limiter.getLimit("redBlackMin"))&&this.checkMinBet(153,154,this.limiter.getLimit("oddEvenMin"))&&this.checkMinBet(155,156,this.limiter.getLimit("highLowMin"))&&this.sumBetByType2(0,200)>=this.limiter.getLimit("roundBetMin")&&this.checkBetManagerTotal(0,200)?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.sumBetByType=function(t,e,i){for(var n=t;n<e+1;n++)if(i<this.sumBetByType2(n,n))return!0;return!1},e.prototype.sumBetByType2=function(t,e){for(var i=0,n=t;n<e+1;n++)i=(i+=this.betManager.getAmount(n))+this.commitManager.getAmount(n);return i},e.prototype.sumBetByTypeF=function(t,e,i,n,a){var o=0;return i<(o+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)+this.betManager.getAmount(e)/n*a+this.commitManager.getAmount(e)/n*a},e.prototype.checkMinBet=function(t,e,i){for(var n=t;n<e+1;n++){var a=this.betManager.getAmount(n)+this.commitManager.getAmount(n);if(0!=a&&a<i)return!1}return!0},e.prototype.checkBetManagerTotal=function(t,e){for(var i=0,n=t;n<e+1;n++)i+=this.betManager.getAmount(n);return 0!=i},t.RouLimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.roundBetMax),this.roundBetMin=t.roundBetMin},i.prototype.setTableInfo=function(t){this.tripleMax=t.tripleMax,this.tripleMin=t.tripleMin,this.rowMax=t.rowMax,this.rowMin=t.rowMin,this.topLineMax=t.topLineMax,this.topLineMin=t.topLineMin,this.singleMax=t.singleMax,this.singleMin=t.singleMin,this.cornerMax=t.cornerMax,this.cornerMin=t.cornerMin,this.splitMax=t.splitMax,this.splitMin=t.splitMin,this.columnMax=t.columnMax,this.columnMin=t.columnMin,this.redBlackMax=t.redBlackMax,this.redBlackMin=t.redBlackMin,this.lineMax=t.lineMax,this.lineMin=t.lineMin,this.highLowMax=t.highLowMax,this.highLowMin=t.highLowMin,this.oddEvenMax=t.oddEvenMax,this.oddEvenMin=t.oddEvenMin,this.dozensMax=t.dozensMax,this.dozensMin=t.dozensMin,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.tripleMax=t.tpx,this.tripleMin=t.tpn,this.rowMax=t.rx,this.rowMin=t.rn,this.topLineMax=t.tlx,this.topLineMin=t.tln,this.singleMax=t.sx,this.singleMin=t.sn,this.cornerMax=t.crx,this.cornerMin=t.crn,this.splitMax=t.slx,this.splitMin=t.sln,this.columnMax=t.clx,this.columnMin=t.cln,this.redBlackMax=t.rex,this.redBlackMin=t.ren,this.lineMax=t.lx,this.lineMin=t.ln,this.highLowMax=t.hlx,this.highLowMin=t.hln,this.oddEvenMax=t.oex,this.oddEvenMin=t.oen,this.dozensMax=t.dzx,this.dozensMin=t.dzn,this.roundBetMax=t.rbx,this.roundBetMin=t.rbn},i.prototype.getMinLimit=function(){var t=[this.roundBetMin,this.rowMin,this.lineMin,this.splitMin,this.columnMin,this.cornerMin,this.dozensMin,this.singleMin,this.tripleMin,this.highLowMin,this.oddEvenMin,this.topLineMin,this.redBlackMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.RouLimiter=i}(RouBet=RouBet||{}),!function(t){function e(){}function i(){this._failedReason=""}e.prototype.setUserInfo=function(t){this.roundBetMax=t.max,this.roundBetMin=t.min,this.tieMax=t.tie,this.pairMax=t.pair},e.prototype.setTableInfo=function(t){var e=t.tieMax,i=t.pairMax,n=t.max,a=t.min;this.roundBetMax=Math.min(n,this.roundBetMax),this.roundBetMin=Math.max(a,this.roundBetMin),this.tieMax=Math.min(e,this.tieMax),this.pairMax=Math.min(i,this.pairMax),this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},e.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},e.prototype.setLimitInfo=function(t){this.roundBetMax=t.btx,this.roundBetMin=t.btn,this.tieMax=t.tx,this.pairMax=t.prx},e.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.TTLimiter=e,i.prototype.setBetManager=function(t){this.betManager=t},i.prototype.setCommitManager=function(t){this.commitManager=t},i.prototype.setLimiter=function(t){this.limiter=t},i.prototype.getFailedReason=function(){return this._failedReason},i.prototype.checkMax=function(){for(var t=[1,2,3,4,5,6],e=[7,9,11],i=[8,10,12],n=0;n<6;n++)if(this.sumBetByType(t[n])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(n=0;n<3;n++)if(this.sumBetByType(i[n])>this.limiter.getLimit("pairMax"))return this._failedReason=IPL.DictManager.getDict("PAIRMAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(n=0;n<3;n++)if(this.sumBetByType(e[n])>this.limiter.getLimit("tieMax"))return this._failedReason=IPL.DictManager.getDict("MAX_TIE_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},i.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},i.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9,10,11,12],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},i.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.TTLimitChecker=i}(TTBet=TTBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){for(var t=[1,2,3,4],e=[5,6,7,8,9,10,11,12,13,14,15,16],i=[17,18,19,20],n=[21,22,23,24,25,26,27,28,29,30,31,32],a=[33,34,35,36],o=[37,38],r=0;r<t.length;r++)if(this.sumBetByType(t[r])>this.limiter.getLimit("MaxFan"))return this._failedReason=IPL.DictManager.getDict("FANTAN_FAN_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(r=0;r<e.length;r++)if(this.sumBetByType(e[r])>this.limiter.getLimit("MaxNim"))return this._failedReason=IPL.DictManager.getDict("FANTAN_NIM_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(r=0;r<i.length;r++)if(this.sumBetByType(i[r])>this.limiter.getLimit("MaxKwok"))return this._failedReason=IPL.DictManager.getDict("FANTAN_KWOK_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(r=0;r<n.length;r++)if(this.sumBetByType(n[r])>this.limiter.getLimit("MaxNga"))return this._failedReason=IPL.DictManager.getDict("FANTAN_NGA_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(r=0;r<a.length;r++)if(this.sumBetByType(a[r])>this.limiter.getLimit("MaxSsh"))return this._failedReason=IPL.DictManager.getDict("FANTAN_SSH_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(r=0;r<o.length;r++)if(this.sumBetByType(o[r])>this.limiter.getLimit("MaxOE"))return this._failedReason=IPL.DictManager.getDict("FANTAN_ODDEVEN_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return this.sumBetByType2(1,38)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):!(this._failedReason="")},e.prototype.checkMin=function(){for(var t,e=[1,2,3,4],i=[5,6,7,8,9,10,11,12,13,14,15,16],n=[17,18,19,20],a=[21,22,23,24,25,26,27,28,29,30,31,32],o=[33,34,35,36],r=[37,38],s=0;s<e.length;s++)if(0<(t=this.sumBetByType(e[s]))&&t<this.limiter.getLimit("MinFan"))return!(this._failedReason="UNDER_MIN");for(s=0;s<i.length;s++)if(0<(t=this.sumBetByType(i[s]))&&t<this.limiter.getLimit("MinNim"))return!(this._failedReason="UNDER_MIN");for(s=0;s<n.length;s++)if(0<(t=this.sumBetByType(n[s]))&&t<this.limiter.getLimit("MinKwok"))return!(this._failedReason="UNDER_MIN");for(s=0;s<a.length;s++)if(0<(t=this.sumBetByType(a[s]))&&t<this.limiter.getLimit("MinNga"))return!(this._failedReason="UNDER_MIN");for(s=0;s<o.length;s++)if(0<(t=this.sumBetByType(o[s]))&&t<this.limiter.getLimit("MinSsh"))return!(this._failedReason="UNDER_MIN");for(s=0;s<r.length;s++)if(0<(t=this.sumBetByType(r[s]))&&t<this.limiter.getLimit("MinOE"))return!(this._failedReason="UNDER_MIN");return!(this._failedReason="")},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.sumBetByType2=function(t,e){for(var i=0,n=t;n<e+1;n++)i=(i+=this.betManager.getAmount(n))+this.commitManager.getAmount(n);return i},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.FanTanLimitChecker=e,i.prototype.setUserInfo=function(t){this.roundBetMax=t.roundBetMax,this.roundBetMin=t.roundBetMin,this.MaxFan=t.MaxFan,this.MaxKwok=t.MaxKwok,this.MaxNga=t.MaxNga,this.MaxNim=t.MaxNim,this.MaxSsh=t.MaxSsh},i.prototype.setTableInfo=function(t){this.maxProfit=t.maxProfit;var e=Number(t.roundBetMax),i=Number(t.roundBetMin),n=Number(t.MaxFan),a=Number(t.MaxKwok),o=Number(t.MaxNga),r=Number(t.MaxNim),t=Number(t.MaxSsh);this.roundBetMax=Math.min(e,this.roundBetMax),this.roundBetMin=Math.max(i,this.roundBetMin),this.MaxFan=Math.min(n,this.MaxFan),this.MaxKwok=Math.min(a,this.MaxKwok),this.MaxNga=Math.min(o,this.MaxNga),this.MaxNim=Math.min(r,this.MaxNim),this.MaxSsh=Math.min(t,this.MaxSsh)},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.rbx,this.roundBetMin=t.rbn,this.MaxFan=t.fax,this.MinFan=t.fan,this.MaxKwok=t.kwx,this.MinKwok=t.kwn,this.MaxNga=t.ngx,this.MinNga=t.ngn,this.MaxNim=t.nix,this.MinNim=t.nin,this.MaxSsh=t.shx,this.MinSsh=t.shn,this.MaxOE=t.oex,this.MinOE=t.oen},i.prototype.getMinLimit=function(){var t=[this.roundBetMin,this.MinFan,this.MinKwok,this.MinNga,this.MinNim,this.MinOE,this.MinSsh],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.FanTanLimiter=i}(FanTanBet=FanTanBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){for(var t,e,i,n=[1,4,7],a=[2,5,8],o=[3,6,9],r=0;r<3;r++)if(this.sumBetByType(n[r])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("NIU_EQIAL_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(t=0;t<3;t++)if(this.sumBetByType(a[t])>this.limiter.getLimit("roundDoubleMax"))return this._failedReason=IPL.DictManager.getDict("NIU_DOUBLE_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(r=0;r<3;r++)if(e=this.sumBetByDepos(a[r]),i=this.sumBetByType(o[r]),0<e&&e!=i)return!(this._failedReason="depos error!!");return!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.sumBetByDepos=function(t){var e=0;return((e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t))*4},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.BullLimitChecker=e,i.prototype.setUserInfo=function(t){},i.prototype.setTableInfo=function(t){this.roundBetMax=t.roundBetMax,this.roundBetMin=t.roundBetMin,this.roundDoubleMax=t.roundDoubleMax},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.rbx,this.roundBetMin=t.rbn,this.roundDoubleMax=t.dtx},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.BullLimiter=i}(BullBet=BullBet||{}),!function(t){function e(){}function i(){this._failedReason=""}e.prototype.setUserInfo=function(t){this.roundBetMax=t.max,this.roundBetMin=t.min},e.prototype.setTableInfo=function(t){var e=t.max,i=t.min;this.roundBetMax=Math.min(e,this.roundBetMax),this.roundBetMin=Math.max(i,this.roundBetMin),this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},e.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},e.prototype.setLimitInfo=function(t){this.maxProfit=t.maxProfit,this.roundBetMax=t.btx,this.roundBetMin=t.btn},e.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.PaiLimiter=e,i.prototype.setBetManager=function(t){this.betManager=t},i.prototype.setCommitManager=function(t){this.commitManager=t},i.prototype.setLimiter=function(t){this.limiter=t},i.prototype.getFailedReason=function(){return this._failedReason},i.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},i.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},i.prototype.checkMax=function(){for(var t=[1,2,3,4,5,6],e=0;e<6;e++)if(this.sumBetByType(t[e])>this.limiter.getLimit("roundBetMax"))return!(this._failedReason="OVER_MAX");return!(this._failedReason="")},i.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.PaiLimitChecker=i}(PaiBet=PaiBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){var t,e=[1,2],i=[3,4],n=[5,6],a=[7,8];if(this.sumBetByType(e[0])>this.limiter.getLimit("Max4R4W"))return this._failedReason=IPL.DictManager.getDict("SED_4W")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(e[1])>this.limiter.getLimit("Max4R4W"))return this._failedReason=IPL.DictManager.getDict("SED_4R")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(i[0])>this.limiter.getLimit("Max3and1"))return this._failedReason=IPL.DictManager.getDict("SED_3W1R")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(i[1])>this.limiter.getLimit("Max3and1"))return this._failedReason=IPL.DictManager.getDict("SED_3R1W")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(t=0;t<2;t++)if(this.sumBetByType(n[t])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("ODDEVEN")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(t=0;t<2;t++)if(this.sumBetByType(a[t])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("BIGSMALL")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.SedLimitChecker=e,i.prototype.setUserInfo=function(t){},i.prototype.setTableInfo=function(t){this.roundBetMax=t.roundBetMax,this.roundBetMin=t.roundBetMin,this.Max3and1=t.Max3and1,this.Max4R4W=t.Max4R4W,this.maxProfit=t.maxProfit},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.rbx,this.roundBetMin=t.rbn,this.Max3and1=t.tox,this.Max4R4W=t.ffx,this.maxProfit=t.maxProfit},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.SedLimiter=i}(SedieBet=SedieBet||{}),!function(t){i.prototype.setLimiter=function(t){for(var e=t.split("&"),i=0;i<e.length;i++){var n=e[i].split("*");this.limitArea[n[0]]=n[1]}},i.prototype.getLimitMax=function(t){t=this.limitArea["b"+String(t)].split("-");return parseInt(t[1])},i.prototype.getLimitMin=function(t){t=this.limitArea["b"+String(t)].split("-");return parseInt(t[0])},i.prototype.getLimitStr=function(t){return this.limitArea["b"+String(t)]};var e=i;function i(){this.limitArea=new Object,this.limitMin=[],this.limitMax=[]}function n(){this.limitManager=new e}function a(){this._failedReason=""}t.LimitManager=e,n.prototype.setUserInfo=function(t){this.roundBetMax=t.max,this.roundBetMin=t.min},n.prototype.setTableInfo=function(t){this.MaxBonus=t.MaxBonus,this.MinBonus=t.MinBonus,this.roundBetMax=t.MaxBet,this.roundBetMin=t.MinBet,this.limitManager.setLimiter(String(t.limit))},n.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},n.prototype.getLimitManager=function(){return this.limitManager},n.prototype.setLimitInfo=function(t){this.MaxBonus=t.box,this.MinBonus=t.bon,this.roundBetMax=t.btx,this.roundBetMin=t.btn,this.limitManager.setLimiter(String(t.limit))},n.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.TexasLimiter=n,a.prototype.setBetManager=function(t){this.betManager=t},a.prototype.setCommitManager=function(t){this.commitManager=t},a.prototype.setLimiter=function(t){this.limiter=t},a.prototype.getFailedReason=function(){return this._failedReason},a.prototype.checkMin=function(){for(var t,e,i,n=this.limiter.getLimitManager(),a=0,o=1;o<=5;o++){if(e=n.getLimitMin(o),i=n.getLimitMin(1),t=this.betManager.getAmount(o),this.betManager.getAmount(1)<i)return!(this._failedReason="ANTE_UNDER_MIN");if(0<t){if(a+=i=t+this.commitManager.getAmount(o),5==o&&this.betManager.getAmount(o)<e)return!(this._failedReason="BONUS_UNDER_MIN");if(i<e)return!(this._failedReason="UNDER_MIN")}}return 0==a?!(this._failedReason="UNDER_MIN"):!(this._failedReason="")},a.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},a.prototype.checkMax=function(){for(var t,e=this.limiter.getLimitManager(),i=1;i<=5;i++)if(0<(t=this.betManager.getAmount(i))&&(t=t+this.commitManager.getAmount(i),e.getLimitMax(i)<t))return!(this._failedReason="OVER_MAX");return!(this._failedReason="")},t.TexasLimitChecker=a}(TexasBet=TexasBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){for(var t=[1,2,6,7,11,12],e=[4,9,14],i=[5,10,15,16],n=[3,8,13],a=0;a<6;a++)if(this.sumBetByType(t[a])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("FACE_MAX_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<3;a++)if(this.sumBetByType(e[a])>this.limiter.getLimit("Max3Face"))return this._failedReason=IPL.DictManager.getDict("MAX_3P_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<4;a++)if(this.sumBetByType(i[a])>this.limiter.getLimit("MaxPair"))return this._failedReason=IPL.DictManager.getDict("MAX_PAIR_PLUS_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<3;a++)if(this.sumBetByType(n[a])>this.limiter.getLimit("MaxTie"))return this._failedReason=IPL.DictManager.getDict("MAX_TIE_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.TripleLimitChecker=e,i.prototype.setUserInfo=function(t){},i.prototype.setTableInfo=function(t){this.roundBetMax=t.roundBetMax,this.roundBetMin=t.roundBetMin,this.Max3Face=t.Max3Face,this.MaxPair=t.MaxPair,this.MaxTie=t.MaxTie,this.maxProfit=t.maxProfit},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.rbx,this.roundBetMin=t.rbn,this.Max3Face=t.fx,this.MaxPair=t.prx,this.MaxTie=t.tx},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.TripleLimiter=i}(TripleBet=TripleBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){var t=[4,17],e=[5,16],i=[6,15],n=[7,14],a=[8,13],o=[9,10,11,12],r=[34],s=[27];return this.sumBetByType(1,2)>this.limiter.getLimit("highLowMax")?!(this._failedReason="BIGSMALL_NUM_OVER_BET"):this.sumBetByType(1,2)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(t)>this.limiter.getLimit("fourMax")?!(this._failedReason="SIC_FOUR_NUM_OVER_BET"):this.ArrayBetByType(t)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(e)>this.limiter.getLimit("fiveMax")?!(this._failedReason="SIC_FIVE_NUM_OVER_BET"):this.ArrayBetByType(e)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(i)>this.limiter.getLimit("sixMax")?!(this._failedReason="SIC_SIX_NUM_OVER_BET"):this.ArrayBetByType(i)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(n)>this.limiter.getLimit("sevenMax")?!(this._failedReason="SIC_SEVEN_OVER_BET"):this.ArrayBetByType(n)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(a)>this.limiter.getLimit("eightMax")?!(this._failedReason="SIC_EIGHT_OVER_BET"):this.ArrayBetByType(a)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(o)>this.limiter.getLimit("nineMax")?!(this._failedReason="SIC_NINE_OVER_BET"):this.ArrayBetByType(o)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(28,33)>this.limiter.getLimit("tripleDicesMax")?!(this._failedReason="TRIPLEDICES_NUM_OVER_BET"):this.sumBetByType(28,33)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(r)>this.limiter.getLimit("allTripleMax")?!(this._failedReason="ALLTRIPLE_NUM_OVER_BET"):this.ArrayBetByType(r)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(35,40)>this.limiter.getLimit("singleMax")?!(this._failedReason="SIC_SINGLE_NUM_OVER_BET"):this.sumBetByType(35,40)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(41,42)>this.limiter.getLimit("singleDoubleMax")?(this._failedReason=IPL.DictManager.getDict("SIC_ODDEVEN_NUM_OVER_BET"),!1):this.sumBetByType(41,42)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(18,20)>this.limiter.getLimit("singleColorMax")?(this._failedReason=IPL.DictManager.getDict("FISH_SINGLECOLOR_NUM_OVER_BET"),!1):this.sumBetByType(18,20)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(21,23)>this.limiter.getLimit("doubleColorMax")?(this._failedReason=IPL.DictManager.getDict("FISH_DOUBLECOLOR_NUM_OVER_BET"),!1):this.sumBetByType(21,23)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(24,26)>this.limiter.getLimit("tripleColorMax")?(this._failedReason=IPL.DictManager.getDict("FISH_TRIPLECOLOR_NUM_OVER_BET"),!1):this.sumBetByType(24,26)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(s)>this.limiter.getLimit("anyColorMax")?!(this._failedReason="FISH_ANYCOLOR_NUM_OVER_BET"):this.ArrayBetByType(s)>this.limiter.getLimit("roundBetMax")||this.sumBetByType(1,42)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet(1,2,this.limiter.getLimit("highLowMin"))&&this.checkMinBetArray([4,17],this.limiter.getLimit("fourMin"))&&this.checkMinBetArray([5,16],this.limiter.getLimit("fiveMin"))&&this.checkMinBetArray([6,15],this.limiter.getLimit("sixMin"))&&this.checkMinBetArray([7,14],this.limiter.getLimit("sevenMin"))&&this.checkMinBetArray([8,13],this.limiter.getLimit("eightMin"))&&this.checkMinBetArray([9,10,11,12],this.limiter.getLimit("nineMin"))&&this.checkMinBet(28,33,this.limiter.getLimit("tripleDicesMin"))&&this.checkMinBetArray([34],this.limiter.getLimit("allTripleMin"))&&this.checkMinBet(35,40,this.limiter.getLimit("singleMin"))&&this.checkMinBet(41,42,this.limiter.getLimit("singleDoubleMin"))&&this.checkMinBet(18,20,this.limiter.getLimit("singleColorMin"))&&this.checkMinBet(21,23,this.limiter.getLimit("doubleColorMin"))&&this.checkMinBet(24,26,this.limiter.getLimit("tripleColorMin"))&&this.checkMinBetArray([27],this.limiter.getLimit("anyColorMin"))&&this.checkMinTotalBet(1,42,this.limiter.getLimit("roundBetMin"))&&this.checkBetManagerTotal(1,42)?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},Object.defineProperty(e.prototype,"failedReason",{get:function(){return this._failedReason},enumerable:!1,configurable:!0}),e.prototype.ArrayBetByType=function(t){var e,i=0;for(e in t)i=(i+=this.betManager.getAmount(t[e]))+this.commitManager.getAmount(t[e]);return i},e.prototype.sumBetByType=function(t,e){for(var i=0,n=t;n<e+1;n++)i=(i+=this.betManager.getAmount(n))+this.commitManager.getAmount(n);return i},e.prototype.checkMinBetArray=function(t,e){for(var i in t){i=this.betManager.getAmount(t[i])+this.commitManager.getAmount(t[i]);if(0!=i&&i<e)return!1}return!0},e.prototype.checkMinBet=function(t,e,i){for(var n=t;n<e+1;n++){var a=this.betManager.getAmount(n)+this.commitManager.getAmount(n);if(0!=a&&a<i)return!1}return!0},e.prototype.checkMinTotalBet=function(t,e,i){for(var n=0,a=t;a<e+1;a++)n=(n+=this.betManager.getAmount(a))+this.commitManager.getAmount(a);return!(n<i)},e.prototype.checkBetManagerTotal=function(t,e){for(var i=0,n=t;n<e+1;n++)i+=this.betManager.getAmount(n);return 0!=i},t.FishSCLimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.roundBetMax),this.roundBetMin=t.roundBetMin},i.prototype.setTableInfo=function(t){this.highLowMax=t.highLowMax,this.highLowMin=t.highLowMin,this.singleMax=t.singleMax,this.singleMin=t.singleMin,this.allTripleMax=t.allTripleMax,this.allTripleMin=t.allTripleMin,this.tripleDicesMax=t.tripleDicesMax,this.tripleDicesMin=t.tripleDicesMin,this.fourMax=t.fourMax,this.fourMin=t.fourMin,this.fiveMax=t.fiveMax,this.fiveMin=t.fiveMin,this.sixMax=t.sixMax,this.sixMin=t.sixMin,this.sevenMax=t.sevenMax,this.sevenMin=t.sevenMin,this.eightMax=t.eightMax,this.eightMin=t.eightMin,this.nineMax=t.nineMax,this.nineMin=t.nineMin,this.singleDoubleMax=t.highLowMax,this.singleDoubleMin=t.highLowMin,this.singleColorMax=t.singleColorMax,this.singleColorMin=t.singleColorMin,this.doubleColorMax=t.doubleColorMax,this.doubleColorMin=t.doubleColorMin,this.tripleColorMax=t.tripleColorMax,this.tripleColorMin=t.tripleColorMin,this.anyColorMax=t.anyColorMax,this.anyColorMin=t.anyColorMin,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.highLowMax=t.hlx,this.highLowMin=t.hln,this.singleMax=t.sgx,this.singleMin=t.sgn,this.allTripleMax=t.atx,this.allTripleMin=t.atn,this.tripleDicesMax=t.trx,this.tripleDicesMin=t.trn,this.fourMax=t.fox,this.fourMin=t.fon,this.fiveMax=t.fix,this.fiveMin=t.fin,this.sixMax=t.six,this.sixMin=t.sin,this.sevenMax=t.svx,this.sevenMin=t.svn,this.eightMax=t.etx,this.eightMin=t.etn,this.nineMax=t.nix,this.nineMin=t.nin,this.singleDoubleMax=t.hlx,this.singleDoubleMin=t.hln,this.singleColorMax=t.scx,this.singleColorMin=t.scn,this.doubleColorMax=t.dcx,this.doubleColorMin=t.dcn,this.tripleColorMax=t.tcx,this.tripleColorMin=t.tcn,this.anyColorMax=t.acx,this.anyColorMin=t.acn,this.roundBetMax=t.btx,this.roundBetMin=t.btn},i.prototype.getMinLimit=function(){var t=[this.roundBetMin,this.sixMin,this.fiveMin,this.fourMin,this.nineMin,this.eightMin,this.sevenMin,this.singleMin,this.highLowMin,this.anyColorMin,this.allTripleMin,this.doubleColorMin,this.singleColorMin,this.tripleColorMin,this.tripleDicesMin,this.singleDoubleMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.FishSCLimiter=i}(FishSCBet=FishSCBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){return!(this._failedReason="")},e.prototype.checkMin=function(){return!(this._failedReason="")},e.prototype.getFailedReason=function(){return this._failedReason},t.BjLimitChecker=e,i.prototype.setUserInfo=function(t){},i.prototype.setTableInfo=function(t){var e=t.roundBetMax,i=t.roundBetMin;this.roundBetMax=Math.min(e,this.roundBetMax),this.roundBetMin=Math.max(i,this.roundBetMin),this.seatID=t.seatID,this.maxProfit=t.maxProfit},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.rbx,this.roundBetMin=t.rbn,this.maxProfit=t.maxProfit},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.BjLimiter=i}(BjBet=BjBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){for(var t=[1,2,4,8,16,32,64],e=[1,2],i=t.length,n=0;n<i;n++)if(this.sumBetByType(t[n])>this.limiter.getLimit("roundBetMax"))return!(this._failedReason="OVER_MAX");for(n=0;n<e.length;n++)if(this.sumBetByType(e[n])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("THREE_DRAGON")+"/"+IPL.DictManager.getDict("THREE_PHOENIX")+" , "+IPL.DictManager.getDict("OVER_MAX"),!1;return this.sumBetByType(4)>this.limiter.getLimit("pair9Max")?(this._failedReason=IPL.DictManager.getDict("THREE_PAIR9")+" , "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(8)>this.limiter.getLimit("straightMax")?(this._failedReason=IPL.DictManager.getDict("THREE_STRAIGHT")+" , "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(16)>this.limiter.getLimit("flushMax")?(this._failedReason=IPL.DictManager.getDict("THREE_FLUSH")+" , "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(32)>this.limiter.getLimit("straightFlushMax")?(this._failedReason=IPL.DictManager.getDict("THREE_SFLISH")+" , "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(64)>this.limiter.getLimit("anyTripleMax")?(this._failedReason=IPL.DictManager.getDict("THREE_TRIPLE")+" , "+IPL.DictManager.getDict("OVER_MAX"),!1):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet([1,2,4,8,16,32,64],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.ThreeCardLimitChecker=e,i.prototype.setUserInfo=function(t){this.roundBetMin=t.btn,this.roundBetMax=t.btx,this.pair9Max=t.prx,this.anyTripleMax=t.lpx,this.straightFlushMax=t.stfx,this.flushMax=t.flx,this.straightMax=t.stx},i.prototype.setTableInfo=function(t){var e=t.btx,i=t.btn,n=t.prx,a=t.lpx,o=t.stfx,r=t.flx,s=t.stx;this.seatID=t.seatID,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2,this.roundBetMax=Math.min(e,this.roundBetMax),this.roundBetMin=Math.max(i,this.roundBetMin),this.pair9Max=Math.min(n,this.pair9Max),this.anyTripleMax=Math.min(a,this.anyTripleMax),this.straightFlushMax=Math.min(o,this.straightFlushMax),this.flushMax=Math.min(r,this.flushMax),this.straightMax=Math.min(s,this.straightMax)},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMin=t.btn,this.roundBetMax=t.btx,this.pair9Max=t.prx,this.anyTripleMax=t.lpx,this.straightFlushMax=t.stfx,this.flushMax=t.flx,this.straightMax=t.stx},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.ThreeCardLimiter=i}(ThreeCardBet=ThreeCardBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){for(var t=["roundBetMax","max3","max5","max16","max24","max50","max50"],e=0;e<7;e++)if(this.sumBetByType(e+1)>this.limiter.getLimit(t[e]))return this._failedReason=IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.MonWheelLimitChecker=e,i.prototype.setUserInfo=function(t){},i.prototype.setTableInfo=function(t){this.roundBetMax=t.btx,this.roundBetMin=t.btn,this.max3=t.btx3,this.max5=t.btx5,this.max16=t.btx16,this.max24=t.btx24,this.max50=t.btx50},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.btx,this.roundBetMin=t.btn,this.max3=t.btx3,this.max5=t.btx5,this.max16=t.btx16,this.max24=t.btx24,this.max50=t.btx50},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.MonWheelLimiter=i}(MonWheelBet=MonWheelBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.checkMax=function(){for(var t=[1,3],e=[7,8],i=[9,10],n=[4,5,6],a=0;a<t.length;a++)if(this.sumBetByType(t[a])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("HILO_MAX_HIGHT_LOW")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<i.length;a++)if(this.sumBetByType(i[a])>this.limiter.getLimit("maxOE"))return this._failedReason=IPL.DictManager.getDict("FANTAN_ODDEVEN_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<e.length;a++)if(this.sumBetByType(e[a])>this.limiter.getLimit("maxRB"))return this._failedReason=IPL.DictManager.getDict("HILO_MAX_RED_BLACK_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<n.length;a++)if(this.sumBetByType(n[a])>this.limiter.getLimit("maxPoint"))return this._failedReason="2/3/4/5 6/7/8/9 J/Q/K/A ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return this.sumBetByType(2)>this.limiter.getLimit("maxSame")?(this._failedReason=IPL.DictManager.getDict("HILO_MAX_SAME_BET")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9,10],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.HiloLimitChecker=e,i.prototype.setUserInfo=function(t){},i.prototype.setTableInfo=function(t){this.roundBetMax=t.rbx,this.roundBetMin=t.rbn,this.maxOE=t.oex,this.maxRB=t.rex,this.maxPoint=t.ptx,this.maxSame=t.sax},i.prototype.toString=function(){return""},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.roundBetMax=t.rbx,this.roundBetMin=t.rbn,this.maxOE=t.oex,this.maxRB=t.rex,this.maxPoint=t.ptx,this.maxSame=t.sax},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.HiloLimiter=i}(HiloBet=HiloBet||{}),!function(t){function e(){}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){for(var t=[1,2],e=[13,14],i=[6,7],n=[8,9],a=[4,5],o=[21,22],r=[17,18,19,20],s=[15,16],h=[11,12],l=0;l<t.length;l++)if(this.sumBetByType(t[l])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("BAC_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<e.length;l++)if(this.sumBetByType(e[l])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("DTF_DRAGON")+"/"+IPL.DictManager.getDict("DTF_TIGER")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<2;l++)if(this.sumBetByType(n[l])>this.limiter.getLimit("blackJackMax"))return this._failedReason=IPL.DictManager.getDict("BAC21_BANKER_BJ")+"/"+IPL.DictManager.getDict("BAC21_PLAYER_BJ")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<2;l++)if(this.sumBetByType(i[l])>this.limiter.getLimit("twentyMax"))return this._failedReason=IPL.DictManager.getDict("BAC21_BANKER_TWENTY")+"/"+IPL.DictManager.getDict("BAC21_PLAYER_TWENTY")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<2;l++)if(this.sumBetByType(a[l])>this.limiter.getLimit("pairMax"))return this._failedReason=IPL.DictManager.getDict("BAC_BANKER_PAIR")+"/"+IPL.DictManager.getDict("BAC_PLAYER_PAIR")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(3)>this.limiter.getLimit("tieMax"))return this._failedReason=IPL.DictManager.getDict("BAC_TIE")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(23)>this.limiter.getLimit("eitherPairMax"))return this._failedReason=IPL.DictManager.getDict("BACRUN_EITHER_PAIR")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(24)>this.limiter.getLimit("perfectPairMax"))return this._failedReason=IPL.DictManager.getDict("BACRUN_PERFECT_PAIR")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(10)>this.limiter.getLimit("super21Max"))return this._failedReason=IPL.DictManager.getDict("BAC_LAYOUT_SUPER21")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<o.length;l++)if(this.sumBetByType(o[l])>this.limiter.getLimit("comboPairMax"))return this._failedReason=IPL.DictManager.getDict("BAC_LAYOUT_BANKER_PAIR")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAYER_PAIR")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<r.length;l++)if(this.sumBetByType(r[l])>this.limiter.getLimit("bankerPlayerOddEvenMax"))return this._failedReason=IPL.DictManager.getDict("BACRUN_BANKER_ODD")+"/"+IPL.DictManager.getDict("BACRUN_BANKER_EVEN")+"/"+IPL.DictManager.getDict("BACRUN_PLAYER_ODD")+"/"+IPL.DictManager.getDict("BACRUN_PLAYER_EVEN")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<s.length;l++)if(this.sumBetByType(s[l])>this.limiter.getLimit("bankerPlayerBustsMax"))return this._failedReason=IPL.DictManager.getDict("BAC_LAYOUT_BANK_BUSTS")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAY_BUSTS")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(l=0;l<h.length;l++)if(this.sumBetByType(h[l])>this.limiter.getLimit("bankerPlayerDragonMax"))return this._failedReason=IPL.DictManager.getDict("BAC_LAYOUT_BANK_DRAGON_BONUS")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAY_DRAGON_BONUS")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.checkMinBet=function(t,e){for(var i=0,n=0;n<t.length;n++){var a=this.betManager.getAmount(t[n]);if(i+=this.betManager.getAmount(t[n]),0!=a&&a<e)return!1}return!(i<=0)},t.Bac21LimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.max),this.hightlowMax=t.ou,this.roundBetMin=t.min,this.tieMax=t.tie,this.pairMax=t.pair,this.perfectPairMax=t.perfectPair,this.eitherPairMax=t.eitherPair},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setTableInfo=function(t){var e=t.tieMax,i=t.pairMax,n=t.max,a=t.min,o=t.ouMax;this.roundBetMax=Math.min(n,this.roundBetMax),this.roundBetMin=Math.max(a,this.roundBetMin),this.tieMax=Math.min(e,this.tieMax),this.pairMax=Math.min(i,this.pairMax),this.hightlowMax=Math.min(o,this.hightlowMax),this.seatID=t.seatID,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},i.prototype.setLimitInfo=function(t){t.btx&&(this.roundBetMax=t.btx),t.btn&&(this.roundBetMin=t.btn),t.tx&&(this.tieMax=t.tx),t.prx&&(this.pairMax=t.prx),t.oux&&(this.hightlowMax=t.oux),t.ppx&&(this.perfectPairMax=t.ppx),t.epx&&(this.eitherPairMax=t.epx),t.sursx&&(this.superSixMax=t.sursx),t.bjx&&(this.blackJackMax=t.bjx),t.thx&&(this.twentyMax=t.thx),t.s21x&&(this.super21Max=t.s21x),t.bpbx&&(this.bankerPlayerBustsMax=t.bpbx),t.bpdx&&(this.bankerPlayerDragonMax=t.bpdx),t.cpx&&(this.comboPairMax=t.cpx),t.bpoex&&(this.bankerPlayerOddEvenMax=t.bpoex)},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.Bac21Limiter=i}(Bac21Bet=Bac21Bet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){return this.sumBetByType(1,6)>this.limiter.getLimit("singleMax")?(this._failedReason=IPL.DictManager.getDict("SIC_SINGLE")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(7,21)>this.limiter.getLimit("twoDiceMax")?(this._failedReason=IPL.DictManager.getDict("SIC_TWODICE_PLAY")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1):this.sumBetByType(1,21)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet(1,6,this.limiter.getLimit("singleMin"))&&this.checkMinBet(7,21,this.limiter.getLimit("twoDiceMin"))&&this.checkMinTotalBet(1,21,this.limiter.getLimit("roundBetMin"))&&this.checkBetManagerTotal(1,21)?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},Object.defineProperty(e.prototype,"failedReason",{get:function(){return this._failedReason},enumerable:!1,configurable:!0}),e.prototype.ArrayBetByType=function(t){var e,i=0;for(e in t)i=(i+=this.betManager.getAmount(t[e]))+this.commitManager.getAmount(t[e]);return i},e.prototype.sumBetByType=function(t,e){for(var i=0,n=t;n<e+1;n++)i=(i+=this.betManager.getAmount(n))+this.commitManager.getAmount(n);return i},e.prototype.checkMinBetArray=function(t,e){for(var i in t){i=this.betManager.getAmount(t[i])+this.commitManager.getAmount(t[i]);if(0!=i&&i<e)return!1}return!0},e.prototype.checkMinBet=function(t,e,i){for(var n=t;n<e+1;n++){var a=this.betManager.getAmount(n)+this.commitManager.getAmount(n);if(0!=a&&a<i)return!1}return!0},e.prototype.checkMinTotalBet=function(t,e,i){for(var n=0,a=t;a<e+1;a++)n=(n+=this.betManager.getAmount(a))+this.commitManager.getAmount(a);return!(n<i)},e.prototype.checkBetManagerTotal=function(t,e){for(var i=0,n=t;n<e+1;n++)i+=this.betManager.getAmount(n);return 0!=i},t.FishSCThLimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.roundBetMax),this.roundBetMin=t.roundBetMin},i.prototype.setTableInfo=function(t){this.singleMax=t.singleMax,this.singleMin=t.singleMin,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){this.singleMax=t.sgx,this.singleMin=t.sgn,this.twoDiceMax=t.tdx,this.twoDiceMin=t.tdn,this.roundBetMax=t.btx,this.roundBetMin=t.btn},i.prototype.getMinLimit=function(){var t=[this.roundBetMin,this.singleMin,this.twoDiceMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.FishSCThLimiter=i}(FishSCThBet=FishSCThBet||{}),!function(t){function e(){this._failedReason=""}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){var t=[3,16],e=[4,15],i=[5,14],n=[6,13],a=[7,12],o=[8,9,10,11];return this.sumBetByType(1,2)>this.limiter.getLimit("highLowMax")?!(this._failedReason="BIGSMALL_NUM_OVER_BET"):this.sumBetByType(1,2)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(t)>this.limiter.getLimit("fourMax")?!(this._failedReason="SIC_FOUR_NUM_OVER_BET"):this.ArrayBetByType(t)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(e)>this.limiter.getLimit("fiveMax")?!(this._failedReason="SIC_FIVE_NUM_OVER_BET"):this.ArrayBetByType(e)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(i)>this.limiter.getLimit("sixMax")?!(this._failedReason="SIC_SIX_NUM_OVER_BET"):this.ArrayBetByType(i)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(n)>this.limiter.getLimit("sevenMax")?!(this._failedReason="SIC_SEVEN_OVER_BET"):this.ArrayBetByType(n)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(a)>this.limiter.getLimit("eightMax")?!(this._failedReason="SIC_EIGHT_OVER_BET"):this.ArrayBetByType(a)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.ArrayBetByType(o)>this.limiter.getLimit("nineMax")?!(this._failedReason="SIC_NINE_OVER_BET"):this.ArrayBetByType(o)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(17,22)>this.limiter.getLimit("singleMax")?!(this._failedReason="SIC_SINGLE_NUM_OVER_BET"):this.sumBetByType(17,22)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):this.sumBetByType(23,24)>this.limiter.getLimit("singleDoubleMax")?(this._failedReason=IPL.DictManager.getDict("SIC_ODDEVEN_NUM_OVER_BET"),!1):this.sumBetByType(23,24)>this.limiter.getLimit("roundBetMax")||this.sumBetByType(0,24)>this.limiter.getLimit("roundBetMax")?!(this._failedReason="OVER_MAX"):!(this._failedReason="")},e.prototype.checkMin=function(){return this.checkMinBet(1,2,this.limiter.getLimit("highLowMin"))&&this.checkMinBetArray([3,16],this.limiter.getLimit("fourMin"))&&this.checkMinBetArray([4,15],this.limiter.getLimit("fiveMin"))&&this.checkMinBetArray([5,14],this.limiter.getLimit("sixMin"))&&this.checkMinBetArray([6,13],this.limiter.getLimit("sevenMin"))&&this.checkMinBetArray([7,12],this.limiter.getLimit("eightMin"))&&this.checkMinBetArray([8,9,10,11],this.limiter.getLimit("nineMin"))&&this.checkMinBet(17,22,this.limiter.getLimit("singleMin"))&&this.checkMinBet(23,24,this.limiter.getLimit("singleDoubleMin"))&&this.checkMinTotalBet(1,24,this.limiter.getLimit("roundBetMin"))&&this.checkBetManagerTotal(1,24)?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},Object.defineProperty(e.prototype,"failedReason",{get:function(){return this._failedReason},enumerable:!1,configurable:!0}),e.prototype.ArrayBetByType=function(t){var e,i=0;for(e in t)i=(i+=this.betManager.getAmount(t[e]))+this.commitManager.getAmount(t[e]);return i},e.prototype.sumBetByType=function(t,e){for(var i=0,n=t;n<e+1;n++)i=(i+=this.betManager.getAmount(n))+this.commitManager.getAmount(n);return i},e.prototype.checkMinBetArray=function(t,e){for(var i in t){i=this.betManager.getAmount(t[i])+this.commitManager.getAmount(t[i]);if(0!==i&&i<e)return!1}return!0},e.prototype.checkMinBet=function(t,e,i){for(var n=t;n<e+1;n++){var a=this.betManager.getAmount(n)+this.commitManager.getAmount(n);if(0!==a&&a<i)return!1}return!0},e.prototype.checkMinTotalBet=function(t,e,i){for(var n=0,a=t;a<e+1;a++)n=(n+=this.betManager.getAmount(a))+this.commitManager.getAmount(a);return!(n<i)},e.prototype.checkBetManagerTotal=function(t,e){for(var i=0,n=t;n<e+1;n++)i+=this.betManager.getAmount(n);return 0!==i},t.SicBoVnLimitChecker=e,i.prototype.setUserInfo=function(t){"--"!==t.roundBetMax&&(this.roundBetMax=t.roundBetMax),this.roundBetMin=t.roundBetMin},i.prototype.setTableInfo=function(t){this.highLowMax=t.highLowMax,this.highLowMin=t.highLowMin,this.singleMax=t.singleMax,this.singleMin=t.singleMin,this.twoDicesMax=t.twoDicesMax,this.twoDicesMin=t.twoDicesMin,this.doubleDicesMax=t.doubleDicesMax,this.doubleDicesMin=t.doubleDicesMin,this.allTripleMax=t.allTripleMax,this.allTripleMin=t.allTripleMin,this.tripleDicesMax=t.tripleDicesMax,this.tripleDicesMin=t.tripleDicesMin,this.fourMax=t.fourMax,this.fourMin=t.fourMin,this.fiveMax=t.fiveMax,this.fiveMin=t.fiveMin,this.sixMax=t.sixMax,this.sixMin=t.sixMin,this.sevenMax=t.sevenMax,this.sevenMin=t.sevenMin,this.eightMax=t.eightMax,this.eightMin=t.eightMin,this.nineMax=t.nineMax,this.nineMin=t.nineMin,this.singleDoubleMax=t.highLowMax,this.singleDoubleMin=t.highLowMin,this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},i.prototype.toString=function(){return"[Limiter2] "},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setLimitInfo=function(t){t.hlx&&(this.highLowMax=t.hlx),t.hln&&(this.highLowMin=t.hln),t.sgx&&(this.singleMax=t.sgx),t.sgn&&(this.singleMin=t.sgn),t.tdx&&(this.twoDicesMax=t.tdx),t.tdn&&(this.twoDicesMin=t.tdn),t.ddx&&(this.doubleDicesMax=t.ddx),t.ddn&&(this.doubleDicesMin=t.ddn),t.atx&&(this.allTripleMax=t.atx),t.atn&&(this.allTripleMin=t.atn),t.trx&&(this.tripleDicesMax=t.trx),t.trn&&(this.tripleDicesMin=t.trn),t.fox&&(this.fourMax=t.fox),t.fon&&(this.fourMin=t.fon),t.fix&&(this.fiveMax=t.fix),t.fin&&(this.fiveMin=t.fin),t.six&&(this.sixMax=t.six),t.sin&&(this.sixMin=t.sin),t.svx&&(this.sevenMax=t.svx),t.svn&&(this.sevenMin=t.svn),t.etx&&(this.eightMax=t.etx),t.etn&&(this.eightMin=t.etn),t.nix&&(this.nineMax=t.nix),t.nin&&(this.nineMin=t.nin),t.hlx&&(this.singleDoubleMax=t.hlx),t.hln&&(this.singleDoubleMin=t.hln),t.rbx&&(this.roundBetMax=t.rbx),t.rbn&&(this.roundBetMin=t.rbn)},i.prototype.getMinLimit=function(){var t=[this.roundBetMin,this.highLowMin,this.fourMin,this.fiveMin,this.sixMin,this.sevenMin,this.eightMin,this.nineMin,this.singleMin,this.singleDoubleMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.SicBoVnLimiter=i}(SicBoVnBet=SicBoVnBet||{}),!function(t){function e(){}function i(){this._failedReason=""}e.prototype.setUserInfo=function(t){this.roundBetMax=t.max,this.roundBetMin=t.min},e.prototype.setTableInfo=function(t){var e=t.max,i=t.min;this.roundBetMax=Math.min(e,this.roundBetMax),this.roundBetMin=Math.max(i,this.roundBetMin),this.maxProfit=t.maxProfit,this.max2=t.max2,this.min2=t.min2},e.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},e.prototype.setLimitInfo=function(t){this.maxProfit=t.maxProfit,this.roundBetMax=t.rbx,this.roundBetMin=t.rbn},e.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.Lucky5CardsLimiter=e,i.prototype.setBetManager=function(t){this.betManager=t},i.prototype.setCommitManager=function(t){this.commitManager=t},i.prototype.setLimiter=function(t){this.limiter=t},i.prototype.getFailedReason=function(){return this._failedReason},i.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},i.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},i.prototype.checkMax=function(){for(var t=[1,2,3,4],e=0;e<4;e++)if(this.sumBetByType(t[e])>this.limiter.getLimit("roundBetMax"))return!(this._failedReason="OVER_MAX");return!(this._failedReason="")},i.prototype.checkMinBet=function(t,e){for(var i=0,n=t.length,a=0;a<n;a++){var o=this.betManager.getAmount(t[a]);if(i+=this.betManager.getAmount(t[a]),0!=o&&o<e)return!1}return!(i<=0)},t.Lucky5CardsLimitChecker=i}(Lucky5CardsBet=Lucky5CardsBet||{}),!function(t){function e(){}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){var t=[4,5],e=[6,7],i=[8,9];if(this.sumBetByType(1)>this.limiter.getLimit("goalBetMax"))return this._failedReason=IPL.DictManager.getDict("ACEYDEUCEY_GOAL")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(2)>this.limiter.getLimit("hitBetMax"))return this._failedReason=IPL.DictManager.getDict("ACEYDEUCEY_HIT")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;if(this.sumBetByType(3)>this.limiter.getLimit("missBetMax"))return this._failedReason=IPL.DictManager.getDict("ACEYDEUCEY_MISS")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(var n=0;n<t.length;n++)if(this.sumBetByType(t[n])>this.limiter.getLimit("redblackMax"))return this._failedReason=IPL.DictManager.getDict("RED_STR")+"/"+IPL.DictManager.getDict("BLACK_STR")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(n=0;n<t.length;n++)if(this.sumBetByType(e[n])>this.limiter.getLimit("hightlowMax"))return this._failedReason=IPL.DictManager.getDict("ACEYDEUCEY_OVER")+"/"+IPL.DictManager.getDict("ACEYDEUCEY_UNDER")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(n=0;n<t.length;n++)if(this.sumBetByType(i[n])>this.limiter.getLimit("oddeventMax"))return this._failedReason=IPL.DictManager.getDict("EVEN_STR")+"/"+IPL.DictManager.getDict("ODD_STR")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6,7,8,9],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.checkMinBet=function(t,e){for(var i=0,n=0;n<t.length;n++){var a=this.betManager.getAmount(t[n]);if(i+=this.betManager.getAmount(t[n]),0!=a&&a<e)return!1}return!(i<=0)},t.AceyDeuceyLimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.max),this.hightlowMax=t.ou,this.roundBetMin=t.min},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setTableInfo=function(t){t.tieMax,t.pairMax;var e=t.max,i=t.min;t.ouMax;this.roundBetMax=Math.min(e,this.roundBetMax),this.roundBetMin=Math.max(i,this.roundBetMin)},i.prototype.setLimitInfo=function(t){t.btx&&(this.roundBetMax=t.btx),t.btn&&(this.roundBetMin=t.btn),t.gx&&(this.goalBetMax=t.gx),t.htx&&(this.hitBetMax=t.htx),t.mx&&(this.missBetMax=t.mx),t.hlx&&(this.hightlowMax=t.hlx),t.rdbx&&(this.redblackMax=t.rdbx),t.oex&&(this.oddeventMax=t.oex)},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.AceyDeuceyLimiter=i}(AceyDeuceyBet=AceyDeuceyBet||{}),!function(t){function e(){}function i(){}e.prototype.setBetManager=function(t){this.betManager=t},e.prototype.setCommitManager=function(t){this.commitManager=t},e.prototype.setLimiter=function(t){this.limiter=t},e.prototype.getFailedReason=function(){return this._failedReason},e.prototype.checkMax=function(){for(var t=[1,2],e=[3,4],i=[5],n=[6],a=0;a<t.length;a++)if(this.sumBetByType(t[a])>this.limiter.getLimit("roundBetMax"))return this._failedReason=IPL.DictManager.getDict("BAC_MAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<e.length;a++)if(this.sumBetByType(e[a])>this.limiter.getLimit("pairMax"))return this._failedReason=IPL.DictManager.getDict("PAIRMAX")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<i.length;a++)if(this.sumBetByType(i[a])>this.limiter.getLimit("zeroPointMax"))return this._failedReason=IPL.DictManager.getDict("BAC28_ZEROPOINT")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;for(a=0;a<n.length;a++)if(this.sumBetByType(n[a])>this.limiter.getLimit("whitesMax"))return this._failedReason=IPL.DictManager.getDict("BAC28_WHITES")+" ， "+IPL.DictManager.getDict("OVER_MAX"),!1;return!(this._failedReason="")},e.prototype.sumBetByType=function(t){var e=0;return(e+=this.betManager.getAmount(t))+this.commitManager.getAmount(t)},e.prototype.checkMin=function(){return this.checkMinBet([1,2,3,4,5,6],this.limiter.getLimit("roundBetMin"))?!(this._failedReason=""):!(this._failedReason="UNDER_MIN")},e.prototype.checkMinBet=function(t,e){for(var i=0,n=0;n<t.length;n++){var a=this.betManager.getAmount(t[n]);if(i+=this.betManager.getAmount(t[n]),0!=a&&a<e)return!1}return!(i<=0)},t.Bac28LimitChecker=e,i.prototype.setUserInfo=function(t){"--"!=t.roundBetMax&&(this.roundBetMax=t.max),this.roundBetMin=t.min,this.pairMax=t.pair},i.prototype.getLimit=function(t){return null!=this[t]?this[t]:0},i.prototype.setTableInfo=function(t){},i.prototype.setLimitInfo=function(t){t.btx&&(this.roundBetMax=t.btx),t.btn&&(this.roundBetMin=t.btn),t.prx&&(this.pairMax=t.prx),t.wx&&(this.whitesMax=t.wx),t.zpx&&(this.zeroPointMax=t.zpx)},i.prototype.getMinLimit=function(){var t=[this.roundBetMin],t=Math.min.apply(Math,t);return t=t<=0||NaN===t?1:t},t.Bac28Limiter=i}(Bac28Bet=Bac28Bet||{}),!function(t){i.prototype.getLimiter=function(){throw new Error},i.prototype.getBetManager=function(){throw new Error},i.prototype.getLimitChecker=function(){throw new Error},i.prototype.getGameType=function(){return this._gameType},i.prototype.getGameCode=function(){return this._gameCode},i.prototype.getMaxBetType=function(){return this._maxBetType},i.prototype.getMinBetType=function(){return this._minBetType},i.prototype.getGamePath=function(){return this._gamePath+String(this._gameCode)},i.st="abcdefghijklmnopqrstuvwxyz";var e=i;function i(t){void 0===t&&(t=1),this._gameType=0,this._gameCode=t}t.GameDefine=e;__extends(a,N=e),a.prototype.getBetManager=function(){return new t.BetManager(this)},a.prototype.getLimiter=function(){return new TexasBet.TexasLimiter},a.prototype.getLimitChecker=function(){return new TexasBet.TexasLimitChecker};var N,n=a;function a(t){t=N.call(this,t)||this;return t._gameType=3010,t._gamePath="Texas.Player/h",t._minBetType=1,t._maxBetType=5,t}t.TexasBM=n;__extends(o,O=e),o.prototype.getBetManager=function(){return new t.BetManager(this)},o.prototype.getLimiter=function(){return new BacBet.BacLimiter},o.prototype.getLimitChecker=function(){return new BacBet.BacLimitChecker};var O,n=o;function o(t){t=O.call(this,t)||this;return t._gameType=3001,t._gamePath="BacPlayerLight/h",t._minBetType=1,t._maxBetType=30,t}t.BacBM=n;__extends(r,U=e),r.prototype.getBetManager=function(){return new t.BetManager(this)},r.prototype.getLimiter=function(){return new TTBet.TTLimiter},r.prototype.getLimitChecker=function(){return new TTBet.TTLimitChecker};var U,n=r;function r(t){t=U.call(this,t)||this;return t._gameType=3002,t._gamePath="TTPlayerBM/h",t._minBetType=1,t._maxBetType=12,t}t.TTBM=n;__extends(s,V=e),s.prototype.getBetManager=function(){return new t.BetManager(this)},s.prototype.getLimiter=function(){return new PaiBet.PaiLimiter},s.prototype.getLimitChecker=function(){return new PaiBet.PaiLimitChecker};var V,n=s;function s(t){t=V.call(this,t)||this;return t._gameType=3006,t._gamePath="Paigow.PlayerBM/h",t._minBetType=1,t._maxBetType=6,t}t.PaiBM=n;__extends(h,G=e),h.prototype.getBetManager=function(){return new t.BetManager(this)},h.prototype.getLimiter=function(){return new DtfBet.DTFLimiter},h.prototype.getLimitChecker=function(){return new DtfBet.DTFLimitChecker};var G,n=h;function h(t){t=G.call(this,t)||this;return t._gameType=3003,t._gamePath="DTFight.PlayerLight/h",t._minBetType=1,t._maxBetType=11,t}t.DtfLight=n;__extends(l,F=e),l.prototype.getBetManager=function(){return new t.BetManager(this)},l.prototype.getLimiter=function(){return new SicBet.SicLimiter},l.prototype.getLimitChecker=function(){return new SicBet.SicLimitChecker};var F,n=l;function l(t){t=F.call(this,t)||this;return t._gameType=3008,t._gamePath="SicBoPlayerBM/h",t._minBetType=1,t._maxBetType=53,t}t.SicboBM=n;__extends(c,X=e),c.prototype.getBetManager=function(){return new t.BetManager(this)},c.prototype.getLimiter=function(){return new RouBet.RouLimiter},c.prototype.getLimitChecker=function(){return new RouBet.RouLimitChecker};var X,n=c;function c(t){t=X.call(this,t)||this;return t._gameType=3007,t._gamePath="RouPlayerBM/h",t._minBetType=0,t._maxBetType=200,t}t.RouBM=n;__extends(u,H=e),u.prototype.getBetManager=function(){return new t.BetManager(this)},u.prototype.getLimiter=function(){return new FanTanBet.FanTanLimiter},u.prototype.getLimitChecker=function(){return new FanTanBet.FanTanLimitChecker};var H,n=u;function u(t){t=H.call(this,t)||this;return t._gameType=3015,t._gamePath="FanTanPlayer/h",t._minBetType=1,t._maxBetType=38,t}t.FanTanBM=n;__extends(d,j=e),d.prototype.getBetManager=function(){return new t.BetManager(this)},d.prototype.getLimiter=function(){return new BullBet.BullLimiter},d.prototype.getLimitChecker=function(){return new BullBet.BullLimitChecker};var j,n=d;function d(t){t=j.call(this,t)||this;return t._gameType=3012,t._gamePath="BullPlayer/h",t._minBetType=1,t._maxBetType=9,t}t.BullBM=n;__extends(p,W=e),p.prototype.getBetManager=function(){return new t.BetManager(this)},p.prototype.getLimiter=function(){return new SedieBet.SedLimiter},p.prototype.getLimitChecker=function(){return new SedieBet.SedLimitChecker};var W,n=p;function p(t){t=W.call(this,t)||this;return t._gameType=3011,t._gamePath="SediePlayer/h",t._minBetType=1,t._maxBetType=8,t}t.SedieBM=n;__extends(f,Y=e),f.prototype.getBetManager=function(){return new t.BetManager(this)},f.prototype.getLimiter=function(){return new TripleBet.TripleLimiter},f.prototype.getLimitChecker=function(){return new TripleBet.TripleLimitChecker};var Y,n=f;function f(t){t=Y.call(this,t)||this;return t._gameType=3005,t._gamePath="TripleFacePlayer/h",t._minBetType=1,t._maxBetType=16,t}t.TripleFaceBM=n;__extends(_,z=e),_.prototype.getBetManager=function(){return new t.BetManager(this)},_.prototype.getLimiter=function(){return new FishSCBet.FishSCLimiter},_.prototype.getLimitChecker=function(){return new FishSCBet.FishSCLimitChecker};var z,n=_;function _(t){t=z.call(this,t)||this;return t._gameType=3016,t._gamePath="FishSCPlayer/h",t._minBetType=1,t._maxBetType=42,t}t.FishSC=n;__extends(m,K=e),m.prototype.getBetManager=function(){return new t.BetManager(this)},m.prototype.getLimiter=function(){return new BjBet.BjLimiter},m.prototype.getLimitChecker=function(){return new BjBet.BjLimitChecker};var K,n=m;function m(t){t=K.call(this,t)||this;return t._gameType=3014,t._gamePath="BJPlayer/m",t._minBetType=1,t._maxBetType=4,t}t.BlackJackBM=n;__extends(g,J=e),g.prototype.getBetManager=function(){return new t.BetManager(this)},g.prototype.getLimiter=function(){return new BacBet.BacLimiter},g.prototype.getLimitChecker=function(){return new BacBet.BacInsLimitChecker};var J,n=g;function g(t){t=J.call(this,t)||this;return t._gameType=3017,t._gamePath="BacInsPlayer/h",t._minBetType=1,t._maxBetType=17,t}t.InsurBacBM=n;__extends(v,q=e),v.prototype.getBetManager=function(){return new t.BetManager(this)},v.prototype.getLimiter=function(){return new ThreeCardBet.ThreeCardLimiter},v.prototype.getLimitChecker=function(){return new ThreeCardBet.ThreeCardLimitChecker};var q,n=v;function v(t){t=q.call(this,t)||this;return t._gameType=3018,t._gamePath="ThreeCardPlayer/h",t._minBetType=1,t._maxBetType=64,t}t.ThreeCardBM=n;__extends(y,Q=e),y.prototype.getBetManager=function(){return new t.BetManager(this)},y.prototype.getLimiter=function(){return new MonWheelBet.MonWheelLimiter},y.prototype.getLimitChecker=function(){return new MonWheelBet.MonWheelLimitChecker};var Q,n=y;function y(t){t=Q.call(this,t)||this;return t._gameType=3019,t._gamePath="MoneyWheelPlayer/h",t._minBetType=1,t._maxBetType=7,t}t.MoneyWheelBM=n;__extends(P,Z=e),P.prototype.getBetManager=function(){return new t.BetManager(this)},P.prototype.getLimiter=function(){return new BacBet.BacRunLimiter},P.prototype.getLimitChecker=function(){return new BacBet.BacRunLimitChecker};var Z,n=P;function P(t){t=Z.call(this,t)||this;return t._gameType=3020,t._gamePath="BacRunPlayer/h",t._minBetType=1,t._maxBetType=15,t}t.BacRunBM=n;__extends(S,$=e),S.prototype.getBetManager=function(){return new t.BetManager(this)},S.prototype.getLimiter=function(){return new HiloBet.HiloLimiter},S.prototype.getLimitChecker=function(){return new HiloBet.HiloLimitChecker};var $,n=S;function S(t){t=$.call(this,t)||this;return t._gameType=3021,t._gamePath="HiloPlayer/h",t._minBetType=1,t._maxBetType=10,t}t.HiloBM=n;__extends(et,tt=e);var tt,n=et;function et(t){t=tt.call(this,t)||this;return t._gameType=3023,t._gamePath="ChessBullPlayer/h",t}t.ChessBullBM=n;__extends(nt,it=e);var it,n=nt;function nt(t){t=it.call(this,t)||this;return t._gameType=3024,t._gamePath="ChessTripleFacePlayer/h",t}t.ChessTripleFaceBM=n;__extends(b,at=e),b.prototype.getBetManager=function(){return new t.BetManager(this)},b.prototype.getLimiter=function(){return new BacBet.BacLimiter},b.prototype.getLimitChecker=function(){return new BacBet.BacLimitChecker};var at,n=b;function b(t){t=at.call(this,t)||this;return t._gameType=3025,t._gamePath="BlockChainBacPlayer/h",t._minBetType=1,t._maxBetType=30,t}t.BlockChainBacBM=n;__extends(I,ot=e),I.prototype.getBetManager=function(){return new t.BetManager(this)},I.prototype.getLimiter=function(){return new DtfBet.DTFLimiter},I.prototype.getLimitChecker=function(){return new DtfBet.DTFLimitChecker};var ot,n=I;function I(t){t=ot.call(this,t)||this;return t._gameType=3026,t._gamePath="BlockChainDTFight.PlayerLight/h",t._minBetType=1,t._maxBetType=11,t}t.BlockChainDtfLight=n;__extends(B,rt=e),B.prototype.getBetManager=function(){return new t.BetManager(this)},B.prototype.getLimiter=function(){return new BacBet.BacLimiter},B.prototype.getLimitChecker=function(){return new BacBet.BacInsLimitChecker};var rt,n=B;function B(t){t=rt.call(this,t)||this;return t._gameType=3027,t._gamePath="BlockChainBacInsPlayer/h",t._minBetType=1,t._maxBetType=17,t}t.BlockChainInsurBacBM=n;__extends(C,st=e),C.prototype.getBetManager=function(){return new t.BetManager(this)},C.prototype.getLimiter=function(){return new RouBet.RouLimiter},C.prototype.getLimitChecker=function(){return new RouBet.RouLimitChecker};var st,n=C;function C(t){t=st.call(this,t)||this;return t._gameType=3028,t._gamePath="BlockChainRouPlayerBM/h",t._minBetType=0,t._maxBetType=200,t}t.BlockChainRouBM=n;__extends(k,ht=e),k.prototype.getBetManager=function(){return new t.BetManager(this)},k.prototype.getLimiter=function(){return new ThreeCardBet.ThreeCardLimiter},k.prototype.getLimitChecker=function(){return new ThreeCardBet.ThreeCardLimitChecker};var ht,n=k;function k(t){t=ht.call(this,t)||this;return t._gameType=3029,t._gamePath="BlockChainThreeCardPlayer/h",t._minBetType=1,t._maxBetType=64,t}t.BlockChainThreeCardBM=n;__extends(T,lt=e),T.prototype.getBetManager=function(){return new t.BetManager(this)},T.prototype.getLimiter=function(){return new TripleBet.TripleLimiter},T.prototype.getLimitChecker=function(){return new TripleBet.TripleLimitChecker};var lt,n=T;function T(t){t=lt.call(this,t)||this;return t._gameType=3030,t._gamePath="BlockChainTripleFacePlayer/h",t._minBetType=1,t._maxBetType=16,t}t.BlockChainTripleFaceBM=n;__extends(x,ct=e),x.prototype.getBetManager=function(){return new t.BetManager(this)},x.prototype.getLimiter=function(){return new BullBet.BullLimiter},x.prototype.getLimitChecker=function(){return new BullBet.BullLimitChecker};var ct,n=x;function x(t){t=ct.call(this,t)||this;return t._gameType=3031,t._gamePath="BlockChainBullPlayer/h",t._minBetType=1,t._maxBetType=9,t}t.BlockChainBullBM=n;__extends(M,ut=e),M.prototype.getBetManager=function(){return new t.BetManager(this)},M.prototype.getLimiter=function(){return new SedieBet.SedLimiter},M.prototype.getLimitChecker=function(){return new SedieBet.SedLimitChecker};var ut,n=M;function M(t){t=ut.call(this,t)||this;return t._gameType=3032,t._gamePath="BlockChainSediePlayer/h",t._minBetType=1,t._maxBetType=8,t}t.BlockChainSedieBM=n;__extends(w,dt=e),w.prototype.getBetManager=function(){return new t.BetManager(this)},w.prototype.getLimiter=function(){return new SicBet.SicLimiter},w.prototype.getLimitChecker=function(){return new SicBet.SicLimitChecker};var dt,n=w;function w(t){t=dt.call(this,t)||this;return t._gameType=3033,t._gamePath="BlockChainSicBoPlayerBM/h",t._minBetType=1,t._maxBetType=53,t}t.BlockChainSicboBM=n;__extends(L,pt=e),L.prototype.getBetManager=function(){return new t.BetManager(this)},L.prototype.getLimiter=function(){return new FishSCBet.FishSCLimiter},L.prototype.getLimitChecker=function(){return new FishSCBet.FishSCLimitChecker};var pt,n=L;function L(t){t=pt.call(this,t)||this;return t._gameType=3034,t._gamePath="BlockChainFishSCPlayer/h",t._minBetType=1,t._maxBetType=42,t}t.BlockChainFishSC=n;__extends(E,ft=e),E.prototype.getBetManager=function(){return new t.BetManager(this)},E.prototype.getLimiter=function(){return new HiloBet.HiloLimiter},E.prototype.getLimitChecker=function(){return new HiloBet.HiloLimitChecker};var ft,n=E;function E(t){t=ft.call(this,t)||this;return t._gameType=3036,t._gamePath="BlockChainHiloPlayer/h",t._minBetType=1,t._maxBetType=10,t}t.BlockChainHiloBM=n;__extends(A,_t=e),A.prototype.getBetManager=function(){return new t.BetManager(this)},A.prototype.getLimiter=function(){return new FanTanBet.FanTanLimiter},A.prototype.getLimitChecker=function(){return new FanTanBet.FanTanLimitChecker};var _t,n=A;function A(t){t=_t.call(this,t)||this;return t._gameType=3037,t._gamePath="BlockChainFanTanPlayer/h",t._minBetType=1,t._maxBetType=38,t}t.BlockChainFanTanBM=n;__extends(D,mt=e),D.prototype.getBetManager=function(){return new t.BetManager(this)},D.prototype.getLimiter=function(){return new PaiBet.PaiLimiter},D.prototype.getLimitChecker=function(){return new PaiBet.PaiLimitChecker};var mt,n=D;function D(t){t=mt.call(this,t)||this;return t._gameType=3038,t._gamePath="BlockChainPaigow.PlayerBM/h",t._minBetType=1,t._maxBetType=6,t}t.BlockChainPaiBM=n;__extends(R,gt=e),R.prototype.getBetManager=function(){return new t.BetManager(this)},R.prototype.getLimiter=function(){return new FishSCBet.FishSCLimiter},R.prototype.getLimitChecker=function(){return new FishSCBet.FishSCLimitChecker};var gt,n=R;function R(t){t=gt.call(this,t)||this;return t._gameType=3039,t._gamePath="BlockChainViFishSCPlayer/h",t._minBetType=1,t._maxBetType=42,t}t.BlockChainVnFishSC=n;__extends(yt,vt=e),yt.prototype.getBetManager=function(){return new t.BetManager(this)},yt.prototype.getLimiter=function(){return new FishSCBet.FishSCLimiter},yt.prototype.getLimitChecker=function(){return new FishSCBet.FishSCLimitChecker};var vt,n=yt;function yt(t){t=vt.call(this,t)||this;return t._gameType=3040,t._gamePath="BlockChainThFishSCPlayer/h",t._minBetType=1,t._maxBetType=42,t}t.BlockChainThFishSC=n;__extends(St,Pt=e);var Pt,n=St;function St(t){t=Pt.call(this,t)||this;return t._gameType=3041,t._gamePath="BlockChainChessBullPlayer/h",t}t.BlockChainChessBullBM=n;__extends(It,bt=e),It.prototype.getBetManager=function(){return new t.BetManager(this)},It.prototype.getLimiter=function(){return new SicBoVnBet.SicBoVnLimiter},It.prototype.getLimitChecker=function(){return new SicBoVnBet.SicBoVnLimitChecker};var bt,n=It;function It(t){t=bt.call(this,t)||this;return t._gameType=3042,t._gamePath="BlockChainVnSicBoPlayerBM/h",t._minBetType=1,t._maxBetType=53,t}t.BlockChainVnSicboBM=n;__extends(Ct,Bt=e),Ct.prototype.getBetManager=function(){return new t.BetManager(this)},Ct.prototype.getLimiter=function(){return new Bac21Bet.Bac21Limiter},Ct.prototype.getLimitChecker=function(){return new Bac21Bet.Bac21LimitChecker};var Bt,n=Ct;function Ct(t){t=Bt.call(this,t)||this;return t._gameType=3043,t._gamePath="BlockChainBac21Player/h",t._minBetType=1,t._maxBetType=24,t}t.BlockChainBac21BM=n;__extends(Tt,kt=e),Tt.prototype.getBetManager=function(){return new t.BetManager(this)},Tt.prototype.getLimiter=function(){return new Bac21Bet.Bac21Limiter},Tt.prototype.getLimitChecker=function(){return new Bac21Bet.Bac21LimitChecker};var kt,n=Tt;function Tt(t){t=kt.call(this,t)||this;return t._gameType=3047,t._gamePath="Bac21Player/h",t._minBetType=1,t._maxBetType=24,t}t.Bac21BM=n;__extends(Mt,xt=e),Mt.prototype.getBetManager=function(){return new t.BetManager(this)},Mt.prototype.getLimiter=function(){return new FishSCThBet.FishSCThLimiter},Mt.prototype.getLimitChecker=function(){return new FishSCThBet.FishSCThLimitChecker};var xt,n=Mt;function Mt(t){t=xt.call(this,t)||this;return t._gameType=3044,t._gamePath="FishSCThPlayer/h",t._minBetType=1,t._maxBetType=42,t}t.FishSCTh=n;__extends(Lt,wt=e),Lt.prototype.getBetManager=function(){return new t.BetManager(this)},Lt.prototype.getLimiter=function(){return new FishSCThBet.FishSCThLimiter},Lt.prototype.getLimitChecker=function(){return new FishSCThBet.FishSCThLimitChecker};var wt,n=Lt;function Lt(t){t=wt.call(this,t)||this;return t._gameType=3045,t._gamePath="BlockChainFishSCThPlayer/h",t._minBetType=1,t._maxBetType=42,t}t.BlockChainFishSCTh=n;__extends(At,Et=e),At.prototype.getBetManager=function(){return new t.BetManager(this)},At.prototype.getLimiter=function(){return new Lucky5CardsBet.Lucky5CardsLimiter},At.prototype.getLimitChecker=function(){return new Lucky5CardsBet.Lucky5CardsLimitChecker};var Et,n=At;function At(t){t=Et.call(this,t)||this;return t._gameType=3046,t._gamePath="BlockChainLucky5Player/h",t._minBetType=1,t._maxBetType=15,t}t.BlockChainLucky5=n;__extends(Rt,Dt=e),Rt.prototype.getBetManager=function(){return new t.BetManager(this)},Rt.prototype.getLimiter=function(){return new AceyDeuceyBet.AceyDeuceyLimiter},Rt.prototype.getLimitChecker=function(){return new AceyDeuceyBet.AceyDeuceyLimitChecker};var Dt,n=Rt;function Rt(t){t=Dt.call(this,t)||this;return t._gameType=3048,t._gamePath="BlockChainAceyDeuceyPlayer/h",t._minBetType=1,t._maxBetType=9,t}t.BlockChainAceyDeucey=n;__extends(Ot,Nt=e),Ot.prototype.getBetManager=function(){return new t.BetManager(this)},Ot.prototype.getLimiter=function(){return new Bac28Bet.Bac28Limiter},Ot.prototype.getLimitChecker=function(){return new Bac28Bet.Bac28LimitChecker};var Nt,n=Ot;function Ot(t){t=Nt.call(this,t)||this;return t._gameType=3050,t._gamePath="BlockChainBac28PlayerLight/h",t._minBetType=1,t._maxBetType=6,t}t.BlockChainBac28BM=n}(VideoShare=VideoShare||{}),!function(t){i.prototype.setNum=function(t){this.flist_num=t},i.prototype.getFList=function(t){new Array;return this.setfList(t),this.f_list[t]},i.prototype.getList=function(t){return this.setList(t),this.list[t]},i.prototype.getResultList=function(t){for(var e=new Array,i=145;i<157;i++)for(var n=this.list[i],a=0;a<n.length;a++)if(n[a]==t){e.push(i);break}return e},i.prototype.getPhoneResultList=function(t){for(var e=new Array,i=148;i<157;i++)for(var n=this.list[i],a=0;a<n.length;a++)if(n[a]==t){e.push(i);break}return e},i.prototype.getFBList=function(t,e){var i=this;new Array;if("special"==t&&("lucky7"==e||"lucky8"==e)){var n=void 0,a=[];"lucky7"==e?n=7:"lucky8"==e&&(n=8),this.fbetList.special[e]=[];for(var o=0;o<n;o++){for(var r=0;r=Math.floor(144*Math.random()),a.includes(r)||r<37&&this.fbetList.all[r].some(function(t){return i.fbetList.special[e].includes(t)}););r<37?a=a.concat(this.fbetList.all[r]):a.push(r),this.fbetList.special[e].push(r)}}return this.fbetList[t][e]},i.prototype.getFBLightList=function(t,e){new Array;return"all"!=t&&"lucky7"!=e&&"lucky8"!=e?this.fbetList_L[t][e]:[]},i.prototype.setList=function(t){if(160<=t&&t<=196){this.list[t]=[];for(var e=0,i=0;i<this.searchList.fList_type.length;i++)if(this.searchList.fList_type[i]==t){e=i;break}this.list[t].push(this.searchList.fList[e]);for(var n=1;n<=this.flist_num;n++)36<e+n?this.list[t].push(this.searchList.fList[e+n-37]):this.list[t].push(this.searchList.fList[e+n]),e-n<0?this.list[t].push(this.searchList.fList[e-n+37]):this.list[t].push(this.searchList.fList[e-n])}},i.prototype.setfList=function(t){if(160<=t&&t<=196){this.f_list[t]=[],this.f_list[t].push(t);for(var e=0,i=0;i<this.searchList.fList_type.length;i++)if(this.searchList.fList_type[i]==t){e=i;break}for(var n=1;n<=this.flist_num;n++)36<e+n?this.f_list[t].push(this.searchList.fList_type[e+n-37]):this.f_list[t].push(this.searchList.fList_type[e+n]),e-n<0?this.f_list[t].push(this.searchList.fList_type[e-n+37]):this.f_list[t].push(this.searchList.fList_type[e-n])}};var e=i;function i(){this.flist_num=2,this.list=new Array,this.f_list=new Array,this.searchList=new Array,this.fbetList=new Array,this.fbetList_L=new Array;for(var t=0;t<37;t++)this.list[t]=[t];for(var e=0;e<3;e++){for(var i=new Array,n=0;n<12;n++)i.push(e+3*n+1);this.list[145+e]=i}for(var a=0;a<3;a++){for(var o=new Array,r=1;r<13;r++)o.push(r+12*a);this.list[148+a]=o}for(var s=0;s<2;s++){for(var h=new Array,l=1;l<19;l++)h.push(18*s+l);this.list[155+s]=h}this.list[153]=new Array,this.list[154]=new Array;for(var c=1;c<19;c++)this.list[153].push(2*c-1),this.list[154].push(2*c);this.list[151]=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],this.list[152]=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35];for(var u=0;u<12;u++)this.list[40+5*u]=[this.list[145][u],this.list[146][u]],this.list[42+5*u]=[this.list[146][u],this.list[147][u]],this.list[41+5*u]=[this.list[145][u],this.list[145][u+1]],this.list[43+5*u]=[this.list[146][u],this.list[146][u+1]],this.list[44+5*u]=[this.list[147][u],this.list[147][u+1]];this.list[96]=this.list[97];for(var d=0;d<12;d++)this.list[97+d]=[this.list[145][d],this.list[146][d],this.list[147][d]];this.list[133]=[0].concat(this.list[97]);for(var p=0;p<11;p++)this.list[134+p]=this.list[97+p].concat(this.list[98+p]);this.list[37]=[0,1],this.list[38]=[0,2],this.list[39]=[0,3],this.list[109]=this.list[0].concat(this.list[40]),this.list[110]=this.list[0].concat(this.list[42]);for(var f=0;f<11;f++)this.list[111+2*f]=this.list[40+5*f].concat(this.list[45+5*f]),this.list[112+2*f]=this.list[42+5*f].concat(this.list[47+5*f]);this.list[132]=this.list[92].concat(this.list[96]),this.list[160]=[0,26,3,32,15],this.list[161]=[32,0,26,15,19],this.list[162]=[15,32,0,19,4],this.list[163]=[19,15,32,4,21],this.list[164]=[4,19,15,21,2],this.list[165]=[21,4,19,2,25],this.list[166]=[2,21,4,25,17],this.list[167]=[25,2,21,17,34],this.list[168]=[17,25,2,34,6],this.list[169]=[34,17,25,6,27],this.list[170]=[6,34,17,27,13],this.list[171]=[27,6,34,13,36],this.list[172]=[13,27,6,36,11],this.list[173]=[36,27,13,11,30],this.list[174]=[11,13,36,30,8],this.list[175]=[30,36,11,8,23],this.list[176]=[8,11,30,23,10],this.list[177]=[23,8,30,10,5],this.list[178]=[10,23,8,24,5],this.list[179]=[5,10,23,16,24],this.list[180]=[24,5,10,33,16],this.list[181]=[16,24,5,33,1],this.list[182]=[33,16,24,1,20],this.list[183]=[1,33,16,20,14],this.list[184]=[20,1,33,14,31],this.list[185]=[14,20,1,31,9],this.list[186]=[31,14,20,9,22],this.list[187]=[9,31,14,22,18],this.list[188]=[22,9,31,18,29],this.list[189]=[18,22,9,29,7],this.list[190]=[29,18,22,7,28],this.list[191]=[7,29,18,28,12],this.list[192]=[28,7,29,35,12],this.list[193]=[12,28,7,35,3],this.list[194]=[35,12,28,3,26],this.list[195]=[3,35,12,26,0],this.list[196]=[26,3,35,0,32],this.list[197]=[197,197,197,197,197,197,197,197,197],this.list[198]=[198,198,198,198,198],this.list[199]=[199,199,199,199,199,199],this.list[200]=[200,200,200,200],this.f_list[160]=[160,196,195,161,162],this.f_list[161]=[161,160,196,162,163],this.f_list[162]=[162,161,160,163,164],this.f_list[163]=[163,162,161,164,165],this.f_list[164]=[164,163,162,165,166],this.f_list[165]=[165,164,163,166,167],this.f_list[166]=[166,165,164,167,168],this.f_list[167]=[167,166,165,168,169],this.f_list[168]=[168,167,166,169,170],this.f_list[169]=[169,168,167,170,171],this.f_list[170]=[170,169,168,171,172],this.f_list[171]=[171,170,169,172,173],this.f_list[172]=[172,171,170,173,174],this.f_list[173]=[173,172,171,174,175],this.f_list[174]=[174,173,172,175,176],this.f_list[175]=[175,174,173,176,177],this.f_list[176]=[176,175,174,177,178],this.f_list[177]=[177,176,175,178,179],this.f_list[178]=[178,177,176,179,180],this.f_list[179]=[179,178,177,180,181],this.f_list[180]=[180,179,178,181,182],this.f_list[181]=[181,180,179,182,183],this.f_list[182]=[182,181,180,183,184],this.f_list[183]=[183,182,181,184,185],this.f_list[184]=[184,183,182,185,186],this.f_list[185]=[185,184,183,186,187],this.f_list[186]=[186,185,184,187,188],this.f_list[187]=[187,186,185,188,189],this.f_list[188]=[188,187,186,189,190],this.f_list[189]=[189,188,187,190,191],this.f_list[190]=[190,189,188,191,192],this.f_list[191]=[191,190,189,192,193],this.f_list[192]=[192,191,190,193,194],this.f_list[193]=[193,192,191,194,195],this.f_list[194]=[194,193,192,195,196],this.f_list[195]=[195,194,193,196,160],this.f_list[196]=[196,195,194,160,161],this.f_list[197]=[197],this.f_list[198]=[198],this.f_list[199]=[199],this.f_list[200]=[200],this.searchList.fList=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26],this.searchList.fList_type=[160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196],this.fbetList.straightBet=this.fbetList_L.straightBet=[],this.fbetList.straightBet[0]=this.fbetList_L.straightBet[0]=[0,10,20,30],this.fbetList.straightBet[1]=this.fbetList_L.straightBet[1]=[1,11,21,31],this.fbetList.straightBet[2]=this.fbetList_L.straightBet[2]=[2,12,22,32],this.fbetList.straightBet[3]=this.fbetList_L.straightBet[3]=[3,13,23,33],this.fbetList.straightBet[4]=this.fbetList_L.straightBet[4]=[4,14,24,34],this.fbetList.straightBet[5]=this.fbetList_L.straightBet[5]=[5,15,25,35],this.fbetList.straightBet[6]=this.fbetList_L.straightBet[6]=[6,16,26,36],this.fbetList.straightBet[7]=this.fbetList_L.straightBet[7]=[7,17,27],this.fbetList.straightBet[8]=this.fbetList_L.straightBet[8]=[8,18,28],this.fbetList.straightBet[9]=this.fbetList_L.straightBet[9]=[9,19,29],this.fbetList.assignBet=[],this.fbetList_L.assignBet=[],this.fbetList.assignBet["0/3"]=[39,56,73,89],this.fbetList.assignBet["1/4"]=[41,58,74,91],this.fbetList.assignBet["2/5"]=[43,59,76,93],this.fbetList.assignBet["3/6"]=[44,61,78,94],this.fbetList.assignBet["4/7"]=[46,63,79,34],this.fbetList.assignBet["5/8"]=[48,64,81,35],this.fbetList.assignBet["6/9"]=[49,66,83,36],this.fbetList.assignBet["7/10"]=[51,68,84],this.fbetList.assignBet["8/11"]=[53,69,86],this.fbetList.assignBet["9/12"]=[54,71,88],this.fbetList_L.assignBet["0/3"]=[0,3,10,13,20,23,30,33],this.fbetList_L.assignBet["1/4"]=[1,4,11,14,21,24,31,34],this.fbetList_L.assignBet["2/5"]=[2,5,12,15,22,25,32,35],this.fbetList_L.assignBet["3/6"]=[3,6,13,16,23,26,33,36],this.fbetList_L.assignBet["4/7"]=[4,7,14,17,24,27,34],this.fbetList_L.assignBet["5/8"]=[5,8,15,18,25,28,35],this.fbetList_L.assignBet["6/9"]=[6,9,16,19,26,29,36],this.fbetList_L.assignBet["7/10"]=[7,10,17,20,27,30],this.fbetList_L.assignBet["8/11"]=[8,11,18,21,28,31],this.fbetList_L.assignBet["9/12"]=[9,12,19,22,29,32],this.fbetList.special=[],this.fbetList_L.special=[],this.fbetList.special.redSnake=this.fbetList_L.special.redSnake=[1,5,9,12,14,16,19,23,27,30,32,34],this.fbetList.special.blackSnake=this.fbetList_L.special.blackSnake=[2,6,8,10,13,17,20,24,26,28,31,35],this.fbetList.special.redAssignBet=[54,66,69,84],this.fbetList.special.blackAssignBet=[53,55,56,68,83,85,86],this.fbetList_L.special.redAssignBet=[9,12,16,19,18,21,27,30],this.fbetList_L.special.blackAssignBet=[8,11,10,13,17,20,26,29,28,31],this.fbetList.special.lucky7=[],this.fbetList.special.lucky8=[],this.fbetList.all=[],this.fbetList.all[0]=[0,37,38,39,109,110,133],this.fbetList.all[1]=[1,37,41,40,109,111,97,133,134],this.fbetList.all[2]=[2,38,43,42,40,110,112,109,111,97,133,134],this.fbetList.all[3]=[3,39,44,42,110,112,97,133,134],this.fbetList.all[4]=[4,41,46,45,111,113,98,134,135],this.fbetList.all[5]=[5,43,48,47,45,112,114,111,113,98,134,135],this.fbetList.all[6]=[6,44,49,47,112,114,98,134,135],this.fbetList.all[7]=[7,46,51,50,113,115,99,135,136],this.fbetList.all[8]=[8,48,53,52,50,114,116,113,115,99,135,136],this.fbetList.all[9]=[9,49,54,52,114,116,99,135,136],this.fbetList.all[10]=[10,51,56,55,115,117,100,136,137],this.fbetList.all[11]=[11,53,58,57,55,116,118,115,117,100,136,137],this.fbetList.all[12]=[12,54,59,57,116,118,100,136,137],this.fbetList.all[13]=[13,56,61,60,117,119,101,137,138],this.fbetList.all[14]=[14,58,63,62,60,118,120,117,119,101,137,138],this.fbetList.all[15]=[15,59,64,62,118,120,101,137,138],this.fbetList.all[16]=[16,61,66,65,119,121,102,138,139],this.fbetList.all[17]=[17,63,68,67,65,120,122,119,121,102,138,139],this.fbetList.all[18]=[18,64,69,67,120,122,102,138,139],this.fbetList.all[19]=[19,66,71,70,121,123,103,139,140],this.fbetList.all[20]=[20,68,73,72,70,122,124,121,123,103,139,140],this.fbetList.all[21]=[21,69,74,72,122,124,103,139,140],this.fbetList.all[22]=[22,71,76,75,123,125,104,140,141],this.fbetList.all[23]=[23,73,78,77,75,124,126,123,125,104,140,141],this.fbetList.all[24]=[24,74,79,77,124,126,104,140,141],this.fbetList.all[25]=[25,76,81,80,125,127,105,141,142],this.fbetList.all[26]=[26,78,83,82,80,126,128,125,127,105,141,142],this.fbetList.all[27]=[27,79,84,82,126,128,105,141,142],this.fbetList.all[28]=[28,81,86,85,127,129,106,142,143],this.fbetList.all[29]=[29,83,88,87,85,128,130,127,129,106,142,143],this.fbetList.all[30]=[30,84,89,87,128,130,106,142,143],this.fbetList.all[31]=[31,86,91,90,129,131,107,143,144],this.fbetList.all[32]=[32,88,93,92,90,130,132,129,131,107,143,144],this.fbetList.all[33]=[33,89,94,92,130,132,107,143,144],this.fbetList.all[34]=[34,91,95,131,108,144],this.fbetList.all[35]=[35,93,96,95,132,131,108,144],this.fbetList.all[36]=[36,94,96,132,108,144]}function n(){this.statisticsObj={AllRatioPercent:[],ZeroRatio:"0%",VoisinsRatio:"0%",OrphelinsRatio:"0%",TiersRatio:"0%",bigRatio:"0%",smallRatio:"0%",redRatio:"0%",BlackRatio:"0%",EvenRatio:"0%",oddRatio:"0%",_0Ratio:"0%"},this.RouOverBtnList=new e,this.ZeroAllNum=[12,35,3,26,0,32,15],this.VoisinsAllNum=[22,18,29,7,28,19,4,21,2,25],this.OrphelinsAllNum=[1,20,14,31,9,17,34,6],this.TiersAllNum=[33,16,24,5,10,23,8,30,11,36,13,27],this.redAllNum=this.RouOverBtnList.getList(151)}t.RouOverBtnList=e,n.prototype.getStatisticsObj=function(t){this.reset();for(var e=t.split(","),i={},n=t.split(",").length,a=0;a<=36;a++)i[a]=0;if(""!==t&&t)for(var o=0;o<e.length;o++)i[Number(e[o])]++;var r,s=0,h=0,l=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0;for(r in i)if(this.statisticsObj.AllRatioPercent[r]=(new ShareLogic.DigitalLogic).numtoFix4(i[r]/n)+"%","0"==r)this.statisticsObj._0Ratio=this.statisticsObj.AllRatioPercent[r];else{Number(r)<=18?h+=i[r]:s+=i[r];for(var g=0;g<this.redAllNum.length;g++)this.redAllNum[g]==Number(r)&&(l+=i[r]);Number(r)%2==0?d+=i[r]:u+=i[r];for(g=0;g<this.ZeroAllNum.length;g++)this.ZeroAllNum[g]==Number(r)&&(p+=i[r]);for(g=0;g<this.VoisinsAllNum.length;g++)this.VoisinsAllNum[g]==Number(r)&&(f+=i[r]);for(g=0;g<this.OrphelinsAllNum.length;g++)this.OrphelinsAllNum[g]==Number(r)&&(_+=i[r]);for(g=0;g<this.TiersAllNum.length;g++)this.TiersAllNum[g]==Number(r)&&(m+=i[r])}return""!==t&&t&&(c=n-l-i[0]),this.statisticsObj.bigRatio=(new ShareLogic.DigitalLogic).numtoFix4(s/n)+"%",this.statisticsObj.smallRatio=(new ShareLogic.DigitalLogic).numtoFix4(h/n)+"%",this.statisticsObj.redRatio=(new ShareLogic.DigitalLogic).numtoFix4(l/n)+"%",this.statisticsObj.BlackRatio=(new ShareLogic.DigitalLogic).numtoFix4(c/n)+"%",this.statisticsObj.oddRatio=(new ShareLogic.DigitalLogic).numtoFix4(u/n)+"%",this.statisticsObj.EvenRatio=(new ShareLogic.DigitalLogic).numtoFix4(d/n)+"%",this.statisticsObj.ZeroRatio=(new ShareLogic.DigitalLogic).numtoFix4(p/n)+"%",this.statisticsObj.VoisinsRatio=(new ShareLogic.DigitalLogic).numtoFix4(f/n)+"%",this.statisticsObj.OrphelinsRatio=(new ShareLogic.DigitalLogic).numtoFix4(_/n)+"%",this.statisticsObj.TiersRatio=(new ShareLogic.DigitalLogic).numtoFix4(m/n)+"%",this.statisticsObj},n.prototype.reset=function(){this.statisticsObj={AllRatioPercent:[],ZeroRatio:"0%",VoisinsRatio:"0%",OrphelinsRatio:"0%",TiersRatio:"0%",bigRatio:"0%",smallRatio:"0%",redRatio:"0%",BlackRatio:"0%",EvenRatio:"0%",oddRatio:"0%",_0Ratio:"0%"}},t.rouStatistics=n}(RouLogicShare=RouLogicShare||{}),!function(t){d=H5EventdispatcherCore.EventDispatcher,__extends(i,d),i.prototype.getGameType=function(){return this._gameInfo.getGameType()},i.prototype.getGameCode=function(){return this._gameInfo.getGameCode()},i.prototype.getGameCodeName=function(){return this._gameInfo.getGameCodeName()},i.prototype.getChipList=function(){return this._userInfo.getChipList()},i.prototype.getPoolInfo=function(){return this._poolInfo},i.prototype.getHasBet=function(){return this._hasBet},i.prototype.getCtu=function(){return this._ctu},i.prototype.getGrType=function(){return this._grType},i.prototype.getGrName=function(){return this._grName},i.prototype.getGrKeep=function(){return this._grKeep},i.prototype.getMarquee=function(){return this._marquee},i.prototype.getNoComm=function(){return this._isNoComm},i.prototype.getBullAnte=function(){return this._bullAnte},i.prototype.getBullStart=function(){return this._bullStart},i.prototype.getlastGameComm=function(){return this._lastGameComm},i.prototype.getSeatData=function(){return this._seatData},i.prototype.getGameInfo=function(){return this._gameInfo},i.prototype.getUserInfo=function(){return this._userInfo},i.prototype.getLimiter=function(){return this._limiter},i.prototype.getAddBetInfo=function(){return this._betManager},i.prototype.getCommitInfo=function(){return this._commitBetManager},i.prototype.getLastCommitInfo=function(){return this._lastCommitBetManager},i.prototype.getCommitInfoArr=function(){return this._commitBetManagerArr},i.prototype.getGameDefine=function(){return this._gameDefine},i.prototype.getDefaultIp=function(){return this._defaultIp},i.prototype.getVideoName=function(){return this._videoName},i.prototype.getBarrier=function(){return this._gameInfo.getBarrier()},i.prototype.getBarrierPri=function(){return this._gameInfo.getBarrierPri()},i.prototype.getSitInfo=function(){return this._gameInfo.getSit()},i.prototype.getLockInfo=function(){return this._gameInfo.getLock()},i.prototype.getSingleInfo=function(){return this._gameInfo.getSingle()},i.prototype.getSeatsInfo=function(){return this._gameInfo.getSeats()},i.prototype.getDealerName=function(){return this._gameInfo.getDealerName()},i.prototype.getDealerType=function(){return this._gameInfo.getDealerType()},i.prototype.getDealerData=function(){return this._gameInfo.getDealerData()},i.prototype.getDealerPic=function(){return this._gameInfo.getDealerPic()},i.prototype.getShuffle=function(){return this._gameInfo.getShuffle()},i.prototype.getDealerID=function(){return this._gameInfo.getDealerID()},i.prototype.getColdHot=function(){return this._gameInfo.getColdHot()},i.prototype.getSicPercent=function(){return this._gameInfo.getSicPercent()},i.prototype.getRunOdds=function(){return this._gameInfo.getRunOdds()},i.prototype.getRoundNo=function(){return this._gameInfo.getRoundNo()},i.prototype.getFollowDealer=function(){return this._followDealer},i.prototype.getIsHot=function(){return this._isHot},i.prototype.getIsNew=function(){return this._isNew},i.prototype.getBetRecord=function(){return this._betRecord},i.prototype.getMiPData=function(){return this._pushMiPData},i.prototype.getMiBData=function(){return this._pushMiBData},i.prototype.getMiData=function(){return this._pushMiData},i.prototype.getOnBase=function(){return this._onBase},i.prototype.getEnterInfo=function(){return this._enterInfo},i.prototype.getCallDealerStatus=function(){return this._callDealerStatus},i.prototype.getVipSet=function(){return this._tmpVipSet},i.prototype.getFlyCount=function(){return this._flycount},i.prototype.getBetRate=function(){return this._betRateInfo},i.prototype.getCreditLimit=function(){return this._creditLimitInfo},i.prototype.getBankerRate=function(){return this._bankerRate},i.prototype.getMt=function(){return this._mt},i.prototype.getMtst=function(){return this._mtst},i.prototype.getMtet=function(){return this._mtet},i.prototype.setEnterInfo=function(t){this._enterInfo=t},i.prototype.setIsHot=function(t){this._isHot=t},i.prototype.setIsNew=function(t){this._isNew=t},i.prototype.setLimitInfo=function(t){this._limiter&&this._limiter.setLimitInfo(t),null!=t.onBase&&(this._onBase=t.onBase,t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_TABLE_LIST),d.prototype.dispatchEvent.call(this,t))},i.prototype.setCtu=function(t){this._ctu=t;t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_LAS);d.prototype.dispatchEvent.call(this,t)},i.prototype.onUserInfo=function(t){this._userInfo=t,this._credit=this._userInfo.getCredit(),this._whitelist=this._userInfo.getWhitelist(),"1"==this._mt&&this._whitelist&&(this._mt="0",this.setMaintainInfo());t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.USER_INFO);d.prototype.dispatchEvent.call(this,t)},i.prototype.setCredit=function(t){this._userInfo.setCredit(t),this._credit=t},i.prototype.setPoolInfo=function(t){this._poolInfo=t;t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_POOL_INFO);d.prototype.dispatchEvent.call(this,t)},i.prototype.setBetRecordInfo=function(t){this._betRecord=t;var e,i=0;for(e in this._betRecord){var n,a=this._betRecord[e];for(n in this._commitBetManagerArr[i].cancelBet(),a)"b"==n.charAt(0)&&(n.split("b")[1],this._commitBetManagerArr[i].addBet(parseFloat(n.split("b")[1]),a[n]));i++}t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.BET_RECORD);d.prototype.dispatchEvent.call(this,t)},i.prototype.setClickBtn=function(t){var e=new VideoShare.HallEvent(VideoShare.HallEvent.ON_LOG_CLICKBTN);e.data=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.onEndGame=function(t){var e;this._userInfo.setData(t),this._credit=this._userInfo.getCredit(),this._hasEndGame=!0,"waiting"==(this._mtGameInfo||this._gameInfo).getStatus()?"1"!==this._mt&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_ENDGAME)).data=t,d.prototype.dispatchEvent.call(this,e)):(this._delayEndGame=!0,this._endGameData=t)},i.prototype.update=function(t){var e,i=this;if(null==t.mt&&null==t.mt2||(null!=t.mt&&"1"==t.mt?this._mt=this._whitelist?"0":t.mt:null!=t.mt2&&"1"==t.mt2?this._mt=this._whitelist?"0":t.mt2:this._mt="0"),"1"==this._mt?this._mtGameInfo||(this._mtGameInfo=Object.assign(Object.create(Object.getPrototypeOf(this._gameInfo)),this._gameInfo)):"0"==this._mt&&this._mtGameInfo&&(this._gameInfo=Object.assign(Object.create(Object.getPrototypeOf(this._mtGameInfo)),this._mtGameInfo),this._mtGameInfo=null),null==t.mtst&&null==t.mtst2||(null!=t.mtst&&""!=t.mtst?this._mtst=t.mtst:null!=t.mtst2?this._mtst=t.mtst2:this._mtst="",this._mtst=(this._mtst.match(/\d{4}-\d{2}-\d{2}/)+" "+this._mtst.match(/\d{2}:\d{2}/)).replace(/\-/g,"/")),null==t.mtet&&null==t.mtet2||(null!=t.mtet&&""!=t.mtet?this._mtet=t.mtet:null!=t.mtet2?this._mtet=t.mtet2:this._mtet="",this._mtet=(this._mtet.match(/\d{4}-\d{2}-\d{2}/)+" "+this._mtet.match(/\d{2}:\d{2}/)).replace(/\-/g,"/")),(t.mt||t.mtst||t.mtet||t.mt2||t.mtst2||t.mtet2)&&this.setMaintainInfo(),(this._mtGameInfo||this._gameInfo).getStatus()!=t.st&&null!=t.st){if(this._betManager&&this._betManager.cancelBet(),"initing"==t.st)this._commitBetManager&&this._commitBetManager.cancelBet(),this.cancelCustomBet();else if("rollDice"==t.st)this._bankerRate=-1,this._seatData=[];else if(("betting"==t.st||"betingAnte"==t.st||"ready"==t.st||"burncard"==t.st)&&null!=this._commitBetManager){if(this._hasEndGame=!1,this._hasBet=!1,this._pokerID="",!this._hasRestoreInfo){this._betRecord={};for(var n=0;n<this._commitBetManagerArr.length;n++)this._commitBetManagerArr[n].cancelBet();this._commitBetManager.cancelBet()}this.cancelCustomBet(),this._UserRoundCount++,this._UserRoundCount>this._callDealerMax&&(this._callDealerStatus=!1,this._UserRoundCount=0)}null!=this._commitBetManager&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.BET_INFO_COMMITTED)).data=this._commitBetManager,d.prototype.dispatchEvent.call(this,e)),"1"!=this._mt&&this.onStatusChange(t.st),this._hasRestoreInfo=!1}"1"==this._mt&&this._mtGameInfo&&this._mtGameInfo.setData(t),"1"!=this._gameInfo.getMt()&&"1"!=this._gameInfo.getMt2()||"1"!=this._mt?(this._gameInfo.setData(t),null!=t.dn&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_DEALER_NAME)).status=t.dn,d.prototype.dispatchEvent.call(this,e)),null!=t.dtp&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.DEALER_TYPE)).status=t.dtp,d.prototype.dispatchEvent.call(this,e)),null!=t.dob&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.DEALER_DATA)).data=t.dob,d.prototype.dispatchEvent.call(this,e)),null!=t.hdp&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_DEALER_PIC)).status=t.hdp,d.prototype.dispatchEvent.call(this,e)),"3001"!=this.getGameType()&&"3003"!=this.getGameType()&&"3017"!=this.getGameType()&&"3047"!=this.getGameType()||null==t.rn||0!=Number(t.rn.split("-")[1])&&0!=this._preRoundNO||(e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_SHUFFLE),0==Number(t.rn.split("-")[1])?e.status="Y":0==this._preRoundNO&&0!=Number(t.rn.split("-")[1])&&(e.status="N"),this._preRoundNO=Number(t.rn.split("-")[1]),d.prototype.dispatchEvent.call(this,e)),null!=t.did&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_DEALER_ID)).status=t.did,d.prototype.dispatchEvent.call(this,e)),null!=t.ch&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_COLDHOT)).status=t.ch,d.prototype.dispatchEvent.call(this,e)),null!=t.rsp&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_SIC_PERCENT)).status=t.rsp,d.prototype.dispatchEvent.call(this,e)),null!=t.rod&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_ODDS)).status=t.rod,d.prototype.dispatchEvent.call(this,e)),null!=t.seats&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_SEATS_INFO)).status=t.seats,d.prototype.dispatchEvent.call(this,e)),null!=t.sg&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_SINGLE)).status=t.sg,d.prototype.dispatchEvent.call(this,e)),null!=t.lk&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_LOCK)).status=t.lk,d.prototype.dispatchEvent.call(this,e)),null!=t.sit&&((e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_SIT)).status=t.sit,d.prototype.dispatchEvent.call(this,e)),null!=t.mrqu&&(e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.MARQUEE),this._marquee=t.mrqu,d.prototype.dispatchEvent.call(this,e)),e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ROUND_INFO),d.prototype.dispatchEvent.call(this,e),null!=t.st&&this._delayEndGame&&"waiting"==t.st&&(null!=this._endGameDelay&&clearTimeout(this._endGameDelay),this._endGameDelay=setTimeout(function(){i._delayEndGame=!1;var t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_ENDGAME);t.data=i._endGameData,d.prototype.dispatchEvent.call(i,t)},500))):null!=t.st&&this._delayEndGame&&"waiting"==t.st&&(null!=this._endGameDelay&&clearTimeout(this._endGameDelay),this._delayEndGame=!1)},i.prototype.setMaintainInfo=function(){var t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_MAINTAIN_INFO);t.status=this._mt,d.prototype.dispatchEvent.call(this,t)},i.prototype.onStatusChange=function(t){var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.STATUS_CHANGED);e.status=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.onBetChanged=function(t){var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.BET_INFO);e.data=this._betManager,this._betManager.getTotal()>this._credit?(this._betManager.undoBet(),e.status="INSUFFICIENT_CREDIT"):this._limitChecker.checkMax()||(e.status=this._limitChecker.getFailedReason(),this._betManager.undoBet()),d.prototype.dispatchEvent.call(this,e)},i.prototype.onRestoreChips=function(t){var e=this._gameInfo.getGameType(),i=this._gameInfo.getStatus();if("3005"!=e&&"3012"!=e&&"3030"!=e&&"3031"!=e||"rollDice"!=i)if("3025"!=e&&"3026"!=e&&"3027"!=e&&"3043"!=e&&"3050"!=e||"burncard"!=i)if("initing"==i||"waiting"==i||"ready"==i)this._hasRestoreInfo=!1;else{this._hasRestoreInfo=!0;var n=t;this._commitBetManager.cancelBet();for(var a,o=0;o<this._commitBetManagerArr.length;o++)this._commitBetManagerArr[o].cancelBet();for(a in n)"betRTRecord"==String(a)?this.setBetRecordInfo(n[a]):"b"==a.charAt(0)&&(a.split("b")[1],this._commitBetManager.addBet(parseFloat(a.split("b")[1]),n[a]));this._hasBet=!0,this._roundSerial=this._gameInfo.getRoundSerial();e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.BET_INFO_COMMITTED);e.status="TOTAL_BET",e.data=this._commitBetManager,d.prototype.dispatchEvent.call(this,e)}else this._hasRestoreInfo=!1;else this._hasRestoreInfo=!1},i.prototype.onBet=function(t){var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.BET_INFO_COMMITTED);if(null!=this._commitBetManager&&(e.data=this._commitBetManager),null==t.runEor&&null!=this._commitBetManager){this._userInfo.setCredit(t.credit),this._credit=this._userInfo.getCredit(),this._hasBet=!0,this._lastGameComm=this._isNoComm,e.status="TOTAL_BET",this._lastCommitBetManager.cancelBet(),this._lastCommitBetManager.addBetSet(this._betManager),this._lastCommitBetManager.addFastBetSet(this._betManager);var i,n,a=t;for(i in a)"betRTRecord"==String(i)?this.setBetRecordInfo(a[i]):"b"==i.charAt(0)&&(n=parseFloat(i.split("b")[1]),0!=this._betManager.getAmount(n))&&this._commitBetManager.addBet(n,parseFloat(a[i]));this._betManager.cancelBet()}else e.status=t.runEor;d.prototype.dispatchEvent.call(this,e),this._flycount=0},i.prototype.addBet=function(t,e,i){void 0===i&&(i=-1);var n=this._gameInfo.getGameType();("3007"==n||"3028"==n)&&156<t&&t<=200?this.frenchbet(t,e,i):this._betManager.addBet(t,e)},i.prototype.addBetSet=function(t){this._betManager.addBetSet(t)},i.prototype.addFastBet=function(t,e,i){this._betManager.addFastBet(t=void 0===t?null:t,e=void 0===e?null:e,i=void 0===i?null:i)},i.prototype.undoBet=function(){this._betManager.undoBet()},i.prototype.cancelBet=function(){this._betManager&&this._betManager.cancelBet()},i.prototype.commitBet=function(t){if(void 0===t&&(t=-1),this._limitChecker.checkMin()){for(var e=new Object,i=this._gameDefine.getMinBetType();i<this._gameDefine.getMaxBetType()+1;i++){var n=this._betManager.getAmount(i);0<n&&(e["b"+i]=n)}if(null!=this._pokerID&&(e.pokerID=this._pokerID),e.gameType=this._gameInfo.getGameType(),e.gameCode=this._gameInfo.getGameCode(),e.roundSerial=this._gameInfo.getRoundSerial(),-1!==t&&(e.gid=t),this._roundSerial=this._gameInfo.getRoundSerial(),0<this._betManager.getFastBet().length){for(var a={},o={},r=0,i=0;i<this._betManager.getFastBet().length;i++){var s=this._betManager.getFastBet()[i];if(null!=s.type)if(76==s.type){for(var h=0;h<s.reBet.length;h++){var l=s.reBet[h];null!=l.type&&(null==o[l.type]&&(o[l.type]=0),o[l.type]+=l.value)}r+=s.value,a[s.type]={value:r,reBet:o}}else null==a[s.type]&&(a[s.type]=0),a[s.type]+=s.value}for(i=0;i<Object.keys(a).length;i++){var c="";if("76"==Object.keys(a)[i]&&0<Object.keys(a[Object.keys(a)[i]].reBet).length){for(var u=a[Object.keys(a)[i]].reBet,h=0;h<Object.keys(u).length;h++)""==c?c=Object.keys(u)[h]+"-"+u[Object.keys(u)[h]]:c+=","+Object.keys(u)[h]+"-"+u[Object.keys(u)[h]];c="76-"+a[Object.keys(a)[i]].value+":"+c}""!=(c=""==c&&"76"!=Object.keys(a)[i]?Object.keys(a)[i]+"-"+a[Object.keys(a)[i]]:c)&&(null==e.fastbet?e.fastbet=c:e.fastbet+=","+c)}}t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.BET);t.data=e,d.prototype.dispatchEvent.call(this,t)}else{t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.BET_INFO_COMMITTED);t.status="UNDER_MIN",t.data=this._commitBetManager,d.prototype.dispatchEvent.call(this,t)}},i.prototype.reBet=function(){this._betManager.addBetSet(this._lastCommitBetManager)},i.prototype.setChip=function(t){var e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_SETING_CHIP);e.data=t.data,d.prototype.dispatchEvent.call(this,e)},i.prototype.sendPokerShow=function(t){var e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_OPEN_POKER);e.data=t.data,d.prototype.dispatchEvent.call(this,e)},i.prototype.sendMipokerInfo=function(t){var e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.SEND_MIPOKER_INFO);e.data=t.data,d.prototype.dispatchEvent.call(this,e)},i.prototype.goJumpDice=function(t){var e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.CHOOSE_TIME);e.data=t.data,d.prototype.dispatchEvent.call(this,e)},i.prototype.changeDealer=function(t){var e=!1,i=(this._callDealerStatus||(this._callDealerStatus=!0,e=!(this._UserRoundCount=0)),new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_CHG_DEALER)),n=new Object;n.status=e,i.data=n,d.prototype.dispatchEvent.call(this,i)},i.prototype.cleanRodmap=function(t){var e=this._gameInfo.getRoundNo().split("-"),i=!1,e=(Number(e[1])>this._callRoadmapMax&&(i=!0),new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_CHG_ROADMAP)),n=new Object;n.status=i,e.data=n,d.prototype.dispatchEvent.call(this,e)},i.prototype.setFlyCount=function(){this._flycount++},i.prototype.onNotify=function(t){var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_NOTIFY);e.data=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.onBetRate=function(t){this._betRateInfo=t;t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_BET_RATE);d.prototype.dispatchEvent.call(this,t)},i.prototype.onCreditLimit=function(t){this._creditLimitInfo=t;t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_CREDIT_LIMIT);d.prototype.dispatchEvent.call(this,t)},i.prototype.onJoinDrawBanker=function(t){this._bankerRate=t.bankerRate;var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_JOIN_DRAW_BANKER);e.data=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.onDecisionBanker=function(t){this._decisionBanker=t;t=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_DECISION_BANKER);d.prototype.dispatchEvent.call(this,t)},i.prototype.setDealing=function(t){var e;e=this._flycount<3?new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.FLY_DEAL):new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_FLY_POKER_MAX),d.prototype.dispatchEvent.call(this,e)},i.prototype.onSetChip=function(t){"success"==t.data.status?this._userInfo.setChipList(t.data.chipList):"failed"==t.data.status&&(t.status=t.data.runEor),d.prototype.dispatchEvent.call(this,t)},i.prototype.setGrType=function(t,e,i){void 0===e&&(e=""),void 0===i&&(i=0),this._grType=t,this._grName=e,this._grKeep=i;t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.JUMP_GOODROAD);d.prototype.dispatchEvent.call(this,t)},i.prototype.setIsNoComm=function(t){this._isNoComm=t},i.prototype.setBullAnte=function(t){this._bullAnte=t},i.prototype.setBullStart=function(t){this._bullStart=t},i.prototype.setVipSet=function(t){this._tmpVipSet=t},i.prototype.frenchbet=function(t,e,i){for(var n=new RouLogicShare.RouOverBtnList,a=(n.setNum(i),n.getList(t)),o=this._gameDefine.getBetManager(),r=0;r<a.length;r++)o.addBet(a[r],e);this.addBetSet(o)},i.prototype.followBet=function(t,e){void 0===e&&(e=-1);var i,n=this._commitBetManager.getAmount(1);2==t&&"betingFlop"==this._gameInfo.getStatus()?i=2*n:(3==t&&"betingTurn"==this._gameInfo.getStatus()||4==t&&"betingRiver"==this._gameInfo.getStatus())&&(i=n),0<i&&i<=this._userInfo.getCredit()?(this.cancelBet(),this.addBet(t,i),(n=new Object)["b"+String(t)]=i,n.gameType=this._gameInfo.getGameType(),n.gameCode=this._gameInfo.getGameCode(),n.roundSerial=this._gameInfo.getRoundSerial(),-1!==e&&(n.gid=e),(t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.BET)).data=n,d.prototype.dispatchEvent.call(this,t)):((i=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.BET_INFO_COMMITTED)).data=this._commitBetManager,i.status="INSUFFICIENT_CREDIT",d.prototype.dispatchEvent.call(this,i))},i.prototype.flopBet=function(){var t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.FLOP_BET);d.prototype.dispatchEvent.call(this,t)},i.prototype.cancelManagerBet=function(){this._commitBetManager.cancelBet();for(var t=0;t<this._commitBetManagerArr.length;t++)this._commitBetManagerArr[t].cancelBet()},i.prototype.onLeaveGame=function(){this._flycount=0,this._callDealerStatus=!1,this._UserRoundCount=0,this._seatData=[],this._bullAnte=-1,this._bankerRate=-1},i.prototype.onJoinTable=function(t){this._seatData=t.data.vtable;var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_JOIN_TABLE);e.data=t.data,d.prototype.dispatchEvent.call(this,e)},i.prototype.onLeaveTable=function(t){var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_LEAVE_TABLE);e.data=t.data,d.prototype.dispatchEvent.call(this,e)},i.prototype.onSeatData=function(t){for(var e in null==this._seatData&&(this._seatData=[]),t)this._seatData[e]=t[e];var i=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_SEAT_DATA);i.data=t,d.prototype.dispatchEvent.call(this,i)},i.prototype.cancelCustomBet=function(){if(null!=this._seatData){for(var t in this._seatData)null!=this._seatData[t].bet&&(this._seatData[t].bet={});var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CANCEL_CUSTOM_BET);d.prototype.dispatchEvent.call(this,e)}},i.prototype.sendTip=function(t){var e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.SEND_TIP);e.data=t.data,e.data.gameType=this.getGameType(),e.data.gameCode=this.getGameCode(),e.data.roundSerial=this.getGameInfo().getRoundSerial(),d.prototype.dispatchEvent.call(this,e)},i.prototype.onSendTip=function(t){var e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_SEND_TIP);e.data=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.setVideoIP=function(t){if(""==this._videoName)for(var e=this._gameInfo.getGameType()+this._gameInfo.getGameCode(),i=e.length,n=0;n<i;n++)this._videoName+="abcdefghijklmnopqrstuvwxyz".charAt(parseInt(e.charAt(n)));this._defaultIp=t},i.prototype.joinDrawBanker=function(t,e){void 0===e&&(e=-1);var i=new Object,t=(i.gameType=this.getGameType(),i.gameCode=this.getGameCode(),i.bankerRate=t,i.roundSerial=this._gameInfo.getRoundSerial(),-1!==e&&(i.gid=e),new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.JOIN_DRAW_BANKER));t.data=i,d.prototype.dispatchEvent.call(this,t)},i.prototype.bullBet=function(t,e){void 0===e&&(e=-1);var i=new Object,t=(i.gameType=this.getGameType(),i.gameCode=this.getGameCode(),i.playerRate=t,i.roundSerial=this._gameInfo.getRoundSerial(),-1!==e&&(i.gid=e),new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.BULL_BET));t.data=i,d.prototype.dispatchEvent.call(this,t)},i.prototype.onPushMiPData=function(t){this._pushMiPData=t;var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_PUSH_PLAYER_MIDATA);e.data=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.onPushMiBData=function(t){this._pushMiBData=t;var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_PUSH_BANKER_MIDATA);e.data=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.onPushMiData=function(t){this._pushMiData=t;var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_PUSH_MIDATA);e.data=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.closeGame=function(t){var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CLOSE_GAME);d.prototype.dispatchEvent.call(this,e)},i.prototype.messageHistory=function(){IPL.UrlParameter.gotoBulletin()},i.prototype.help=function(){IPL.UrlParameter.gotoRulePage()},i.prototype.betHistory=function(){IPL.UrlParameter.gotoBetHistory()},i.prototype.setFollowDealer=function(t){this._followDealer=t;var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_FOLLOW_DEALER);e.mySwitch=t,d.prototype.dispatchEvent.call(this,e)},i.prototype.onBlockChainUpdate=function(t){var e={},i=(!t.plst&&""!==t.plst||this.setPlst(t.plst),t.st&&(e.st=t.st),t.cards?t.cards.split(","):[]),n=t.pk?t.pk.split(","):[],a=t.seeds?t.seeds.split(","):[];"3036"===this.getGameType()&&n.shift();for(var o,r,s=0;s<i.length;s++)""!==i[s]&&(o=Number(i[s])-1,""!==a[s]&&(this._arrSeed[o]=a[s]),""!==n[s])&&("3033"===this.getGameType()||"3034"===this.getGameType()||"3039"===this.getGameType()||"3040"===this.getGameType()||"3045"===this.getGameType()||"3042"===this.getGameType()?(r=n.join(""),this._arrPoker[o]=r):this._arrPoker[o]=n[s]);"3028"===this.getGameType()||"3032"===this.getGameType()||"3037"===this.getGameType()?0<n.length&&""!==n[0]&&"X"!==n[0]&&(this._arrPrePoker[Number(i[0])-1]=n[0],this._arrPreSeed[Number(i[0])-1]=a[0]):"3033"===this.getGameType()||"3034"===this.getGameType()||"3039"===this.getGameType()||"3040"===this.getGameType()||"3045"===this.getGameType()||"3042"===this.getGameType()?0<n.length&&""!==n[0]&&"X"!==n[0]&&(h=n.join(""),this._arrPrePoker[Number(i[0])-1]=h,this._arrPreSeed[Number(i[0])-1]=a[0]):"3050"===this.getGameType()?"1"===i[0]&&(this._coverNum=Number(t.pk.split(",")[0]),10<this._coverNum&&(this._coverNum=10),e.cNum=this._coverNum):"1"===i[0]&&(this._coverNum=Number(t.pk.split(",")[0].split(".")[1]),10<this._coverNum&&(this._coverNum=10),e.cNum=this._coverNum),e.pk=t.pk||"",e.cards=t.cards||"",e.seeds=t.seeds||"";var h=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_BLOCKCHAIN_UPDATE);h.data=e,d.prototype.dispatchEvent.call(this,h)},i.prototype.onGetHash=function(t){var e=this.getGameType(),i=t.phash&&""!==t.phash?t.phash.split(","):[],n=t.psl&&""!==t.psl?t.psl.split(","):[],a=t.suf&&""!==t.suf?t.suf.split(","):[];if("3028"!==e&&"3032"!==e&&"3033"!==e&&"3034"!==e&&"3037"!==e&&"3038"!==e&&"3039"!==e&&"3040"!==e&&"3045"!==e&&"3042"!==e&&(i!==[]&&i.shift(),n!==[]&&n.shift(),a!==[])&&a.shift(),"3028"===e||"3032"===e||"3033"===e||"3034"===e||"3037"===e||"3039"===e||"3040"===e||"3045"===e||"3042"===e?this._arrHash[0]=i[0]:this._arrHash=i,"3028"===e||"3032"===e||"3033"===e||"3034"===e||"3037"===e||"3039"===e||"3040"===e||"3045"===e||"3042"===e)0<n.length?this._arrSeed[0]=n[0]:(this._suf="****************************************************************************************************"+t.suf,this._arrSeed[0]=this._suf);else if("3038"===e||"3050"===e)for(var o=0;o<n.length;o++)""===n[o]?(this._arrSeed[o]="****************************************************************************************************"+a[o],this._arrPoker[o]=""):(this._arrSeed[o]=n[o],this._arrPoker[o]=n[o].split("-")[0]);else for(var r,s,o=0;o<n.length;o++)""===n[o]?(this._arrSeed[o]="****************************************************************************************************"+a[o],this._arrPoker[o]=""):(this._arrSeed[o]=n[o],s="",s="A"==(r=n[o].split("-")[0])[0]?"1":"T"==r[0]?"10":"J"==r[0]?"11":"Q"==r[0]?"12":"K"==r[0]?"13":r[0],this._arrPoker[o]=r[1]+"."+s);if("3028"!==e&&"3032"!==e&&"3033"!==e&&"3034"!==e&&"3037"!==e&&"3039"!==e&&"3040"!==e&&"3045"!==e&&"3042"!==e&&"3050"!==e?0<n.length&&""!==n[0]&&("A"==(h=n[0].split("-")[0])[0]?this._coverNum=1:"T"==h[0]||"J"==h[0]||"Q"==h[0]||"K"==h[0]?this._coverNum=10:this._coverNum=Number(h[0])):"3050"===e&&(h=n[0].split("-")[0],this._coverNum=Number(h)),this._pid=t.pid?Number(t.pid):this._pid,!t.plst&&""!==t.plst||this.setPlst(t.plst),t.phashb&&(i=""!==t.phashb?t.phashb.split(","):[],"3028"!==e&&"3032"!==e&&"3033"!==e&&"3034"!==e&&"3037"!==e&&"3038"!==e&&"3039"!==e&&"3040"!==e&&"3045"!==e&&"3042"!==e&&i.shift(),this._arrPreHash=i),t.pslb&&(h=""!==t.pslb?t.pslb.split(","):[],"3028"!==e&&"3032"!==e&&"3033"!==e&&"3034"!==e&&"3037"!==e&&"3038"!==e&&"3039"!==e&&"3040"!==e&&"3045"!==e&&"3042"!==e&&h.shift(),this._arrPreSeed=h),t.oppb&&(i=""!==t.oppb?t.oppb.split(","):[],"3028"!==e&&"3032"!==e&&"3033"!==e&&"3034"!==e&&"3037"!==e&&"3038"!==e&&"3039"!==e&&"3040"!==e&&"3045"!==e&&"3042"!==e&&i.shift(),this._arrPrePoker=i),"3028"===e||"3032"===e||"3033"===e||"3034"===e||"3037"===e||"3039"===e||"3040"===e||"3045"===e||"3042"===e){for(this._rd=t.rd||0,this._arrPreHash.length===this._rd?this._rd++:0!=this._rd&&this._rd<this._arrPreHash.length&&(this._rd=this._arrPreHash.length),this._arrPreSeed.length<this._rd&&this._arrPreSeed[this._arrPreSeed.length-1]!==this._arrSeed[0]&&(this._arrPreSeed[this._arrPreSeed.length]=this._suf),this._arrPreHash.length<this._rd&&this._arrPreHash[this._arrPreHash.length-1]!==this._arrHash[0]?this._arrPreHash[this._arrPreHash.length]=this._arrHash[0]:this._arrPreHash.length==this._rd&&(this._arrPreHash[this._arrPreHash.length-1]=this._arrHash[0]),this._arrPrePoker.length<this._rd&&""!==this._arrPrePoker[this._arrPrePoker.length-1]&&(this._arrPrePoker[this._arrPrePoker.length]="");this._arrPreHash.length<this._arrPreSeed.length;)this._arrPreSeed.pop();for(;this._arrPreHash.length<this._arrPrePoker.length;)this._arrPrePoker.pop()}var h=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_GET_HASH);d.prototype.dispatchEvent.call(this,h)},i.prototype.getAllPoker=function(){var t={};return t.pid=this._pid,t.coverNum=this._coverNum,t.allPoker=this._arrPoker,t},i.prototype.getHash=function(t){return this._arrHash[t]},i.prototype.getSeed=function(t){return this._arrSeed[t]},i.prototype.getPlst=function(){return this._plst},i.prototype.getPid=function(){return this._pid},i.prototype.getNewCardId=function(){return this._newCardId},i.prototype.getPrePoker=function(){return this._arrPrePoker},i.prototype.getPreHash=function(t){return this._arrPreHash[t]},i.prototype.getAllPreSeed=function(){return this._arrPreSeed},i.prototype.getPreSeed=function(t){return this._arrPreSeed[t]},i.prototype.getRd=function(){return this._rd},i.prototype.getSuf=function(){return this._suf},i.prototype.clearPreData=function(){this._arrPrePoker=[],this._arrPreHash=[],this._arrPreSeed=[],this._suf=""},i.prototype.clearPlst=function(){this._newCardId=-1,this._plst=""},i.prototype.setPlst=function(t){var e={};if(""!==t){var i=t.split(","),n=Number(i.shift()),a=0;if("3028"===this.getGameType()||"3032"===this.getGameType()||"3037"===this.getGameType()||"3033"===this.getGameType()||"3034"===this.getGameType()||"3039"===this.getGameType()||"3040"===this.getGameType()||"3045"===this.getGameType()||"3042"===this.getGameType())a=1;else for(var o=0;o<i.length;o++)""!==i[o]&&a++;this._newCardId=1<n?n+a:n+this._coverNum+1,this._plst=i.join(","),e.plst=this._plst,e.newFirId=this._newCardId,e.oldFirId=n}else this._plst=t,this._newCardId=-1,e.plst=this._plst,e.newFirId=this._newCardId,e.oldFirId=-1;n=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.PLST_UPDATE);n.data=e,d.prototype.dispatchEvent.call(this,n)};var d,e=i;function i(t){var e=d.call(this)||this;e._hasRestoreInfo=!1,e._delayEndGame=!1,e._hasEndGame=!1,e._isNoComm=!1,e._lastGameComm=!1,e._hasBet=!1,e._ctu=0,e._grType="0",e._grName="-",e._grKeep=0,e._marquee="",e._videoName="",e._dealerType="",e._isHot=!1,e._isNew=!1,e._bullAnte=-1,e._bullStart=!1,e._bankerRate=-1,e._flycount=0,e._UserRoundCount=0,e._callDealerStatus=!1,e._callDealerMax=10,e._callRoadmapMax=30,e._mt="0",e._whitelist=!1,e._arrSeed=[],e._arrHash=[],e._plst="",e._lastPoker="",e._pid=-1,e._coverNum=0,e._arrPoker=[],e._newCardId=-1,e._arrPreHash=[],e._arrPreSeed=[],e._arrPrePoker=[],e._rd=0,e._suf="",e._gameInfo=new VideoShare.GameInfo,e._gameDefine=t;try{e._betManager=e._gameDefine.getBetManager(),e._betManager.addEventListener(VideoShare.BetManagerEvent.CHANGE,function(t){e.onBetChanged(t)}),e._commitBetManager=e._gameDefine.getBetManager(),e._lastCommitBetManager=e._gameDefine.getBetManager(),e._commitBetManagerArr=[];for(var i=0;i<3;i++)e._commitBetManagerArr[i]=e._gameDefine.getBetManager(),e._commitBetManagerArr[i].cancelBet()}catch(t){}try{e._limiter=e._gameDefine.getLimiter(),e._limitChecker=e._gameDefine.getLimitChecker(),e._limitChecker.setBetManager(e._betManager),e._limitChecker.setCommitManager(e._commitBetManager),e._limitChecker.setLimiter(e._limiter)}catch(t){}return e}t.SubModel=e}(Model=Model||{}),!function(p){f=H5EventdispatcherCore.EventDispatcher,__extends(e,f),e.prototype.getUserInfo=function(){return this._userInfo},e.prototype.getRoadDefault=function(){return this._roadDefault},e.prototype.getRoadCustom=function(){return this._roadCustom},e.prototype.getHallCtu=function(){return this._hallCtu},e.prototype.getVerID=function(){return this._verID},e.prototype.getURLUnfo=function(){return this._gameURL},e.prototype.getGameList=function(){return this._gameList},e.prototype.getKeyList=function(){return this._keyList},e.prototype.getTableList=function(){return this._tableList},e.prototype.getVideoIP=function(){return this._videoIP},e.prototype.getPing=function(){return this._ping},e.prototype.getPingInfo=function(){return this._pingInfo},e.prototype.getLocalTime=function(){return this._localTime},e.prototype.getPreferencesInfo=function(){return this._preferences},e.prototype.getPromotionsInfo=function(){return this._promotions},e.prototype.getCnPromotionsInfo=function(){return this._cnPromotions},e.prototype.getGroupList=function(){return this._groupList},e.prototype.getSwitchList=function(){return this._switchList},e.prototype.getbanner=function(){return this._banner},e.prototype.getTabIndex=function(){return this._tabIndex},e.prototype.getTableShow=function(){return this._tableShow},e.prototype.getIsIdle=function(){return this._isIdle},e.prototype.getLiveStreamList=function(){return this._liveStreamList},e.prototype.init=function(){this._firstData=!1,this._firstUser=!1,this._gameInfoReady=!1,this._userInfoReady=!1},e.prototype.getModel=function(t,e){return this._modelList[t+"-"+e]},e.prototype.connect=function(t){this._game=new VideoShare.LiveGame,this._isIdle=!1,IPL.UrlParameter.isLocal&&(null!=IPL.UrlParameter.serverIP&&""!==IPL.UrlParameter.serverIP&&"localhost"!==IPL.UrlParameter.serverIP&&-1==IPL.UrlParameter.serverIP.indexOf("127.0.0.1")||(IPL.UrlParameter.serverIP=this._url),null!=IPL.UrlParameter.sid&&""!==IPL.UrlParameter.sid&&"<?=$Sid?>"!==IPL.UrlParameter.sid||(IPL.UrlParameter.hallID="6",IPL.UrlParameter.sid=this._localSid)),this._game.connect(IPL.UrlParameter.serverIP,t),this._game.setSid(IPL.UrlParameter.sid),this.configureModelListener()},e.prototype.close=function(){this._game&&this._game.close()},e.prototype.getSubList=function(){return this._subArr},e.prototype.configureModelListener=function(){this._game.addEventListener(VideoShare.LiveGameEvent.NET_STATUS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_LOGIN,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.HALL_LOGIN,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.GAME_URL,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.GROUP_SWITCH_SET,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_LAS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_VIDEO_IP,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.GAME_INFO,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.USER_INFO,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_RESTORE_CHIPS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_GET_ROADMAP,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_SET_ROADINFO,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_SET_CUSTOMROAD,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_BET,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_SETCHIP,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_POOL_INFO,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_ENDGAME,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.GET_TABLE_VIEW,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_SET_USERTAB,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_UPSET_TABLE,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_REMOVE_TABLE,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_JOIN_TABLE,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_LEAVE_TABLE,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_SEAT_DATA,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_SEND_TIP,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_START_GAME,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_LEAVE_GAME,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_GET_PROMOTIONS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_PING,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_PREFERENCES,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_SET_PREFERENCES,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_CHANGE_NICKNAME,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_REFRESH_NICKNAME,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_GET_GIRLPHOTOS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_GET_CNPROMOTIONS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_ACTIVITY,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_PUSH_BANKER_MIDATA,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_PUSH_PLAYER_MIDATA,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_PUSH_MIDATA,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_TABLE_LIST,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_FLY_POKER_TIME,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_NOTIFY,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_BET_RATE,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_GAME_CONFIG,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_JOIN_DRAW_BANKER,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_DECISION_BANKER,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_DASHBOARD,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_CLAIM_POINTS_INFO,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_CLAIM_POINTS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_LOYALTY_DETAILS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_AVAILBLE_REWARDS,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_HONOR_POINTS_CHG,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_LIVESTREAM_LIST,this.LiveGameEvent),this._game.addEventListener(VideoShare.LiveGameEvent.ON_LIVESTREAM_CHANNELS,this.LiveGameEvent)},e.prototype.handleModel=function(t){switch(t.type){case VideoShare.LiveGameEvent.NET_STATUS:this.onNetStatus(t);break;case VideoShare.LiveGameEvent.ON_LOGIN:this.onLogin(t);break;case VideoShare.LiveGameEvent.HALL_LOGIN:this.onHallLogin(t);break;case VideoShare.LiveGameEvent.GAME_URL:this.onGameUrl(t);break;case VideoShare.LiveGameEvent.GROUP_SWITCH_SET:this.onGroupSwitch(t);break;case VideoShare.LiveGameEvent.ON_LAS:this.onLAS(t);break;case VideoShare.LiveGameEvent.ON_VIDEO_IP:this.onVideoIP(t);break;case VideoShare.LiveGameEvent.GAME_INFO:this.onGameInfo(t);break;case VideoShare.LiveGameEvent.USER_INFO:this.onUserInfo(t);break;case VideoShare.LiveGameEvent.ON_RESTORE_CHIPS:this.onRestoreChips(t);break;case VideoShare.LiveGameEvent.ON_GET_ROADMAP:this.onGetRoadmap(t);break;case VideoShare.LiveGameEvent.ON_SET_ROADINFO:this.onRoadInfo(t);break;case VideoShare.LiveGameEvent.ON_SET_CUSTOMROAD:this.onCustomRoad(t);break;case VideoShare.LiveGameEvent.ON_BET:this.onBet(t);break;case VideoShare.LiveGameEvent.ON_SETCHIP:this.onSetChip(t);break;case VideoShare.LiveGameEvent.ON_POOL_INFO:this.onPoolInfo(t);break;case VideoShare.LiveGameEvent.ON_ENDGAME:this.onEndGame(t);break;case VideoShare.LiveGameEvent.GET_TABLE_VIEW:this.onGetTableView(t);break;case VideoShare.LiveGameEvent.ON_SET_USERTAB:this.onSetUserTab(t);break;case VideoShare.LiveGameEvent.ON_UPSET_TABLE:this.onUpsetTable(t);break;case VideoShare.LiveGameEvent.ON_REMOVE_TABLE:this.onRemoveTable(t);break;case VideoShare.LiveGameEvent.ON_JOIN_TABLE:this.onJoinTable(t);break;case VideoShare.LiveGameEvent.ON_LEAVE_TABLE:this.onLeaveTable(t);break;case VideoShare.LiveGameEvent.ON_SEAT_DATA:this.onSeatData(t);break;case VideoShare.LiveGameEvent.ON_SEND_TIP:this.onSendTip(t);break;case VideoShare.LiveGameEvent.ON_START_GAME:this.onStartGame(t);break;case VideoShare.LiveGameEvent.ON_LEAVE_GAME:this.onLeaveGame(t);break;case VideoShare.LiveGameEvent.ON_GET_PROMOTIONS:this.onGetPromotions(t);break;case VideoShare.LiveGameEvent.ON_PING:this.onPing(t);break;case VideoShare.LiveGameEvent.ON_PREFERENCES:this.onPreferences(t);break;case VideoShare.LiveGameEvent.ON_SET_PREFERENCES:this.onSetPreferences(t);break;case VideoShare.LiveGameEvent.ON_CHANGE_NICKNAME:this.onChangeNickname(t);break;case VideoShare.LiveGameEvent.ON_REFRESH_NICKNAME:this.onRefreshNickname(t);break;case VideoShare.LiveGameEvent.ON_GET_GIRLPHOTOS:this.onGetGameGirlPhotos(t);break;case VideoShare.LiveGameEvent.ON_GET_CNPROMOTIONS:this.onGetCnPromotions(t);break;case VideoShare.LiveGameEvent.ON_ACTIVITY:this.onActivity(t);break;case VideoShare.LiveGameEvent.ON_PUSH_BANKER_MIDATA:this.onPushBankMiData(t);break;case VideoShare.LiveGameEvent.ON_PUSH_PLAYER_MIDATA:this.onPushPlayMiData(t);break;case VideoShare.LiveGameEvent.ON_PUSH_MIDATA:this.onPushMiData(t);break;case VideoShare.LiveGameEvent.ON_TABLE_LIST:this.onTableList(t);break;case VideoShare.LiveGameEvent.ON_FLY_POKER_TIME:this.onFlyPokerTime(t);break;case VideoShare.LiveGameEvent.ON_NOTIFY:this.onNotify(t);break;case VideoShare.LiveGameEvent.ON_BET_RATE:this.onBetRate(t);break;case VideoShare.LiveGameEvent.ON_GAME_CONFIG:this.onGameConfig(t);break;case VideoShare.LiveGameEvent.ON_JOIN_DRAW_BANKER:this.onJoinDrawBanker(t);break;case VideoShare.LiveGameEvent.ON_DECISION_BANKER:this.onDecisionBanker(t);break;case VideoShare.LiveGameEvent.ON_DASHBOARD:this.onDashboard(t);break;case VideoShare.LiveGameEvent.ON_CLAIM_POINTS_INFO:this.onClaimPointsInfo(t);break;case VideoShare.LiveGameEvent.ON_CLAIM_POINTS:this.onClaimPoints(t);break;case VideoShare.LiveGameEvent.ON_LOYALTY_DETAILS:this.onLoyaltyDetails(t);break;case VideoShare.LiveGameEvent.ON_AVAILBLE_REWARDS:this.onAvailableRewards(t);break;case VideoShare.LiveGameEvent.ON_HONOR_POINTS_CHG:this.onHonorPointsChg(t);break;case VideoShare.LiveGameEvent.ON_LIVESTREAM_LIST:this.onLiveStreamList(t);break;case VideoShare.LiveGameEvent.ON_LIVESTREAM_CHANNELS:this.onLiveStreamChannels(t)}},e.prototype.onNetStatus=function(t){this._netStatus=t.status,"NetConnection.Connect.Success"==this._netStatus?f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("netConnect")):"NetConnection.Connect.Closed"==this._netStatus?this._isIdle||(f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("netConnectClose")),this.init()):"LoginConnection.Connect.TimeOut"==this._netStatus?f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("loginConnectTimeOut")):"HallConnection.Connect.TimeOut"==this._netStatus&&f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("hallConnectTimeOut"))},e.prototype.onLogin=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onHallLogin=function(t){var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.HALL_LOGIN);f.prototype.dispatchEvent.call(this,e),"HallConnection.Connect.Success"==t.status&&f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("hallConnect"))},e.prototype.onUserInfo=function(t){for(var e in this._userInfo.setData(t.data),this._tableList=t.data.tableList,this._phoneList=t.data.phone,this._modelList)this._tableList&&null!=this._tableList[e]&&this._modelList[e].setLimitInfo(this._tableList[e]),this._modelList[e].onUserInfo(this._userInfo);var i;this._firstUser||(this._firstUser=!0,this._userInfoReady=!0,this._userInfoReady&&this._gameInfoReady&&(i=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.INFO_READY),f.prototype.dispatchEvent.call(this,i))),f.prototype.dispatchEvent.call(this,t)},e.prototype.onGameUrl=function(t){this._verID=t.status,this._gameURL=t.data,f.prototype.dispatchEvent.call(this,t)},e.prototype.onGroupSwitch=function(t){this._verID=t.status,this._groupList=t.data.groupList,t.data.switchList&&(this._switchList=t.data.switchList),null!=t.data.banner&&(this._banner=t.data.banner),this.sortTable(),f.prototype.dispatchEvent.call(this,t)},e.prototype.sortTable=function(){for(var t in this._groupList.group)if(null!=(n=this._groupList.group[t].table))for(var e=0;e<n.length;e++){var i=String(n[e]).substring(0,4)+"-"+n[e].substring(4,n[e].length);n[e]=i}else this._groupList.group[t].table=[];for(e=0;e<this._groupList.hot.length;e++){t=this._groupList.hot[e];this._groupList.hot[e]=String(t).substring(0,4)+"-"+t.substring(4,t.length)}for(e=0;e<this._groupList.new.length;e++){t=this._groupList.new[e];this._groupList.new[e]=String(t).substring(0,4)+"-"+t.substring(4,t.length)}if(null!=this._switchList){for(var t in this._switchList.group)for(var n=this._switchList.group[t].table,e=0;e<n.length;e++){i=String(n[e]).substring(0,4)+"-"+n[e].substring(4,n[e].length);n[e]=i}for(e=0;e<this._switchList.recent.length;e++){t=this._switchList.recent[e];this._switchList.recent[e]=String(t).substring(0,4)+"-"+t.substring(4,t.length)}for(e=0;e<this._switchList.hot.length;e++){t=this._switchList.hot[e];this._switchList.hot[e]=String(t).substring(0,4)+"-"+t.substring(4,t.length)}}},e.prototype.onLAS=function(t){if(null!=t.data){var e,i,n,a=VideoAssetManager.Informantion.settingData.goldArmBac;for(e in this._ctu=t.data.ctu,this._plCtu=t.data.plCtu,this._ctu)null!=this._modelList[e]&&(i=this._ctu[e],n=e.split("-"),a&&-1!=a.indexOf(e)&&(n=n[0]+"-"+(Number(n[1])+Number(n[1])%2*2-1).toString(),i+=this._ctu[n]),this._modelList[e].setCtu(parseFloat(String(i).replace(/,/g,"")).toLocaleString("en-US")));this._hallCtu=this._ctu.hall;var o=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_LAS);o.data=t.data,f.prototype.dispatchEvent.call(this,o)}},e.prototype.onVideoIP=function(t){for(var e in this._videoIP={},t.data)"action"!=e&&(this._videoIP[e]=t.data[e]);f.prototype.dispatchEvent.call(this,t)},e.prototype.initModel=function(t){var e=this;this._subArr=t;for(var i=0;i<t.length;i++){var n,a=t[i].split("-");"3001"==a[0]?n=new VideoShare.BacBM(Number(a[1])):"3002"==a[0]?n=new VideoShare.TTBM(Number(a[1])):"3003"==a[0]?n=new VideoShare.DtfLight(Number(a[1])):"3005"==a[0]?n=new VideoShare.TripleFaceBM(Number(a[1])):"3006"==a[0]?n=new VideoShare.PaiBM(Number(a[1])):"3007"==a[0]?n=new VideoShare.RouBM(Number(a[1])):"3008"==a[0]?n=new VideoShare.SicboBM(Number(a[1])):"3010"==a[0]?n=new VideoShare.TexasBM(Number(a[1])):"3011"==a[0]?n=new VideoShare.SedieBM(Number(a[1])):"3012"==a[0]?n=new VideoShare.BullBM(Number(a[1])):"3014"==a[0]?n=new VideoShare.BlackJackBM(Number(a[1])):"3015"==a[0]?n=new VideoShare.FanTanBM(Number(a[1])):"3016"==a[0]?n=new VideoShare.FishSC(Number(a[1])):"3017"==a[0]?n=new VideoShare.InsurBacBM(Number(a[1])):"3018"==a[0]?n=new VideoShare.ThreeCardBM(Number(a[1])):"3019"==a[0]?n=new VideoShare.MoneyWheelBM(Number(a[1])):"3020"==a[0]?n=new VideoShare.BacRunBM(Number(a[1])):"3021"==a[0]?n=new VideoShare.HiloBM(Number(a[1])):"3023"==a[0]?n=new VideoShare.ChessBullBM(Number(a[1])):"3024"==a[0]?n=new VideoShare.ChessTripleFaceBM(Number(a[1])):"3025"==a[0]?n=new VideoShare.BlockChainBacBM(Number(a[1])):"3026"==a[0]?n=new VideoShare.BlockChainDtfLight(Number(a[1])):"3027"==a[0]?n=new VideoShare.BlockChainInsurBacBM(Number(a[1])):"3028"==a[0]?n=new VideoShare.BlockChainRouBM(Number(a[1])):"3029"==a[0]?n=new VideoShare.BlockChainThreeCardBM(Number(a[1])):"3030"==a[0]?n=new VideoShare.BlockChainTripleFaceBM(Number(a[1])):"3031"==a[0]?n=new VideoShare.BlockChainBullBM(Number(a[1])):"3032"==a[0]?n=new VideoShare.BlockChainSedieBM(Number(a[1])):"3033"==a[0]?n=new VideoShare.BlockChainSicboBM(Number(a[1])):"3034"==a[0]?n=new VideoShare.BlockChainFishSC(Number(a[1])):"3036"==a[0]?n=new VideoShare.BlockChainHiloBM(Number(a[1])):"3037"==a[0]?n=new VideoShare.BlockChainFanTanBM(Number(a[1])):"3038"==a[0]?n=new VideoShare.BlockChainPaiBM(Number(a[1])):"3039"==a[0]?n=new VideoShare.BlockChainVnFishSC(Number(a[1])):"3040"==a[0]?n=new VideoShare.BlockChainThFishSC(Number(a[1])):"3041"==a[0]?n=new VideoShare.BlockChainChessBullBM(Number(a[1])):"3042"==a[0]?n=new VideoShare.BlockChainVnSicboBM(Number(a[1])):"3043"==a[0]?n=new VideoShare.BlockChainBac21BM(Number(a[1])):"3044"==a[0]?n=new VideoShare.FishSCTh(Number(a[1])):"3045"==a[0]?n=new VideoShare.BlockChainFishSCTh(Number(a[1])):"3046"==a[0]?n=new VideoShare.BlockChainLucky5(Number(a[1])):"3047"==a[0]?n=new VideoShare.Bac21BM(Number(a[1])):"3048"==a[0]?n=new VideoShare.BlockChainAceyDeucey(Number(a[1])):"3050"==a[0]&&(n=new VideoShare.BlockChainBac28BM(Number(a[1]))),n&&(this._modelList[t[i]]=new p.SubModel(n),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.BET,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.NO_END_GAME,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.FLOP_BET,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.ON_SETING_CHIP,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.SEND_TIP,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.HallEvent.ON_LOG_CLICKBTN,function(t){e.setClickBtn(t)}),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.ON_OPEN_POKER,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.SEND_MIPOKER_INFO,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.ON_CHG_DEALER,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.ON_CHG_ROADMAP,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.FLY_DEAL,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.VIP_DEAL,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.CHOOSE_TIME,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.JOIN_DRAW_BANKER,this.VideoGameEvent),this._modelList[t[i]].addEventListener(VideoShare.VideoGameEvent.BULL_BET,this.VideoGameEvent))}},e.prototype.onGameInfo=function(t){var e,i,n,a,o=this,r=(this._firstGameInfo||(this._firstGameInfo=!0,a=new VideoShare.LiveGameEvent("GameModel.GAME_INFO"),f.prototype.dispatchEvent.call(this,a)),t.data);for(e in r)null==this._modelList[e]&&(this._keyList.push(e),"3001"==(n=e.split("-"))[0]?i=new VideoShare.BacBM(Number(n[1])):"3002"==n[0]?i=new VideoShare.TTBM(Number(n[1])):"3003"==n[0]?i=new VideoShare.DtfLight(Number(n[1])):"3005"==n[0]?i=new VideoShare.TripleFaceBM(Number(n[1])):"3006"==n[0]?i=new VideoShare.PaiBM(Number(n[1])):"3007"==n[0]?i=new VideoShare.RouBM(Number(n[1])):"3008"==n[0]?i=new VideoShare.SicboBM(Number(n[1])):"3010"==n[0]?i=new VideoShare.TexasBM(Number(n[1])):"3011"==n[0]?i=new VideoShare.SedieBM(Number(n[1])):"3012"==n[0]?i=new VideoShare.BullBM(Number(n[1])):"3014"==n[0]?i=new VideoShare.BlackJackBM(Number(n[1])):"3015"==n[0]?i=new VideoShare.FanTanBM(Number(n[1])):"3016"==n[0]?i=new VideoShare.FishSC(Number(n[1])):"3017"==n[0]?i=new VideoShare.InsurBacBM(Number(n[1])):"3018"==n[0]?i=new VideoShare.ThreeCardBM(Number(n[1])):"3019"==n[0]?i=new VideoShare.MoneyWheelBM(Number(n[1])):"3020"==n[0]?i=new VideoShare.BacRunBM(Number(n[1])):"3021"==n[0]?i=new VideoShare.HiloBM(Number(n[1])):"3023"==n[0]?i=new VideoShare.ChessBullBM(Number(n[1])):"3024"==n[0]?i=new VideoShare.ChessTripleFaceBM(Number(n[1])):"3025"==n[0]?i=new VideoShare.BlockChainBacBM(Number(n[1])):"3026"==n[0]?i=new VideoShare.BlockChainDtfLight(Number(n[1])):"3027"==n[0]?i=new VideoShare.BlockChainInsurBacBM(Number(n[1])):"3028"==n[0]?i=new VideoShare.BlockChainRouBM(Number(n[1])):"3029"==n[0]?i=new VideoShare.BlockChainThreeCardBM(Number(n[1])):"3030"==n[0]?i=new VideoShare.BlockChainTripleFaceBM(Number(n[1])):"3031"==n[0]?i=new VideoShare.BlockChainBullBM(Number(n[1])):"3032"==n[0]?i=new VideoShare.BlockChainSedieBM(Number(n[1])):"3033"==n[0]?i=new VideoShare.BlockChainSicboBM(Number(n[1])):"3034"==n[0]?i=new VideoShare.BlockChainFishSC(Number(n[1])):"3036"==n[0]?i=new VideoShare.BlockChainHiloBM(Number(n[1])):"3037"==n[0]?i=new VideoShare.BlockChainFanTanBM(Number(n[1])):"3038"==n[0]?i=new VideoShare.BlockChainPaiBM(Number(n[1])):"3039"==n[0]?i=new VideoShare.BlockChainVnFishSC(Number(n[1])):"3040"==n[0]?i=new VideoShare.BlockChainThFishSC(Number(n[1])):"3041"==n[0]?i=new VideoShare.BlockChainChessBullBM(Number(n[1])):"3042"==n[0]?i=new VideoShare.BlockChainVnSicboBM(Number(n[1])):"3043"==n[0]?i=new VideoShare.BlockChainBac21BM(Number(n[1])):"3044"==n[0]?i=new VideoShare.FishSCTh(Number(n[1])):"3045"==n[0]?i=new VideoShare.BlockChainFishSCTh(Number(n[1])):"3046"==n[0]?i=new VideoShare.BlockChainLucky5(Number(n[1])):"3047"==n[0]?i=new VideoShare.Bac21BM(Number(n[1])):"3048"==n[0]?i=new VideoShare.BlockChainAceyDeucey(Number(n[1])):"3050"==n[0]&&(i=new VideoShare.BlockChainBac28BM(Number(n[1]))),i)&&(this._modelList[e]=new p.SubModel(i),null!=this._tableList&&(null!=this._tableList[e]&&this._modelList[e].setLimitInfo(this._tableList[e]),this._modelList[e].onUserInfo(this._userInfo)),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.BET,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.NO_END_GAME,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.FLOP_BET,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.ON_SETING_CHIP,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.SEND_TIP,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.HallEvent.ON_LOG_CLICKBTN,function(t){o.setClickBtn(t)}),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.ON_OPEN_POKER,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.SEND_MIPOKER_INFO,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.ON_CHG_DEALER,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.ON_CHG_ROADMAP,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.FLY_DEAL,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.VIP_DEAL,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.CHOOSE_TIME,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.JOIN_DRAW_BANKER,this.VideoGameEvent),this._modelList[e].addEventListener(VideoShare.VideoGameEvent.BULL_BET,this.VideoGameEvent),null==this._gameList[n[0]]&&(this._gameList[n[0]]=[]),null!=n[1])&&this._gameList[n[0]].push(n[1]),null!=this._modelList[e]&&(this._modelList[e].update(r[e]),"3001"!=(n=e.split("-"))[0]&&"3019"!=n[0]||!this._firstData||null!=r[e].did&&this.checkFollowDealer());if(!this._firstData){if(this._firstData=!0,this._gameInfoReady=!0,null!=this._groupList){var s=this._groupList.new,h=this._groupList.hot;if(0!=s.length)for(var l=0;l<s.length;l++)if(null!=this._modelList[s[l]]){this._modelList[s[l]].setIsNew(!0);break}if(0!=h.length)for(l=0;l<h.length;l++)null!=this._modelList[h[l]]&&this._modelList[h[l]].setIsHot(!0)}if(null!=this._switchList)for(var c=this._switchList.hot,l=0;l<c.length;l++)null!=this._modelList[c[l]]&&this._modelList[c[l]].setIsHot(!0);if(null!=this._gameConfing)for(var u in this._gameConfing)if("creditLimit"==u)for(var d in this._gameConfing[u])null!=this._modelList[d]&&this._modelList[d].onCreditLimit(this._gameConfing[u][d]);this._userInfoReady&&this._gameInfoReady&&(a=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.INFO_READY),f.prototype.dispatchEvent.call(this,a)),this.sortKey()}f.prototype.dispatchEvent.call(this,t)},e.prototype.sortKey=function(){for(var t,e=0;e<this._keyList.length-1;e++)for(var i=0;i<this._keyList.length-1-e;i++){var n=this._keyList[i].split("-"),a=this._keyList[i+1].split("-"),o=Number(n[0]);Number(a[0])<o&&(t=this._keyList[i],this._keyList[i]=this._keyList[i+1],this._keyList[i+1]=t)}for(e=0;e<this._keyList.length-1;e++)for(i=0;i<this._keyList.length-1-e;i++){n=this._keyList[i].split("-"),a=this._keyList[i+1].split("-");n[0]==a[0]&&(o=Number(n[1]),Number(a[1])<o)&&(t=this._keyList[i],this._keyList[i]=this._keyList[i+1],this._keyList[i+1]=t)}},e.prototype.onRestoreChips=function(t){for(var e in t.data)null!=this._modelList[e]&&this._modelList[e].onRestoreChips(t.data[e])},e.prototype.onGetRoadmap=function(t){var e,i=this;t.data.event?(e=new VideoShare.LiveGameEvent("GameModel.onGetRoadmap"),f.prototype.dispatchEvent.call(this,e),this._roadmapCount=0,this._roadDefault=t.data.default,this._roadCustom=t.data.custom,f.prototype.dispatchEvent.call(this,t)):this._roadmapCount<3?window.setTimeout(function(){i.getRoadmap(i._roadmapVal)},100):(e=new VideoShare.LiveGameEvent("onGetRoadmapErr"),f.prototype.dispatchEvent.call(this,e),this.close())},e.prototype.onRoadInfo=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onCustomRoad=function(t){t.data.saveData=this._saveTempData,f.prototype.dispatchEvent.call(this,t)},e.prototype.onBet=function(t){var e=t.data.gameType+"-"+t.data.gameCode,i=(null!=this._modelList[e]&&(this._modelList[e].onBet(t.data),this._userInfo.setData(t.data)),t.data.credit);for(e in this._modelList)this._modelList[e].setCredit(i);this.setUserCredit(i),f.prototype.dispatchEvent.call(this,t)},e.prototype.onSetChip=function(t){for(var e in"success"==t.data.status?this._userInfo.setChipList(t.data.chipList):"failed"==t.data.status&&(t.status=t.data.runEor),this._modelList)this._modelList[e].onSetChip(t);f.prototype.dispatchEvent.call(this,t)},e.prototype.onPoolInfo=function(t){for(var e in t.data)null!=this._modelList[e]&&this._modelList[e].setPoolInfo(t.data[e]);f.prototype.dispatchEvent.call(this,t)},e.prototype.onEndGame=function(t){for(var e in t.data.betInfo){null!=this._modelList[e]&&this._modelList[e].onEndGame(t.data.betInfo[e]);var i=t.data.betInfo[e].credit}for(e in this._modelList)this._modelList[e].setCredit(i);this.setUserCredit(i),f.prototype.dispatchEvent.call(this,t)},e.prototype.onGetTableView=function(t){t.data.event&&(this._tabIndex=t.data.data.tabStrip,this._tableShow=t.data.data.tableView),f.prototype.dispatchEvent.call(this,t)},e.prototype.onSetUserTab=function(t){t.data.event&&(this._tabIndex=this._newTabIndex),f.prototype.dispatchEvent.call(this,t)},e.prototype.onUpsetTable=function(t){t.data.event&&(this._tableShow=this._newTableShow),f.prototype.dispatchEvent.call(this,t)},e.prototype.onRemoveTable=function(t){t.data.event&&(this._tableShow=this._newTableShow),f.prototype.dispatchEvent.call(this,t)},e.prototype.onPing=function(t){null==this._pingInfo?this._pingInfo=t.data:(this._pingInfo.rtt=t.data.rtt,this._pingInfo.ping=t.data.ping);var e=new Date;this._localTime=e.getTime(),this._ping=t.data.rtt,f.prototype.dispatchEvent.call(this,t)},e.prototype.onJoinTable=function(t){var e=t.data.game;this._modelList[e].onJoinTable(t)},e.prototype.onLeaveTable=function(t){var e=t.data.game;this._modelList[e].onLeaveTable(t)},e.prototype.onSeatData=function(t){for(var e in t.data.vTable)this._modelList[e].onSeatData(t.data.vTable[e])},e.prototype.onSendTip=function(t){if(null!=t.data){if(this._modelList[t.data.game].onSendTip(t.data),null!=t.data.credit){var e,i=t.data.credit;for(e in this._modelList)this._modelList[e].setCredit(t.data.credit);this.setUserCredit(i)}f.prototype.dispatchEvent.call(this,t)}},e.prototype.onStartGame=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onLeaveGame=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onGetPromotions=function(t){var e=new VideoShare.LiveGameEvent("GameModel.onGetPromotions");f.prototype.dispatchEvent.call(this,e),this._promotions=t.data.view,f.prototype.dispatchEvent.call(this,t)},e.prototype.onPreferences=function(t){100<t.data.settings.sounds.bgm&&(t.data.settings.sounds.bgm=100),100<t.data.settings.sounds.sound&&(t.data.settings.sounds.sound=100),100<t.data.settings.sounds.voice&&(t.data.settings.sounds.voice=100),this._preferences=t.data.settings,f.prototype.dispatchEvent.call(this,t)},e.prototype.onSetPreferences=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onChangeNickname=function(t){t.data.event&&this._userInfo.setNickname(t.data.nickname),f.prototype.dispatchEvent.call(this,t)},e.prototype.onRefreshNickname=function(t){t.data.event&&this._userInfo.setNickname(t.data.nickname),f.prototype.dispatchEvent.call(this,t)},e.prototype.onGetGameGirlPhotos=function(t){this._gameGirlPhotos=t.data,f.prototype.dispatchEvent.call(this,t)},e.prototype.onGetCnPromotions=function(t){this._cnPromotions=t.data.view,f.prototype.dispatchEvent.call(this,t)},e.prototype.onActivity=function(t){"IDLE_10M"==t.data.runEor&&(this._isIdle=!0,this.init()),f.prototype.dispatchEvent.call(this,t)},e.prototype.onPushBankMiData=function(t){var e;null!=t.data&&(e=t.data.gameType+"-"+t.data.gameCode,this._modelList[e].onPushMiBData(t.data))},e.prototype.onPushPlayMiData=function(t){var e;null!=t.data&&(e=t.data.gameType+"-"+t.data.gameCode,this._modelList[e].onPushMiPData(t.data))},e.prototype.onPushMiData=function(t){var e;null!=t.data&&(e=t.data.gameType+"-"+t.data.gameCode,this._modelList[e].onPushMiData(t.data))},e.prototype.onTableList=function(t){var e,i=t.data.tableList;for(e in i)if(null!=this._modelList[e]){for(var n in i[e])this._tableList[e][n]=i[e][n];this._modelList[e].setLimitInfo(i[e])}},e.prototype.onFlyPokerTime=function(t){null!=t.data&&(t=t.data.gameType+"-"+t.data.gameCode,this._modelList[t].setFlyCount())},e.prototype.onNotify=function(t){var e;null!=t.data&&(e=t.data.gameType+"-"+t.data.gameCode,this._modelList[e].onNotify(t.data))},e.prototype.onBetRate=function(t){if(null!=t.data)for(var e in t.data)"action"!=e&&null!=this._modelList[e]&&this._modelList[e].onBetRate(t.data[e])},e.prototype.onGameConfig=function(t){if(null!=t.data&&(this._gameConfing=t.data,this._gameInfoReady))for(var e in t.data)if("creditLimit"==e)for(var i in t.data[e])null!=this._modelList[i]&&this._modelList[i].onCreditLimit(t.data[e][i])},e.prototype.onJoinDrawBanker=function(t){var e;null!=t.data&&(e=t.data.game,null!=this._modelList[e])&&this._modelList[e].onJoinDrawBanker(t.data)},e.prototype.onDecisionBanker=function(t){var e;null!=t.data&&(e=t.data.game,null!=this._modelList[e])&&this._modelList[e].onDecisionBanker(t.data)},e.prototype.onDashboard=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onClaimPointsInfo=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onClaimPoints=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onLoyaltyDetails=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onAvailableRewards=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onHonorPointsChg=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.onLiveStreamList=function(t){this._liveStreamList=t.data,f.prototype.dispatchEvent.call(this,t)},e.prototype.onLiveStreamChannels=function(t){f.prototype.dispatchEvent.call(this,t)},e.prototype.setUserCredit=function(t){this._userInfo.setCredit(t);var e={},i=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.CHANGE_CREDIT);e.money=t,i.data=e,f.prototype.dispatchEvent.call(this,i)},e.prototype.handleVideoEvent=function(t){switch(t.type){case VideoShare.VideoGameEvent.NO_END_GAME:this.noEndGame(t);break;case VideoShare.VideoGameEvent.BET:this.commit(t);break;case VideoShare.VideoGameEvent.FLOP_BET:this.flopBet(t);break;case VideoShare.VideoGameEvent.ON_SETING_CHIP:this.setChip(t);break;case VideoShare.VideoGameEvent.SEND_TIP:this.sendTip(t.data);break;case VideoShare.VideoGameEvent.ON_OPEN_POKER:this.sendPokerShow(t.data.pokershow);break;case VideoShare.VideoGameEvent.SEND_MIPOKER_INFO:this.sendMipokerInfo(t.data);break;case VideoShare.VideoGameEvent.ON_CHG_DEALER:this.changeDealer(t.data);break;case VideoShare.VideoGameEvent.ON_CHG_ROADMAP:this.cleanRoadmap(t.data);break;case VideoShare.VideoGameEvent.FLY_DEAL:case VideoShare.VideoGameEvent.VIP_DEAL:this.setDealing();break;case VideoShare.VideoGameEvent.CHOOSE_TIME:this.goJumpDice(t.data.chooseTime);break;case VideoShare.VideoGameEvent.JOIN_DRAW_BANKER:this.joinDrawBanker(t.data);break;case VideoShare.VideoGameEvent.BULL_BET:this.bullBet(t.data)}},e.prototype.hallLogin=function(t){this._game.hallLogin(t)},e.prototype.login=function(t){this._game.login(t)},e.prototype.noEndGame=function(t){this._game.noEndGame(t.data)},e.prototype.commit=function(t){this._game.commit(t.data)},e.prototype.flopBet=function(t){this._game.flopBet()},e.prototype.setChip=function(t){var e=new Date;(!this._setChiptime||500<e.getTime()-this._setChiptime.getTime())&&this._game.setChip(t.data.chipValue),this._setChiptime=e},e.prototype.getRoadmap=function(t){var e=new VideoShare.LiveGameEvent("GameModel.GetRoadmap");f.prototype.dispatchEvent.call(this,e),this._roadmapVal=t,this._roadmapCount++,this._game.getRoadmap(t)},e.prototype.setGoodRoad=function(t){this._game.setGoodRoad(t)},e.prototype.setRoadmapInfo=function(t){this._game.setRoadmapInfo(t)},e.prototype.setCustomRoad=function(t){this._saveTempData=t,this._game.setCustomRoad(t)},e.prototype.setGameList=function(t){this._gameList=t},e.prototype.getTableView=function(){this._game.getTableView()},e.prototype.setUserTab=function(t){this._newTabIndex=t,this._game.setUserTab(t)},e.prototype.setUpsetTable=function(t){this._newTableShow=this._tableShow;for(var e=0;e<t.length;e++)for(var i in t[e])this._newTableShow.splice(Number(i),0,t[e][i]);this._game.setUpsetTable(t)},e.prototype.setRemoveTable=function(t){this._newTableShow=this._tableShow;for(var e=0;e<t.length;e++)for(var i=0;i<this._newTableShow.length;i++)if(t[e]==this._newTableShow[i]){this._newTableShow.splice(i,1);break}this._game.setRemoveTable(t)},e.prototype.sendTip=function(t){this._game.sendTip(t)},e.prototype.joinTable=function(t){this._game.joinTable(t)},e.prototype.sendPokerShow=function(t){this._game.setMiPoker(t)},e.prototype.sendMipokerInfo=function(t){this._game.setMidata(t)},e.prototype.goJumpDice=function(t){this._game.goJumpDice(t)},e.prototype.leaveVTable=function(t){this._game.leaveVTable(t)},e.prototype.startGame=function(t){this._game.startGame(t)},e.prototype.leaveGame=function(t){this._game.leaveGame(t),null!=this._modelList[t]&&this._modelList[t].onLeaveGame()},e.prototype.getPromotions=function(t){this._game.getPromotions(t);t=new VideoShare.LiveGameEvent("GameModel.SendPromotions");f.prototype.dispatchEvent.call(this,t)},e.prototype.getPreferences=function(){this._game.getPreferences()},e.prototype.setPreferences=function(t){var e=!1;for(i in t)e=!0,"sounds"!=i&&(this._preferences[i]=t[i]);if(null!=t.sounds)for(var i in t.sounds)this._preferences.sounds[i]=t.sounds[i];e&&this._game.setPreferences(t)},e.prototype.changeNickname=function(t){this._game.changeNickname(t)},e.prototype.refreshNickname=function(){this._game.refreshNickname()},e.prototype.getGameGirlPhotos=function(){this._game.getGameGirlPhotos()},e.prototype.getCnPromotions=function(){this._game.getCnPromotions()},e.prototype.setDealing=function(){this._game.setDealing()},e.prototype.cleanRoadmap=function(t){t.status&&this._game.cleanRoadmap()},e.prototype.changeDealer=function(t){t.status&&this._game.changeDealer()},e.prototype.joinDrawBanker=function(t){this._game.joinDrawBanker(t)},e.prototype.bullBet=function(t){this._game.bullBet(t)},e.prototype.dashboard=function(){this._game.dashboard()},e.prototype.claimPointsInfo=function(){this._game.claimPointsInfo()},e.prototype.claimPoints=function(){this._game.claimPoints()},e.prototype.loyaltyDetails=function(){this._game.loyaltyDetails()},e.prototype.sendBtnLog=function(t){this._game.sendBtnLog(t)},e.prototype.setClickBtnLog=function(t){this._game.setClickBtn(t)},e.prototype.setClickBtn=function(t){this._game.setClickBtn(t.data)},e.prototype.setFollowDealerInfo=function(t){this._followList=t,this.checkFollowDealer()},e.prototype.checkFollowDealer=function(){if(null!=this._followList)for(var t in this._modelList){var e=t.split("-");if("3001"==e[0]||"3019"==e[0]){for(var i=!1,n=0;n<this._followList.length;n++)if(this._followList[n].split("-")[1]==this._modelList[t].getDealerID()){i=!0;break}this._modelList[t].setFollowDealer(i)}}},e.prototype.liveStreamList=function(){this._game.liveStreamList()},e.prototype.liveStreamChannels=function(t){this._game.liveStreamChannels(t)},e.prototype.blockChainConnect=function(t){this._gameBlockChain=new VideoShare.LiveGame,this._isIdle=!1,IPL.UrlParameter.isLocal&&(null!=IPL.UrlParameter.serverIP&&""!==IPL.UrlParameter.serverIP&&"localhost"!==IPL.UrlParameter.serverIP&&-1==IPL.UrlParameter.serverIP.indexOf("127.0.0.1")||(IPL.UrlParameter.serverIP=this._url),null!=IPL.UrlParameter.sid&&""!==IPL.UrlParameter.sid&&"<?=$Sid?>"!==IPL.UrlParameter.sid||(IPL.UrlParameter.hallID="6",IPL.UrlParameter.sid=this._localSid)),this._gameBlockChain.connect(IPL.UrlParameter.serverIP,t),this._gameBlockChain.setSid(IPL.UrlParameter.sid),this.configureBlockChainListener()},e.prototype.blockChainLogin=function(t){this._gameBlockChain.login(t)},e.prototype.getHash=function(t){this._gameBlockChain.getHash(t)},e.prototype.subscribe=function(t){this._modelList[t.pubSub]&&(this._modelList[t.pubSub].clearPreData(),this._modelList[t.pubSub].clearPlst()),this._gameBlockChain.subscribe(t)},e.prototype.unsubscribe=function(t){this._modelList[t.pubSub]&&(this._modelList[t.pubSub].clearPreData(),this._modelList[t.pubSub].clearPlst()),this._gameBlockChain.unsubscribe(t)},e.prototype.closeBlockChain=function(){this._gameBlockChain&&this._gameBlockChain.close()},e.prototype.configureBlockChainListener=function(){var e=this;this._gameBlockChain.addEventListener(VideoShare.LiveGameEvent.NET_STATUS,function(t){e.liveGameEventBlockChain(t)}),this._gameBlockChain.addEventListener(VideoShare.LiveGameEvent.ON_LOGIN,function(t){e.liveGameEventBlockChain(t)}),this._gameBlockChain.addEventListener(VideoShare.LiveGameEvent.ON_GET_HASH,function(t){e.liveGameEventBlockChain(t)}),this._gameBlockChain.addEventListener(VideoShare.LiveGameEvent.ON_SUBSCRIBE,function(t){e.liveGameEventBlockChain(t)}),this._gameBlockChain.addEventListener(VideoShare.LiveGameEvent.ON_BLOCKCHAIN_UPDATE,function(t){e.liveGameEventBlockChain(t)})},e.prototype.liveGameEventBlockChain=function(t){switch(t.type){case VideoShare.LiveGameEvent.NET_STATUS:this._netStatus=t.status,"NetConnection.Connect.Success"==this._netStatus?f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("netConnectBlockChain")):"NetConnection.Connect.Closed"==this._netStatus?this._isIdle||(f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("netConnectCloseBlockChain")),this.init()):"LoginConnection.Connect.TimeOut"==this._netStatus?f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("loginConnectTimeOutBlockChain")):"HallConnection.Connect.TimeOut"==this._netStatus&&f.prototype.dispatchEvent.call(this,new H5Event.H5BaseEvent("hallConnectTimeOutBlockChain"));break;case VideoShare.LiveGameEvent.ON_LOGIN:var e=new VideoShare.LiveGameEvent(VideoShare.LiveGameEvent.ON_BLOCKCHAIN_LOGIN);e.data=t.data,e.status=t.status,this.onLogin(e);break;case VideoShare.LiveGameEvent.ON_GET_HASH:for(var i=t.data.data,n=0;n<i.length;n++){var a=i[n][0],o=i[n][1];this._modelList[a].onGetHash(o)}break;case VideoShare.LiveGameEvent.ON_SUBSCRIBE:break;case VideoShare.LiveGameEvent.ON_BLOCKCHAIN_UPDATE:for(var r=t.data,n=0;n<r.length;n++){a=r[n][0],o=r[n][1];this._modelList[a].onBlockChainUpdate(o)}}};var f,t=e;function e(){var e=f.call(this)||this;return e._localSid="bb70c3e03225f161e1b07cc4dfcda38239f6f67833",e._url="fx8ec8.livevir999.net",e._firstData=!1,e._firstUser=!1,e._firstGameInfo=!1,e._tabIndex=[],e._newTabIndex=[],e._tableShow=[],e._newTableShow=[],e._banner="",e._isIdle=!1,e._roadmapVal=0,e._roadmapCount=0,e._gameInfoReady=!1,e._userInfoReady=!1,e._liveStreamList=[],e.VideoGameEvent=function(t){e.handleVideoEvent(t)},e.LiveGameEvent=function(t){e.handleModel(t)},e._modelList=[],e._keyList=[],e._gameList={},e._userInfo=new VideoShare.UserInfo,e}p.GameModel=t}(Model=Model||{}),!function(t){function e(){}function i(){this.chip="1,2,5,10,20,50,100,200,500,1000,2000,5000,10000,20000,50000,100000,200000,500000,1000000,2000000,5000000,10000000,20000000,50000000,100000000",this.chipList=this.chip.split(",")}e.prototype.numtoFix2=function(t){return Number(this.numtoFix(t)).toFixed(2)},e.prototype.numtoFix=function(t){t=Math.floor(100*t+1e-4);return String(t/100)},e.prototype.numtoFix3=function(t){return t=4<parseInt(t.toString()[4])?Math.ceil(100*t+1e-4):Math.floor(100*t+1e-4),String(t)},e.prototype.numtoFix4=function(t){t=Math.floor(100*t+1e-4);return String(t)},e.prototype.numtoFix5=function(t){var e=Math.abs(t),t=t<0?!0:!1,e=Math.floor(100*e+1e-4);return e/=100,t&&(e=Number(-e)),String(e)},e.prototype.numtoFix6=function(t){t=Math.floor(t);return String(t)},e.prototype.addCommas=function(t){for(var t=(t+="").split("."),e=t[0],t=1<t.length?"."+t[1]:"",i=/(\d+)(\d{3})/;i.test(e);)e=e.replace(i,"$1,$2");return e+t},t.DigitalLogic=e,i.prototype.getChipString=function(t,e){for(var i=t,n=this.chipList.length,a=0,o=0;o<n;o++){if(parseFloat(this.chipList[o])==i){a=o;break}if(!(parseFloat(this.chipList[o])<i))break;a+=1}return i=e<a?parseFloat(this.chipList[a-e]):parseFloat(this.chipList[0])},t.ChipLimitRange=i}(ShareLogic=ShareLogic||{}),!function(t){var h,l=PIXI.Sprite,i=PIXI.Texture,N=PIXI.Text,a=PIXI.Container,c=PIXI.Point,u=PIXI.Graphics,O=PIXI.filters.ColorMatrixFilter,s=(__extends(e,h=l),e.prototype.btnClick=function(){var t=this;this.interactive=!0,this.buttonMode=!0,this.autoMouseStatus=!0,DeviceAndEnvironment.Device.isMobile()?(this.on("touchstart",function(){t.onButtonDown()}),this.on("touchend",function(){t.onButtonUp()}),this.on("touchendoutside",function(){t.onButtonUp()})):(this.on("mousedown",function(){t.onButtonDown()}),this.on("mouseup",function(){t.onButtonUp()}),this.on("mouseupoutside",function(){t.onButtonUp()})),null==this.btn_over||DeviceAndEnvironment.Device.isMobile()||(this.on("mouseover",function(){t.onButtonOver()}),this.on("mouseout",function(){t.onButtonOut()}))},e.prototype.setSensor=function(t,e,i,n){var i=(t-this.width)/2-(i=void 0===i?0:i),n=(e-this.height)/2-(n=void 0===n?0:n),a=new u;a.beginFill(0,0),a.drawRect(-i,-n,t,e),this.addChild(a),a.cacheAsBitmap=!0},e.prototype.loadBtnStatusTexture=function(e,i){void 0===i&&(i=!1),this.btn_up=PIXI.Texture.fromFrame(e+"0000");try{i&&(this.btn_no=PIXI.Texture.fromFrame(e+"0003")),this.btn_down=PIXI.Texture.fromFrame(e+"0002"),this.btn_over=PIXI.Texture.fromFrame(e+"0001")}catch(t){this.btn_down=PIXI.Texture.fromFrame(e+"0001"),i&&(this.btn_no=PIXI.Texture.fromFrame(e+"0002"))}},e.prototype.onButtonDown=function(){this.autoMouseStatus&&(this.texture=this.btn_down)},e.prototype.onButtonUp=function(){this._isOver?this.onButtonOver():this.autoMouseStatus&&(this.texture=this.btn_up)},e.prototype.onButtonOver=function(){this._isOver=!0,this.autoMouseStatus&&(this.texture=this.btn_over)},e.prototype.onButtonOut=function(){this._isOver=!1,this.autoMouseStatus&&(this.texture=this.btn_up)},e.prototype.setMouseStatus=function(t){this.interactive=t,this.buttonMode=t},e.prototype.onButtonStatus=function(t){switch(t){case"up":this.btn_up&&(this.texture=this.btn_up);break;case"over":this.btn_over&&(this.texture=this.btn_over);break;case"down":this.btn_down&&(this.texture=this.btn_down);break;case"no":this.btn_no&&(this.texture=this.btn_no);break;default:this.texture=PIXI.Texture.fromImage(t)}},e.prototype.setStatus=function(t){switch(this.status=t){case"up":this.texture=this.btn_up;break;case"over":this.texture=this.btn_over;break;case"down":this.texture=this.btn_down;break;case"no":this.texture=this.btn_no;break;default:this.texture=PIXI.Texture.fromImage(t)}},e.prototype.setLan=function(e){this.lan=e;try{PIXI.Texture.fromFrame(this.textName+"000"+this.lanArr.indexOf(e))}catch(t){e="us"}this.lanSpr=l.fromImage(this.textName+"000"+this.lanArr.indexOf(e)),.5==this.setCenter.x?this.lanSpr.x=this.startPosX+this.texture.frame.width/2-this.lanSpr.texture.frame.width/2:0==this.setCenter.x&&(this.lanSpr.x=this.startPosX),.5==this.setCenter.y?this.lanSpr.y=this.startPosY+this.texture.frame.height/2-this.lanSpr.texture.frame.height/2:0==this.setCenter.y&&(this.lanSpr.y=this.startPosY)},e);function e(t,e,i,n,a,o,r){void 0===e&&(e=!1),void 0===i&&(i=""),void 0===n&&(n="tw"),void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=new c(.5,.5));var s=h.call(this)||this;if(s.startPosX=0,s.startPosY=0,s.lanArr=["tw","cn","us","kr","vi","th","ja","id","es"],s.setCenter=r,s.startPosX=a,s.startPosY=o,s.loadBtnStatusTexture(t,e),s.texture=s.btn_up,""!=i){s.textName=i,s.lan=n;try{PIXI.Texture.fromFrame(s.textName+"000"+s.lanArr.indexOf(n))}catch(t){n="us"}s.lanSpr=l.fromImage(s.textName+"000"+s.lanArr.indexOf(n)),s.addChild(s.lanSpr),.5==s.setCenter.x?s.lanSpr.x=s.startPosX+s.texture.frame.width/2-s.lanSpr.texture.frame.width/2:0==s.setCenter.x&&(s.lanSpr.x=s.startPosX),.5==s.setCenter.y?s.lanSpr.y=s.startPosY+s.texture.frame.height/2-s.lanSpr.texture.frame.height/2:0==s.setCenter.y&&(s.lanSpr.y=s.startPosY)}return s.btnClick(),s}t.Button=s;__extends(r,o=l),r.prototype.setlanName=function(t){if(this.langName=t=void 0===t?"":t,""!=this.lan){try{PIXI.Texture.fromFrame(this.langName+"000"+this.lanArr.indexOf(this.lan))}catch(t){this.lan="us"}this.texture=PIXI.Texture.fromFrame(this.langName+"000"+this.lanArr.indexOf(this.lan)),.5==this.setCenter.x?this.pivot.x=this.texture.frame.width/2:0==this.setCenter.x?this.pivot.x=0:1==this.setCenter.x&&(this.pivot.x=this.texture.frame.width),.5==this.setCenter.y?this.pivot.y=this.texture.frame.height/2:0==this.setCenter.y?this.pivot.y=0:1==this.setCenter.y&&(this.pivot.y=this.texture.frame.height)}},r.prototype.setLan=function(t){this.lan=t;try{PIXI.Texture.fromFrame(this.langName+"000"+this.lanArr.indexOf(this.lan))}catch(t){this.lan="us"}this.texture=PIXI.Texture.fromFrame(this.langName+"000"+this.lanArr.indexOf(this.lan)),.5==this.setCenter.x?this.pivot.x=this.texture.frame.width/2:0==this.setCenter.x?this.pivot.x=0:1==this.setCenter.x&&(this.pivot.x=this.texture.frame.width),.5==this.setCenter.y?this.pivot.y=this.texture.frame.height/2:0==this.setCenter.y?this.pivot.y=0:1==this.setCenter.y&&(this.pivot.y=this.texture.frame.height)};var o,n=r;function r(t,e,i){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=new c(.5,.5));var n=o.call(this)||this;if(n.lanArr=["tw","cn","us","kr","vi","th","ja","id","es"],n.setCenter=i,n.lan=e,n.langName=t,""!=n.lan){try{PIXI.Texture.fromFrame(n.langName+"000"+n.lanArr.indexOf(n.lan))}catch(t){n.lan="us"}n.texture=PIXI.Texture.fromImage(n.langName+"000"+n.lanArr.indexOf(n.lan)),.5==n.setCenter.x?n.pivot.x=n.texture.frame.width/2:0==n.setCenter.x?n.pivot.x=0:1==n.setCenter.x&&(n.pivot.x=n.texture.frame.width),.5==n.setCenter.y?n.pivot.y=n.texture.frame.height/2:0==n.setCenter.y?n.pivot.y=0:1==n.setCenter.y&&(n.pivot.y=n.texture.frame.height)}return n}t.LanguageManager=n;__extends(d,U=a),d.prototype.setSensor=function(t,e){var i=(t-this.width)/2,n=(e-this.height)/2,a=new u;a.beginFill(0,0),a.drawRect(-i,-n,t,e),this.addChild(a),a.cacheAsBitmap=!0},d.prototype.loadBtnStatusTexture=function(e,i){void 0===i&&(i=!1),this.btn_up=PIXI.Texture.fromFrame(e+"0000");try{i&&(this.btn_no=PIXI.Texture.fromFrame(e+"0003")),this.btn_down=PIXI.Texture.fromFrame(e+"0002"),this.btn_over=PIXI.Texture.fromFrame(e+"0001")}catch(t){this.btn_down=PIXI.Texture.fromFrame(e+"0001"),i&&(this.btn_no=PIXI.Texture.fromFrame(e+"0002"))}},d.prototype.loadTextStatusTexture=function(t,e,i){void 0===e&&(e=!1),this.textName=t,this.lan=i;try{PIXI.Texture.fromFrame(this.textName+"_up000"+this.lanArr.indexOf(i))}catch(t){i="us"}this.text_up=PIXI.Texture.fromFrame(this.textName+"_up000"+this.lanArr.indexOf(i)),this.text_down=PIXI.Texture.fromFrame(this.textName+"_down000"+this.lanArr.indexOf(i));try{this.text_over=PIXI.Texture.fromFrame(this.textName+"_over000"+this.lanArr.indexOf(i))}catch(t){this.text_over=PIXI.Texture.fromFrame(this.textName+"_up000"+this.lanArr.indexOf(i))}e&&(this.text_no=PIXI.Texture.fromFrame(this.textName+"_no000"+this.lanArr.indexOf(i)))},d.prototype.onButtonDown=function(){this.autoMouseStatus&&(this.btn.texture=this.btn_down,this.lanSpr.texture=this.text_down)},d.prototype.onButtonUp=function(){this.autoMouseStatus&&(this.btn.texture=this.btn_up,this.lanSpr.texture=this.text_up)},d.prototype.onButtonOver=function(){this.autoMouseStatus&&(this.btn.texture=this.btn_over,this.lanSpr.texture=this.text_over)},d.prototype.onButtonOut=function(){this.autoMouseStatus&&(this.btn.texture=this.btn_up,this.lanSpr.texture=this.text_up)},d.prototype.setMouseStatus=function(t){this.interactive=t,this.buttonMode=t},d.prototype.setStatus=function(t){switch(this.status=t){case"up":this.btn.texture=this.btn_up,this.lanSpr.texture=this.text_up;break;case"over":this.btn.texture=this.btn_over,this.lanSpr.texture=this.text_over;break;case"down":this.btn.texture=this.btn_down,this.lanSpr.texture=this.text_down;break;case"no":this.btn.texture=this.btn_no,this.lanSpr.texture=this.text_no}},d.prototype.setLan=function(t){};var U,n=d;function d(t,e,i,n,a,o,r){void 0===e&&(e=!1),void 0===i&&(i=""),void 0===n&&(n="tw"),void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=new c(.5,.5));var s=U.call(this)||this;return s.startPosX=0,s.startPosY=0,s.lanArr=["tw","cn","us","kr","vi","th","ja","id","es"],s.setCenter=r,s.startPosX=a,s.startPosY=o,s.loadBtnStatusTexture(t,e),s.loadTextStatusTexture(i,e,n),s.btn=new l(s.btn_up),s.addChild(s.btn),s.lanSpr=new l(s.text_up),s.addChild(s.lanSpr),.5==s.setCenter.x?s.lanSpr.x=s.startPosX+s.btn.texture.frame.width/2-s.lanSpr.texture.frame.width/2:0==s.setCenter.x&&(s.lanSpr.x=s.startPosX),.5==s.setCenter.y?s.lanSpr.y=s.startPosY+s.btn.texture.frame.height/2-s.lanSpr.texture.frame.height/2:0==s.setCenter.y&&(s.lanSpr.y=s.startPosY),s.interactive=!0,s.buttonMode=!0,s.autoMouseStatus=!0,DeviceAndEnvironment.Device.isMobile()?(s.on("touchstart",function(){s.onButtonDown()}),s.on("touchend",function(){s.onButtonUp()}),s.on("touchendoutside",function(){s.onButtonUp()})):(s.on("mousedown",function(){s.onButtonDown()}),s.on("mouseup",function(){s.onButtonUp()}),s.on("mouseupoutside",function(){s.onButtonUp()})),null==s.btn_over||DeviceAndEnvironment.Device.isMobile()||(s.on("mouseover",function(){s.onButtonOver()}),s.on("mouseout",function(){s.onButtonOut()})),s}t.ButtonLanguage=n;p=Composite.EventContainer,__extends(f,p),f.prototype.addItem=function(t,e,i,n,a,o){var r=this,a=(void 0===n&&(n="up"),void 0===a&&(a=!1),void 0===o&&(o=30),this._textColor=i.fill,new s(this.listBgName,a)),e=(p.prototype.addChild.call(this,a),a.data=e,DeviceAndEnvironment.Device.isMobile()?(a.on("touchstart",function(t){r.starPos=t.data.getLocalPosition(r.parent)}),a.on("touchend",function(t){r.end(t)}),a.on("touchendoutside",function(){r.starPos=null})):(a.on("mousedown",function(t){r.starPos=t.data.getLocalPosition(r.parent)}),a.on("mouseup",function(t){r.end(t)}),a.on("mouseupoutside",function(){r.starPos=null})),a.visible=!1,this.listAry.push(a),"up"==n?a.y=-a.height*this.listAry.length:"down"==n&&(a.y=a.height*(this.listAry.length-1)),new N(t,i));e.name="myText",e.x=o,e.y=a.height/2,e.anchor.y=.5,a.addChildAt(e,0)},f.prototype.changeTextColor=function(t,e){void 0===e&&(e=16711680);for(var i=0;i<this.listAry.length;i++){var n=this.listAry[i].getChildByName("myText");n.text==t?n.style.fill=e:n.style.fill=this._textColor}},f.prototype.setSelectList=function(t){for(var e=0;e<this.listAry.length;e++){var i=this.listAry[e].getChildByName("myText");"no"!=this.listAry[e].status&&(this.listAry[e].setMouseStatus(!0),this.listAry[e].setStatus("up")),t==i.text&&(this.listAry[e].setMouseStatus(!1),this.listAry[e].setStatus("over"))}},f.prototype.setCanSelectList=function(t){for(var e=0;e<this.listAry.length;e++){var i=this.listAry[e].getChildByName("myText");"no"!=this.listAry[e].status&&(this.listAry[e].setMouseStatus(!0),this.listAry[e].setStatus("up")),t==i.text&&(this.listAry[e].autoMouseStatus=!1,this.listAry[e].setStatus("over"))}},f.prototype.setUnavaiableList=function(t){for(var e=0;e<this.listAry.length;e++)t==this.listAry[e].getChildByName("myText").text&&(this.listAry[e].setMouseStatus(!1),this.listAry[e].setStatus("no"))},f.prototype.resetList=function(){for(var t=0;t<this.listAry.length;t++)this.listAry[t].setMouseStatus(!0),this.listAry[t].setStatus("up")},f.prototype.end=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(this.parent),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<15)&&i<15&&this.evt_MouseEvent(t),this.starPos=null},f.prototype.evt_MouseEvent=function(t){var t=t.currentTarget,e=new VideoShare.ListEvent(VideoShare.ListEvent.SELECT_LIST);e.text=t.getChildByName("myText").text,e.data=t.data,this.event.dispatchEvent(e)},f.prototype.getItem=function(t){return this.listAry[t]},f.prototype.getLength=function(){return this.listAry.length},f.prototype.listSwitch=function(t){this.isOpened=t;for(var e=0;e<this.listAry.length;e++)this.listAry[e].visible=t};var p,n=f;function f(t){var e=p.call(this)||this;return e.listBgName=t,e.listAry=new Array,e}t.ListEx=n;_=Composite.EventContainer,__extends(m,_),m.prototype.setNoType=function(t){this.isAlpha=t},m.prototype.onBarSetClick=function(t){t=t.data.getLocalPosition(t.currentTarget.parent);this.passVolumn(t.x)},m.prototype.getBarPos=function(){return Number((new ShareLogic.DigitalLogic).numtoFix3((this.bar.position.x-this.barW/2)/(this.total-this.barW)))},m.prototype.setLock=function(t){this.isAlpha?this.alpha=t?.4:1:t?(this.bar.texture=PIXI.Texture.fromFrame(this.btnName+"0001"),null!=this.barScale&&(this.barScale.alpha=.4)):(this.bar.texture=PIXI.Texture.fromFrame(this.btnName+"0000"),null!=this.barScale&&(this.barScale.alpha=1))},m.prototype.onMousMove=function(t){this.dragging&&(t=t.data.getLocalPosition(t.currentTarget.parent),this.passVolumn(t.x))},m.prototype.passVolumn=function(t){this.alpha=1,t<this.barW/2?(this.bar.x=this.barW/2,t=this.bar.x):t>this.total-this.barW/2?(this.bar.x=this.total-this.barW/2,t=this.bar.x):this.bar.x=t,null!=this.barScale&&(this.barScale.width=this.bar.x);var t=Number((new ShareLogic.DigitalLogic).numtoFix3((t-this.barW/2)/(this.total-this.barW))),e=new VideoShare.ScrollBarEvent(VideoShare.ScrollBarEvent.CHANGE);e.value=t,this.event.dispatchEvent(e)},m.prototype.setBarValue=function(t){this.bar.x=t/100*(this.total-this.barW)+this.barW/2,null!=this.barScale&&(this.barScale.width=this.bar.x)},m.prototype.onDragEnd=function(t){this.dragging=!1,this.bar.alpha=1},m.prototype.onMouseDown=function(t){t.currentTarget.alpha=.8,this.dragging=!0},m.prototype.setBarPosX=function(t){this.bar.x=t,null!=this.barScale&&(this.barScale.width=this.bar.x)},m.prototype.setBarPosY=function(t){this.bar.y=t},m.prototype.reDrewSensorH=function(t){this.barSensor.clear(),this.barSensor.beginFill(16777215,0),this.barSensor.drawRect(0,-t/2,this.barSet.width,t)},m.prototype.setSensorInteractive=function(t){this.bar.interactive=t,this.barSensor.interactive=t};var _,n=m;function m(t,e,i,n,a,o){void 0===i&&(i=""),void 0===n&&(n=""),void 0===a&&(a=0),void 0===o&&(o=!1);var r=_.call(this)||this;return r.isAlpha=!0,r.btnName=t,r.bar=PIXI.Sprite.fromImage(t+"0000"),r.bar.pivot.x=r.bar.width/2,r.bar.pivot.y=r.bar.height/2,r.barSet=PIXI.Sprite.fromImage(e),r.total=r.barSet.width,r.barW=0!=a?a:r.bar.width,""!=i&&(r.barScale=PIXI.Sprite.fromImage(i),r.barScale.width=r.total/2),""!=n&&(r.icon=PIXI.Sprite.fromImage(n),r.addChild(r.icon),r.icon.pivot.x=r.icon.width/2,r.icon.pivot.y=r.icon.height/2,r.icon.x=r.barSet.width/2,r.icon.y=r.barSet.height/2),r.bar.x=r.barSet.width/2,r.bar.y=r.barSet.height/2,r.barSensor=new u,r.barSensor.beginFill(16777215,0),r.barSensor.drawRect(0,0,r.barSet.width,r.bar.height),DeviceAndEnvironment.Device.isMobile()?r.barSensor.on("tap",function(t){r.onBarSetClick(t)}):r.barSensor.on("click",function(t){r.onBarSetClick(t)}),r.addChild(r.barSet),null!=r.barScale&&r.addChild(r.barScale),r.addChild(r.barSensor),r.addChild(r.bar),DeviceAndEnvironment.Device.isMobile()?(r.bar.on("touchstart",function(t){r.onMouseDown(t)}),r.bar.on("touchmove",function(t){r.onMousMove(t)}),r.bar.on("touchend",function(t){r.onDragEnd(t)}),r.bar.on("touchendoutside",function(t){r.onDragEnd(t)})):(r.bar.on("mousedown",function(t){r.onMouseDown(t)}),r.bar.on("mousemove",function(t){r.onMousMove(t)}),r.bar.on("mouseup",function(t){r.onDragEnd(t)}),o?r.bar.on("mouseupoutside",function(t){r.onDragEnd(t)}):r.bar.on("mouseout",function(t){r.onDragEnd(t)})),r.interactive=r.bar.interactive=r.barSensor.interactive=!0,r.bar.buttonMode=r.barSensor.buttonMode=!0,r}t.DragBar=n;g=PIXI.Container,__extends(v,g),v.prototype.setPercentage=function(t){100<t?t=100:t<0&&(t=0),t/=25,this.signalPic.texture=PIXI.Texture.fromImage(this.signalName+"000"+t.toFixed(0))};var g,n=v;function v(t){var e=g.call(this)||this;return e.signalName=t,e.signalPic=PIXI.Sprite.fromImage(e.signalName+"0000"),g.prototype.addChild.call(e,e.signalPic),e}t.VideoMeter=n;__extends(y,V=a),y.prototype.init=function(){this.bet.alpha=0,this.frame.alpha=0,this.sensor.alpha=0,this.sensor.buttonMode=!0,this.sensor.interactive=!0,this.sensor.interactiveChildren=!0,this.buttonMode=!0,this.interactive=!0,this.interactiveChildren=!0},y.prototype.initAddListen=function(){var t=this;DeviceAndEnvironment.Device.isMobile()?(this.sensor.on("touchstart",function(){t.onButtonOver()}),this.sensor.on("touchend",function(){t.onButtonOut()}),this.sensor.on("touchendoutside",function(){t.onButtonOut()})):(this.sensor.on("mouseover",function(){t.onButtonOver()}),this.sensor.on("mouseout",function(){t.onButtonOut()}))},y.prototype.onButtonOver=function(){this.bet.alpha=1},y.prototype.onButtonOut=function(){this.bet.alpha=0},y.prototype.onButtonMove=function(t){},y.prototype.getPixelData=function(){return this.sensorPixel},y.prototype.getSensor=function(){return this.sensor},y.prototype.setMouseStatus=function(t){this.buttonMode=t,this.interactive=t,this.sensor.buttonMode=t,this.sensor.interactive=t},y.prototype.setResultAlpha=function(t){this.frame.alpha=t},y.prototype.getResultAlpha=function(){return this.frame.alpha},y.prototype.setBetAlpha=function(t){this.bet.alpha=t},y.prototype.getBetAlpha=function(){return this.bet.alpha};var V,n=y;function y(t,e){void 0===t&&(t=""),void 0===e&&(e="");var i=V.call(this)||this;return""!=t&&(i.bet=PIXI.Sprite.fromImage(t),i.addChild(i.bet),i.bet.alpha=0,i.frame=""!=e?PIXI.Sprite.fromImage(e):PIXI.Sprite.fromImage(t),i.addChild(i.frame),i.frame.alpha=0,i.sensor=PIXI.Sprite.fromImage(t),i.addChild(i.sensor),i.init(),i.initAddListen()),i}t.betBlock=n;__extends(F,G=n);var G,n=F;function F(t,e){void 0===e&&(e=null);var i=G.call(this)||this;return i.bet=t,i.addChild(i.bet),null!=e?(i.frame=e,i.addChild(i.frame)):i.frame=t,i.sensor=t,i.init(),i.initAddListen(),i}t.betSprBlock=n;__extends(P,X=n),P.prototype.initAddListen=function(){var e=this;DeviceAndEnvironment.Device.isMobile()||(this.sensor.on("mouseover",function(){e.onButtonOver()}),this.sensor.on("mouseout",function(){e.onButtonOut()}),this.sensor.on("mousemove",function(t){e.onButtonMove(t)}))},P.prototype.setPixelBet=function(t,e,i){void 0===i&&(i=null),this.sensorName=e;e=new VideoLoaderCore.GameLoadingProgress(document.getElementById("MyRenderer")).getJsonData(t),this._getPixel=null!=i?i:new H(this.sensor.texture.baseTexture.source),t=JSON.parse(e).frames[this.sensorName].frame;this.sensorPixel=this._getPixel.createTextureData(t)},P.prototype.onButtonMove=function(t){var t=t.data.getLocalPosition(this.sensor);!(0<t.x&&t.x<this.sensor.width&&0<t.y&&t.y<this.sensor.height)||(t=Math.floor(4*(Math.floor(t.y)*this.sensor.width+Math.floor(t.x))-1),0==this.sensorPixel[t])?this.bet.alpha=0:this.bet.alpha=1};var X,n=P;function P(t,e){void 0===e&&(e=null);var i=X.call(this,t)||this;return i.bet=t,i.addChild(i.bet),null!=e?(i.frame=e,i.addChild(i.frame)):i.frame=t,i.sensor=t,i}t.betPixelBlock=n;j.prototype.createTextureData=function(t){return this.ctx.getImageData(t.x,t.y,t.w,t.h).data};var H=j;function j(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,this.ctx=e.getContext("2d"),this.ctx.clearRect(0,0,t.width,t.height),this.ctx.drawImage(t,0,0)}t.GetPixelColor=H;__extends(S,W=a),S.prototype.setPoker=function(t){t=this.pokerArr.indexOf(t);-1!=t&&(this.pokerSpr.texture=t<10?PIXI.Texture.fromFrame(this.pokerName+"000"+t):PIXI.Texture.fromFrame(this.pokerName+"00"+t))},S.prototype.setPokerNew=function(t){Number(t)<10?this.pokerSpr.texture=PIXI.Texture.fromFrame(this.pokerName+"000"+t):this.pokerSpr.texture=PIXI.Texture.fromFrame(this.pokerName+"00"+t)};var W,n=S;function S(t,e){void 0===e&&(e=0);e=W.call(this)||this;return e.pokerArr=["back","S.1","S.2","S.3","S.4","S.5","S.6","S.7","S.8","S.9","S.10","S.11","S.12","S.13","H.1","H.2","H.3","H.4","H.5","H.6","H.7","H.8","H.9","H.10","H.11","H.12","H.13","D.1","D.2","D.3","D.4","D.5","D.6","D.7","D.8","D.9","D.10","D.11","D.12","D.13","C.1","C.2","C.3","C.4","C.5","C.6","C.7","C.8","C.9","C.10","C.11","C.12","C.13"],e.pokerName=t,e.pokerSpr=PIXI.Sprite.fromImage(e.pokerName+"0000"),e.addChild(e.pokerSpr),e}t.PokerUI=n;__extends(I,b=n),I.prototype.initListener=function(){var e=this;this.interactive=!0,DeviceAndEnvironment.Device.isMobile()?(this.on("touchstart",function(t){e.onButtonDown(t),e.starPos=t.data.getLocalPosition(e)}),this.on("touchendoutside",function(t){e.onButtonUp(t),e.starPos=null}),this.on("touchend",function(t){e.onTouchend(t)})):(this.buttonMode=!0,this.on("mousedown",function(t){e.onButtonDown(t),e.starPos=t.data.getLocalPosition(e)}),this.on("mouseupoutside",function(t){e.onButtonUp(t),e.starPos=null}),this.on("mouseout",function(t){e.onTouchend(t)}),this.on("mouseup",function(t){e.onTouchend(t)}))},I.prototype.onTouchend=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(this),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<5&&i<5&&this.onButtonUp(t),this._icon&&(this._icon.texture=this._iconUp),this.starPos=null)},I.prototype.onButtonUp=function(t){this._icon&&(this._icon.texture=this._iconUp),"tap"!==t.type&&"click"!==t.type&&"touchend"!==t.type&&"mouseout"!==t.type&&"mouseup"!==t.type||((e={}).pStr=this._pokerStr,e.id=this._id,this.mEvt.emit("onTap",e));var e,i=t.data.getLocalPosition(this),n=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y);"touchendoutside"===t.type&&n<5&&i<5&&((e={}).pStr=this._pokerStr,e.id=this._id,this.mEvt.emit("onTap",e))},I.prototype.onButtonDown=function(t){this._icon&&(this._icon.texture=this._iconDown)},I.prototype.setPokerSize=function(t,e){this.pokerSpr.width=t,this.pokerSpr.height=e,this._icon&&(this._icon.y=this.pokerSpr.height)},I.prototype.setIconSize=function(t,e){this._icon.width=t,this._icon.height=e},I.prototype.setIconPosition=function(t,e){this._icon.x=t,this._icon.y=this.pokerSpr.height+e},I.prototype.setPokerAnchor=function(t,e){void 0===e&&(e=0),this.pokerSpr.anchor.x=t=void 0===t?0:t,this.pokerSpr.anchor.y=e,this.pokerSpr.x=this.pokerSpr.width*t,this.pokerSpr.y=this.pokerSpr.height*e},I.prototype.setPoker=function(t){b.prototype.setPoker.call(this,t),this._pokerStr=t},I.prototype.setId=function(t){this._id=t},I.prototype.setIconVisible=function(t){this._icon.visible=t};var b,n=I;function I(t,e){void 0===e&&(e="");t=b.call(this,t)||this;return t._pokerStr="",t._id=-1,t._pokerStr=t.pokerArr[0],""!=e&&(t._iconUp=i.from(e+"0000"),t._iconDown=i.from(e+"0001"),t._icon=new l(t._iconUp),t._icon.anchor.y=1,t._icon.x=0,t._icon.y=t.pokerSpr.height,t.addChild(t._icon)),t.mEvt=new PIXI.utils.EventEmitter,t}t.bcPokerUI=n;__extends(C,Y=a),C.prototype.setPoker=function(t){t=this.pokerArr.indexOf(t);-1!=t&&(this.pokerSpr.texture=t<10?PIXI.Texture.fromFrame(this.pokerName+"000"+t):PIXI.Texture.fromFrame(this.pokerName+"00"+t))},C.prototype.setPokerNew=function(t){Number(t)<10?this.pokerSpr.texture=PIXI.Texture.fromFrame(this.pokerName+"000"+t):this.pokerSpr.texture=PIXI.Texture.fromFrame(this.pokerName+"00"+t)};var Y,B=C;function C(t,e){void 0===e&&(e=0);e=Y.call(this)||this;return e.pokerArr=["back","66","11","44","31","55","33","22","56","46","16","15","36","45","35","26","34","25","24","32","14","12"],e.pokerName=t,e.pokerSpr=PIXI.Sprite.fromImage(e.pokerName+"0000"),e.addChild(e.pokerSpr),e}t.TianjiuUI=B;__extends(T,k=B),T.prototype.initListener=function(){var e=this;this.interactive=!0,DeviceAndEnvironment.Device.isMobile()?(this.on("touchstart",function(t){e.onButtonDown(t),e.starPos=t.data.getLocalPosition(e)}),this.on("touchendoutside",function(t){e.onButtonUp(t),e.starPos=null}),this.on("touchend",function(t){e.onTouchend(t)})):(this.buttonMode=!0,this.on("mousedown",function(t){e.onButtonDown(t),e.starPos=t.data.getLocalPosition(e)}),this.on("mouseupoutside",function(t){e.onButtonUp(t),e.starPos=null}),this.on("mouseout",function(t){e.onTouchend(t)}),this.on("mouseup",function(t){e.onTouchend(t)}))},T.prototype.onTouchend=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(this),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<5&&i<5&&this.onButtonUp(t),this._icon&&(this._icon.texture=this._iconUp),this.starPos=null)},T.prototype.onButtonUp=function(t){this._icon&&(this._icon.texture=this._iconUp),"tap"!==t.type&&"click"!==t.type&&"touchend"!==t.type&&"mouseout"!==t.type&&"mouseup"!==t.type||((t={}).pStr=this._pokerStr,t.id=this._id,this.mEvt.emit("onTap",t))},T.prototype.onButtonDown=function(t){this._icon&&(this._icon.texture=this._iconDown)},T.prototype.setPokerSize=function(t,e){this.pokerSpr.width=t,this.pokerSpr.height=e,this._icon&&(this._icon.y=this.pokerSpr.height)},T.prototype.setIconSize=function(t,e){this._icon.width=t,this._icon.height=e},T.prototype.setIconPos=function(t,e){null!=t&&(this._icon.position.x=t),null!=e&&(this._icon.position.y=e)},T.prototype.setPokerAnchor=function(t,e){void 0===e&&(e=0),this.pokerSpr.anchor.x=t=void 0===t?0:t,this.pokerSpr.anchor.y=e,this.pokerSpr.x=this.pokerSpr.width*t,this.pokerSpr.y=this.pokerSpr.height*e},T.prototype.setPoker=function(t){k.prototype.setPoker.call(this,t),this._pokerStr=t},T.prototype.setId=function(t){this._id=t},T.prototype.setIconVisible=function(t){this._icon.visible=t};var k,B=T;function T(t,e){void 0===e&&(e="");t=k.call(this,t)||this;return t._pokerStr="",t._id=-1,t._pokerStr=t.pokerArr[0],""!=e&&(t._iconUp=i.from(e+"0000"),t._iconDown=i.from(e+"0001"),t._icon=new l(t._iconUp),t._icon.anchor.y=1,t._icon.x=0,t._icon.y=t.pokerSpr.height,t.addChild(t._icon)),t.mEvt=new PIXI.utils.EventEmitter,t}t.bcTianjiuUI=B;__extends(x,z=n),x.prototype.setPoker=function(t){var e;""!=t&&null!=t?(e="back"!=t?this.pokerArr[t]:this.pokerArr[0],this._pokerStr=t):e=this.pokerArr[0],-1!=e&&(this.pokerSpr.texture=PIXI.Texture.fromFrame(this.pokerName+"00"+String(e)))};var z,B=x;function x(t,e){e=z.call(this,t,e=void 0===e?"":e)||this;return e.pokerArr=["11","01","02","03","04","05","06","07","08","09","10"],e.pokerName=t,e}t.bcBac28UI=B;__extends(M,K=a),M.prototype.setLight=function(t){this.isLight=t},M.prototype.setSprite=function(t){this._countSpr=t},M.prototype.setTextStyle=function(t){this.textStyle=t},M.prototype.setSlice=function(t){this._slice=t,"hor"==this._direction?this.secondPer=this._countH/this._slice:"ver"==this._direction&&(this.secondPer=this._countW/this._slice)},M.prototype.setIsCount=function(t){this.isCount=t},M.prototype.updateCountDown=function(t){var e=this;t==this._slice&&"ver"==this._direction&&(this._countBlock.clear(),t<7&&0<=t?this._countBlock.beginFill(this.blockC3,1):t<11&&6<t?this._countBlock.beginFill(this.blockC2,1):this._countBlock.beginFill(this.blockC1,1),this._countBlock.drawRect(0,0,this._countW,this._countH),this._countBlock.endFill(),null!=this._countSpr&&(this._countSpr.x=this._countBlock.width),this._countBlock.visible=!0),this._count=t,this._count<7&&0<=this._count?this.isLight&&null==this.lightTimer&&(this.lightTimer=setInterval(function(){e.changeLight()},300)):this.isLight&&null!=this.lightTimer&&(this._countBlock.alpha=1,clearTimeout(this.lightTimer)),this.isCount&&t!=this._slice&&(this._countBlock.visible=!0,t=(t+1)/this._slice,this.countPer=Number(t*this._countW),null!=this.countTimer&&clearTimeout(this.countTimer),this.countTimer=window.setTimeout(function(){e.endCooldown()},this.moveTime),this.timerStart=(new Date).getTime(),"hor"==this._direction?this.countHor():"ver"==this._direction&&this.countVer())},M.prototype.endCooldown=function(){this.countTimer=null,0==this._count&&(this._countBlock.visible=!1,this.isLight)&&(this._countBlock.alpha=1,null!=this.lightTimer)&&(clearTimeout(this.lightTimer),this.lightTimer=null)},M.prototype.countHor=function(){var t=Number((new ShareLogic.DigitalLogic).numtoFix3(this._count/this._slice)),t=this._countH*(t/100);this._countBlock.clear(),this._count<7&&0<=this._count?this._countBlock.beginFill(this.blockC3,1):this._count<11&&6<this._count?this._countBlock.beginFill(this.blockC2,1):this._countBlock.beginFill(this.blockC1,1),this._countBlock.drawRect(0,this._countH-t,this._countW,t),this._countBlock.endFill()},M.prototype.countVer=function(){var t,e=this;null!=this.countTimer&&(t=(t=(t=(new Date).getTime()-this.timerStart)>this.moveTime?this.moveTime:t)/this.moveTime,t=Number(t*this.secondPer),this._countBlock.clear(),this._count<7&&0<=this._count?this._countBlock.beginFill(this.blockC3,1):this._count<11&&6<this._count?this._countBlock.beginFill(this.blockC2,1):this._countBlock.beginFill(this.blockC1,1),this._countBlock.drawRect(0,0,this.countPer-t,this._countH),this._countBlock.endFill(),null!=this._countSpr&&(this._countSpr.x=this._countBlock.width),requestAnimationFrame(function(){e.countVer()}))},M.prototype.changeLight=function(){.5==this._countBlock.alpha?this._countBlock.alpha=1:1==this._countBlock.alpha&&(this._countBlock.alpha=.5)};var K,n=M;function M(t,e,i,n,a,o,r,s,h){void 0===o&&(o=0),void 0===r&&(r="hor"),void 0===s&&(s=!1),void 0===h&&(h=0);var l=K.call(this)||this;return l.isCount=!0,l.isLight=!1,l.moveTime=100,l._lineW=h,l._countW=t,l._countH=e,l.blockC1=i,l.blockC2=n,l.blockC3=a,l._direction=r,l._rect=s,0!=o&&(l.backC=o,l._countBG=new u,l.addChild(l._countBG),l._countBG.beginFill(l.backC,1),l._countBG.drawRect(0,0,l._countW,l._countH)),l._countBlock=new u,l.addChild(l._countBlock),l}t.countUI=n;__extends(w,J=a),w.prototype.initUI=function(){0!=this.backC&&(this.countDownBack=new u,this.countDownBack.lineStyle(this.lineSize,this.backC),this.countDownBack.beginFill(0,0),this.countDownBack.drawCircle(0,0,this.radius),this.addChild(this.countDownBack)),this.countDownLine=new u,this.countDownLine.lineStyle(this.lineSize,this.gcolor),this.countDownLine.beginFill(0,0),this.countDownLine.drawCircle(0,0,this.radius),this.addChild(this.countDownLine),this.countDownMask=new u,this.addChild(this.countDownMask),this.countDownLine.mask=this.countDownMask},w.prototype.setDis=function(t){this.dis=t},w.prototype.setSlice=function(t){this._slice=t,this.secondPer=2*Math.PI/this._slice},w.prototype.setStatus=function(t){"betting"==t?(this.visible=!0,this.isCount=!0):(this.visible=!1,this.isCount=!1)},w.prototype.setIsCount=function(t){this.isCount=t},w.prototype.updateCountDown=function(t){var e,i=this;t==this._slice&&this.showAll(!0),this.isCount&&t!=this._slice&&(e=t/this._slice,this.countPer=Number(e*Math.PI*2),null!=this.countTimer&&(this.countTimer=null),this.countTimer=window.setTimeout(function(){i.endCooldown()},this.moveTime),this.timerStart=(new Date).getTime(),0!=t?"clockwise"==this.dis?this.runCooldown2():"counterclockwise"==this.dis&&this.runCooldown():this.countDownMask.clear()),this.countDownLine.clear(),t<7&&0<=t?this.countDownLine.lineStyle(this.lineSize,this.rcolor):t<11&&6<t?this.countDownLine.lineStyle(this.lineSize,this.ycolor):this.countDownLine.lineStyle(this.lineSize,this.gcolor),this.countDownLine.drawCircle(0,0,this.radius)},w.prototype.endCooldown=function(){this.countTimer=null},w.prototype.showAll=function(t){t?(this.countDownMask.clear(),this.countDownMask.lineStyle(this.lineSize,16777215),this.countDownMask.drawCircle(0,0,this.radius)):this.countDownMask.clear()},w.prototype.runCooldown2=function(){var t,e,i,n,a=this;null!=this.countTimer&&((n=(new Date).getTime()-this.timerStart)>this.moveTime&&(cancelAnimationFrame(this.frameTimer),n=this.moveTime),n=n/this.moveTime,n=Number(n*this.secondPer),this.countDownMask.clear(),e=-Math.PI/2,n=-Math.PI/2-this.countPer-this.secondPer+n,t=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.cos(e)*(this.radius+this.lineSize))),e=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.sin(e)*(this.radius+this.lineSize))),i=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.cos(n)*(this.radius+this.lineSize))),n=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.sin(n)*(this.radius+this.lineSize))),this.countDownMask.beginFill(16777215,1),this.countDownMask.moveTo(0,0),this.countDownMask.lineTo(t,e),0<=i?0<=n?(this.countDownMask.lineTo(this.radius+this.lineSize,-(this.radius+this.lineSize)),this.countDownMask.lineTo(this.radius+this.lineSize,n)):this.countDownMask.lineTo(i,-(this.radius+this.lineSize)):(this.countDownMask.lineTo(this.radius+this.lineSize,-(this.radius+this.lineSize)),this.countDownMask.lineTo(this.radius+this.lineSize,this.radius+this.lineSize),0<n?this.countDownMask.lineTo(i,this.radius+this.lineSize):(this.countDownMask.lineTo(-(this.radius+this.lineSize),this.radius+this.lineSize),this.countDownMask.lineTo(-(this.radius+this.lineSize),n))),this.countDownMask.lineTo(i,n),this.countDownMask.lineTo(0,0),this.countDownMask.endFill(),this.frameTimer=requestAnimationFrame(function(){a.runCooldown2()}))},w.prototype.runCooldown=function(){var t,e,i,n,a=this;null!=this.countTimer&&((n=(new Date).getTime()-this.timerStart)>this.moveTime&&(cancelAnimationFrame(this.frameTimer),n=this.moveTime),n=n/this.moveTime,n=Number(n*this.secondPer),this.countDownMask.clear(),e=-Math.PI/2,n=-Math.PI/2-this.countPer-this.secondPer+n,t=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.cos(e)*(this.radius+this.lineSize))),e=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.sin(e)*(this.radius+this.lineSize))),i=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.cos(n)*(this.radius+this.lineSize))),n=Number((new ShareLogic.DigitalLogic).numtoFix6(Math.sin(n)*(this.radius+this.lineSize))),this.countDownMask.beginFill(16777215,1),this.countDownMask.moveTo(0,0),this.countDownMask.lineTo(t,e),0<=i?(this.countDownMask.lineTo(-(this.radius+this.lineSize),-(this.radius+this.lineSize)),this.countDownMask.lineTo(-(this.radius+this.lineSize),this.radius+this.lineSize),n<=0?(this.countDownMask.lineTo(this.radius+this.lineSize,this.radius+this.lineSize),this.countDownMask.lineTo(this.radius+this.lineSize,n)):this.countDownMask.lineTo(i,this.radius+this.lineSize)):0<n?(this.countDownMask.lineTo(-(this.radius+this.lineSize),-(this.radius+this.lineSize)),this.countDownMask.lineTo(-(this.radius+this.lineSize),n)):this.countDownMask.lineTo(i,-(this.radius+this.lineSize)),this.countDownMask.lineTo(i,n),this.countDownMask.lineTo(0,0),this.countDownMask.endFill(),this.frameTimer=requestAnimationFrame(function(){a.runCooldown()}))};var J,B=w;function w(t,e,i,n,a,o){void 0===i&&(i=7116956),void 0===n&&(n=11701540),void 0===a&&(a=11613973),void 0===o&&(o=0);var r=J.call(this)||this;return r.isCount=!0,r.moveTime=100,r.dis="clockwise",r.radius=t,r.lineSize=e,r.gcolor=i,r.ycolor=n,r.rcolor=a,r.backC=o,r.initUI(),r}t.countCircleUI=B;__extends(L,q=a),L.prototype.starLoad=function(){var t=this;null!=this.loadTimer&&clearInterval(this.loadTimer),this.loadTimer=setInterval(function(){t.onInterval()},90)},L.prototype.endLoad=function(){null!=this.loadTimer&&clearInterval(this.loadTimer)},L.prototype.onInterval=function(){this.rot%8==0?this.loadPoint.rotation=0:this.loadPoint.rotation+=.7875,this.rot++};var q,n=L;function L(t,e){var i=q.call(this)||this;return i.rot=0,i.load=PIXI.Sprite.fromImage(t),i.addChild(i.load),i.load.pivot.x=i.load.width/2,i.load.pivot.y=i.load.height/2,i.loadPoint=PIXI.Sprite.fromImage(e),i.load.addChild(i.loadPoint),i.loadPoint.pivot.x=i.loadPoint.width/2,i.loadPoint.pivot.y=i.loadPoint.height/2,i.loadPoint.x=i.loadPoint.width/2,i.loadPoint.y=i.loadPoint.height/2,i}t.LoadingUI=n;__extends(E,Q=a),E.prototype.initFilter=function(){this.lightFilter=new O;var t=this.lightFilter.matrix;t[4]=.15,t[9]=.15,t[14]=.15},E.prototype.addToScrollBar=function(t){this._container.addChild(t),this._container.height>=this.showHeigh?this.bar.visible=this.barBG.visible=this.barSensor.visible=!0:(this._container.y=0,this.bar.visible=this.barBG.visible=this.barSensor.visible=!1)},E.prototype.setbarListen=function(){this._container.height>=this.showHeigh?this.bar.visible=this.barBG.visible=this.barSensor.visible=!0:(this.bar.y=this.bar.height/2,this._container.y=0,this.bar.visible=this.barBG.visible=this.barSensor.visible=!1),this.bar.y==this.total&&(this._container.y=-(this._container.height-this.containerMask.height))},E.prototype.setScrollBarPos=function(t,e){this.barBG.x=t,this.barBG.y=e},E.prototype.getMask=function(){return this.containerMask},E.prototype.setMask=function(t,e,i,n){this.showHeigh=n+e,this.containerMask=new PIXI.Graphics,this.containerMask.beginFill(0),this.containerMask.drawRect(0,0,i,n),this.containerMask.endFill(),this.addChild(this.containerMask),this.containerMask.interactive=!1,this.containerMask.x=t,this.containerMask.y=e,this.addChild(this._container),this.addChild(this.barBG),this.barBG.addChild(this.barSensor),this.barBG.addChild(this.bar),this._container.mask=this.containerMask},E.prototype.lockBar=function(t){this.bar.visible=t,this.barSensor.visible=t,this.moveBar(0)},E.prototype.setLight=function(){var t=this;this.lightNum=0,null!=this.lightTimer&&clearInterval(this.lightTimer),this.lightTimer=setInterval(function(){t.onInterval()},200)},E.prototype.onInterval=function(){this.lightNum++,this.lightNum%2==1?this.bar.filters=[this.lightFilter]:this.lightNum%2==0&&(this.bar.filters=null),4==this.lightNum&&clearInterval(this.lightTimer)},E.prototype.wheelScroll=function(t){this._isLocal&&this.moveBar(this.bar.y+(-t.wheelDelta||20*t.detail))},E.prototype.moveBar=function(t){var e;this.bar.visible&&(t<this.bar.height/2?(this.bar.y=this.bar.height/2,this._container.y=0,this.bar.y):t>this.total?(this.bar.y=this.total,this._container.y=-(this._container.height-this.containerMask.height),this.bar.y):(e=Number((new ShareLogic.DigitalLogic).numtoFix3((t-this.bar.height/2)/this.total)),this._container.y=-(this._container.height-this.containerMask.height)*(e/=100),this.bar.y=t))},E.prototype.onBarSetClick=function(t){t=t.data.getLocalPosition(t.currentTarget.parent);this.moveBar(t.y)},E.prototype.onMousMove=function(t){this.dragging&&(t=t.data.getLocalPosition(t.currentTarget.parent),this.moveBar(t.y))},E.prototype.onDragEnd=function(t){this.dragging=!1,t.currentTarget.alpha=1},E.prototype.onMouseDown=function(t){t.currentTarget.alpha=.8,this.dragging=!0},E.prototype.onConMouseOver=function(t){this._isLocal=!0},E.prototype.onConMouseOut=function(t){this._isLocal=!1},E.prototype.onMouseWheel=function(t){};var Q,B=E;function E(t,e){var i=Q.call(this)||this;return i._container=new a,i.addChild(i._container),i.barBG=PIXI.Sprite.fromImage(e+"0000"),i.barBG.anchor.x=.5,i.barTextName=t,i.bar=PIXI.Sprite.fromImage(i.barTextName+"0000"),i.bar.anchor.set(.5),i.bar.y=i.bar.height/2,i.total=i.barBG.height-i.bar.height/2,i.barSensor=new u,i.barSensor.beginFill(16777215,0),i.barSensor.drawRect(-i.barBG.width/2,0,i.barBG.width,i.barBG.height),i.barSensor.alpha=0,i.bar.visible=i.barBG.visible=i.barSensor.visible=!1,i.renderer=document.getElementById("MyRenderer"),DeviceAndEnvironment.Device.isMobile()?(i.barSensor.on("tap",function(t){i.onBarSetClick(t)}),i.bar.on("touchstart",function(t){i.onMouseDown(t)}),i.bar.on("touchmove",function(t){i.onMousMove(t)}),i.bar.on("touchend",function(t){i.onDragEnd(t)}),i.bar.on("touchendoutside",function(t){i.onDragEnd(t)})):(i.barSensor.on("click",function(t){i.onBarSetClick(t)}),i.bar.on("mousedown",function(t){i.onMouseDown(t)}),i.bar.on("mousemove",function(t){i.onMousMove(t)}),i.bar.on("mouseup",function(t){i.onDragEnd(t)}),i.bar.on("mouseupoutside",function(t){i.onDragEnd(t)}),i.renderer.addEventListener("mousewheel",function(t){i.wheelScroll(t)}),i.renderer.addEventListener("DOMMouseScroll",function(t){i.wheelScroll(t)}),i.on("mouseup",function(t){i.onDragEnd(t)}),i.on("mouseupoutside",function(t){i.onDragEnd(t)}),i.on("mouseover",function(t){i.onConMouseOver(t)}),i.on("mouseout",function(t){i.onConMouseOut(t)})),i.interactive=i.bar.interactive=i.barSensor.interactive=!0,i.bar.buttonMode=i.barSensor.buttonMode=!0,i._isLocal=!1,i.initFilter(),i}t.scrollBarWithoutBg=B;A=Composite.EventContainer,__extends(D,A),D.prototype.setAddHeight=function(t){this.addHeight=t},D.prototype.setTopGradual=function(t,e){this.topGradual=t,this.topGradual.position=e,this.topGradual.visible=!1,this.addChild(this.topGradual)},D.prototype.setButtomGradual=function(t,e){this.buttomGradual=t,this.buttomGradual.position=e,this.buttomGradual.visible=!1,this.addChild(this.buttomGradual)},D.prototype.addToScrollBar=function(t){this._container.addChild(t),this.totalHeight=this._container.height+this.addHeight,this.totalHeight>=this.showHeigh?(this.bar.visible=!0,null!=this.buttomGradual&&(this.buttomGradual.visible=!0)):(this.bar.y=0,this._container.y=0,this.bar.visible=!1)},D.prototype.removeToScrollBar=function(t){this._container.removeChild(t),this.totalHeight=this._container.height+this.addHeight,this.totalHeight>=this.showHeigh?this.bar.visible=!0:(this.bar.y=0,this._container.y=0,this.bar.visible=!1)},D.prototype.setbarListen=function(){this.totalHeight=this._container.height+this.addHeight,this.totalHeight>=this.showHeigh?(this.bar.visible=!0,null!=this.buttomGradual&&(this.buttomGradual.visible=!0)):(this.bar.y=0+this.barRimH,this._container.y=0,this.bar.visible=!1,null!=this.topGradual&&(this.topGradual.visible=!1),null!=this.buttomGradual&&(this.buttomGradual.visible=!1)),this.bar.y==this.total&&(this._container.y=-(this.totalHeight-this.containerMask.height-this.containerMask.y),null!=this.topGradual&&(this.topGradual.visible=!0),null!=this.buttomGradual)&&(this.buttomGradual.visible=!1)},D.prototype.setScrollBarPos=function(t,e,i){this.bar.x=t,this.barRimH=e,this.total=i-this.bar.height,this.step=i/15},D.prototype.setMask=function(t,e,i,n,a){this.showHeigh=n+e,this.total=n-this.bar.height,this.step=n/15,this.containerMask=new PIXI.Graphics,a?this.containerMask.beginFill(a):this.containerMask.beginFill(0),this.containerMask.drawRect(0,0,i,n),this.containerMask.endFill(),this.addChild(this.containerMask),this.containerMask.interactive=!1,this.containerMask.x=t,this.containerMask.y=e,this.addChild(this._container),this.addChild(this.bar),this._container.mask=this.containerMask},D.prototype.setMaskSize=function(t,e){this.showHeigh=e+this.containerMask.y,this.total=e-this.bar.height,this.step=e/15,this.containerMask.clear(),this.containerMask.beginFill(0),this.containerMask.drawRect(0,0,t,e),this.containerMask.endFill()},D.prototype.getContainPos=function(){return new c(this._container.x,this._container.y)},D.prototype.setBarDisplay=function(t){this.overDisplay=t},D.prototype.lockBar=function(t){this.bar.visible=t,this.autoScroll(0)},D.prototype.lockBar2=function(t){this.dragMove=t},D.prototype.wheelScroll=function(t){var e=this;this._isLocal&&this.bar.visible&&(this.bar.alpha=1,0<t.wheelDelta||t.detail<0?this.moveBar(this.bar.y-this.step):this.moveBar(this.bar.y+this.step),null!=this._timer&&clearTimeout(this._timer),this.overDisplay||(this._timer=setTimeout(function(){e.bar.alpha=e.barAlpha},500)))},D.prototype.moveBar=function(t){var e;this.bar.visible&&(t<=0?(this.bar.y=0+this.barRimH,this._container.y=0,t=this.bar.y,null!=this.topGradual&&(this.topGradual.visible=!1)):t>=this.total?(this.bar.y=this.total-this.barRimH,this._container.y=-(this.totalHeight-this.containerMask.height-this.containerMask.y),t=this.bar.y,null!=this.buttomGradual&&(this.buttomGradual.visible=!1)):(e=Number((new ShareLogic.DigitalLogic).numtoFix3(t/this.total)),this._container.y=-(this.totalHeight-this.containerMask.height-this.containerMask.y)*(e/=100),this.bar.y=t,null!=this.topGradual&&20<t&&(this.topGradual.visible=!0),null!=this.buttomGradual&&(this.buttomGradual.visible=!0)),this.setChildVisible())},D.prototype.setChildVisible=function(){for(var t=this._container.children,e=this._container.y+this.containerMask.y,i=0;i<t.length;i++)0<t[i].y&&(0!=t[i].pivot.y&&(t[i].y-t[i].pivot.y+t[i].height<Math.abs(e)||t[i].y-t[i].pivot.y+this._container.y>this.containerMask.y+this.containerMask.height)||0==t[i].pivot.y&&(t[i].y+t[i].height<Math.abs(e)||t[i].y+this._container.y>this.containerMask.y+this.containerMask.height)?t[i].visible=!1:t[i].visible=!0)},D.prototype.onConMouseOver=function(t){this._isLocal=!0,this.overDisplay&&(this.bar.alpha=1)},D.prototype.onConMouseOut=function(t){this._isLocal=!1,this.overDisplay&&(this.bar.alpha=this.barAlpha)},D.prototype.onMouseDown=function(t){this.conDragging=!0,this._dragPrevPos=t.data.getLocalPosition(this),this._dragCurrPos=t.data.getLocalPosition(this)},D.prototype.onDrag=function(t){var e,i=this;this.conDragging&&this.bar.visible&&this.dragMove&&(this.bar.alpha=1,e=-(this.totalHeight-this.showHeigh),this._dragPrevPos=this._dragCurrPos,this._dragCurrPos=t.data.getLocalPosition(this),this._dragPrevPos!=this._dragCurrPos&&(this._container.y+=this._dragCurrPos.y-this._dragPrevPos.y,this.rePosBar()),null!=this.topGradual&&this._container.y<-10&&(this.topGradual.visible=!0),null!=this.buttomGradual&&this._container.y<10+e&&(this.buttomGradual.visible=!0),0<this._container.y?(this._container.y=0,this.bar.y=0+this.barRimH,null!=this.topGradual&&(this.topGradual.visible=!1)):this._container.y<e&&(this.bar.y=this.total-this.barRimH,this._container.y=e,null!=this.buttomGradual)&&(this.buttomGradual.visible=!1),this.bar.y>this.total-this.barRimH&&(this.bar.y=this.total-this.barRimH),this.bar.y<0+this.barRimH&&(this.bar.y=0+this.barRimH),null!=this._timer&&clearTimeout(this._timer),this.overDisplay||(this._timer=setTimeout(function(){i.bar.alpha=i.barAlpha},500)),this.setChildVisible())},D.prototype.rePosBar=function(){var t=-(this.totalHeight-this.containerMask.height),t=Number((new ShareLogic.DigitalLogic).numtoFix3(this._container.y/t));t/=100,isNaN(t)&&(t=1),this.bar.y=this.total*t},D.prototype.onDragEnd=function(t){this.conDragging=!1},D.prototype.autoScroll=function(t){var e=this,i=Math.abs(this._container.y-t)/10;t=-t,null!=this._autoTimer&&clearInterval(this._autoTimer),this._container.y>t?this._autoTimer=setInterval(function(){e._container.y-=i,e._container.y<=t&&(e._container.y=t,clearInterval(e._autoTimer)),e.rePosBar()},15):this._autoTimer=setInterval(function(){e._container.y+=i,e._container.y>=t&&(e._container.y=t,clearInterval(e._autoTimer)),e.rePosBar()},15)},D.prototype.moveToTop=function(){this.autoScroll(0)},D.prototype.moveToEnd=function(){this.moveBar(this.total)};var A,n=D;function D(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=0);var n=A.call(this)||this;return n.overDisplay=!1,n.dragMove=!0,n.conDragging=!1,n.addHeight=0,n.barRimH=0,n._container=new a,n.addChild(n._container),n.bar=PIXI.Sprite.fromImage(t+"0000"),n.bar.visible=!1,n.barAlpha=n.bar.alpha=i,n.renderer=document.getElementById("MyRenderer"),DeviceAndEnvironment.Device.isMobile()?(n.on("touchstart",function(t){n.onMouseDown(t)}),n.on("touchmove",function(t){n.onDrag(t)}),n.on("touchend",function(t){n.onDragEnd(t)}),n.on("touchendoutside",function(t){n.onDragEnd(t)})):(n.renderer.addEventListener("mousewheel",function(t){n.wheelScroll(t)}),n.renderer.addEventListener("DOMMouseScroll",function(t){n.wheelScroll(t)}),n.on("mousedown",function(t){n.onMouseDown(t)}),n.on("mousemove",function(t){n.onDrag(t)}),n.on("mouseup",function(t){n.onDragEnd(t)}),n.on("mouseupoutside",function(t){n.onDragEnd(t)}),e?n.on("mouseout",function(t){n.onConMouseOut(t)}):n.on("mouseout",function(t){n._isLocal=!1,n.onDragEnd(t)}),n.on("mouseover",function(t){n.onConMouseOver(t)})),n.interactive=!0,n._isLocal=!1,n}t.scrollBarNoSensor=n;__extends(R,Z=a),R.prototype.loadBtnStatusTexture=function(e,i){void 0===i&&(i=!1),this.btn_up=PIXI.Texture.fromFrame(e+"0000");try{i&&(this.btn_no=PIXI.Texture.fromFrame(e+"0003")),this.btn_down=PIXI.Texture.fromFrame(e+"0002"),this.btn_over=PIXI.Texture.fromFrame(e+"0001")}catch(t){this.btn_down=PIXI.Texture.fromFrame(e+"0001"),i&&(this.btn_no=PIXI.Texture.fromFrame(e+"0002"))}},R.prototype.onButtonDown=function(){this.autoMouseStatus&&this.setStatus("down")},R.prototype.onButtonUp=function(){this.autoMouseStatus&&this.setStatus("up")},R.prototype.onButtonOver=function(){this.autoMouseStatus&&this.setStatus("over")},R.prototype.onButtonOut=function(){this.autoMouseStatus&&this.setStatus("up")},R.prototype.setBtnPos=function(){"upleft"==this.dis?(this.btn.x=-this.btn.texture.frame.width,this.btn.y=-this.btn.texture.frame.height,this.btnMask.x=this.btn.x,this.btnMask.y=this.btn.y):"up"==this.dis?(this.btn.y=-this.btn.texture.frame.height,this.btnMask.y=this.btn.y):"left"==this.dis&&(this.btn.x=-this.btn.texture.frame.width,this.btnMask.x=this.btn.x)},R.prototype.setTextPos=function(){this.setBtnPos(),null!=this.text&&(this.text.x=this.btn.texture.frame.width/2,this.text.y=this.btn.texture.frame.height/2,null!=this.statusSpr)&&(this.text.y+=this.statusSpr.height/2)},R.prototype.setMouseStatus=function(t){this.interactive=t,this.btnMask.interactive=t,this.btnMask.buttonMode=t},R.prototype.setText=function(t){this.text.text=t},R.prototype.setStatus=function(t){switch(this.status=t){case"up":this.btn.texture=this.btn_up;break;case"over":this.btn.texture=this.btn_over;break;case"down":this.btn.texture=this.btn_down;break;case"no":this.btn.texture=this.btn_no}this.btnMask.width,this.btn.texture.frame.width,this.btnMask.height!=this.btn.texture.frame.height&&(this.btnMask.clear(),this.btnMask.beginFill(0,0),this.btnMask.drawRect(0,0,this.btn.texture.frame.width,this.btn.texture.frame.height),this.btnMask.endFill()),this.setTextPos()},R.prototype.setStatusSpr=function(t){null!=this.statusSpr&&(this.statusSpr.texture=PIXI.Texture.fromImage(this.statusStr+t))};var Z,B=R;function R(t,e,i,n,a){void 0===e&&(e=!1),void 0===i&&(i="down"),void 0===n&&(n=null),void 0===a&&(a="");var o=Z.call(this)||this;return o.loadBtnStatusTexture(t,e),o.btn=new l(o.btn_up),o.addChild(o.btn),o.dis=i,o.btnMask=new u,o.btnMask.beginFill(0,0),o.btnMask.drawRect(0,0,o.btn.texture.frame.width,o.btn.texture.frame.height),o.addChild(o.btnMask),o.setBtnPos(),""!=a&&(o.statusStr=a,o.statusSpr=PIXI.Sprite.fromImage(a+"0000"),o.btn.addChild(o.statusSpr)),null!=n&&(o.text=n,o.btn.addChild(o.text),o.setTextPos()),o.interactive=!0,o.btnMask.interactive=!0,o.btnMask.buttonMode=!0,o.autoMouseStatus=!0,DeviceAndEnvironment.Device.isMobile()?(o.btnMask.on("touchstart",function(){o.onButtonDown()}),o.btnMask.on("touchend",function(){o.onButtonUp()}),o.btnMask.on("touchendoutside",function(){o.onButtonUp()})):(o.btnMask.on("mousedown",function(){o.onButtonDown()}),o.btnMask.on("mouseup",function(){o.onButtonUp()}),o.btnMask.on("mouseupoutside",function(){o.onButtonUp()})),null==o.btn_over||DeviceAndEnvironment.Device.isMobile()||(o.btnMask.on("mouseover",function(){o.onButtonOver()}),o.btnMask.on("mouseout",function(){o.onButtonOut()})),o}t.TableBtn=B}(ShareUI=ShareUI||{}),!function(t){var o,e=PIXI.Container,h=PIXI.Sprite,i=(__extends(n,o=e),n.prototype.onButtonDown=function(){this.isDown=!0,null!=this.btn_down&&(this.chip.texture=this.btn_down),this.chip.x=this.chip.y=0,this.chip.scale.set(1),null!=this.light&&(this.light.visible=!1)},n.prototype.onButtonUp=function(){this.isDown=!1,this.isOver?("up"==this._direction?this.chip.y=this._xyScale:"down"==this._direction?this.chip.x=this._xyScale:"scale"==this._direction&&this.chip.scale.set(this._xyScale),null!=this.light&&(this.light.visible=!0),null!=this.btn_over&&(this.chip.texture=this.btn_over)):(this.chip.x=this.chip.y=0,this.chip.scale.set(1),null!=this.light&&(this.light.visible=!1),this.chip.texture=this.btn_up)},n.prototype.onButtonOver=function(){this.isOver=!0,this.isDown||("up"==this._direction?this.chip.y=this._xyScale:"down"==this._direction?this.chip.x=this._xyScale:"scale"==this._direction&&this.chip.scale.set(this._xyScale),null!=this.light&&(this.light.visible=!0),null!=this.btn_over&&(this.chip.texture=this.btn_over))},n.prototype.onButtonOut=function(){this.isOver=!1,this.chip.x=this.chip.y=0,this.chip.scale.set(1),null!=this.light&&(this.light.visible=!1),this.chip.texture=this.btn_up},n.prototype.setMouseStatus=function(t){this.interactive=t,this.chip.interactive=t},n.prototype.setLight=function(t){null!=this.light&&(this.light.visible=t)},n.prototype.setChipAt=function(t){this.addChildAt(this.chip,t)},n.prototype.setStatus=function(t){switch(this.chip.x=this.chip.y=0,this.chip.scale.set(1),null!=this.light&&("up"==t?this.light.visible=!1:"over"==t&&(this.light.visible=!0)),t){case"up":this.chip.texture=this.btn_up;break;case"over":null!=this.btn_over&&(this.chip.texture=this.btn_over),"up"==this._direction?this.chip.y=this._xyScale:"down"==this._direction?this.chip.x=this._xyScale:"scale"==this._direction&&this.chip.scale.set(this._xyScale);break;case"down":null!=this.btn_down&&(this.chip.texture=this.btn_down)}},n);function n(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i="up"),void 0===n&&(n="no");var a=o.call(this)||this;a._direction=i,a._xyScale=e,"no"!=n&&(a.light=PIXI.Sprite.from(n+"0000"),a.addChild(a.light),a.light.visible=!1),a.btn_up=PIXI.Texture.fromFrame(t+"0000");try{a.btn_over=PIXI.Texture.fromFrame(t+"0001")}catch(t){a.btn_over=null}try{a.btn_down=PIXI.Texture.fromFrame(t+"0002")}catch(t){a.btn_down=null}return a.chip=new h(a.btn_up),a.addChild(a.chip),null!=a.light&&(a.light.x=-(a.light.texture.frame.width-a.chip.texture.frame.width)/2,a.light.y=-(a.light.texture.frame.height-a.chip.texture.frame.height)/2),a.interactive=!0,a.chip.buttonMode=!0,a.chip.interactive=!0,DeviceAndEnvironment.Device.isMobile()?(a.chip.on("touchstart",function(){a.onButtonDown()}),a.chip.on("touchend",function(){a.onButtonUp()}),a.chip.on("touchendoutside",function(){a.onButtonUp()})):(a.chip.on("mousedown",function(){a.onButtonDown()}),a.chip.on("mouseup",function(){a.onButtonUp()}),a.chip.on("mouseupoutside",function(){a.onButtonUp()}),a.chip.on("mouseover",function(){a.onButtonOver()}),a.chip.on("mouseout",function(){a.onButtonOut()})),a}t.ChipUI=i;__extends(a,l=e),a.prototype.onButtonOver=function(){null!=this.btn_over&&(this.sChip.texture=this.btn_over),this.checkMc.y=-this.sChip.texture.frame.height/2-this.cPosY,null!=this.numTextBG&&(this.numTextBG.y=(this.sChip.texture.frame.height+this.numTextBG.height)/2+10,this.numText.y=this.numTextBG.y),null!=this.numMc?this.numMc.visible=!0:(this.numText.visible=!0,null!=this.numTextBG&&(this.numTextBG.visible=!0))},a.prototype.onButtonOut=function(){this.sChip.texture=this.btn_up,this.checkMc.y=-this.sChip.height/2-this.cPosY,null!=this.numTextBG&&(this.numTextBG.y=(this.sChip.height+this.numTextBG.height)/2+10,this.numText.y=this.numTextBG.y),null!=this.numMc?this.numMc.visible=!1:(this.numText.visible=!1,null!=this.numTextBG&&(this.numTextBG.visible=!1))},a.prototype.setChipDown=function(t){null!=this.light&&(this.light.visible=!t)},a.prototype.setCheck=function(t){this.checkMc.visible=t};var l,i=a;function a(t,e,i,n,a,o,r){void 0===a&&(a=null),void 0===o&&(o=null),void 0===r&&(r="no");var s=l.call(this)||this;s.btn_up=PIXI.Texture.fromFrame(t+"0000");try{s.btn_over=PIXI.Texture.fromFrame(t+"0001")}catch(t){s.btn_over=null}s.sChip=new h(s.btn_up),s.addChild(s.sChip),s.sChip.anchor.set(.5),s.cPosY=n,null!=o&&(s.numTextBG=o,s.numTextBG.anchor.set(.5),s.addChild(s.numTextBG),s.numTextBG.visible=!1);t=s.sChip.texture.frame.height;return"no"!=r&&(s.light=PIXI.Sprite.fromImage(r),s.addChildAt(s.light,0),s.light.anchor.set(.5),t=s.light.texture.frame.height),null==a?(s.numMc=new h(PIXI.Texture.fromFrame(e)),s.numMc.anchor.set(.5),s.numMc.y=(t+s.numMc.texture.frame.height)/2+8,s.addChild(s.numMc),s.numMc.visible=!1):(s.numText=new PIXI.Text(e,a),s.numText.anchor.set(.5),s.numText.y=(t+s.numText.texture.frame.height)/2+8,s.addChild(s.numText),s.numText.visible=!1,null!=s.numTextBG&&(s.numTextBG.y=(t+s.numTextBG.texture.frame.height)/2+8,s.numText.y=s.numTextBG.y)),s.checkMc=new h(PIXI.Texture.fromFrame(i)),s.checkMc.anchor.set(.5),s.checkMc.y=-s.sChip.texture.frame.height/2-s.cPosY,s.addChild(s.checkMc),s.checkMc.visible=!1,s.interactive=!0,s.autoMouseStatus=!1,s.sChip.buttonMode=!0,s.sChip.interactive=!0,DeviceAndEnvironment.Device.isMobile()||(s.sChip.on("mouseover",function(){s.onButtonOver()}),s.sChip.on("mouseout",function(){s.onButtonOut()})),s}t.sChipUI=i}(Chip=Chip||{}),!function(t){var e,i=PIXI.Graphics,n=PIXI.Container,a=(e=Composite.EventContainer,__extends(o,e),o.prototype.init=function(){this.tmpLimitMax=0,this.tmpLimitMin=0},o.prototype.initChipCover=function(t,e,i,n,a,o){void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=.85),this.chipCon.x=this.nowChipArr[0].sChip.width/2+(t-this.chipCon.width)/2,this.chipCon.y=this.nowChipArr[0].sChip.height/2+(e-this.chipCon.height)/2,this.chipOver.interactive=!0,this.chipOver.clear(),this.chipOver.beginFill(a,o),this.chipOver.drawRect(i,n,t,e),this.chipOver.endFill()},o.prototype.intiSaveBtn=function(){},o.prototype.initUI=function(){},o.prototype.initAddListen=function(){for(var e=this,t=0;t<this.chipArr.length;t++)DeviceAndEnvironment.Device.isMobile()?this.chipArr[t].on("tap",function(t){e.chipClicked(t)}):this.chipArr[t].on("click",function(t){e.chipClicked(t)}),this.setChipStatus(this.chipArr[t],!0),this.chipArr[t].visible=!1;DeviceAndEnvironment.Device.isMobile()?this.saveChipBtn.on("tap",function(){e.onSaveChip()}):this.saveChipBtn.on("click",function(){e.onSaveChip()}),null!=this.cancelChipBtn&&(DeviceAndEnvironment.Device.isMobile()?this.cancelChipBtn.on("tap",function(){e.onCancelChip()}):this.cancelChipBtn.on("click",function(){e.onCancelChip()}))},o.prototype.setCancelBtnVisible=function(t){null!=this.cancelChipBtn&&(this.cancelChipBtn.visible=t,this.updatePosition())},o.prototype.setPosInfo=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),0<(i=void 0===i?0:i)&&(this.showNum=i),0<t&&(this.vLan=t),0<e&&(this.hLan=e)},o.prototype.resetChipSize=function(t){void 0===t&&(t=1);for(var e=0;e<this.chipArr.length;e++)this.chipArr[e].scale.set(t);this.saveChipBtn.scale.set(t)},o.prototype.getPanelPos=function(){return{pH:this.chipCon.height,pW:this.chipCon.width}},o.prototype.setChipStatus=function(t,e){t.autoMouseStatus=e,t.setChipDown(e),t.sChip.tint=e?6710886:16777215},o.prototype.chipClicked=function(t){t=t.currentTarget;t.autoMouseStatus?(this.checkLimitLable(t),this.setChipStatus(t,!1)):(t.setCheck(!1),this.setChipStatus(t,!0)),this.sendChipValue()},o.prototype.onSaveChip=function(){for(var t,e,i=[],n=0;n<this.nowChipArr.length;n++){var a=this.nowChipArr[n];a.autoMouseStatus||i.push(parseInt(a.name))}0<i.length?(this.nowChipValue=i,t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_SETING_CHIP),(e={}).chipValue=i.toString(),t.data=e,this.event.dispatchEvent(t)):Tools.AlertPanel.showAlert(IPL.DictManager.getDict("SELECT_ONE_CHIP"),5e3,"",!0,!0)},o.prototype.onCancelChip=function(){var t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_CANCEL_SAVE);this.event.dispatchEvent(t)},o.prototype.checkLimitLable=function(t){var e=t.name;parseInt(e)>this.tmpLimitMax&&0!=this.tmpLimitMax||parseInt(e)<this.tmpLimitMin&&0!=this.tmpLimitMin?t.setCheck(!0):t.setCheck(!1)},o.prototype.sendChipValue=function(){for(var t=[],e=0;e<this.nowChipArr.length;e++){var i=this.nowChipArr[e];i.autoMouseStatus||t.push(parseInt(i.name))}var n=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_UPDATE_CHIP),a={};a.chipValue=t.toString(),n.data=a,this.event.dispatchEvent(n),0==t.length&&Tools.AlertPanel.showAlert(IPL.DictManager.getDict("SELECT_ONE_CHIP"),5e3,"",!0,!0)},o.prototype.setDisplayFiler=function(t){var e=t.split(",");this.nowChipArr=[],this.nowChipValue=[];for(var i=0;i<e.length;i++)for(var n,a=0;a<this.chipValueArr.length;a++)parseInt(e[i])==this.chipValueArr[a]&&(n=this.chipArr[a],this.nowChipArr.push(n),this.nowChipValue.push(this.chipValueArr[a]),n.setCheck(!0),this.setChipStatus(n,!0),n.visible=!0,a=this.chipValueArr.length+1);0<this.nowChipArr.length&&this.updatePosition()},o.prototype.updatePosition=function(){var t=0,e=0,i=0,n=0,t=this.showNum>this.nowChipArr.length?this.nowChipArr.length:this.showNum;if(this.showNum>this.nowChipArr.length){for(var a,o=0;o<t;o++)(a=this.nowChipArr[o]).x=this.hLan*o;e=a.x,i=a.y,n=a.width,a.height}else{for(var r=0;r<this.nowChipArr.length;r++){var s,h=String(r/this.showNum),h=parseInt(h);(s=this.nowChipArr[r]).x=this.hLan*(r-h*this.showNum),s.y=this.vLan*h,r==this.showNum-1&&(e=s.x)}i=s.y,n=s.width,s.height}this.btnContainer.x=(e+n-this.btnContainer.width)/2-this.nowChipArr[0].width/2,this.btnContainer.y=i+this.vLan},o.prototype.setHaveChip=function(t,e,i){if(void 0===i&&(i=0),0<(e=void 0===e?0:e)&&(this.tmpLimitMin=e),0<i&&(this.tmpLimitMax=i),""==t||null==t)for(var n=0;n<this.nowChipArr.length;n++){var a=this.nowChipArr[n];this.checkLimitLable(a),this.setChipStatus(a,!1)}else{this.resetChipStatus();for(var o=t.split(","),r=0;r<o.length;r++)for(var s=0;s<this.nowChipArr.length;s++){var h=this.nowChipArr[s];h.name==o[r]&&(this.checkLimitLable(h),this.setChipStatus(h,!1),s=this.chipArr.length+1)}}},o.prototype.resetChipStatus=function(){for(var t=0;t<this.nowChipArr.length;t++){var e=this.nowChipArr[t];e.setCheck(!1),this.setChipStatus(e,!0)}},o);function o(){var t=e.call(this)||this;return t.showNum=17,t.hLan=70,t.vLan=150,t.chipOver=new i,t.addChild(t.chipOver),t.chipCon=new n,t.addChild(t.chipCon),t.btnContainer=new n,t.chipCon.addChild(t.btnContainer),t.chipArr=[t.sChip1,t.sChip2,t.sChip5,t.sChip10,t.sChip20,t.sChip50,t.sChip100,t.sChip200,t.sChip500,t.sChip1000,t.sChip2000,t.sChip5000,t.sChip10000,t.sChip20000,t.sChip50000,t.sChip100000,t.sChip200000,t.sChip500000,t.sChip1000k,t.sChip2000k,t.sChip5000k,t.sChip10000k,t.sChip20000k,t.sChip50000k,t.sChip100000k],t.chipValueArr=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8],t.initUI(),t.intiSaveBtn(),t.initAddListen(),t.init(),t}t.SelectChipPanel=a}(Chip=Chip||{}),!function(t){e=Chip.SelectChipPanel,__extends(n,e),n.prototype.initUI=function(){for(var t=["1","2","5","10","20","50","100","200","500","1000","2000","5000","10000","20000","50000","100000","200000","500000","1000K","2000K","5000K","10000K","20000K","50000K","100000K"],e=0;e<this.chipArr.length;e++)this.chipArr[e]=new Chip.sChipUI("Multiple_chip"+String(t[e]),t[e],"Multiple_ChipAction0000",27,{fontFamily:"Arial",fontSize:20,fill:16777215,fontWeight:"bold"},null,"Multiple_Chip_down0000"),this.chipArr[e].name=String(this.chipValueArr[e]),this.chipCon.addChild(this.chipArr[e])},n.prototype.intiSaveBtn=function(){this.saveChipBtn=new ShareUI.Button("Multiple_ChipSave"),this.btnContainer.addChild(this.saveChipBtn)};var e,i=n;function n(){return e.call(this)||this}t.SelectChipUI=i}(ChipMultiGamesStyle=ChipMultiGamesStyle||{}),!function(r){i=Composite.EventContainer,__extends(e,i),e.prototype.initList=function(t){void 0===t&&(t=null),this._listArr=[]},e.prototype.initVideoListUI=function(t,e,i){for(var n in this._index=0,this._videoStruct=[],this._listArr=[],t){var a=new ShareUI.VideoMeter(i),o=(this._videoStruct[this._index]=new r.VideoStructure,this._videoStruct[this._index].videoMeter=a,this._videoStruct[this._index].ipName=n,this._videoStruct[this._index].ip=t[n],{});o.videoIp=t[n],this._listArr[this._index]=new ShareUI.Button(e),this._listArr[this._index].name=n,this._listArr[this._index].data=o,a.y=(this._listArr[this._index].height-a.height)/2,this._listArr[this._index].addChildAt(a,0),this._index++}this.initAddListen(),this.setPos()},e.prototype.initAddListen=function(){},e.prototype.setPos=function(){},e.prototype.setStreamingSpeedDetected=function(t){for(var e=0;e<this._videoStruct.length;e++){var i,n;for(n in t)if(n==this._videoStruct[e].ipName){i=t[n],this._videoStruct[e].videoMeter.setPercentage(i);break}}},e.prototype.onVideoSelect=function(t){t=t.currentTarget,this._selectedIPName=t.name,this.setSelectIP(),t=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.SELECT_VIDEO_IP);t.data=new Object,t.data.videolabel=this._selectedIPName,t.data.closePanel=!0,this.event.dispatchEvent(t)},e.prototype.setSelectIP=function(){for(var t=0;t<this._listArr.length;t++)this._listArr[t].name==this._selectedIPName?(this._listArr[t].autoMouseStatus=!1,this._listArr[t].setMouseStatus(!1),this._listArr[t].setStatus("down")):(this._listArr[t].autoMouseStatus=!0,this._listArr[t].setMouseStatus(!0),this._listArr[t].setStatus("up"))},e.prototype.panelSwitch=function(t){t&&this.setGroupIP(),this.visible=t},e.prototype.setOnlyIP=function(t,e){void 0===e&&(e=!1),"waiting"!=t||this.visible||e||(this._checkGroupBoolean=!1),e&&"waiting"==t&&this.setBreakStatus()},e.prototype.setBreakStatus=function(){this.tmpBreakTrue||(this.tmpBreakTrue=!0,Tools.AlertPanel.showAlert(IPL.DictManager.getDict("BREAK_VIDEO_CONNECT"),3e3,""))},e.prototype.setVideoList=function(t,e,i){this._storeTime=(new Date).getTime(),this._checkGroupBoolean=!1,0==this._index&&(this.randomPingOrderAndRenameCdnKey(t),this.initVideoListUI(t,e,i)),this.setGroupIP()},e.prototype.randomPingOrderAndRenameCdnKey=function(t){this._randomPingOrderAry=[];var e,i=0;for(e in t){var n=Math.round(1e3*Math.random()%(i+1));this._randomPingOrderAry.splice(n,0,i),i++}var a,n=-1;for(a in t)-1!=a.indexOf("-xnn")&&(t[a.split("-xnn")[0]]=t[a],delete t[a],n=this._randomPingOrderAry[0],this._randomPingOrderAry[0]=i-1);if(-1!=n)for(var o=1;o<this._randomPingOrderAry.length;o++)if(this._randomPingOrderAry[o]==i-1){this._randomPingOrderAry[o]=n;break}},e.prototype.setGroupIP=function(){var t=this;if(!this._checkGroupBoolean){this._checkGroupBoolean=!0,this._checkTimer=setInterval(function(){t.checkInterval()},this._timeInterval);for(var e=this.walk=0;e<this._index;e++)this._videoStruct[e].videoMeter.setPercentage(0),this._videoStruct[e].videoMeter.visible=!0}},e.prototype.checkGoodIP=function(){for(var t=-1,e=0;e<this._index;e++)this._videoStruct[e].checkPingClass>t&&(t=this._videoStruct[e].checkPingClass,this._videoStruct[e].ip,this._selectedIPName=this._videoStruct[e].ipName);this.setSelectIP();var i=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.SELECT_VIDEO_IP);i.data=new Object,i.data.videolabel=this._selectedIPName,i.data.closePanel=!1,this.event.dispatchEvent(i)},e.prototype.checkInterval=function(){if(this.walk==this._index)clearInterval(this._checkTimer);else for(var t=this.connectNum;this.walk<this._index&&0<t;)this._videoStruct[this._randomPingOrderAry[this.walk]].addEventListener(VideoShare.IPCheckEvent.PORT_STATUS,this.onIpStatus),this._videoStruct[this._randomPingOrderAry[this.walk]].checkIP(),this.walk++,t--},e.prototype.reset=function(){clearInterval(this._checkTimer),this._checkGroupBoolean=!1};var i,t=e;function e(t){var e=i.call(this,t=void 0===t?null:t)||this;return e.connectNum=1,e.walk=0,e._timeInterval=200,e._index=0,e._checkGroupBoolean=!0,e.tmpBreakTrue=!1,e._finishCount=0,e.onIpStatus=function(t){e._finishCount++,1<=e._finishCount&&e.checkGoodIP(),e.event.dispatchEvent(t.clone())},e._videoStruct=new Array,e.initList(t),e}r.VideoSignalPanel=t;n=H5EventdispatcherCore.EventDispatcher,__extends(a,n),a.prototype.checkIP=function(){this._checkIP.setIP(this.ip)},a.prototype.onPortStatus=function(t){var e=t.data;2e3<e.avg&&e.avg<=5e3?this.checkPingClass=25:500<e.avg&&e.avg<=2e3?this.checkPingClass=50:100<e.avg&&e.avg<=500?this.checkPingClass=75:e.avg<=100?this.checkPingClass=100:this.checkPingClass=0,this.dispatchEvent(t.clone()),this.videoMeter.setPercentage(this.checkPingClass)};var n,t=a;function a(){var e=n.call(this)||this;return e.ipError=!1,e.checkPingClass=0,e._checkIP=new s,e._checkIP.addEventListener(VideoShare.IPCheckEvent.PORT_STATUS,function(t){e.onPortStatus(t)}),e._checkIP.addEventListener(VideoShare.IPCheckEvent.IP_FORMAT_ERROR,function(t){e.onPortStatus(t)}),e}r.VideoStructure=t;o=H5EventdispatcherCore.EventDispatcher,__extends(h,o),h.prototype.setIP=function(t,e){void 0===e&&(e=3),this._totalTime=0,this._currentCount=0,this._timeOut=500*e,this._ip=t,this.repeatConnect()},h.prototype.onPingTimeOut=function(){this._pingOK||(this._ws.close(),this._totalTime+=1e3,this.repeatConnect())},h.prototype.repeatConnect=function(){var t;this._currentCount==this._pingCount?((t=new VideoShare.IPCheckEvent(VideoShare.IPCheckEvent.PORT_STATUS)).data=new Object,t.data.avg=this._totalTime/this._pingCount,o.prototype.dispatchEvent.call(this,t)):(this._currentCount++,this._pingOK=!1,IPL.UrlParameter.isSecure)},h.prototype.evt_ws_onmessage=function(t){t=JSON.parse(t.data);"NetConnect.Success"==t.NetStatusEvent?this.portOK():"PingEvent"==t.event&&(this._totalTime+=(new Date).getTime()-this._startTime,this._ws.close(),this.repeatConnect())},h.prototype.portOK=function(){var t=new Object;this._startTime=(new Date).getTime(),t.event="PingEvent",this._pingOK=!0,this._ws.send(JSON.stringify(t))};var o,s=h;function h(){var t=o.call(this)||this;return t._pingCount=2,t}r.IPCheck=s}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Container,n=PIXI.Text,a=(e=SharePanel.VideoSignalPanel,__extends(o,e),o.prototype.initList=function(t){void 0===t&&(t=null),this._listArr=[],this._background=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChild(this._background),this._listCon=new i,this.addChild(this._listCon)},o.prototype.setPos=function(){for(var t={fontFamily:"Arial",fontWeight:"bold",fontSize:"16px",fill:"#FFFFFF"},e=0;e<this._listArr.length;e++){this._videoStruct[e].videoMeter.x=5;var i=new n(this._listArr[e].name,t);i.x=45,i.y=this._listArr[e].height/2,i.anchor.set(0,.5),Tools.AdjustText.adjustFontSize(i,14,99),this._listArr[e].addChildAt(i,1),this._listCon.addChild(this._listArr[e]),this._listArr[e].y=-((e+1)*this._listArr[e].height),this._listArr[e].x=1}this._background.y=-this._listCon.height-1,this._background.height9=this._listCon.height+2,this._background.width9=this._listCon.width+1},o.prototype.initAddListen=function(){for(var e=this,t=0;t<this._listArr.length;t++)DeviceAndEnvironment.Device.isMobile()?(this._listArr[t].on("touchstart",function(t){e._clickPos=t.data.getLocalPosition(e.parent)}),this._listArr[t].on("touchend",function(t){e.End(t)})):(this._listArr[t].on("mousedown",function(t){e._clickPos=t.data.getLocalPosition(e.parent)}),this._listArr[t].on("mouseup",function(t){e.End(t)}),this._listArr[t].on("mouseupoutside",function(){e._clickPos=null}),this._listArr[t].on("touchstart",function(t){e._clickPos=t.data.getLocalPosition(e.parent)}),this._listArr[t].on("touchend",function(t){e.End(t)})),this._listArr[t].on("touchendoutside",function(){e._clickPos=null})},o.prototype.End=function(t){var e,i;null!=this._clickPos&&(i=t.data.getLocalPosition(this.parent),e=Math.abs(i.x-this._clickPos.x),i=Math.abs(i.y-this._clickPos.y),e<15)&&i<15&&this.onVideoSelect(t),this._clickPos=null},o.prototype.firSetVideoLink=function(t){for(var e,i=0;i<this._listArr.length;i++)this._listArr[i].name==t&&(e=this._listArr[i],this._selectedIPName=e.name,this.setSelectIP())},o);function o(t){return void 0===t&&(t=null),e.call(this)||this}t.VideoSignalPanel=a}(ShareMultiGames=ShareMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.initText=function(){},n.prototype.initUI=function(){},n.prototype.initAddListen=function(){var t,e=this;null!=this._bgmSwitch&&(this._bgmBar.event.addEventListener(VideoShare.ScrollBarEvent.CHANGE,function(t){e.onBgmChange(t)}),DeviceAndEnvironment.Device.isMobile()?this._bgmSwitch.on("tap",function(){e.onBgmSwitch()}):this._bgmSwitch.on("click",function(){e.onBgmSwitch()})),null!=this._dubSwitch&&(this._dubBar.event.addEventListener(VideoShare.ScrollBarEvent.CHANGE,function(t){e.onDubChange(t)}),DeviceAndEnvironment.Device.isMobile()?this._dubSwitch.on("tap",function(){e.onDubSwitch()}):this._dubSwitch.on("click",function(){e.onDubSwitch()})),null!=this._soundEffectSwitch&&(this._soundEffectBar.event.addEventListener(VideoShare.ScrollBarEvent.CHANGE,function(t){e.onSoundEffectChange(t)}),DeviceAndEnvironment.Device.isMobile()?this._soundEffectSwitch.on("tap",function(){e.onSoundEffectSwitch()}):this._soundEffectSwitch.on("click",function(){e.onSoundEffectSwitch()})),null!=this._muteBtn&&(DeviceAndEnvironment.Device.isMobile()?this._muteBtn.on("tap",function(){e.onMuteBtn()}):this._muteBtn.on("click",function(){e.onMuteBtn()})),null!=this._musicCombobox&&(DeviceAndEnvironment.Device.isMobile()?this._musicCombobox.on("tap",function(){e.onComboboxClicked()}):this._musicCombobox.on("click",function(){e.onComboboxClicked()}),this._musicList.event.addEventListener(VideoShare.ListEvent.SELECT_LIST,function(t){e.onSelected(t)}),t=SoundsManager.VideoSoundsManager.getInstance(),this._soundEvent=function(t){e.changeMusicList(t)},t.addEventListener(H5Event.H5BaseEvent.CHANGE,this._soundEvent))},n.prototype.initMusicListen=function(){var t,e,i=this;document.hidden,t="visibilitychange",e="visibilityState",document.addEventListener(t,function(){i.setMusicStatus(document[e])},!1)},n.prototype.changeMusicList=function(t){for(var e=0;e<VideoAssetManager.Informantion.bgMusicList.length&&t.sendObject.id!=VideoAssetManager.Informantion.bgMusicList[e];e++);this._comboBoxTxt.text=VideoAssetManager.Informantion.bgMusicNameList[e]},n.prototype.setMusicStatus=function(t){"visible"==t?(null!=this._dubSwitch&&this._dubSwitch.autoMouseStatus&&this.setDubVolumn(this._dubBar.getBarPos()),null!=this._soundEffectSwitch&&this._soundEffectSwitch.autoMouseStatus&&this.setSoundEffectVolumn(this._soundEffectBar.getBarPos()),null!=this._bgmSwitch&&this._bgmSwitch.autoMouseStatus&&this.setBgmVolumn(this._bgmBar.getBarPos())):"hidden"==t&&(null!=this._dubSwitch&&this.setDubVolumn(0),null!=this._soundEffectSwitch&&this.setSoundEffectVolumn(0),null!=this._bgmSwitch)&&this.setBgmVolumn(0)},n.prototype.onBgmSwitch=function(t){void 0===t&&(t=!1),this._bgmSwitch.autoMouseStatus=!this._bgmSwitch.autoMouseStatus,this._bgmSwitch.autoMouseStatus?(this._bgmSwitch.setStatus("up"),this._bgmBar.setLock(!1),this.setBgmVolumn(this._bgmBar.getBarPos())):(this._bgmSwitch.setStatus("down"),this._bgmBar.setLock(!0),this.setBgmVolumn(0)),t||((t=new VideoShare.MusicEvent(VideoShare.MusicEvent.BGM_CHANGE)).isMute=!this._bgmSwitch.autoMouseStatus,this.event.dispatchEvent(t),this.checkMuteBtn())},n.prototype.onDubSwitch=function(t){void 0===t&&(t=!1),this._dubSwitch.autoMouseStatus=!this._dubSwitch.autoMouseStatus,this._dubSwitch.autoMouseStatus?(this._dubSwitch.setStatus("up"),this._dubBar.setLock(!1),this.setDubVolumn(this._dubBar.getBarPos())):(this._dubSwitch.setStatus("down"),this._dubBar.setLock(!0),this.setDubVolumn(0)),t||((t=new VideoShare.MusicEvent(VideoShare.MusicEvent.DUB_CHANGE)).isMute=!this._dubSwitch.autoMouseStatus,this.event.dispatchEvent(t),this.checkMuteBtn())},n.prototype.onSoundEffectSwitch=function(t){void 0===t&&(t=!1),this._soundEffectSwitch.autoMouseStatus=!this._soundEffectSwitch.autoMouseStatus,this._soundEffectSwitch.autoMouseStatus?(this._soundEffectSwitch.setStatus("up"),this._soundEffectBar.setLock(!1),this.setSoundEffectVolumn(this._soundEffectBar.getBarPos())):(this._soundEffectSwitch.setStatus("down"),this._soundEffectBar.setLock(!0),this.setSoundEffectVolumn(0)),t||((t=new VideoShare.MusicEvent(VideoShare.MusicEvent.EFFECT_CHANGE)).isMute=!this._soundEffectSwitch.autoMouseStatus,this.event.dispatchEvent(t),this.checkMuteBtn())},n.prototype.onBgmChange=function(t){this.setBgmVolumn(t.value),this._bgmSwitch.autoMouseStatus||this.onBgmSwitch();var e=new VideoShare.MusicEvent(VideoShare.MusicEvent.BGM_CHANGE);e.value=t.value,this.event.dispatchEvent(e)},n.prototype.setBgmVolumn=function(t,e){void 0===e&&(e=!1),SoundsManager.VideoSoundsManager.getInstance().setGroupVolume(SoundsManager.VideoSoundsManager.BGList,t/100),e&&this._bgmBar.setBarValue(t)},n.prototype.setBgmBtn=function(t){this._bgmSwitch.autoMouseStatus=t,this._bgmSwitch.autoMouseStatus?(this._bgmSwitch.setStatus("up"),this._bgmBar.setLock(!1),this.setBgmVolumn(this._bgmBar.getBarPos()),null!=this._muteBtn&&(this._muteBtn.autoMouseStatus=!0,this._muteBtn.setStatus("up"))):(this._bgmSwitch.setStatus("down"),this._bgmBar.setLock(!0),this.setBgmVolumn(0)),this.checkMuteBtn()},n.prototype.onDubChange=function(t){this.setDubVolumn(t.value),this._dubSwitch.autoMouseStatus||this.onDubSwitch();var e=new VideoShare.MusicEvent(VideoShare.MusicEvent.DUB_CHANGE);e.value=t.value,this.event.dispatchEvent(e)},n.prototype.setDubVolumn=function(t,e){void 0===e&&(e=!1);var i=SoundsManager.VideoSoundsManager.getInstance();i.setVolume("BettingStarted",t/100),i.setVolume("BettingStopped",t/100),e&&this._dubBar.setBarValue(t)},n.prototype.setDubBtn=function(t){this._dubSwitch.autoMouseStatus=t,this._dubSwitch.autoMouseStatus?(this._dubSwitch.setStatus("up"),this._dubBar.setLock(!1),this.setDubVolumn(this._dubBar.getBarPos()),null!=this._muteBtn&&(this._muteBtn.autoMouseStatus=!0,this._muteBtn.setStatus("up"))):(this._dubSwitch.setStatus("down"),this._dubBar.setLock(!0),this.setDubVolumn(0)),this.checkMuteBtn()},n.prototype.onSoundEffectChange=function(t){this.setSoundEffectVolumn(t.value),this._soundEffectSwitch.autoMouseStatus||this.onSoundEffectSwitch();var e=new VideoShare.MusicEvent(VideoShare.MusicEvent.EFFECT_CHANGE);e.value=t.value,this.event.dispatchEvent(e)},n.prototype.setSoundEffectVolumn=function(t,e){void 0===e&&(e=!1);var i=SoundsManager.VideoSoundsManager.getInstance();i.setVolume("betSucceed",t/100),i.setVolume("countDown",t/100),e&&this._soundEffectBar.setBarValue(t)},n.prototype.setSoundEffectBtn=function(t){this._soundEffectSwitch.autoMouseStatus=t,this._soundEffectSwitch.autoMouseStatus?(this._soundEffectSwitch.setStatus("up"),this._soundEffectBar.setLock(!1),this.setSoundEffectVolumn(this._soundEffectBar.getBarPos()),null!=this._muteBtn&&(this._muteBtn.autoMouseStatus=!0,this._muteBtn.setStatus("up"))):(this._soundEffectSwitch.setStatus("down"),this._soundEffectBar.setLock(!0),this.setSoundEffectVolumn(0)),this.checkMuteBtn()},n.prototype.onSelected=function(t){this._musicList.listSwitch(!1),this._musicCombobox.autoMouseStatus=!0,this._comboBoxTxt.text=t.text;for(var e=0;e<VideoAssetManager.Informantion.bgMusicNameList.length&&t.text!=VideoAssetManager.Informantion.bgMusicNameList[e];e++);SoundsManager.VideoSoundsManager.getInstance().play(VideoAssetManager.Informantion.bgMusicList[e],!1)},n.prototype.onComboboxClicked=function(){this._musicCombobox.autoMouseStatus=!this._musicCombobox.autoMouseStatus,this._musicCombobox.autoMouseStatus?(this._musicCombobox.setStatus("up"),this._musicList.listSwitch(!1)):(this._musicCombobox.setStatus("down"),this._musicList.listSwitch(!0))},n.prototype.setMuteBtn=function(t){this._muteBtn.autoMouseStatus=t,this._muteBtn.autoMouseStatus?this._muteBtn.setStatus("up"):this._muteBtn.setStatus("down")},n.prototype.onMuteBtn=function(){this._muteBtn.autoMouseStatus=!this._muteBtn.autoMouseStatus,this._muteBtn.autoMouseStatus?this._muteBtn.setStatus("up"):this._muteBtn.setStatus("down"),null!=this._bgmSwitch&&(this._bgmSwitch.autoMouseStatus=!this._muteBtn.autoMouseStatus,this.onBgmSwitch(!0)),null!=this._dubSwitch&&(this._dubSwitch.autoMouseStatus=!this._muteBtn.autoMouseStatus,this.onDubSwitch(!0)),null!=this._soundEffectSwitch&&(this._soundEffectSwitch.autoMouseStatus=!this._muteBtn.autoMouseStatus,this.onSoundEffectSwitch(!0));var t=new VideoShare.MusicEvent(VideoShare.MusicEvent.MUTE_CHANGE);t.isMute=!this._muteBtn.autoMouseStatus,this.event.dispatchEvent(t)},n.prototype.checkMuteBtn=function(){var t,e;null!=this._muteBtn&&(t=0,null!=this._bgmSwitch&&t++,null!=this._dubSwitch&&t++,null!=this._soundEffectSwitch&&t++,e=0,null==this._bgmSwitch||this._bgmSwitch.autoMouseStatus||e++,null==this._dubSwitch||this._dubSwitch.autoMouseStatus||e++,null==this._soundEffectSwitch||this._soundEffectSwitch.autoMouseStatus||e++,t==e?(this._muteBtn.autoMouseStatus=!1,this._muteBtn.setStatus("down")):(this._muteBtn.autoMouseStatus=!0,this._muteBtn.setStatus("up")))},n.prototype.openCloseList=function(t){this._musicCombobox.autoMouseStatus=t,this._musicCombobox.autoMouseStatus?(this._musicCombobox.setStatus("up"),this._musicList.listSwitch(!1)):(this._musicCombobox.setStatus("down"),this._musicList.listSwitch(!0))};var e,i=n;function n(){var t=e.call(this)||this;return t.initUI(),t.initText(),t.initMusicListen(),t}t.MusicPanel=i}(SharePanel=SharePanel||{}),!function(t){var i,e=PIXI.Graphics,n=(i=SharePanel.MusicPanel,__extends(a,i),a.prototype.setMuteBtnUI=function(t){this._muteBtn=t,this.initAddListen()},a.prototype.initText=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_SoundTxt_"+IPL.UrlParameter.lang),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SoundeffectIcon")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SoundeffectTxt_"+IPL.UrlParameter.lang));this.addChild(t)},a.prototype.initUI=function(){this.interactive=!0;var t=new e;t.beginFill(0,.8),t.drawRect(0,0,1440,900),t.endFill(),this.addChild(t),this._back=PIXILayoutTool.DisplayObject.createImage("Multiple_SoundBG"),this.addChild(this._back),this._closeBtn=new ShareUI.Button("Multiple_CloseBtn"),this._closeBtn.x=986,this._closeBtn.y=373,this.addChild(this._closeBtn),this._soundEffectSwitch=new ShareUI.Button("Multiple_SoundMuteBtn"),this.addChild(this._soundEffectSwitch),this._soundEffectSwitch.y=443,this._soundEffectBar=new r("Multiple_Soundcontrol","Multiple_SoundBarBG0000","Multiple_SoundBar0000","",18,!0),this._soundEffectBar.Unlock(),this._soundEffectBar.setNoType(!1),this.addChild(this._soundEffectBar),this._soundEffectBar.y=453,this._soundEffectBar.reDrewSensorH(34),this._soundEffectBar.x=727,this._soundEffectSwitch.x=680},a.prototype.initAddListen=function(){var e=this;i.prototype.initAddListen.call(this),DeviceAndEnvironment.Device.isMobile()?this._closeBtn.on("tap",function(){e.visible=!1;var t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.SETTING_CLOSE);t.mySwitch=e.visible,e.event.dispatchEvent(t)}):(this._closeBtn.on("click",function(){e.visible=!1;var t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.SETTING_CLOSE);t.mySwitch=e.visible,e.event.dispatchEvent(t)}),this._closeBtn.on("tap",function(){e.visible=!1;var t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.SETTING_CLOSE);t.mySwitch=e.visible,e.event.dispatchEvent(t)}))},a);function a(){return i.call(this)||this}t.MusicPanel=n;o=ShareUI.DragBar,__extends(s,o),s.prototype.Unlock=function(){this.bar.off("mouseout",this.DragEnd)};var o,r=s;function s(){return null!==o&&o.apply(this,arguments)||this}t.UnlockDragBar=r}(ShareMultiGames=ShareMultiGames||{}),!function(t){var e,r=PIXI.Text,s=PIXI.Container,h=PIXI.Graphics,i=(__extends(n,e=s),n.prototype.initBG=function(t,e){this._pointInfo=t,this._bg=new h,this._bg.beginFill(t.BG.color,t.BG.alpha||1),t.BG.lineColor&&this._bg.lineStyle(1,t.BG.lineColor,1),this._bg.drawRect(0,0,t.BG.width,t.BG.height),this.addChild(this._bg),this._titleBg=new h,this._titleBg.beginFill(t.Title.color,1),this._titleBg.drawRect(1,1,t.BG.width-2,t.Title.height),this.addChild(this._titleBg),this._conTitle=new s,this.addChild(this._conTitle);var i=String(e.Title).split("*");this._aryTitle=[];for(var n=0;n<i.length;n++)this._aryTitle[n]=new r(i[n],{fontFamily:"微軟正黑體",fontSize:t.Title.style.fontSize,fill:t.Title.style.fill,fontWeight:"800"}),0<n&&(this._aryTitle[n].x=this._aryTitle[n-1].width+this._aryTitle[n-1].x),1==n&&(this._aryTitle[n].style.fill=16711680),this._conTitle.addChild(this._aryTitle[n]);this._conTitle.x=(t.BG.width-this._conTitle.width)/2,this._conTitle.y=t.Title.height/2-this._conTitle.height/2,this._btnL=new ShareUI.Button(t.BG.btnName,!1,e.Btn.txtL),this._btnL.name=e.Btn.nameL,this._btnL.x=this._pointInfo.BG.width/2-24-this._btnL.width,this.addChild(this._btnL),this._btnR=new ShareUI.Button(t.BG.btnName,!1,e.Btn.txtR),this._btnR.name=e.Btn.nameR,this._btnR.x=this._pointInfo.BG.width/2+24,this.addChild(this._btnR),this._btnL.y=this._btnR.y=t.BG.btnY,this._aryRow=[],this.isLoyal=!!e.Row0.unit;for(var a=!!e.Row0.tickY,o=0;o<2;o++)this._aryRow[o]=new l,this._aryRow[o].initUI(this.isLoyal,t,e["Row"+o],a),this.addChild(this._aryRow[o]);t.close&&(this._btnClose=new ShareUI.Button(t.close.btnName),this._btnClose.x=this._titleBg.width-(e.TitleX||t.content.X)-this._btnClose.width,this._btnClose.y=t.Title.height/2-this._btnClose.height/2,this.addChild(this._btnClose)),this.initAddListen()},n.prototype.initAddListen=function(){var e=this;DeviceAndEnvironment.Device.isMobile()?(this._btnR.on("tap",function(t){e.onRuleCLK(t)}),this._btnL.on("tap",function(t){e.onRuleCLK(t)}),this._btnClose&&this._btnClose.on("tap",function(t){e.visible=!1})):(this._btnR.on("click",function(t){e.onRuleCLK(t)}),this._btnL.on("click",function(t){e.onRuleCLK(t)}),this._btnClose&&this._btnClose.on("click",function(t){e.visible=!1,e.mEve.emit("removeRect")}))},n.prototype.adjustPoint=function(t){var e=String(t),t=String(t).split("."),i=t[0].split(""),n=[];if(9<i.length)e="999,999,999+";else{for(;3<i.length;)n.unshift(i.splice(i.length-3,3).join(""));n.unshift(i.join("")),t[0]=n.join(","),e=t.join(".")}return e},n.prototype.onRuleCLK=function(t){switch(t.currentTarget.name){case"History":IPL.UrlParameter.gotoHonorPoint();break;case"Explanation":case"ScoreTxt":DeviceAndEnvironment.Device.isMobile()?IframeController.setIframe(this._Url):window.open(this._Url,"_blank");break;case"Receive":this.mEve.emit("Receive")}},n.prototype.setLoyalPlus=function(t){this._aryTitle[1].text=t},n.prototype.setURL=function(t){this._Url=t},n.prototype.setTxt=function(t,e,i){void 0===i&&(i=null),this.isLoyal?(this._aryRow[t].setTick(i<=e),i<=e?this._aryRow[t].setTxt("*"+IPL.DictManager.getDict("ACTIVITY_ACHIEVED")):this._aryRow[t].setTxt(IPL.DictManager.getDict("ACTIVITY_CURRENTLY")+"*"+this.adjustPoint(e)+"* /"+IPL.DictManager.getDict("ACTIVITY_REQUIRED")+"*"+this.adjustPoint(i))):this._aryRow[t].setTxt("*"+this.adjustPoint(e))},n);function n(){var t=e.call(this)||this;return t.mEve=new PIXI.utils.EventEmitter,t}t.PointInfo=i;__extends(o,a=s),o.prototype.initUI=function(t,e,i,n){t&&(this.tick=PIXI.Sprite.fromImage("Hall_activityTick_off0000"),this.tick.anchor.set(0,.5),this.addChild(this.tick)),this.title=new r(i.Title,{fontFamily:"微軟正黑體",fontSize:e.Title.style.fontSize,fill:e.content.style.fill,wordWrap:!0,wordWrapWidth:e.Title.wordWrapWidth}),this.title.anchor.set(0,.5),this.addChild(this.title),this.box=new h,this.box.beginFill(e.Box.color,1),e.Box.lineColor&&this.box.lineStyle(1,e.Box.lineColor,1),this.box.drawRoundedRect(0,0,i.boxW,e.Box.height,e.Box.radius),this.addChild(this.box),t&&(this.unit=new r(i.unit,{fontFamily:"微軟正黑體",fontSize:e.content.style.fontSize,fill:e.content.style.fill}),this.unit.anchor.set(0,.5),this.addChild(this.unit)),n?this.initPhoneUI(t,e,i):this.initPCUI(t,e,i),this.txtBox=[],this.conTxt=new s;for(var a=0;a<4;a++)this.txtBox[a]=new r(" ",{fontFamily:"微軟正黑體",fontSize:e.content.style.fontSize,fill:e.Box.txtStrFill}),a%2==1&&(this.txtBox[a].style.fill=e.Box.txtNumFill),0<a&&(this.txtBox[a].x=this.txtBox[a-1].x+this.txtBox[a-1].width),this.conTxt.addChild(this.txtBox[a]);this.addChild(this.conTxt),this.conTxt.x=this.box.x+this.box.width/2-this.conTxt.width/2,this.conTxt.y=this.box.y+this.box.height/2-this.conTxt.height/2},o.prototype.initPCUI=function(t,e,i){this.title.x=e.content.X,this.title.y=i.titleY,this.box.y=i.boxY,t?(this.box.x=e.Box.X,this.tick.x=e.content.X,this.tick.y=i.titleY,this.title.x+=this.tick.width+6,this.unit.x=e.Box.X+i.boxW+20,this.unit.y=i.titleY):this.box.x=i.boxX},o.prototype.initPhoneUI=function(t,e,i){t&&(this.tick.x=e.Box.X-100,this.tick.y=i.tickY,this.unit.x=e.Box.X+i.boxW+20,this.unit.anchor.y=.5,this.unit.y=i.boxY+this.box.height/2),this.title.x=e.Box.X,this.title.y=i.titleY,this.box.x=e.content.X,this.box.y=i.boxY},o.prototype.setTick=function(t){this.tick.texture=t?PIXI.Texture.fromFrame("Hall_activityTick_on0000"):PIXI.Texture.fromFrame("Hall_activityTick_off0000")},o.prototype.setTxt=function(t){for(var e=t.split("*"),i=0;i<4;i++)this.txtBox[i].text=e[i],0<i&&(this.txtBox[i].x=this.txtBox[i-1].x+this.txtBox[i-1].width);this.conTxt.x=this.box.x+this.box.width/2-this.conTxt.width/2,this.conTxt.y=this.box.y+this.box.height/2-this.conTxt.height/2};var a,l=o;function o(){return a.call(this)||this}}(Tools=Tools||{}),function(){function l(){}return l.setIframe=function(t){var e;null==l.iframeContainer&&(l.iframeContainer=document.getElementById("iframeContainer")),null==l.iframe&&((l.iframe=document.getElementById("iframe")).onload=function(){l.iframe.contentWindow.document&&(l.iframe.contentWindow.document.documentElement.addEventListener("touchstart",function(t){1<t.touches.length&&t.preventDefault()},!1),DeviceAndEnvironment.Device.iOS())&&l.iframe.contentWindow.document.documentElement.addEventListener("gesturestart",function(t){t.preventDefault()},!1)}),null==l.ifcBackBtn&&null!=document.getElementById("iframe-back")&&((l.ifcBackBtn=document.getElementById("iframe-back")).style.cursor="pointer",DeviceAndEnvironment.Device.isMobile()?l.ifcBackBtn.addEventListener("click",function(){l.setIframe()}):l.ifcBackBtn.addEventListener("mouseup",function(){l.setIframe()})),DeviceAndEnvironment.Device.isMobile()?null!=t?null==l.src||l.iframe.src!=t?(l.iframe.src="about:blank?timestamp="+(new Date).getTime(),l.iframe.addEventListener("load",e=function(){l.iframe.removeEventListener("load",e),l.src=t,l.iframe.src=t,l.iframeContainer.style.display="block",null!=l.ifcBackBtn&&(l.ifcBackBtn.style.display="block")})):(l.iframeContainer.style.display="block",null!=l.ifcBackBtn&&(l.ifcBackBtn.style.display="block")):(l.iframeContainer.style.display="none",null!=l.ifcBackBtn&&(l.ifcBackBtn.style.display="none"),document.getElementById("iframeContainer")):null!=t?(l.iframe.src=t,l.iframeContainer.style.display="block",document.body.appendChild(l.iframeContainer),null!=l.ifcBackBtn&&(l.ifcBackBtn.style.display="block",document.body.appendChild(l.ifcBackBtn))):(l.iframe.src="",l.iframeContainer.style.display="none",null!=l.ifcBackBtn&&(l.ifcBackBtn.style.display="none"),null!=document.getElementById("iframeContainer")&&(document.body.removeChild(l.iframeContainer),null!=l.ifcBackBtn)&&document.body.removeChild(l.ifcBackBtn))},l.checkIframe=function(){return document.body.contains(l.iframe)},l.checkIframeVisible=function(){return"block"===l.iframeContainer.style.display},l.resizeIframe=function(){l.iframeContainer&&l.resizeDOM(l.iframeContainer,l.iframeViewSetting),l.ifcBackBtn&&l.resizeDOM(l.ifcBackBtn,l.ifcBackBtnViewSetting)},l.resizeDOM=function(t,e,i){void 0===i&&(i=l.iframeContainerSetting);var n,a,o=parent.window.innerWidth,r=parent.window.innerHeight,s=o/i.width,h=r/i.height,o=h<=s?(a=o/2-i.width*(n=h)/2,0):(a=0,r/2-i.height*(n=s)/2);t&&(t.style.width=e.width*n+"px",t.style.height=e.height*n+"px",t.style.left=e.x*n+a+"px",t.style.top=e.y*n+o+"px")},l.resizeDOMFull=function(t,e,i){void 0===i&&(i={width:1080,height:1680});var i=parent.window.innerWidth,n=parent.window.innerHeight;t&&(t.style.width=i+"px",t.style.height=n+"px")},l.showScrollBar=function(t,e){"both"==(e=void 0===e?"both":e)?l.iframeContainer.style.overflow=t:"x"==e?l.iframeContainer.style.overflowX=t:"y"==e&&(l.iframeContainer.style.overflowY=t)},l.betHistory=function(t){t=t.domain+"/ipl/portal.php/game/betrecord_search/kind3?GameCode=1&GameType="+t.gameType+"&sid="+t.sid+"&lang="+t.lang+"&rnd"+t.vnd;l.setIframe(t)},l.help=function(t){t=t.domain+"/ipl/portal.php/game/rule?gametype="+t.gameType+"&lang="+t.lang+"&State="+t.status+"&rnd"+t.vnd;l.setIframe(t)},l.msgHistory=function(t){t=t.domain+"/ipl/portal.php/game/bulletin?GameType="+t.gameType+"&GameCode="+t.gameCode+"&lang="+t.lang+"&sid="+t.sid+"&rnd"+t.vnd;l.setIframe(t)},l.gotoTargetUrl=function(t){l.setIframe(t)},l.wheel=function(t){t=t.domain+"/ipl/app/flash/pig/game/videoH5/WheelReward/index.html?sid="+t.sid;l.setIframe(t)},l.iframeContainerSetting={width:640,height:1136},l.iframeViewSetting={x:0,y:0,width:640,height:1136},l.ifcBackBtnViewSetting={x:0,y:0,width:30,height:35},l.src=null,l}()),SharePanel,ShareMultiGames,ShareMultiGames,SharePanel,BacLogicShare,DtfLogicShare,Bac21LogicShare,SedieLogicShare,ThreeCardLogicShare,AceyDeuceyLogicShare,Bac28LogicShare,SharePanel,SharePanel,Tools,Tools,SharePanel,SharePanel,SharePanel,SharePanel,Tools,Tools,ShareRoad,ShareRoad,ShareRoad,ShareRoad,ShareRoad,ShareRoad,ShareRoad,ShareRoad,SharePanel,ShareRoad,SharePanel,SharePanel,SharePanel,SharePanel,SharePanel,SharePanel,SharePanel,SharePanel,SharePanel,SharePanel,SharePanel,HallRoad,SicLogicShare,HallRoad,HallRoad,SharePanel,HallRoad,ShareMultiGames,Tools,ShareMultiGames,ShareMultiGames,Chip,le=(!function(t){var e,i=PIXI.Sprite,n=PIXI.Texture,a=PIXI.Container,o=(e=Composite.EventContainer,__extends(r,e),r.prototype.initUI=function(){var e=this;this.pointCon=new a,this.pointCon.name="conPoint",this.addChild(this.pointCon),this.pointCon.visible=!1,this.pointCon.interactive=!0,this.pointCon.buttonMode=!0,DeviceAndEnvironment.Device.isMobile()?this.pointCon.on("tap",function(t){return e.checkPanel(t.currentTarget.name)}):this.pointCon.on("click",function(t){return e.checkPanel(t.currentTarget.name)}),this.activitySP=new i,this.activitySP.interactive=!0,this.activitySP.buttonMode=!0,this.activitySP.visible=!1,this.activitySP.name="activitySP",this.addChild(this.activitySP),DeviceAndEnvironment.Device.isMobile()?(this.activitySP.on("touchstart",function(t){e.onActivitySP(t)}),this.activitySP.on("touchend",function(t){e.onActivitySP(t)}),this.activitySP.on("tap",function(t){e.onActivitySP(t)})):(this.activitySP.on("mouseover",function(t){e.onActivitySP(t)}),this.activitySP.on("mousedown",function(t){e.onActivitySP(t)}),this.activitySP.on("mouseout",function(t){e.onActivitySP(t)}),this.activitySP.on("click",function(t){e.onActivitySP(t)}))},r.prototype.initInfoPanel=function(){},r.prototype.init=function(){var e=this;this.m=new Model.GameModel,this.m.addEventListener("netConnect",function(){e.onConnectSuccess()}),this.m.addEventListener(VideoShare.LiveGameEvent.ON_LOGIN,function(t){e.onLogin(t)}),this.m.addEventListener(VideoShare.LiveGameEvent.ON_DASHBOARD,function(t){e.onDashboard(t)}),this.m.addEventListener(VideoShare.LiveGameEvent.ON_CLAIM_POINTS_INFO,function(t){e.onClaimPointsInfo(t)}),this.m.addEventListener(VideoShare.LiveGameEvent.ON_CLAIM_POINTS,function(t){e.onClaimPoints(t)}),this.m.addEventListener(VideoShare.LiveGameEvent.ON_LOYALTY_DETAILS,function(t){e.onLoyaltyDetails(t)}),this.m.addEventListener(VideoShare.LiveGameEvent.ON_AVAILBLE_REWARDS,function(t){e.onAvailableRewards(t)}),this.m.addEventListener(VideoShare.LiveGameEvent.ON_HONOR_POINTS_CHG,function(t){e.onHonorPointsChg(t)}),this.m.addEventListener("netConnectClose",function(){e.closeSever()}),this.m.addEventListener("netConnectCloseBlockChain",function(){e.closeSever()})},r.prototype.connect=function(){this.m.connect("bbBenefits")},r.prototype.closeSever=function(){this.m.close()},r.prototype.setUserName=function(t){this.userName=t},r.prototype.onConnectSuccess=function(){var t=new Object;t.dev=DeviceAndEnvironment.Device.getDeviceInfo(document.getElementById("MyRenderer")),t.dev.ui=this._devUI,t.vType="ws",t.getLink=!1,t.subscription=["shit"],t.action="login",t.callType=1,this.m.login(t)},r.prototype.reConnect=function(){this.connectNum++,this.m.connect("bbBenefits")},r.prototype.onLogin=function(t){var e,i=this;!t.data.event&&this.connectNum<3?(null!=this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(function(){i.reConnect()},1e3)):t.data.event&&(e=t.data.activity,this._status=e.status,this._model=e.model,this._gameUrl=t.data.activityUrl,this.m.dashboard())},r.prototype.claimPoints=function(){this.m.claimPoints()},r.prototype.onDashboard=function(t){var e;t.data.event&&(e=!1,t=t.data.widget,this._honorPoints=t.honorPoints,this._ruleUrl=t.ruleUrl,this._pointSW=t.pointsSwitch,this._feedback=t.feedback,this._loyalSW=t.loyalSwitch,this._isTest=t.isTest,this._feedbackSW=t.feedbackSwitch,this._currency=t.currency,t=!0,t=!!this._isImgSourceV1||"RMB"==this._currency,this._pointSW&&!this._isTest&&t?(this.pointCon.visible=e=!0,this.honorpointTxt.text=this.adjustPoint(this._honorPoints),this._feedbackSW&&this.m.claimPointsInfo(),this._loyalSW&&this.m.loyaltyDetails(),this.setModel(),this.setActivitySp()):this.m.close(),(t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ACTIVITY_INFO)).data={panelSW:e},this.event.dispatchEvent(t))},r.prototype.onClaimPointsInfo=function(t){t.data.event&&(t=t.data,this._betTotal=t.betTotal,this._points=t.points,this._feedBackUrl=t.ruleUrl)},r.prototype.onClaimPoints=function(t){var e=t.data;e.runEor&&""!=e.runEor?Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.data.runEor)+" ("+t.data.errorID+")",3e3):e.event?(e.catchStatus&&(this._feedback=!1,this.activitySP.visible=!1,this.honorPanel.visible=!1,this.setActivitySp()),this._honorPoints=e.honorPoints,this.honorpointTxt.text=this.adjustPoint(this._honorPoints)):e.errMsg&&""!=e.errID&&Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.data.errMsg)+" ("+t.data.errID+")",3e3)},r.prototype.onLoyaltyDetails=function(t){t.data.event&&(t=t.data.loyalty,this._loyalBetTotal=t.betTotal,this._loyalDateTotal=t.dateTotal,this._loyalBaseBet=t.baseBet,this._loyalBaseDay=t.baseDay,this._loyalPlus=t.plus,this._loyalStatus=t.loyalStatus,this.loyalBg.visible=this._loyalSW,this._loyalSW)&&(this._loyalStatus?this.loyalBg.texture=this.loyalON:this.loyalBg.texture=this.loyalOFF,this.loyalPlusTxt.text="+"+String(this._loyalPlus)+"%")},r.prototype.onAvailableRewards=function(t){var e,i=this;t.data.event&&(e=t.data.info,this._honorPoints=e.honorPoints,t=t.data.actfrom,null!=this._updateDelay&&clearTimeout(this._updateDelay),1==t?this._updateDelay=setTimeout(function(){i.honorpointTxt.text=i.adjustPoint(i._honorPoints)},6e3):this.honorpointTxt.text=this.adjustPoint(this._honorPoints),this.gamePanel)&&this.gamePanel.setWheelInfo(e)},r.prototype.onHonorPointsChg=function(t){t.data.event&&(this._honorPoints=t.data.honorPoints,this.honorpointTxt.text=this.adjustPoint(this._honorPoints))},r.prototype.setActivitySp=function(){this.activitySP.visible=!1,this.pointRuleBtn&&(this.pointRuleBtn.visible=!1),this.gamePanel&&(this.gamePanel.visible=!1),this._feedbackSW&&this._feedback?(DeviceAndEnvironment.Device.isMobile()?this._isImgSourceV1?(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/ph_pre0001".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/ph_pre0002".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION)):(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/ph_pre0001.png?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/ph_pre0002.png?v="+VersionTool.VersionControl.VERSION)):this._isImgSourceV1?(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/pre0001".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/pre0002".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION)):(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/pre0001.png?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/pre0002.png?v="+VersionTool.VersionControl.VERSION)),this.activitySP.visible=!0):""==this._model||"End"==this._status?this.pointRuleBtn&&(this.pointRuleBtn.visible=!0):"Start"==this._status?this.gamePanel&&(this.gamePanel.visible=!0):"Preview"==this._status&&(DeviceAndEnvironment.Device.isMobile()?this._isImgSourceV1?(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/ph_start0001".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/ph_start0002".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION)):(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/ph_start0001.png?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/ph_start0002.png?v="+VersionTool.VersionControl.VERSION)):this._isImgSourceV1?(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/start0001".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/Activity/start0002".concat(this._imgSuffixLang,".png")+"?v="+VersionTool.VersionControl.VERSION)):(this.activityUp=n.fromImage(IPL.UrlParameter.originDomain+"image/start0001.png?v="+VersionTool.VersionControl.VERSION),this.activityOver=n.fromImage(IPL.UrlParameter.originDomain+"image/start0002.png?v="+VersionTool.VersionControl.VERSION)),this.activitySP.visible=!0),this.activitySP.texture=this.activityUp},r.prototype.onActivitySP=function(t){switch(t.type){case"mouseout":case"touchend":this.activitySP.texture=this.activityUp;break;case"mouseover":case"mousedown":case"touchstart":this.activitySP.texture=this.activityOver;break;case"click":case"tap":var e={btnStr:"activityBtn",userName:this.userName};this.m.sendBtnLog(e),this._feedback?this.checkPanel(t.currentTarget.name):DeviceAndEnvironment.Device.isMobile()?IframeController.setIframe(this._gameUrl):window.open(this._gameUrl,"_blank")}},r.prototype.checkPanel=function(t){switch(t){case"activitySP":this.honorPanel.visible=!this.honorPanel.visible,this.loyalPanel.visible=!1;break;case"conPoint":this._loyalSW?(this.loyalPanel.visible=!this.loyalPanel.visible,this.honorPanel.visible=!1,this.loyalPanel.visible&&this.m.loyaltyDetails()):this.onRuleCLK();var e={btnStr:"conPointBtn",userName:this.userName};this.m.sendBtnLog(e);break;default:this.loyalPanel.visible=!1,this.honorPanel.visible=!1}},r.prototype.setModel=function(){},r.prototype.onRuleCLK=function(){var t={btnStr:"pointRuleBtn",userName:this.userName};this.m.sendBtnLog(t),DeviceAndEnvironment.Device.isMobile()?IframeController.setIframe(this._ruleUrl):window.open(this._ruleUrl,"_blank")},r.prototype.onGamePanelCLK=function(){var t={btnStr:"gameBtn",userName:this.userName};this.m.sendBtnLog(t),IframeController.checkIframe()?IframeController.setIframe():IPL.UrlParameter.gotoWheel()},r.prototype.adjustPoint=function(t){var e=!1,i=(t<0&&(e=!0,t-=2*t),String(t)),t=String(t).split("."),n=t[0].split(""),a=[];if(9<n.length)i="999,999,999+";else{for(;3<n.length;)a.unshift(n.splice(n.length-3,3).join(""));a.unshift(n.join("")),t[0]=a.join(","),i=t.join(".")}return i=e?"-"+i:i},r);function r(){var t=e.call(this)||this;return t.connectNum=0,t.userName="",t._devUI=8,t._imgSuffixLang="_"+IPL.UrlParameter.lang,t._isImgSourceV1=!0,t._isImgSourceV1="v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion,t._isImgSourceV1?t._imgSuffixLang="_"+IPL.UrlParameter.lang:t._imgSuffixLang="",t.init(),t}t.ActivityPanel=o;s=Composite.EventContainer,__extends(h,s),h.prototype.initUI=function(){},h.prototype.setWheelInfo=function(t){this._achieved=t.achieved,0==this._achieved?(this.GameBtn.visible=!0,this.rewardBtn.visible=!1,this.receivedBtn.visible=!1,this.lvTxt.text="Lv."+String(t.level),this.setCheckIcon(t.LevelCondition),Number(t.honorPoints)<=0&&(t.honorPoints=0),t=t.honorPoints/t.levelPoints,this.lineSp.scale.x=t<1?t:1):1==this._achieved?(this.GameBtn.visible=!1,this.rewardBtn.visible=!0,this.receivedBtn.visible=!1):-1==this._achieved&&(this.GameBtn.visible=!1,this.rewardBtn.visible=!1,this.receivedBtn.visible=!0)},h.prototype.setCheckIcon=function(t){switch(t){case 0:this.checkTxt.visible=!1,this.checkIcon.visible=!1;break;case 1:this.checkTxt.visible=!0,this.checkIcon.visible=!0,this.checkIcon.texture=this.checkOFF;break;case 2:this.checkTxt.visible=!0,this.checkIcon.visible=!0,this.checkIcon.texture=this.checkON}};var s,o=h;function h(t){var e=s.call(this)||this;return e._achieved=0,e._imgSuffixLang="_"+IPL.UrlParameter.lang,"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?e._imgSuffixLang="_"+IPL.UrlParameter.lang:e._imgSuffixLang="",e._model=t,e}t.PointGamePanel=o}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Sprite,n=PIXI.Text,a=PIXI.Texture,o=(e=SharePanel.ActivityPanel,__extends(r,e),r.prototype.initUI=function(){e.prototype.initUI.call(this),this.honorpointBg=new ShareUI.Button("MultiBet_activityBg"),this.pointCon.addChild(this.honorpointBg),this.honorpointTxt=new n("",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#F7C178"}),this.honorpointTxt.anchor.set(1,0),this.honorpointBg.addChild(this.honorpointTxt),this.honorpointTxt.x=200,this.honorpointTxt.y=3,this.loyalOFF=a.fromImage("MultiBet_activityPercentageOff0000"),this.loyalON=a.fromImage("MultiBet_activityPercentageOn0000"),this.loyalBg=new i(this.loyalOFF),this.honorpointBg.addChild(this.loyalBg),this.loyalBg.x=28,this.loyalBg.y=3,this.loyalBg.visible=!1,this.loyalPlusTxt=new n("",{fontFamily:"微軟正黑體",fontSize:"12px",fill:"#272727"}),this.loyalBg.addChild(this.loyalPlusTxt),this.loyalPlusTxt.x=10,this.loyalPlusTxt.y=2},r.prototype.initInfoPanel=function(){var e=this,t={BG:{color:0,width:542,height:232,btnName:"MultiBet_activityBtn",btnY:172,lineColor:16770182}},i=(t.Title={color:13345378,height:41,wordWrapWidth:130,style:{fontSize:"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"19px":"16px",fill:3217691}},t.content={X:20,style:{fontSize:"19px",fill:16764294}},t.Box={color:3350562,height:34,radius:3,X:184,txtStrFill:16777215,txtNumFill:16765440},t.close={btnName:"MultiBetl_activityCloseBtn"},{}),i=(i.Title=IPL.DictManager.getDict("ACTIVITY_BET_ADDITION"),"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?i.Btn={txtL:"MultiBet_activityHistoryTxt_"+IPL.UrlParameter.lang,nameL:"History",txtR:"MultiBet_activityScoreTxt_"+IPL.UrlParameter.lang,nameR:"ScoreTxt"}:i.Btn={txtL:"MultiBet_activityHistoryTxt_cn",nameL:"History",txtR:"MultiBet_activityScoreTxt_cn",nameR:"ScoreTxt"},i.Row0={Title:IPL.DictManager.getDict("ACTIVITY_LAST_SEVEN_DAYS_BET_DAYS"),unit:IPL.DictManager.getDict("ACTIVITY_DAYS"),boxY:65,titleY:83,boxW:280},i.Row1={Title:IPL.DictManager.getDict("ACTIVITY_LAST_SEVEN_DAYS_BET_AMOUNT"),unit:VideoAssetManager.Informantion.settingData.loyalInfo.row1.unit,boxY:113,titleY:130,boxW:280},this.loyalPanel=new Tools.PointInfo,this.loyalPanel.initBG(t,i),this.loyalPanel.x=-100,this.loyalPanel.y=-238,this.addChild(this.loyalPanel),this.loyalPanel.visible=!1,{});i.Title=IPL.DictManager.getDict("ACTIVITY_FREE_POINTS_REWARDS"),"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?i.Btn={txtL:"MultiBetl_activityReceiveTxt_"+IPL.UrlParameter.lang,nameL:"Receive",txtR:"MultiBet_activityExplanationTxt_"+IPL.UrlParameter.lang,nameR:"Explanation"}:i.Btn={txtL:"MultiBetl_activityReceiveTxt_cn",nameL:"Receive",txtR:"MultiBet_activityExplanationTxt_cn",nameR:"Explanation"},i.Row0={Title:IPL.DictManager.getDict("ACTIVITY_ACCUMULATION_BET_AMOUNT"),boxY:65,titleY:73,boxX:185,boxW:340},i.Row1={Title:IPL.DictManager.getDict("ACTIVITY_AVAILABLE_SCORE"),boxY:113,titleY:120,boxX:185,boxW:340},this.honorPanel=new Tools.PointInfo,this.honorPanel.initBG(t,i),this.honorPanel.x=-100,this.honorPanel.y=-238,this.addChild(this.honorPanel),this.honorPanel.visible=!1,this.honorPanel.mEve.on("Receive",function(t){return e.claimPoints()})},r.prototype.onDashboard=function(t){e.prototype.onDashboard.call(this,t),this.loyalPanel.setURL(this._ruleUrl)},r.prototype.onLoyaltyDetails=function(t){e.prototype.onLoyaltyDetails.call(this,t),t.data.event&&(this.loyalPanel.setTxt(0,this._loyalDateTotal,this._loyalBaseDay),this.loyalPanel.setTxt(1,this._loyalBetTotal,this._loyalBaseBet),this.loyalPanel.setLoyalPlus(this._loyalPlus+"%"))},r.prototype.onClaimPointsInfo=function(t){e.prototype.onClaimPointsInfo.call(this,t),this.honorPanel.setTxt(0,this._betTotal),this.honorPanel.setTxt(1,this._points),this.honorPanel.setURL(this._feedBackUrl)},r.prototype.setActivitySp=function(){e.prototype.setActivitySp.call(this),this.activitySP.x=223},r.prototype.setModel=function(){var t=this;if("End"==this._status)this._loyalSW?"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsBonus_"+IPL.UrlParameter.lang):this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsBonus"):"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsDescription_"+IPL.UrlParameter.lang):this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsDescription"),this.addChild(this.pointRuleBtn),this.pointRuleBtn.x=223,DeviceAndEnvironment.Device.isMobile()||this.pointRuleBtn.on("click",function(){t.onRuleCLK()}),this.pointRuleBtn.on("tap",function(){t.onRuleCLK()});else switch(this._model){case"Wheel":case"Egg":case"GoG":this.gamePanel=new h(this._model),this.addChild(this.gamePanel),this.gamePanel.x=223,this.gamePanel.interactive=!0,DeviceAndEnvironment.Device.isMobile()||this.gamePanel.on("click",function(){t.onGamePanelCLK()}),this.gamePanel.on("tap",function(){t.onGamePanelCLK()});break;default:this._loyalSW?"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsBonus_"+IPL.UrlParameter.lang):this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsBonus"):"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsDescription_"+IPL.UrlParameter.lang):this.pointRuleBtn=new ShareUI.Button("MultiBet_activityPointsDescription"),this.addChild(this.pointRuleBtn),this.pointRuleBtn.x=223,DeviceAndEnvironment.Device.isMobile()||this.pointRuleBtn.on("click",function(){t.onRuleCLK()}),this.pointRuleBtn.on("tap",function(){t.onRuleCLK()})}},r);function r(){var t=e.call(this)||this;return t._devUI=16,t.initUI(),t.initInfoPanel(),t}t.ActivityPanel=o;s=SharePanel.PointGamePanel,__extends(l,s),l.prototype.initUI=function(){"Wheel"==this._model&&(this.GameBtn=new ShareUI.Button("MultiBet_activityNormal"),this.addChild(this.GameBtn),this.GameBtn.visible=!1);var t=i.fromImage("Hall_activityNormalBlack0000");this.GameBtn.addChild(t),t.width=175,this.lineSp=i.fromImage("Hall_activityNormalRed0000"),this.GameBtn.addChild(this.lineSp),this.lineSp.x=t.x=5,this.lineSp.y=t.y=18,this.lvTxt=new n("",{fontFamily:"微軟正黑體",fontSize:"12px",fill:"#ffffff"}),this.lvTxt.anchor.set(0,.5),this.GameBtn.addChild(this.lvTxt),this.checkTxt=new n(IPL.DictManager.getDict("ACTIVITY_OTHER_CONDITIONS"),{fontFamily:"微軟正黑體",fontSize:"12px",fill:"#ffffff"}),this.checkTxt.anchor.set(1,.5),this.GameBtn.addChild(this.checkTxt),this.lvTxt.x=5,this.checkTxt.x=160,this.lvTxt.y=this.checkTxt.y=10,this.checkTxt.visible=!1,this.checkTxt.interactive=this.lvTxt.interactive=!1,this.checkIcon=new i,this.GameBtn.addChild(this.checkIcon),this.checkIcon.scale.set(.8),this.checkIcon.x=164,this.checkIcon.y=2,this.checkON=a.fromImage("Hall_activityTick_on0000"),this.checkOFF=a.fromImage("Hall_activityTick_off0000"),"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?this.rewardBtn=new ShareUI.Button("MultiBet_activityEarnRewards_"+IPL.UrlParameter.lang):this.rewardBtn=new ShareUI.Button("MultiBet_activityEarnRewards"),this.addChild(this.rewardBtn),this.rewardBtn.y=-4,this.rewardBtn.x=-5,this.rewardBtn.visible=!1,"v1"===VideoAssetManager.Informantion.videoSettingData.activityVersion?this.receivedBtn=new ShareUI.Button("MultiBet_activityReceived_"+IPL.UrlParameter.lang):this.receivedBtn=new ShareUI.Button("MultiBet_activityReceived"),this.addChild(this.receivedBtn),this.receivedBtn.visible=!1};var s,h=l;function l(t){t=s.call(this,t)||this;return t.initUI(),t}t.PointGamePanel=h}(ShareMultiGames=ShareMultiGames||{}),!function(t){var e,i=PIXI.Text,n=(e=Composite.EventContainer,__extends(a,e),a.prototype.initActivity=function(){var e=this;this._activityPanel=new t.ActivityPanel,this._activityPanel.x=828,this._activityPanel.y=870,this.addChild(this._activityPanel),this._activityPanel.visible=!1,this._activityPanel.event.addEventListener(VideoShare.VideoGameEvent.ACTIVITY_INFO,function(t){return e.onActivityInfo(t)})},a.prototype.setActivityConnect=function(t){t?this._activityPanel.connect():this._activityPanel.closeSever()},a.prototype.onActivityInfo=function(t){t=t.data;t.panelSW&&(this._activityPanel.visible=t.panelSW)},a.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_InfoBG"),t=(this.addChild(t),{fontFamily:"Arial",fontSize:"18px",fill:"#F7C178"});this._userIcon=PIXILayoutTool.DisplayObject.createImage("Multiple_IDTxt_"+IPL.UrlParameter.lang),this.addChild(this._userIcon),this._userName=new i("",t),this.addChild(this._userName),this._userline=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_InfoLine","l1"),this.addChild(this._userline),this._moneyIcon=PIXILayoutTool.DisplayObject.createImage("Multiple_BalanceTxt_"+IPL.UrlParameter.lang),this._credit=new i("0",t),this._creditIcon=PIXI.Sprite.fromImage("Multiple_Currency_USD0000"),this._moneyline=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_InfoLine","l2"),this._userName.anchor.set(1,.5),this._credit.anchor.set(1,.5),this._creditIcon.anchor.set(1,.5),this._userName.x=262,this._credit.x=this._creditIcon.x=525,this._userName.y=this._credit.y=this._creditIcon.y=883,"cn"!=IPL.UrlParameter.lang&&(t=new Tools.Tip(this),this._userIcon.interactive=!0,t.addTip(this._userIcon,"PLAYERNAME"),this._moneyIcon.interactive=!0,t.addTip(this._moneyIcon,"CREDIT"))},a.prototype.initBtn=function(){this._saveMoneyBtn=new ShareUI.Button("Multiple_InfoDeposit"),this._saveMoneyBtn.name="saveMoney",this.addChild(this._saveMoneyBtn),this._routeBtn=new ShareUI.Button("Multiple_InfoRoute"),this._routeBtn.name="route",this.addChild(this._routeBtn),this._muteBtn=new ShareUI.Button("Multiple_InfoMute"),this.addChild(this._muteBtn),this._musicSetBtn=new ShareUI.Button("Multiple_InfoMusic"),this._musicSetBtn.name="musicSet",this.addChild(this._musicSetBtn),this._exitBtn=new ShareUI.Button("Multiple_InfoExit"),this._exitBtn.name="exit",this.addChild(this._exitBtn),this._hallBtnArr=[this._musicSetBtn,this._muteBtn],this._gameBtnArr=[this._exitBtn,this._musicSetBtn,this._muteBtn,this._routeBtn,this._saveMoneyBtn];for(var t=0;t<this._gameBtnArr.length;t++)this._gameBtnArr[t].y=870},a.prototype.initTextTip=function(){var t=new Tools.Tip(this);t.addTip(this._saveMoneyBtn,"BANK_SAVINGS"),t.addTip(this._routeBtn,"VIDEO_ROUTE_SELECT"),t.addTip(this._muteBtn,"MATE_MUSIC"),t.addTip(this._musicSetBtn,"SOUND_CONTROL"),t.addTip(this._exitBtn,"EXITBTN")},a.prototype.initSignalPanel=function(){var e=this;this.signalPanel=new t.VideoSignalPanel,this.signalPanel.x=1187,this.signalPanel.y=854,this.signalPanel.visible=!1,this.addChild(this.signalPanel),this.signalPanel.event.addEventListener(VideoShare.ToolBarEvent.SELECT_VIDEO_IP,function(t){e.videoSelect(t)})},a.prototype.init=function(){this.resetBtn();for(var t=0;t<this._hallBtnArr.length;t++)this._hallBtnArr[t].visible=!0,this._hallBtnArr[t].x=1402-31*t},a.prototype.setMusicSetting=function(t){null==this.musicPanel&&(this.musicPanel=t,this.musicPanel.setMuteBtnUI(this._muteBtn),this.musicPanel.visible=!1,this.addChild(this.musicPanel))},a.prototype.setIsLobby=function(t){if(this.resetBtn(),t){this.removeChild(this._moneyIcon),this.removeChild(this._credit),this.removeChild(this._creditIcon),this.removeChild(this._moneyline);for(var e=0;e<this._hallBtnArr.length;e++)this._hallBtnArr[e].visible=!0,this._hallBtnArr[e].x=1402-31*e}else{this.addChildAt(this._moneyIcon,this.getChildIndex(this._exitBtn)),this.addChildAt(this._credit,this.getChildIndex(this._exitBtn)),this.addChildAt(this._creditIcon,this.getChildIndex(this._exitBtn)),this.addChildAt(this._moneyline,this.getChildIndex(this._exitBtn));for(e=0;e<this._gameBtnArr.length;e++)this._gameBtnArr[e].visible=!0,this._gameBtnArr[e].x=1402-31*e;0==this._saveMoneyBtnvisible&&this.setSaveMoneyBet(!1)}},a.prototype.setMusicSet=function(t){this.musicPanel.setSoundEffectVolumn(t.sounds.sound,!0),1==t.sounds.soundEnabled?this.musicPanel.setSoundEffectBtn(!0):this.musicPanel.setSoundEffectBtn(!1)},a.prototype.setUserName=function(t,e){this._userName.text=""!=t?t:e},a.prototype.setSaveMoneyBet=function(t){this._saveMoneyBtn.visible=t,this._saveMoneyBtnvisible=t},a.prototype.updateCredit=function(t){this._credit.text=(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(Number(t))),this._creditIcon.x=520-this._credit.width},a.prototype.setCreditIcon=function(t){PIXI.Texture.fromFrame("Multiple_Currency_"+t+"0000")?(this._creditIcon.texture=PIXI.Texture.fromFrame("Multiple_Currency_"+t+"0000"),"RMB"!=t&&this._creditIcon.scale.set(.8)):(this._creditIcon.texture=PIXI.Texture.fromFrame("Multiple_Currency_USD0000"),this._creditIcon.scale.set(.8))},a.prototype.setVideoList=function(t){this.signalPanel.setVideoList(t,"Multiple_List","Multiple_RouteLevel")},a.prototype.setStreamingSpeedDetected=function(t){this.signalPanel.setStreamingSpeedDetected(t)},a.prototype.firSetVideoLink=function(t){this.signalPanel.firSetVideoLink(t)},a.prototype.resetBtn=function(){for(var t=0;t<this._gameBtnArr.length;t++)this._gameBtnArr[t].visible=!1},a.prototype.videoSelect=function(t){t.data.closePanel&&(this.signalPanel.visible=!1),this.event.dispatchEvent(t)},a.prototype.initAddListen=function(){var e=this;this.interactive=!0,CheckSize.GameStyle.stage.interactive=!0,DeviceAndEnvironment.Device.isMobile()?(this.on("touchstart",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("touchstart",function(t){e.onStageClick(t)})):(this.on("mousedown",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("mousedown",function(t){e.onStageClick(t)}),this.on("touchstart",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("touchstart",function(t){e.onStageClick(t)}));for(var t=0;t<this._gameBtnArr.length;t++)DeviceAndEnvironment.Device.isMobile()?this._gameBtnArr[t].on("tap",function(t){return e.onBtnClick(t)}):(this._gameBtnArr[t].on("click",function(t){return e.onBtnClick(t)}),this._gameBtnArr[t].on("tap",function(t){return e.onBtnClick(t)}))},a.prototype.onLocalclicked=function(t){this._isLocalClick=!0},a.prototype.onStageClick=function(t){this._isLocalClick||this.checkPanel(),this._isLocalClick=!1},a.prototype.checkPanel=function(t){void 0===t&&(t=""),this.signalPanel.visible&&"route"!=t&&(this.signalPanel.visible=!1),VideoAssetManager.Informantion.settingData.switch.activity&&this._activityPanel.checkPanel(t)},a.prototype.onBtnClick=function(t){var e,t=t.currentTarget;switch(this.checkPanel(t.name),t.name){case"saveMoney":e=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.SAVE_MONEY),this.event.dispatchEvent(e);break;case"route":this.signalPanel.visible=!this.signalPanel.visible;break;case"musicSet":this.musicPanel.visible=!this.musicPanel.visible;break;case"exit":e=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.EXIT),this.event.dispatchEvent(e)}},a.prototype.reset=function(){this.signalPanel.visible=!1},a);function a(){var t=e.call(this)||this;return t._saveMoneyBtnvisible=!0,t.initUI(),t.initBtn(),VideoAssetManager.Informantion.settingData.switch.activity&&t.initActivity(),t.initAddListen(),t.initSignalPanel(),t.initTextTip(),t.init(),t}t.MultiToolPanel=n}(ShareMultiGames=ShareMultiGames||{}),!function(t){var e,i=PIXI.Point,n=PIXI.Container,a=(e=Composite.EventContainer,__extends(o,e),o.prototype.initRoadBg=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1),this.roadmapUI=new n,null!=t.background&&(this.roadmapBG=t.background,this.addChild(this.roadmapBG)),null!=e&&(this.roadmapUI.x=t.posX,this.roadmapUI.y=t.posY,this.roadmapUI.addChild(e)),this.addChild(this.roadmapUI),this.roadmapUI.scale.set(i)},o.prototype.setCacheAsBitMap=function(t){this.roadmapUI.cacheAsBitmap=t},o.prototype.initRoadTitle=function(t){this.title=t.titleBit,this.title.x=t.posX,this.title.y=t.posY,null!=t.scale&&this.title.scale.set(t.scale)},o.prototype.initMouseMask=function(t,e){void 0===e&&(e=null),null!=t&&(this.changeRoadB=t.maskMc,this.changeRoadB.name="changeB",this.changeRoadB.x=t.posX,this.changeRoadB.y=t.posY,this.roadmapUI.addChild(this.changeRoadB),this.changeRoadB.alpha=0),null!=e&&(this.changeRoadD=e.maskMc,this.changeRoadD.name="changeD",this.changeRoadD.x=e.posX,this.changeRoadD.y=e.posY,this.roadmapUI.addChild(this.changeRoadD),this.changeRoadD.alpha=0)},o.prototype.initAddListen=function(){var e=this;null!=this.changeRoadB&&(this.changeRoadB.interactive=!0,this.changeRoadB.buttonMode=!0,DeviceAndEnvironment.Device.isMobile()?(this.changeRoadB.on("touchstart",function(){e.clickPos=new i(e.roadmapUI.x,e.roadmapUI.y)}),this.changeRoadB.on("touchend",function(t){e.RoadEnd(t)}),this.changeRoadB.on("touchendoutside",function(){e.clickPos=null})):(this.changeRoadB.on("mousedown",function(){e.clickPos=new i(e.roadmapUI.x,e.roadmapUI.y)}),this.changeRoadB.on("mouseup",function(t){e.RoadEnd(t)}),this.changeRoadB.on("mouseupoutside",function(){e.clickPos=null}))),null!=this.changeRoadD&&(this.changeRoadD.interactive=!0,this.changeRoadD.buttonMode=!0,DeviceAndEnvironment.Device.isMobile()?(this.changeRoadD.on("touchstart",function(){e.clickPos=new i(e.roadmapUI.x,e.roadmapUI.y)}),this.changeRoadD.on("touchend",function(t){e.RoadEnd(t)}),this.changeRoadD.on("touchendoutside",function(t){e.clickPos=null})):(this.changeRoadD.on("mousedown",function(){e.clickPos=new i(e.roadmapUI.x,e.roadmapUI.y)}),this.changeRoadD.on("mouseup",function(t){e.RoadEnd(t)}),this.changeRoadD.on("mouseupoutside",function(t){e.clickPos=null})))},o.prototype.RoadEnd=function(t){var e;null!=this.clickPos&&(e=new i(this.roadmapUI.x,this.roadmapUI.y),Math.abs(e.x-this.clickPos.x)<15)&&("changeB"==(e=t.currentTarget).name?this.onChangeRoadB():"changeD"==e.name&&this.onChangeRoadD()),this.clickPos=null},o.prototype.onChangeRoadB=function(){},o.prototype.onChangeRoadD=function(){},o.prototype.setGameKey=function(t){this.gameKey=t},o.prototype.setRoundPanel=function(t){this.roundPanel=t.round,this.roundPanel.x=t.posX,this.roundPanel.y=t.posY},o.prototype.setAddchild=function(){null!=this.title&&this.addChild(this.title),null!=this.roundPanel&&this.addChild(this.roundPanel)},o.prototype.addRoadmap=function(t){},o.prototype.setStatus=function(t){},o.prototype.setNowRoadmap=function(t){this._nowRamp=t},o.prototype.setNowRoadmapD=function(t){this._nowRampD=t},o.prototype.setData=function(t,e){},o.prototype.getRoundNum=function(){return this.roundObj},o.prototype.setRoundNum=function(t){},o.prototype.addMc=function(t){this.roadmapUI.addChildAt(t,1)},o.prototype.addMc2=function(t){this.roadmapUI.addChildAt(t,1)},o.prototype.removeMc=function(t){t.parent==this.roadmapUI&&this.roadmapUI.removeChild(t)},o.prototype.resetRoadmap=function(){},o);function o(){var t=e.call(this)||this;return t.gameKey="",t.roadStrArr=[],t._saveRoad="",t}t.RoadmapPanel=a}(SharePanel=SharePanel||{}),!function(t){function e(t){this.roadmapMatch=[],this.roadmapMatch[1]="10",this.roadmapMatch[2]="11",this.roadmapMatch[3]="12",this.roadmapMatch[4]="13",this.roadmapMatch[5]="20",this.roadmapMatch[6]="21",this.roadmapMatch[7]="22",this.roadmapMatch[8]="23",this.roadmapMatch[9]="30",this.roadmapMatch[10]="31",this.roadmapMatch[11]="32",this.roadmapMatch[12]="33",this.roadmapMatch[13]="10",this.roadmapMatch[14]="11",this.roadmapMatch[15]="12",this.roadmapMatch[16]="13",this.roadmapMatch[17]="20",this.roadmapMatch[18]="21",this.roadmapMatch[19]="22",this.roadmapMatch[20]="23",this.roadmapMatch[21]="30",this.roadmapMatch[22]="31",this.roadmapMatch[23]="32",this.roadmapMatch[24]="33",this.Transinit(t)}function i(){}e.prototype.Transinit=function(t){if(null!=t&&""!=t){for(var e=t.split(","),i=[],n="",a=0;a<e.length;a++){var o=e[a].split("-"),r=parseInt(o[0]);0!=r&&(0==(r=r%24)&&(r=24),n=this.roadmapMatch[r]),i[a]=n+o[1]}this._rtString=i.join(",")}else this._rtString=""},e.prototype.GetNewRoad=function(){return this._rtString},e.redraw=function(t,e,i,n){void 0===e&&(e=20),void 0===i&&(i="3001"),void 0===n&&(n=!1);for(var a=[],o=[],r=1,s=0,h="",l=0,c=6,u=!1,d=!1,p=[],f=0,_=0,m=[],g=[],v=0,y=0;y<t.length;y++){var P,S=t[y],b=S.charAt(0),S=S.charAt(1)+S.charAt(2);if("3"!==(P=b)&&g.push(P),v=r*s+(6-s)*(r-1),0===y&&"3"===P)d=!0,h=P,f++;else if(0===y||a[v-1]===P||d||h===P)if(6===c&&(p=[]),s<c)if(d)if("3"===P)f++;else{for(var d=!1,h=P,I=0;I<f;I++)h+=P;a[v]=h,o[v]=h+S,h=P,f=0,s++}else h="",o[v]=(a[v]=P)+S,s++;else 0===l&&(l=r),u=!0,o[v=++r*s+(6-s)*(r-1)-1]=(a[v]=P)+S,h=P;else if("3"===P)h=(h=a[v=r*(b=s-1)+(6-b)*(r-1)]).substr(0,1),a[v]=a[v]+P,o[v]=o[v]+P+S;else{0!==l?(p.push(r),m.push(s),_<r&&(_=r)):(p.push(l),m.push(c),_<l&&(_=l));var B=0,C=0,k=0,b=!0;0!==l?1!==c?k=l:(k=r,b=!1):k=r;for(var T=s-1;T<6;T++)null!=a[v=(k+1)*T+(6-T)*(k+1-1)]&&(B=T);for(var x=5;s-1<=x;x--)null!=a[v=(k+1)*x+(6-x)*(k+1-1)]&&(C=x),x<0&&(C=s);c=0!==B&&C<=B?C:0!==B&&B<=C?B:6,s=0,u?(u=!1,b?(o[v=(l+1)*s+(6-s)*(l+1-1)]=(a[v]=P)+S,r=l+1):r<_?o[v=++r*(s=0)+(6-s)*(r-1)]=(a[v]=P)+S:o[v=++r*s+(6-s)*(r-1)]=(a[v]=P)+S,l=0):o[v=++r*s+(6-s)*(r-1)]=(a[v]=P)+S,h="",s++}}for(;e<a.length/6;)a.splice(0,6),o.splice(0,6);return n?this.checkArray(g):"3001"===i||"3003"===i||"3018"===i?a:"3011"===i||"3015"===i?o:void 0},e.checkArray=function(t){for(var e=1,i=0,n=[],a=0;a<t.length;a++)t[a]==t[a-1]?(e++,n[i]=String(e)):null==t[a-1]?n[i]=String(e):(e=1,n[++i]=String(e));return n},t.BacTransRoadmap=e,i.prototype.getResultArea=function(t){for(var e=[],i=(e[1]=[1,6],e[2]=[1,6,4,12],e[3]=[5,1,6,12],e[4]=[5,4,1,6,12],e[5]=[2,6],e[6]=[2,4,6,12],e[7]=[2,5,6,12],e[8]=[2,5,4,6,12],e[9]=[3,6],e[10]=[3,4,6,12],e[11]=[5,3,6,12],e[12]=[5,3,4,6,12],e[13]=[1,7],e[14]=[4,1,7,12],e[15]=[5,1,7,12],e[16]=[5,4,1,7,12],e[17]=[2,7],e[18]=[2,4,7,12],e[19]=[2,5,7,12],e[20]=[2,5,4,7,12],e[21]=[3,7],e[22]=[3,4,7,12],e[23]=[5,3,7,12],e[24]=[5,3,4,7,12],t%24),n=e[i=0==i?24:i],a=Math.floor(t/24),o=0;o<n.length;o++)1==n[o]&&(n.push(14),1<a&&a<5||5<a&&a<9)&&n.push(15);96<t&&n.push(13);e=i%12;return 0==e&&(e=12),384<t&&t<577&&(1<=e&&e<=4&&n.push(17),5<=e)&&e<=8&&n.push(16),n},i.prototype.notSuperSix=function(t){var e=t.indexOf(15);return-1!=e&&t.splice(e,1),t},i.prototype.setInsBet=function(t,e){var i,n,a;return null!=e.spCase&&("InsBankerWin"==(n=e.spCase)?t.push(16):"InsPlayerWin"==n&&t.push(17)),n=t.indexOf(16),i=t.indexOf(17),null!=e.removeType&&(0!=(e=e.removeType)&&e<=17?-1!=(a=t.indexOf(e))&&t.splice(a,1):0==e&&(-1!=n&&t.splice(n,1),-1!=i)&&t.splice(i,1)),t},t.BacResultArea=i}(BacLogicShare=BacLogicShare||{}),!function(t){function e(t){if(this._rtString="",null!=t&&""!=t){for(var e=t.split(","),i=new Array,n=0;n<e.length;n++){var a=e[n].split("-"),a=Number(a[0]),a=String(7&a);"0"!=(a="4"==a?"3":a)&&i.push(a)}this._rtString=i.toString()}}function i(){}e.prototype.GetNewRoad=function(){return this._rtString},t.DtfTransRoadmap=e,i.getResultArea=function(t){for(var e=[7&t,24&t,96&t,384&t,1536&t],i=new Array,n=0;n<e.length;n++){var a=this.getGameState(e[n]);0!=a&&i.push(a)}return i},i.getGameState=function(t){for(var e,i=[0,1,2,4,8,16,32,64,128,256,512,1024],n=i.length,a=0;a<n;a++)t==i[a]&&(e=a);return e},t.DTFResultArea=i}(DtfLogicShare=DtfLogicShare||{}),!function(t){function e(t){this.Transinit(t)}function i(){}e.prototype.Transinit=function(t){if(null!=t&&""!=t){for(var e=t.split(","),i=[],n="",a=0;a<e.length;a++){var o=e[a].split("-"),r=parseInt(o[0]);0!=r&&(n=this.getResult(r)),i[a]=n+o[1]}this._rtString=i.join(",")}else this._rtString=""},e.prototype.getResult=function(t){for(var e=[],i=[256,128,64,32,16,8,4,2,1],n=[9,8,7,6,5,4,3,2,1],a=t,o=0;o<i.length;o++)0<a&&i[o]<=a&&(a-=i[o],e.push(n[o]));var t="",r=(-1!==e.indexOf(1)?t+="1":-1!==e.indexOf(2)?t+="2":-1!==e.indexOf(3)&&(t+="3"),0);return-1!==e.indexOf(4)&&-1!==e.indexOf(5)?r=3:-1!==e.indexOf(4)?r=1:-1!==e.indexOf(5)&&(r=2),t+=String(r)},e.prototype.GetNewRoad=function(){return this._rtString},t.Bac21TransRoadmap=e,i.prototype.getResultArea=function(t){for(var e=[],i=[256,128,64,32,16,8,4,2,1],n=[9,8,7,6,5,4,3,2,1],a=t,o=0;o<i.length;o++)0<a&&i[o]<=a&&(a-=i[o],e.push(n[o]));return e},i.prototype.notSuperSix=function(t){var e=t.indexOf(15);return-1!=e&&t.splice(e,1),t},i.prototype.setInsBet=function(t,e){var i,n,a;return null!=e.spCase&&("InsBankerWin"==(n=e.spCase)?t.push(16):"InsPlayerWin"==n&&t.push(17)),n=t.indexOf(16),i=t.indexOf(17),null!=e.removeType&&(0!=(e=e.removeType)&&e<=17?-1!=(a=t.indexOf(e))&&t.splice(a,1):0==e&&(-1!=n&&t.splice(n,1),-1!=i)&&t.splice(i,1)),t},t.Bac21ResultArea=i}(Bac21LogicShare=Bac21LogicShare||{}),!function(t){function e(){}function i(){}e.getResultArea=function(t){var e=new Array;return e[1]=[1,6,8],e[2]=[3,5,8],e[3]=[6],e[4]=[4,5,7],e[5]=[2,6,7],e[t]},t.SedieResultArea=e,i.transinit=function(t){for(var e,i=[],n="",a=0;a<t.length;a++)n="2"===t[a]||"4"===t[a]?"1":"2",e=String(t[a]),i.push(n+e);return i},i.transinitBigSmall=function(t){for(var e=[],i="",n=0;n<t.length;n++){var a=Number(t[n])-1,i=a<2?"1":2<a?"2":"3",a=String(t[n]);e.push(i+a)}return e},i.getOddEven=function(t){var e=[];return e=""!==t?t.split(",").map(function(t){return(Number(t)-1)%2==0?"E":"O"}):e},i.STR_TIE="T",t.SedieTransRoadmap=i}(SedieLogicShare=SedieLogicShare||{}),!function(t){function e(t){this.Transinit(t)}function i(){}e.prototype.Transinit=function(t){for(var e=t.split(","),i=new Array,n=0;n<e.length;n++){var a,o=Number(e[n]);"128"==String(o)?a="3":"0"!=String(o)&&("0"==(a=String(1&o))?a="1":"1"==a&&(a="2")),i.push(a)}this._rtString=i.toString()},e.prototype.GetNewRoad=function(){return this._rtString},t.ThreeCardTransRoadMap=e,i.prototype.getResultArea=function(t){var e=[1,2,4,8,16,32,64],i=[],n=t.toString(2).split("");7<(n=n.reverse()).length&&(n.length=7);for(var a=0;a<n.length;a++)"1"==n[a]&&i.push(e[a]);return i},t.ThreeCardResultArea=i}(ThreeCardLogicShare=ThreeCardLogicShare||{}),!function(t){function e(t){this._strTieKey=t=void 0===t?"7":t}e.prototype.transBallResult=function(t){var e=[];if(""!==t)for(var i=t.split(","),n=0;n<i.length;n++){var a=i[n].charAt(0);""!==a&&(e[n]=a)}return e},e.prototype.transRedBlack=function(t){for(var e=[],i=t.split(","),n=0;n<i.length;n++){var a=this.getRedBlack(i[n].charAt(1));""!==a&&(e[n]=a)}return e},e.prototype.getRedBlack=function(t){switch(t){case"D":case"H":return"R";case"S":case"C":return"B";default:return""}},e.prototype.transOverUnder=function(t){var e=[];if(""!==t)for(var i=t.split(","),n=0;n<i.length;n++){var a=this.getOverUnder(i[n].charAt(2));""!==a&&(e[n]=a)}return e},e.prototype.getOverUnder=function(t){var e=0;switch(t){case"A":e=1;break;case"0":e=10;break;case"J":e=11;break;case"Q":e=12;break;case"K":e=13;break;default:e=Number(t)}return 7<e?"O":e<7?"U":"7"},e.prototype.transOddEven=function(t){var e=[];if(""!==t)for(var i=t.split(","),n=0;n<i.length;n++){var a=this.getOddEven(i[n].charAt(2));""!==a&&(e[n]=a)}return e},e.prototype.getOddEven=function(t){var e=0;switch(t){case"A":e=1;break;case"0":e=10;break;case"J":e=11;break;case"Q":e=12;break;case"K":e=13;break;default:e=Number(t)}return 7===e?"7":e%2==0?"E":e%2==1?"O":void 0},e.prototype.getRoadmapNew2A=function(t,e){void 0===e&&(e=20);for(var i=[],n=1,a=0,o="",r=0,s=6,h=!1,l=[],c=0,u=[],d=0,p="",f=0;f<t.length;f++){var _=t[f].charAt(0),d=n*a+(6-a)*(n-1);if(0===f||i[d-1]===_||o===_||_===this._strTieKey||o===this._strTieKey&&(p===_||""===p)||i[d-1]===this._strTieKey&&(p===_||""===p))6===s&&(l=[]),a<s?(o="",i[d]=_,a++):(0===r&&(r=n),h=!0,o=i[d=++n*a+(6-a)*(n-1)-1]=_);else{0!==r?(l.push(n),u.push(a),c<n&&(c=n)):(l.push(r),u.push(s),c<r&&(c=r));var m=0,g=0,v=0,y=!0;0!==r?1!==s?v=r:(v=n,y=!1):v=n;for(var P=a-1;P<6;P++)null!=i[d=(v+1)*P+(6-P)*(v+1-1)]&&(m=P);for(var S=5;a-1<=S;S--)null!=i[d=(v+1)*S+(6-S)*(v+1-1)]&&(g=S),S<0&&(g=a);s=0!==m&&g<=m?g:0!==m&&m<=g?m:6,a=0,h?(h=!1,y?(i[d=(r+1)*a+(6-a)*(r+1-1)]=_,n=r+1):n<c?i[d=++n*(a=0)+(6-a)*(n-1)]=_:i[d=++n*a+(6-a)*(n-1)]=_,r=0):i[d=++n*a+(6-a)*(n-1)]=_,o="",a++}i[d]!==this._strTieKey&&(p=_)}for(;e<i.length/6;)i.splice(0,6);return i},t.AceyDeuceyTransRoadmap=e}(AceyDeuceyLogicShare=AceyDeuceyLogicShare||{}),!function(t){function e(){}function i(){}e.Transinit=function(t){var e="";if(null!=t&&""!=t){for(var i=t.split(","),n=[],a=[32,16,8,4,2,1],o=0;o<i.length;o++){for(var r=Number(i[o]),s=0;s<a.length&&(a[s]<r&&(r-=a[s]),!(r<=2));s++);n[o]=String(r)}e=n.join(",")}return e},t.Bac28TransRoadmap=e,i.getPokerType=function(t,e){var i="";if(t===e)switch(t){case"1":i=IPL.DictManager.getDict("BAC28_ONE_PAIR");break;case"2":i=IPL.DictManager.getDict("BAC28_TWO_PAIR");break;case"3":i=IPL.DictManager.getDict("BAC28_THREE_PAIR");break;case"4":i=IPL.DictManager.getDict("BAC28_FOUR_PAIR");break;case"5":i=IPL.DictManager.getDict("BAC28_FIVE_PAIR");break;case"6":i=IPL.DictManager.getDict("BAC28_SIX_PAIR");break;case"7":i=IPL.DictManager.getDict("BAC28_SEVEN_PAIR");break;case"8":i=IPL.DictManager.getDict("BAC28_EIGHT_PAIR");break;case"9":i=IPL.DictManager.getDict("BAC28_NINE_PAIR");break;case"10":i=IPL.DictManager.getDict("BAC28_WHITE_PAIR")}else i="2"===t&&"8"===e||"8"===t&&"2"===e?IPL.DictManager.getDict("BAC28_EIGHT_TWO"):(10<(t=this.getPokerPoint(t)+this.getPokerPoint(e))?t-=10:10===t&&(t=0),String(t));return i},i.getPokerLevel=function(t,e){var i=[],i=this.getPokerPoint(t)<this.getPokerPoint(e)?[e,t]:[t,e];return["6,4","7,3","9,1","6,5","7,4","8,3","9,2","1,10","7,5","8,4","9,3","2,10","2,1","7,6","8,5","9,4","3,10","3,1","8,6","9,5","4,10","3,2","4,1","8,7","9,6","5,10","4,2","5,1","9,7","6,10","4,3","5,2","6,1","9,8","7,10","5,3","6,2","7,1","8,10","5,4","6,3","7,2","8,1","9,10","8,2","1,1","2,2","3,3","4,4","5,5","6,6","7,7","8,8","9,9","10,10"].indexOf(i.join(","))},i.getPokerPoint=function(t){return""===t||"X"===t?0:"10"===t?.5:Number(t)},t.Bac28Poker=i}(Bac28LogicShare=Bac28LogicShare||{}),!function(t){n=Composite.EventContainer,__extends(i,n),i.prototype.getGameKey=function(){return this.gameKey},i.prototype.getGameCodeName=function(){return this.gameCodeName},i.prototype.setModel=function(t){},i.prototype.initRoad=function(){"3001"==this.gameType?this.initBacRoad():"3002"==this.gameType?this.initTTRoad():"3003"==this.gameType?this.initDtfRoad():"3005"==this.gameType?this.initTrifaceRoad():"3006"==this.gameType?this.initPaiRoad():"3007"==this.gameType?this.initRouRoad():"3008"==this.gameType?this.initSicboRoad():"3010"==this.gameType?this.initTexasRoad():"3011"==this.gameType?this.initSedieRoad():"3012"==this.gameType?this.initBullRoad():"3014"==this.gameType?this.initBJRoad():"3015"==this.gameType?this.initFanTanRoad():"3016"==this.gameType?this.initFishCSRoad():"3017"==this.gameType||"3018"==this.gameType?this.initBacRoad():"3019"==this.gameType?this.initMonWheelRoad():"3020"==this.gameType?this.initBacRoad():"3021"==this.gameType?this.initHiLoRoad():"3023"==this.gameType?this.initChessBullRoad():"3024"==this.gameType?this.initChessTripleFaceRoad():"3025"==this.gameType?this.initBacRoad():"3026"==this.gameType?this.initDtfRoad():"3027"==this.gameType?this.initBacRoad():"3028"==this.gameType?this.initRouRoad():"3029"==this.gameType?this.initBacRoad():"3030"==this.gameType?this.initBlockChainTrifaceRoad():"3031"==this.gameType?this.initBlockChainBullRoad():"3032"==this.gameType?this.initBlockChainSedieRoad():"3033"==this.gameType?this.initBlockChainSicboRoad():"3034"==this.gameType?this.initBlockChainFishSCRoad():"3036"==this.gameType?this.initBlockChainHiLoRoad():"3037"==this.gameType?this.initBlockChainFanTanRoad():"3038"==this.gameType?this.initBlockChainPaiRoad():"3039"==this.gameType?this.initBlockChainVnFishSCRoad():"3040"==this.gameType?this.initBlockChainThFishSCRoad():"3041"==this.gameType?this.initBlockChainChessBullRoad():"3042"==this.gameType?this.initBlockChainVnSicboRoad():"3043"==this.gameType?this.initBac21Road():"3044"==this.gameType||"3045"==this.gameType?this.initFishSCThRoad():"3046"==this.gameType?this.initLucky5Road():"3047"==this.gameType?this.initBac21Road():"3048"==this.gameType?this.initAceyDeuceyRoad():"1090"==this.gameType?this.initSportRoad():"3050"==this.gameType&&this.initBacRoad()},i.prototype.initBacRoad=function(){},i.prototype.initTTRoad=function(){},i.prototype.initDtfRoad=function(){},i.prototype.initTrifaceRoad=function(){},i.prototype.initPaiRoad=function(){},i.prototype.initRouRoad=function(){},i.prototype.initSicboRoad=function(){},i.prototype.initTexasRoad=function(){},i.prototype.initSedieRoad=function(){},i.prototype.initBullRoad=function(){},i.prototype.initBJRoad=function(){},i.prototype.initFanTanRoad=function(){},i.prototype.initFishCSRoad=function(){},i.prototype.initThreeCardRoad=function(){},i.prototype.initMonWheelRoad=function(){},i.prototype.initHiLoRoad=function(){},i.prototype.initChessBullRoad=function(){},i.prototype.initChessTripleFaceRoad=function(){},i.prototype.initBlockChainTrifaceRoad=function(){},i.prototype.initBlockChainBullRoad=function(){},i.prototype.initBlockChainSedieRoad=function(){},i.prototype.initBlockChainSicboRoad=function(){},i.prototype.initBlockChainVnSicboRoad=function(){},i.prototype.initBlockChainFishSCRoad=function(){},i.prototype.initBlockChainHiLoRoad=function(){},i.prototype.initBlockChainFanTanRoad=function(){},i.prototype.initBlockChainPaiRoad=function(){},i.prototype.initBlockChainVnFishSCRoad=function(){},i.prototype.initBlockChainThFishSCRoad=function(){},i.prototype.initBlockChainChessBullRoad=function(){},i.prototype.initBac21Road=function(){},i.prototype.initFishSCThRoad=function(){},i.prototype.initLucky5Road=function(){},i.prototype.initAceyDeuceyRoad=function(){},i.prototype.initSportRoad=function(){},i.prototype.setStatus=function(t){"1"!=this._mt&&null!=this._roadmapPanel&&this._roadmapPanel.setStatus(t)},i.prototype.setRoadData=function(t){var e,i;"1"!=this._mt&&null!=this._roadmapPanel&&("3001"==this.gameType||"3017"==this.gameType||"3020"==this.gameType||"3025"==this.gameType||"3027"==this.gameType?(t=(e=new BacLogicShare.BacTransRoadmap(t)).GetNewRoad(),this._roadmapPanel.setData(t)):"3003"==this.gameType||"3026"==this.gameType?(t=(e=new DtfLogicShare.DtfTransRoadmap(t)).GetNewRoad(),this._roadmapPanel.setData(t)):"3018"==this.gameType||"3029"==this.gameType?(t=(e=new ThreeCardLogicShare.ThreeCardTransRoadMap(t)).GetNewRoad(),this._roadmapPanel.setData(t)):"3043"==this.gameType||"3047"==this.gameType?(t=(e=new Bac21LogicShare.Bac21TransRoadmap(t)).GetNewRoad(),this._roadmapPanel.setData(t)):"3011"==this.gameType||"3032"==this.gameType?(e=new AceyDeuceyLogicShare.AceyDeuceyTransRoadmap(SedieLogicShare.SedieTransRoadmap.STR_TIE),i=SedieLogicShare.SedieTransRoadmap.getOddEven(t),t=e.getRoadmapNew2A(i,17),this._roadmapPanel.showResult(t)):"3050"==this.gameType?(e=Bac28LogicShare.Bac28TransRoadmap.Transinit(t),this._roadmapPanel.setData(e)):this._roadmapPanel.setData(t))},i.prototype.setSlice=function(t){},i.prototype.updateCountDown=function(t){};var n,e=i;function i(t,e){var i=n.call(this)||this,t=(i._mt="0",i.gameKey=t,i.gameKey.split("-"));return i.gameType=t[0],i.gameCode=t[1],i.gameCodeName=e,i}t.TablePanel=e}(SharePanel=SharePanel||{}),!function(t){i=Composite.EventContainer,__extends(n,i),n.prototype.setModel=function(t){null==this._model&&(this._model=t,this._model.addEventListener(VideoShare.LiveGameEvent.GAME_INFO,this.infoEvent))},n.prototype.initGameInfo=function(){this.firstInit&&(this.initRoad(),this.firstInit=!1)},n.prototype.onChangeList=function(t){this.nowArr=t,this.setPos()},n.prototype.setPos=function(){},n.prototype.onGameInfo=function(t){if(this.firstInit&&(this.initRoad(t.data),this.firstInit=!1),null!=t)for(var e in t.data)null!=t.data[e].map&&null!=this.tablePanelArr[e]&&this.tablePanelArr[e].setRoadData(t.data[e].map)},n.prototype.initRoad=function(t){void 0===t&&(t=null),this.initAddListen(),this.checkSort()},n.prototype.initAddListen=function(){},n.prototype.checkSort=function(){if(0!=this.sortArr.length){for(var t=[],e=0;e<this.sortArr.length;e++)for(var i=0;i<this.nowArr.length;i++)if(this.nowArr[i]==this.sortArr[e]){t.push(this.nowArr[i]);break}this.nowArr=[],this.nowArr=t}},n.prototype.resetTableVisible=function(){for(var t in this.tablePanelArr)this.tablePanelArr[t].visible=!1,this.tablePanelArr[t].y=2*-this.tablePanelArr[t].height};var i,e=n;function n(){var e=i.call(this)||this;return e.firstInit=!0,e.infoEvent=function(t){e.onGameInfo(t)},e.tablePanelArr=[],e.nowArr=[],e.sortArr=[],e}t.MenuPanel=e}(SharePanel=SharePanel||{}),!function(t){function e(){}e.adjustFontSize=function(t,e,i){for(var n=t.style,a=!1,o=e;6<o&&!a;--o)n.fontSize=o+"px",t.width<i&&(a=!0);if(t.width>i)for(a=!1,o=1;0<o&&!a;o-=.01)t.scale.set(o),t.width<i&&(a=!0);return n.fontSize},e.setTextWrap=function(t,e,i){var n=t.split(""),a=(e.style,[]),o=0;e.text=a[o]="";for(var r=0;r<n.length;r++)e.width>i&&(a[o]=a[o]+"\n",a[++o]=""),a[o]=a[o]+n[r],e.text=a[o];e.text="";for(var s=0;s<a.length;s++)e.text=e.text+a[s];return e},e.setTextPoint=function(t,e,i){if(e.text=t,e.width>i){var n=t.split("");e.text="";for(var a=0;a<n.length;a++){var o=e.text;if(e.text=o+n[a],e.width>i){e.text=o+"...";break}}}return e},e.paddingLeft=function(t,e){return t.length>=e?t:this.paddingLeft("0"+t,e)},e.simpleNumber=function(t){var e=String(t);return 1e6<=t?e.slice(0,-3)+"K":e},e.thousandNumber=function(t){var e=String(t);return 1e3<=t&&(t=Math.round(t/100)/10,e=String(t)+"K"),e},e.getGameTitle=function(t,e,i){e="3001"==t&&23<=Number(e)&&Number(e)<=25?IPL.DictManager.getDict("NAME_"+t)+" "+i:"3001"==t&&38<=Number(e)&&Number(e)<=43?IPL.DictManager.getDict("NAME_BID")+" "+i:"3001"==t&&"44"==e?IPL.DictManager.getDict("BID_FANCY_S")+" "+i:"3008"==t&&"3"==e?IPL.DictManager.getDict("BID_SICBO_S")+" "+i:"3007"==t&&"4"==e?IPL.DictManager.getDict("BID_ROU")+" "+i:IPL.DictManager.getDict("NAME_"+t)+" "+i;return e},e.getLastRounds=function(t){t="vi"==IPL.UrlParameter.lang?String(t)+IPL.DictManager.getDict("ROUNDS")+IPL.DictManager.getDict("LAST"):IPL.DictManager.getDict("LAST")+" "+String(t)+" "+IPL.DictManager.getDict("ROUNDS");return t},e.getConstellation=function(t){return("tw"==IPL.UrlParameter.lang?[null,"水瓶座","雙鱼座","牡羊座","金牛座","雙子座","巨蟹座","獅子座","處女座","天秤座","天蠍座","射手座","魔羯座"]:"cn"==IPL.UrlParameter.lang?[null,"水瓶座","双鱼座","牡羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","魔羯座"]:[null,"Aquarius","Pisces","Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn"])[t]},t.AdjustText=e}(Tools=Tools||{}),!function(t){function e(){}e.repository={},t.TextureStore=e}(Tools=Tools||{}),!function(t){var u=PIXI.Container,d=PIXI.Graphics;function p(){}p.createTexture=function(t){for(var e,i,n=[],a=new u,o=0,r=0;r<t.gridRow;r++)for(var s=0;s<t.gridCol;s++){n[o]=new d,null!=t.cellColor2&&(s+1)%2==1?n[o].beginFill(t.cellColor2,t.cellAlpha):n[o].beginFill(t.cellColor,t.cellAlpha),n[o].drawRect(0,0,t.gridW,t.gridH),n[o].endFill();var h=0,l=0;0!=t.lineAlpha&&(h=t.lineThickness,l=t.lineThickness),0!=s&&(h=n[o-1].x+n[o-1].width+t.lineThickness),0!=r&&(l=n[t.gridCol*r-1].y+n[t.gridCol*r-1].height+t.lineThickness),n[o].x=h,n[o].y=l,n[o].endFill(),a.addChild(n[o]),o++}0!=t.lineAlpha&&((e=new d).beginFill(t.lineColor,t.lineAlpha),c=n[n.length-1].x+n[n.length-1].width+t.lineThickness,i=n[n.length-1].y+n[n.length-1].height+t.lineThickness,e.drawRect(0,0,c,i),e.endFill(),a.addChildAt(e,0));var c=PIXI.RenderTexture.create(a.width,a.height);CheckSize.GameStyle.renderer.render(a,c),Tools.TextureStore.repository[t.textureName]=c,p.frameLineArr.push(t)},p.frameLineArr=[],t.sameFrameLine=p}(SharePanel=SharePanel||{}),!function(t){var u=PIXI.Container,d=PIXI.Graphics;function p(){}p.createTexture=function(t){for(var e,i,n=[],a=new u,o=0,r=0;r<t.gridRow;r++)for(var s=0;s<t.gridCol;s++){n[o]=new d,0==s?(n[o].beginFill(t.cellColorTitle,t.cellAlpha),n[o].drawRect(0,0,t.gridWTitle,t.gridH)):(n[o].beginFill(t.cellColor,t.cellAlpha),n[o].drawRect(0,0,t.gridW,t.gridH));var h=0,l=0;0!=t.lineAlpha&&(h=t.lineThickness,l=t.lineThickness),0!=s&&(h=n[o-1].x+n[o-1].width+t.lineThickness),0!=r&&(l=n[t.gridCol*r-1].y+n[t.gridCol*r-1].height+t.lineThickness),n[o].x=h,n[o].y=l,n[o].endFill(),a.addChild(n[o]),o++}0!=t.lineAlpha&&((e=new d).beginFill(t.lineColor,t.lineAlpha),c=n[n.length-1].x+n[n.length-1].width+t.lineThickness,i=n[n.length-1].y+n[n.length-1].height+t.lineThickness,e.drawRect(0,0,c,i),e.endFill(),a.addChildAt(e,0));var c=PIXI.RenderTexture.create(a.width,a.height);CheckSize.GameStyle.renderer.render(a,c),Tools.TextureStore.repository[t.textureName]=c,p.frameLineArr.push(t)},p.frameLineArr=[],t.colTitleFrameLine=p}(SharePanel=SharePanel||{}),!function(t){var u=PIXI.Container,d=PIXI.Graphics;function p(){}p.createTexture=function(t){for(var e,i,n=[],a=new u,o=0,r=0;r<t.gridRow;r++)for(var s=0;s<t.gridCol;s++){n[o]=new d,0==r?(n[o].beginFill(t.cellColorTitle,t.cellAlpha),n[o].drawRect(0,0,t.gridW,t.gridHTitle)):(n[o].beginFill(t.cellColor,t.cellAlpha),n[o].drawRect(0,0,t.gridW,t.gridH));var h=0,l=0;0!=t.lineAlpha&&(h=t.lineThickness,l=t.lineThickness),0!=s&&(h=n[o-1].x+n[o-1].width+t.lineThickness),0!=r&&(l=n[t.gridCol*r-1].y+n[t.gridCol*r-1].height+t.lineThickness),n[o].x=h,n[o].y=l,n[o].endFill(),a.addChild(n[o]),o++}0!=t.lineAlpha&&((e=new d).beginFill(t.lineColor,t.lineAlpha),c=n[n.length-1].x+n[n.length-1].width+t.lineThickness,i=n[n.length-1].y+n[n.length-1].height+t.lineThickness,e.drawRect(0,0,c,i),e.endFill(),a.addChildAt(e,0));var c=PIXI.RenderTexture.create(a.width,a.height);CheckSize.GameStyle.renderer.render(a,c),Tools.TextureStore.repository[t.textureName]=c,p.frameLineArr.push(t)},p.frameLineArr=[],t.rowTitleFrameLine=p}(SharePanel=SharePanel||{}),!function(t){var d=PIXI.Container,p=PIXI.Graphics;function f(){}f.createTexture=function(t){for(var e,i,n=[],a=new d,o=0,r=null!=t.texas&&t.texas?3:2,s=0;s<t.gridRow;s++)for(var h=0;h<t.gridCol;h++){n[o]=new p,null!=t.texas?0==s?(n[o].beginFill(t.cellColor2,t.cellAlpha),h%r==0||h%r==2?n[o].drawRect(0,0,t.gridW,t.gridHTitle):n[o].drawRect(0,0,t.gridWTitle,t.gridHTitle)):(n[o].beginFill(t.cellColor,t.cellAlpha),h%r==0||h%r==2?n[o].drawRect(0,0,t.gridW,t.gridH):n[o].drawRect(0,0,t.gridWTitle,t.gridH)):(h%2==0&&null!=t.cellColor2?n[o].beginFill(t.cellColor2,t.cellAlpha):n[o].beginFill(t.cellColor,t.cellAlpha),h%r==0?n[o].drawRect(0,0,t.gridW,t.gridH):n[o].drawRect(0,0,t.gridWTitle,t.gridH));var l=0,c=0;0!=t.lineAlpha&&(l=t.lineThickness,c=t.lineThickness),0!=h&&(l=n[o-1].x+n[o-1].width+t.lineThickness),0!=s&&(c=n[t.gridCol*s-1].y+n[t.gridCol*s-1].height+t.lineThickness),n[o].x=l,n[o].y=c,n[o].endFill(),a.addChild(n[o]),o++}0!=t.lineAlpha&&((e=new p).beginFill(t.lineColor,t.lineAlpha),u=n[n.length-1].x+n[n.length-1].width+t.lineThickness,i=n[n.length-1].y+n[n.length-1].height+t.lineThickness,e.drawRect(0,0,u,i),e.endFill(),a.addChildAt(e,0));var u=PIXI.RenderTexture.create(a.width,a.height);CheckSize.GameStyle.renderer.render(a,u),Tools.TextureStore.repository[t.textureName]=u,f.frameLineArr.push(t)},f.frameLineArr=[],t.specialFrameLine=f}(SharePanel=SharePanel||{}),!function(t){function i(){this.margin=15,i.container=new PIXI.Container,t.FloatToolTip.container.visible=!1}i.prototype.setGameSize=function(t,e){this.canvasW=t,this.canvasH=e},i.prototype.render=function(t,e){i.container.removeChildren(),(i.textTip=new PIXI.Text(t,{fontSize:14,fontFamily:"Arial",fontWeight:e?"bold":"normal",fill:"#000"})).anchor.set(.5,.5),(i.rect=new PIXI.Graphics).beginFill(16777164,1),i.rect.drawRect(0,0,i.textTip.width+2*i.padding,i.textTip.height+2*i.padding),i.rect.endFill(),i.textTip.x=i.rect.width/2,i.textTip.y=i.rect.height/2,i.container.addChild(i.rect),i.container.addChild(i.textTip)},i.prototype.update=function(t,e){this.posX=t,this.posY=e,this.setPosition()},i.prototype.setPosition=function(){this.posX+=this.margin,this.posX+i.textTip.width>this.canvasW-this.margin&&(this.posX-=i.textTip.width+2*this.margin),this.posY+i.textTip.height>this.canvasH-this.margin&&(this.posY>this.canvasH?this.posY=this.canvasH-(i.textTip.height+this.margin):this.posY-=i.textTip.height+this.margin),this.posY<0&&(this.posY=0),i.container.x=this.posX,i.container.y=this.posY},i.setTxt=function(t){i.textTip.text=t,i.rect.clear(),i.rect.beginFill(16777164,1),i.rect.drawRect(0,0,i.textTip.width+2*i.padding,i.textTip.height+2*i.padding),i.rect.endFill(),i.textTip.x=i.rect.width/2,i.textTip.y=i.rect.height/2},i.padding=4,t.FloatToolTip=i}(Tools=Tools||{}),!function(i){function t(t){this.posW=0,this.posH=0,this._container=t,this.conW=this._container.width,this._tipObj=new Object,this.initUI()}t.prototype.initUI=function(){this.bg=new PIXI.Graphics,this.bg.beginFill(16777164,1),this.bg.drawRect(0,0,120,120),this._container.addChild(this.bg);this.textTip=new PIXI.Text("",{fontFamily:"Arial",fontSize:"14px",fill:"#000000"}),this.textTip.x=5,this.textTip.y=9,this.textTip.anchor.y=.5,this.bg.addChild(this.textTip),this.bg.visible=!1,this.tipVisible=!1,this.resizeBg()},t.prototype.resizeBg=function(){this.bg.clear(),this.bg.beginFill(16777164,1),this.bg.drawRect(0,0,this.textTip.width+10,18)},t.prototype.addTip=function(t,e){var i=this;this._tipObj[t.name]=new Object,this._tipObj[t.name].tipText=e,DeviceAndEnvironment.Device.isMobile()||(t.on("mouseover",function(t){return i.onRollOver(t)}),t.on("mouseout",function(t){return i.onRollOut(t)}),t.on("mouseup",function(t){return i.onRollOut(t)}))},t.prototype.removeTip=function(){this.bg.visible&&(this.bg.visible=!1,this.tipVisible=!1),i.FloatToolTip.container&&this.tipVisible&&(i.FloatToolTip.container.visible=!1,this.tipVisible=!1)},t.prototype.onClick=function(t){},t.prototype.onRollOver=function(t){var e=t.currentTarget;this._focusBtnName=e.name,this.bg.visible=!i.FloatToolTip.container,this.tipVisible=!0,i.FloatToolTip.container&&(i.FloatToolTip.container.visible=!0),this.textTip.text=IPL.DictManager.getDict(this._tipObj[e.name].tipText),i.FloatToolTip.container&&i.FloatToolTip.setTxt(IPL.DictManager.getDict(this._tipObj[e.name].tipText)),this.resizeBg(),this.bg.x=e.x+(t.data.getLocalPosition(t.currentTarget).x-this.bg.width)/2,this.bg.y=e.y-this.bg.height-4,this.bg.x<0&&(this.bg.x=3),e.x+e.width<=this.conW&&this.bg.x+this.bg.width>this.conW&&(this.bg.x=this.conW-this.bg.width-3),this.bg.y<0&&(this.bg.y=e.height+3),0!=this.posW&&(this.bg.x=this.bg.x+this.posW),0!=this.posH&&(this.bg.y=this.bg.y+this.posH)},t.prototype.onRollOut=function(t){t=t.currentTarget;this._focusBtnName==t.name&&(this.bg.visible=!1,this.tipVisible=!1,i.FloatToolTip.container)&&(i.FloatToolTip.container.visible=!1)},t.prototype.setSize=function(t,e){this.bg.scale.set(t=void 0===t?1:t,e=void 0===e?1:e)},t.prototype.setPos=function(t,e){void 0===e&&(e=0),this.posW=t=void 0===t?0:t,this.posH=e},i.Tip=t}(Tools=Tools||{}),!function(t){var i,n=PIXI.Sprite,a=PIXI.Text,e=PIXI.Container,o=PIXI.extras.BitmapText,r=(__extends(s,i=e),s);function s(t){var e=i.call(this)||this;return e.banker=n.fromImage(t.cellB),e.addChild(e.banker),e.player=n.fromImage(t.cellP),e.addChild(e.player),null!=t.cellBE&&(e.bankerE=n.fromImage(t.cellBE),e.addChild(e.bankerE)),null!=t.cellPE&&(e.playerE=n.fromImage(t.cellPE),e.addChild(e.playerE)),e}t.Roadmap2Cell=r;__extends(c,h=r),c.prototype.setPoint=function(t){switch(this.banker.visible=!1,this.player.visible=!1,this.tie&&(this.tie.visible=!1),t){case"O":case"B":this.banker.visible=!0;break;case"E":case"U":case"R":this.player.visible=!0;break;case"7":case"T":this.tie.visible=!0}};var h,l=c;function c(t){var e=h.call(this,t)||this;return null!=t.cellT&&(e.tie=n.fromImage(t.cellT),e.addChild(e.tie)),e}t.RoadmapAceyCell=l;__extends(d,u=r),d.prototype.setPoint=function(t){this.banker.visible=!1,this.player.visible=!1,this.tie&&(this.tie.visible=!1);var e="";switch(1<t.length?(e=t[0],this.tie.visible=!0,this.tieNum.text=String(t.length-1)):e=t,e){case"1":this.banker.visible=!0;break;case"2":this.player.visible=!0}};var u,l=d;function d(t){var e,i=u.call(this,t)||this;return null!=t.cellT&&(e=t.gapX,i.tie=n.fromImage(t.cellT),i.tie.scale.set(.7),i.tie.position.set(e/2.8,e/2.8),i.addChild(i.tie),i.tieNum=new o("0",t.style),i.tieNum.position.set(5,3),i.tie.addChild(i.tieNum)),i}t.RoadmapSedieCell=l;__extends(f,p=e),f.prototype.checkChildNotAdd=function(t){return this[t].parent!=this};var p,r=f;function f(t){var e=p.call(this)||this;return e.circleBanker=n.fromImage(t.cellB),e.circlePlayer=n.fromImage(t.cellP),null!=t.tStyle.font?e.tieNum=new o("0",t.tStyle):e.tieNum=new a("1",t.tStyle),e.tieNum.anchor.set(.5),e.tieNum.x=e.circleBanker.width/2,e.tieNum.y=e.circleBanker.height/2,null!=t.tScale&&e.tieNum.scale.set(t.tScale),e.tie1=n.fromImage(t.cellT),e.tie1.x=e.tie1.y=t.cellT1,e.tie2=n.fromImage(t.cellT),e.tie2.x=e.tie2.y=t.cellT2,e.tie3=n.fromImage(t.cellT),e.tie3.x=e.tie3.y=t.cellT3,e}t.RoadmapCircleCell=r;__extends(m,_=e),m.prototype.setTexture=function(t){this.BCell.visible=!1,"1"==t?(this.BCell.visible=!0,this.BCell.texture=this.BTexture):"2"==t?(this.BCell.visible=!0,this.BCell.texture=this.PTexture):"3"==t&&(this.BCell.visible=!0,this.BCell.texture=this.TTexture)};var _,l=m;function m(t){var e=_.call(this)||this;return e.BTexture=PIXI.Texture.fromImage(t.cellB),e.PTexture=PIXI.Texture.fromImage(t.cellP),e.TTexture=PIXI.Texture.fromImage(t.cellT),e.BCell=n.fromFrame(t.cellB),null!=t.cellBP&&(e.bankerPair=n.fromImage(t.cellBP)),null!=t.cellPP&&(e.playerPair=n.fromImage(t.cellPP),e.playerPair.x=e.BCell.width-e.playerPair.width,e.playerPair.y=e.BCell.height-e.playerPair.height),e.numTxt=new a("",t.tStyle),e.numTxt.anchor.set(.5),e.numTxt.x=e.BCell.width/2,e.numTxt.y=e.BCell.height/2,null!=t.tScale&&e.numTxt.scale.set(t.tScale),e}t.RoadmapBCell=l;__extends(v,g=n),v.prototype.setPoint=function(t){switch(t){case 1:this.texture=this.point1;break;case 2:this.texture=this.point2;break;case 3:this.texture=this.point3;break;case 4:this.texture=this.point4;break;case 5:this.texture=this.point5}};var g,r=v;function v(e){var i=g.call(this)||this;i.point1=PIXI.Texture.fromImage(e+"0000"),i.point2=PIXI.Texture.fromImage(e+"0001"),i.point3=PIXI.Texture.fromImage(e+"0002");try{i.point4=PIXI.Texture.fromFrame(e+"0003")}catch(t){i.point4=PIXI.Texture.fromFrame(e+"0002")}try{i.point5=PIXI.Texture.fromFrame(e+"0004")}catch(t){try{i.point5=PIXI.Texture.fromFrame(e+"0003")}catch(t){i.point5=PIXI.Texture.fromFrame(e+"0002")}}return i}t.RoadmapNormalCell=r;__extends(P,y=r),P.prototype.setTypePiont=function(t,e){switch(y.prototype.setPoint.call(this,t),this._point.text=e,t){case 1:null!=this._cell.fill1&&(this._point.style.fill=this._cell.fill1);break;case 2:null!=this._cell.fill2&&(this._point.style.fill=this._cell.fill2);break;case 3:null!=this._cell.fill3&&(this._point.style.fill=this._cell.fill3)}};var y,e=P;function P(t){var e=y.call(this,t.pName)||this;return e._cell=t,e._point=new a("",e._cell.style),e._point.anchor.set(.5),e._point.x=e._cell.posX,e._point.y=e._cell.posY,e.addChild(e._point),e}t.RoadmapSicBoVnCell1=e;__extends(b,S=n),b.prototype.setPoint=function(t,e){var i;0==t?(i=[4,5,6,7,8,9,10].indexOf(e),this.texture=PIXI.Texture.fromImage(this._pName+"W000"+String(i))):1==t?(i=[11,12,13,14,15,16,17,18].indexOf(e),this.texture=PIXI.Texture.fromImage(this._pName+"R000"+String(i))):2==t&&(i=[3,6,9,12,15,18].indexOf(e),this.texture=PIXI.Texture.fromImage(this._pName+"Y000"+String(i)))};var S,l=b;function b(t){var e=S.call(this)||this;return e._pName=t,e}t.RoadmapSicBoVnCell2=l}(ShareRoad=ShareRoad||{}),!function(s){var i,t=PIXI.Sprite,t=(__extends(e,i=t),e.prototype.arrangeCells=function(){for(var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY,i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.Roadmap2Cell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.cellList.push(r)}},e.prototype.setDataArray=function(t){this.record=this.translateRoadmapData(t,1),this.redraw()},e.prototype.redraw=function(){this.resetCells();var t=[],e=1,i=this.cellSetting.gridRow,n=0,a="",o=0,r=i,s=!1,h=!1,l=[],c=0,u=0,d=[];this.cellArrayBCD=[];for(var p=0;p<this.record.length;p++){"3"!=(f=this.record[p].charAt(0))&&this.cellArrayBCD.push(f);var f,_=e*n+(i-n)*(e-1);if(0==p&&"3"==f)h=!0,a=f,c++;else if(0==p||t[_-1]==f||h||a==f)if(6==r&&(l=[]),n<r)if(h)if("3"==f)c++;else{for(var h=!1,a=f,m=0;m<c;m++)a+=f;t[_]=a,a=f,c=0,n++}else a="",t[_]=f,n++;else 0==o&&(o=e),s=!0,a=t[_=++e*n+(i-n)*(e-1)-1]=f;else if("3"==f)a=(a=t[_=e*(P=n-1)+(i-P)*(e-1)]).substr(0,1),t[_]=t[_]+f;else{0!=o?(l.push(e),d.push(n),u<e&&(u=e)):(l.push(o),d.push(r),u<o&&(u=o));var g=0,v=0,y=0,P=!0;0!=o?1!=r?y=o:(y=e,P=!1):y=e;for(var S=n-1;S<i;S++)null!=t[_=(y+1)*S+(i-S)*(y+1-1)]&&(g=S);for(var b=i-1;n-1<=b;b--)null!=t[_=(y+1)*b+(i-b)*(y+1-1)]&&(v=b),b<0&&(v=n);r=0!=g&&v<=g?v:0!=g&&g<=v?g:6,n=0,s?(s=!1,P?(t[_=(o+1)*n+(i-n)*(o+1-1)]=f,e=o+1):e<u?t[_=++e*(n=0)+(i-n)*(e-1)]=f:t[_=++e*n+(i-n)*(e-1)]=f,o=0):t[_=++e*n+(i-n)*(e-1)]=f,a="",n++}}for(;t.length/i>this.cellSetting.gridCol;)t.splice(0,i);for(var I=0;I<t.length;I++){var B=this.cellList[I];"1"==t[I]?(this.addChild(B),B.addChild(B.banker)):"2"==t[I]&&(this.addChild(B),B.addChild(B.player))}},e.prototype.translateRoadmapData=function(t,e){for(var i="",n=e;n<t.length;n++)i+=this.magicRoad(t,e,n);return i.split("")},e.prototype.magicRoad=function(t,e,i){var n="",a=(e<i&&(n=parseInt(t[i-1])==parseInt(t[i-1-e])?"1":"2"),0),a=parseInt(t[i-e])>=parseInt(t[i])?Number(t[i])-1:(a=parseInt(t[i-e])-1,n=n+this.addColor(a,"1")+"2",parseInt(t[i])-parseInt(t[i-e])-1);return n+=this.addColor(a,"1")},e.prototype.addColor=function(t,e){for(var i="";0<t;)i+=e,t--;return i},e.prototype.resetCells=function(){for(var t=this.cellList.length,e=0;e<t;e++){var i=this.cellList[e];this.removeChild(i),i.removeChildren()}},e);function e(t){var e=i.call(this)||this;return e.interactiveChildren=!1,e.cellSetting=t,e.cellList=[],e.arrangeCells(),e.resetCells(),e}s.Roadmap2B=t}(ShareRoad=ShareRoad||{}),!function(s){var i,t=PIXI.Sprite,t=(__extends(e,i=t),e.prototype.arrangeCells=function(){for(var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY,i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.Roadmap2Cell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.cellList.push(r)}},e.prototype.setDataArray=function(t){this.record=this.translateRoadmapData(t,2),this.redraw()},e.prototype.redraw=function(){this.resetCells();var t=[],e=1,i=this.cellSetting.gridRow,n=0,a="",o=0,r=i,s=!1,h=!1,l=[],c=0,u=0,d=[];this.cellArrayBCD=[];for(var p=0;p<this.record.length;p++){"3"!=(f=this.record[p].charAt(0))&&this.cellArrayBCD.push(f);var f,_=e*n+(i-n)*(e-1);if(0==p&&"3"==f)h=!0,a=f,c++;else if(0==p||t[_-1]==f||h||a==f)if(6==r&&(l=[]),n<r)if(h)if("3"==f)c++;else{for(var h=!1,a=f,m=0;m<c;m++)a+=f;t[_]=a,a=f,c=0,n++}else a="",t[_]=f,n++;else 0==o&&(o=e),s=!0,a=t[_=++e*n+(i-n)*(e-1)-1]=f;else if("3"==f)a=(a=t[_=e*(P=n-1)+(i-P)*(e-1)]).substr(0,1),t[_]=t[_]+f;else{0!=o?(l.push(e),d.push(n),u<e&&(u=e)):(l.push(o),d.push(r),u<o&&(u=o));var g=0,v=0,y=0,P=!0;0!=o?1!=r?y=o:(y=e,P=!1):y=e;for(var S=n-1;S<i;S++)null!=t[_=(y+1)*S+(i-S)*(y+1-1)]&&(g=S);for(var b=i-1;n-1<=b;b--)null!=t[_=(y+1)*b+(i-b)*(y+1-1)]&&(v=b),b<0&&(v=n);r=0!=g&&v<=g?v:0!=g&&g<=v?g:6,n=0,s?(s=!1,P?(t[_=(o+1)*n+(i-n)*(o+1-1)]=f,e=o+1):e<u?t[_=++e*(n=0)+(i-n)*(e-1)]=f:t[_=++e*n+(i-n)*(e-1)]=f,o=0):t[_=++e*n+(i-n)*(e-1)]=f,a="",n++}}for(;t.length/i>this.cellSetting.gridCol;)t.splice(0,i);for(var I=0;I<t.length;I++){var B=this.cellList[I];"1"==t[I]?(this.addChild(B),B.addChild(B.banker)):"2"==t[I]&&(this.addChild(B),B.addChild(B.player))}},e.prototype.translateRoadmapData=function(t,e){for(var i="",n=e;n<t.length;n++)i+=this.magicRoad(t,e,n);return i.split("")},e.prototype.magicRoad=function(t,e,i){var n="",a=(e<i&&(n=parseInt(t[i-1])==parseInt(t[i-1-e])?"1":"2"),0),a=parseInt(t[i-e])>=parseInt(t[i])?parseInt(t[i])-1:(a=parseInt(t[i-e])-1,n=n+this.addColor(a,"1")+"2",parseInt(t[i])-parseInt(t[i-e])-1);return n+=this.addColor(a,"1")},e.prototype.addColor=function(t,e){for(var i="";0<t;)i+=e,t--;return i},e.prototype.resetCells=function(){for(var t=this.cellList.length,e=0;e<t;e++){var i=this.cellList[e];this.removeChild(i),i.removeChildren()}},e);function e(t){var e=i.call(this)||this;return e.interactiveChildren=!1,e.cellSetting=t,e.cellList=[],e.arrangeCells(),e.resetCells(),e}s.Roadmap2C=t}(ShareRoad=ShareRoad||{}),!function(s){var i,t=PIXI.Sprite,t=(__extends(e,i=t),e.prototype.arrangeCells=function(){for(var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY,i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.Roadmap2Cell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.cellList.push(r)}},e.prototype.setDataArray=function(t){this.record=this.translateRoadmapData(t,3),this.redraw()},e.prototype.redraw=function(){this.resetCells();var t=[],e=1,i=this.cellSetting.gridRow,n=0,a="",o=0,r=i,s=!1,h=!1,l=[],c=0,u=0,d=[];this.cellArrayBCD=[];for(var p=0;p<this.record.length;p++){"3"!=(f=this.record[p].charAt(0))&&this.cellArrayBCD.push(f);var f,_=e*n+(i-n)*(e-1);if(0==p&&"3"==f)h=!0,a=f,c++;else if(0==p||t[_-1]==f||h||a==f)if(6==r&&(l=[]),n<r)if(h)if("3"==f)c++;else{for(var h=!1,a=f,m=0;m<c;m++)a+=f;t[_]=a,a=f,c=0,n++}else a="",t[_]=f,n++;else 0==o&&(o=e),s=!0,a=t[_=++e*n+(i-n)*(e-1)-1]=f;else if("3"==f)a=(a=t[_=e*(P=n-1)+(i-P)*(e-1)]).substr(0,1),t[_]=t[_]+f;else{0!=o?(l.push(e),d.push(n),u<e&&(u=e)):(l.push(o),d.push(r),u<o&&(u=o));var g=0,v=0,y=0,P=!0;0!=o?1!=r?y=o:(y=e,P=!1):y=e;for(var S=n-1;S<i;S++)null!=t[_=(y+1)*S+(i-S)*(y+1-1)]&&(g=S);for(var b=i-1;n-1<=b;b--)null!=t[_=(y+1)*b+(i-b)*(y+1-1)]&&(v=b),b<0&&(v=n);r=0!=g&&v<=g?v:0!=g&&g<=v?g:6,n=0,s?(s=!1,P?(t[_=(o+1)*n+(i-n)*(o+1-1)]=f,e=o+1):e<u?t[_=++e*(n=0)+(i-n)*(e-1)]=f:t[_=++e*n+(i-n)*(e-1)]=f,o=0):t[_=++e*n+(i-n)*(e-1)]=f,a="",n++}}for(;t.length/i>this.cellSetting.gridCol;)t.splice(0,i);for(var I=0;I<t.length;I++){var B=this.cellList[I];"1"==t[I]?(this.addChild(B),B.addChild(B.banker)):"2"==t[I]&&(this.addChild(B),B.addChild(B.player))}},e.prototype.translateRoadmapData=function(t,e){for(var i="",n=e;n<t.length;n++)i+=this.magicRoad(t,e,n);return i.split("")},e.prototype.magicRoad=function(t,e,i){var n="",a=(e<i&&(n=parseInt(t[i-1])==parseInt(t[i-1-e])?"1":"2"),0),a=parseInt(t[i-e])>=parseInt(t[i])?parseInt(t[i])-1:(a=parseInt(t[i-e])-1,n=n+this.addColor(a,"1")+"2",parseInt(t[i])-parseInt(t[i-e])-1);return n+=this.addColor(a,"1")},e.prototype.addColor=function(t,e){for(var i="";0<t;)i+=e,t--;return i},e.prototype.resetCells=function(){for(var t=this.cellList.length,e=0;e<t;e++){var i=this.cellList[e];this.removeChild(i),i.removeChildren()}},e);function e(t){var e=i.call(this)||this;return e.interactiveChildren=!1,e.cellSetting=t,e.cellList=[],e.arrangeCells(),e.resetCells(),e}s.Roadmap2D=t}(ShareRoad=ShareRoad||{}),!function(s){i=Composite.EventSprite,__extends(e,i),e.prototype.arrangeCells=function(){},e.prototype.setRoadmapData=function(t){},e.prototype.redraw=function(){this.resetCells();for(var t=[],e=[],i=1,n=parseInt(this.cellSetting.gridRow),a=0,o="",r=0,s=n,h=!1,l=!1,c=[],u=0,d=0,p=[],f=(this.cellArrayBCD=[],0),_=0;_<this.record.length;_++){var m,g=this.record[_],v=g.charAt(0),g=g.charAt(1)+g.charAt(2);if("3"!=(m=v)&&this.cellArrayBCD.push(m),f=i*a+(n-a)*(i-1),0==_&&"3"==m)l=!0,o=m,u++;else if(0==_||t[f-1]==m||l||o==m)if(s==n&&(c=[]),a<s)if(l)if("3"==m)u++;else{for(var l=!1,o=m,y=0;y<u;y++)o+=m;t[f]=o,e[f]=o+g,o=m,u=0,a++}else o="",e[f]=(t[f]=m)+g,a++;else 0==r&&(r=i),h=!0,e[f=++i*a+(n-a)*(i-1)-1]=(t[f]=m)+g,o=m;else if("3"==m)o=(o=t[f=i*(v=a-1)+(n-v)*(i-1)]).substr(0,1),t[f]=t[f]+m,e[f]=e[f]+m+g;else{0!=r?(c.push(i),p.push(a),d<i&&(d=i)):(c.push(r),p.push(s),d<r&&(d=r));var P=0,S=0,b=0,v=!0;0!=r?1!=s?b=r:(b=i,v=!1):b=i;for(var I=a-1;I<n;I++)null!=t[f=(b+1)*I+(n-I)*(b+1-1)]&&(P=I);for(var B=n-1;a-1<=B;B--)null!=t[f=(b+1)*B+(n-B)*(b+1-1)]&&(S=B),B<0&&(S=a);s=0!=P&&S<=P?S:0!=P&&P<=S?P:n,a=0,h?(h=!1,v?(e[f=(r+1)*a+(n-a)*(r+1-1)]=(t[f]=m)+g,i=r+1):i<d?e[f=++i*(a=0)+(n-a)*(i-1)]=(t[f]=m)+g:e[f=++i*a+(n-a)*(i-1)]=(t[f]=m)+g,r=0):e[f=++i*a+(n-a)*(i-1)]=(t[f]=m)+g,o="",a++}}for(;t.length/n>this.cellSetting.gridCol;)t.splice(0,n),e.splice(0,n);"3001"==this.cellSetting.gameType||"3003"==this.cellSetting.gameType||"3018"==this.cellSetting.gameType||"3048"==this.cellSetting.gameType?this.showResult(t):"3011"!=this.cellSetting.gameType&&"3015"!=this.cellSetting.gameType&&"3042"!=this.cellSetting.gameType||this.showResult(e),this.cellSetting.gameType,this.checkArray()},e.prototype.showResult=function(t){},e.prototype.checkArray=function(){for(var t=1,e=0,i=[],n=0;n<this.cellArrayBCD.length;n++)this.cellArrayBCD[n]==this.cellArrayBCD[n-1]?(t++,i[e]=String(t)):null==this.cellArrayBCD[n-1]?i[e]=String(t):(t=1,i[++e]=String(t));var a=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.ARRAYSORT);a.roadArray=i,this.event.dispatchEvent(a)},e.prototype.resetCells=function(){};var i,t=e;function e(t){var e=i.call(this)||this;return e.interactiveChildren=!1,e.cellSetting=t,e.mcList=[],e.cellList=[],e.record=[],e.arrangeCells(),e.resetCells(),e}s.RoadmapNew2A=t;__extends(o,n=t),o.prototype.arrangeCells=function(){for(var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY,i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.RoadmapCircleCell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.cellList.push(r)}},o.prototype.setRoadmapData=function(t){this._predictBankerRoadmapString=t,t=this.predictMapGetNewData(t),this.record=t.split(","),""==this.record[0]&&(this.record=[]),this.redraw()},o.prototype.showResult=function(t){for(var e=0;e<t.length;e++){var i=this.cellList[e];if("1"==t[e])this.addChild(i),i.addChild(i.circleBanker);else if("2"==t[e])this.addChild(i),i.addChild(i.circlePlayer);else if(null!=t[e]){this.addChild(i),i.tieNum.text="0";for(var n=t[e],a=n.substr(0,1),o=n.length-1;0<o;)"1"==a?i.checkChildNotAdd("tie1")?(i.addChild(i.circleBanker),i.addChild(i.tie1)):i.checkChildNotAdd("tie2")?i.addChild(i.tie2):i.checkChildNotAdd("tie3")?i.addChild(i.tie3):i.checkChildNotAdd("tie3")||(i.addChildAt(i.tieNum,0),i.tieNum.text=String(parseInt(i.tieNum.text)+1)):"2"==a&&(i.checkChildNotAdd("tie1")?(i.addChild(i.circlePlayer),i.addChild(i.tie1)):i.checkChildNotAdd("tie2")?i.addChild(i.tie2):i.checkChildNotAdd("tie3")?i.addChild(i.tie3):i.checkChildNotAdd("tie3")||(i.addChildAt(i.tieNum,0),i.tieNum.text=String(parseInt(i.tieNum.text)+1))),o--}}},o.prototype.resetCells=function(){for(var t=this.cellList.length,e=0;e<t;e++){var i=this.cellList[e];this.removeChild(i),i.removeChildren()}},o.prototype.onEnterFrame=function(){this.predictMap()},o.prototype.predictMap=function(){1==this._predictBanker&&(0<this._predictBankerLastAddedTimer||(this._predictBankerLastAddedTimer=Date.now()),800<Date.now()-this._predictBankerLastAddedTimer)&&(this.setRoadmapData(this._predictBankerRoadmapString),1==this._predictBankerLastAdded?this._predictBankerLastAdded=!1:0==this._predictBankerLastAdded&&(this._predictBankerLastAdded=!0),this._predictBankerLastAddedTimer=Date.now()),1==this._predictPlayer&&(0<this._predictBankerLastAddedTimer||(this._predictBankerLastAddedTimer=Date.now()),1e3<Date.now()-this._predictBankerLastAddedTimer)&&(this.setRoadmapData(this._predictBankerRoadmapString),1==this._predictPlayerLastAdded?this._predictPlayerLastAdded=!1:0==this._predictPlayerLastAdded&&(this._predictPlayerLastAdded=!0),this._predictBankerLastAddedTimer=Date.now())},o.prototype.predictBanker=function(){var t=this;null!=this.askTimer&&clearInterval(this.askTimer),this.askTimer=setInterval(function(){t.onEnterFrame()},80),this._predictBanker=!0,this._predictBankerLastAdded=!0},o.prototype.predictBankerCancle=function(){this._predictBanker=!1,this._predictBankerLastAdded=!1},o.prototype.predictPlayer=function(){var t=this;null!=this.askTimer&&clearInterval(this.askTimer),this.askTimer=setInterval(function(){t.onEnterFrame()},80),this._predictPlayer=!0,this._predictPlayerLastAdded=!0},o.prototype.predictPlayerCancle=function(){this._predictPlayer=!1,this._predictPlayerLastAdded=!1},o.prototype.predictMapGetNewData=function(t){return 1==this._predictBanker&&1==this._predictBankerLastAdded&&(""==t?t="108":t+=",108"),1==this._predictPlayer&&1==this._predictPlayerLastAdded&&(""==t?t="208":t+=",208"),t};var n,a=o;function o(t){t=n.call(this,t)||this;return t._predictBanker=!1,t}s.RoadmapNew2ABac=a;__extends(h,r=t),h.prototype.arrangeCells=function(){var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY;this.roadmap_length=this.cellSetting.gridRow*this.cellSetting.gridCol;for(var i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.RoadmapNormalCell(this.cellSetting.cellName);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.mcList.push(r)}},h.prototype.setRoadmapData=function(t){for(var e=t.split(",");e.length>this.roadmap_length;)e.splice(0,1);""==e[0]?this.record=[]:this.record=this.transferRoadmap(e),this.redraw()},h.prototype.transferRoadmap=function(t){this.transferArr=[];for(var e,i="",n=0;n<t.length;n++)i="2"==t[n]||"4"==t[n]?"1":"2",e=String(t[n]),this.transferArr.push(i+e);return this.transferArr},h.prototype.showResult=function(t){for(var e=0;e<t.length;e++){var i=this.mcList[e];if(null!=t[e]){var n=t[e].charAt(1),n=Number(n);switch("3015"==this.cellSetting.gameType&&n++,n){case 1:i.setPoint(1),this.addChild(i);break;case 2:i.setPoint(2),this.addChild(i);break;case 3:i.setPoint(3),this.addChild(i);break;case 4:i.setPoint(4),this.addChild(i);break;case 5:i.setPoint(5),this.addChild(i)}}}},h.prototype.resetCells=function(){for(var t=0;t<this.mcList.length;t++){var e=this.mcList[t];this.removeChild(e)}};var r,a=h;function h(t){return r.call(this,t)||this}s.RoadmapNew2ASedie=a;__extends(c,l=t),c.prototype.arrangeCells=function(){var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY;this.roadmap_length=this.cellSetting.gridRow*this.cellSetting.gridCol;for(var i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.RoadmapSicBoVnCell2(this.cellSetting.cellName);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.mcList.push(r)}},c.prototype.setRoadmapData=function(t){t=t.split(",");""==t[0]?this.record=[]:this.record=t,this.redraw()},c.prototype.showResult=function(t){for(var e=0;e<t.length;e++){var i,n,a,o=this.mcList[e];null!=t[e]&&(i=(a=t[e]).charAt(0),i=Number(i),n=a.slice(1,a.length),n=Number(n),a=a.charAt(1),Number(a),o.setPoint(i,n),this.addChild(o))}},c.prototype.resetCells=function(){for(var t=0;t<this.mcList.length;t++){var e=this.mcList[t];this.removeChild(e)}};var l,a=c;function c(t){return l.call(this,t)||this}s.RoadmapNew2AVnSic=a;__extends(d,u=t),d.prototype.arrangeCells=function(){this.List=[];var t=this.cellSetting.originalX,e=this.cellSetting.originalY;this.roadmap_length=this.cellSetting.gridRow*this.cellSetting.gridCol;for(var i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.RoadmapAceyCell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.List.push(r),this.addChild(r)}},d.prototype.setRoadmapData=function(t){for(var e=t.split(",");e.length>this.roadmap_length;)e.splice(0,1);""==e[0]?this.record=[]:this.record=e,this.redraw()},d.prototype.showResult=function(t){this.resetCells();for(var e=0;e<t.length;e++)null!=t[e]&&(this.List[e].visible=!0,this.List[e].setPoint(t[e]))},d.prototype.resetCells=function(){for(var t=0;t<this.List.length;t++)this.List[t].visible=!1,this.List[t].banker.visible=!1,this.List[t].player.visible=!1,this.List[t].tie&&(this.List[t].tie.visible=!1)};var u,a=d;function d(t){return u.call(this,t)||this}s.RoadmapNew2Aacey=a;__extends(f,p=t),f.prototype.arrangeCells=function(){this.List=[];var t=this.cellSetting.originalX,e=this.cellSetting.originalY;this.roadmap_length=this.cellSetting.gridRow*this.cellSetting.gridCol;for(var i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.RoadmapSedieCell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.List.push(r),this.addChild(r)}},f.prototype.setRoadmapData=function(t){for(var e=t.split(",");e.length>this.roadmap_length;)e.splice(0,1);""==e[0]?this.record=[]:this.record=this.transferRoadmap(e),this.redraw()},f.prototype.transferRoadmap=function(t){this.transferArr=[];for(var e=0;e<t.length;e++){var i="";"1"==t[e]||"2"==t[e]?i="2":"3"==t[e]?i="3":"4"!=t[e]&&"5"!=t[e]||(i="1"),this.transferArr.push(i)}return this.transferArr},f.prototype.showResult=function(t){this.resetCells();for(var e=0;e<t.length;e++)null!=t[e]&&(this.List[e].visible=!0,this.List[e].setPoint(t[e]))},f.prototype.resetCells=function(){for(var t=0;t<this.List.length;t++)this.List[t].visible=!1,this.List[t].banker.visible=!1,this.List[t].player.visible=!1,this.List[t].tie&&(this.List[t].tie.visible=!1)};var p,a=f;function f(t){return p.call(this,t)||this}s.RoadmapNewSedie=a}(ShareRoad=ShareRoad||{}),!function(s){var i,t=PIXI.Sprite,t=(__extends(e,i=t),e.prototype.arrangeCells=function(){for(var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY,i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.RoadmapBCell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.cellList.push(r)}},e.prototype.setRoadmapData=function(t){for(this.record=t.split(",");this.record.length>this.roadmap_length;)this.record.splice(0,6);this.redraw()},e.prototype.redraw=function(){this.resetCells();for(var t=0;t<this.record.length;t++){var e=this.cellList[t],i=(this.addChild(e),this.record[t]),n=i.charAt(0),a=i.charAt(1),i=i.charAt(2)+i.charAt(3);"0"!=n&&(e.addChild(e.BCell),e.setTexture(n)),e.addChild(e.numTxt),e.numTxt.text=i,"0"!=a&&("1"==a?e.addChild(e.bankerPair):"2"==a?e.addChild(e.playerPair):"3"==a&&(e.addChild(e.bankerPair),e.addChild(e.playerPair)))}},e.prototype.resetCells=function(){for(var t=this.cellList.length,e=0;e<t;e++){var i=this.cellList[e];this.removeChild(i),i.removeChildren(),i.numTxt.text=""}},e);function e(t){var e=i.call(this)||this;return e.interactiveChildren=!1,e.record=[],e.cellList=[],e.cellSetting=t,e.roadmap_length=e.cellSetting.gridRow*e.cellSetting.gridCol,e.arrangeCells(),e.resetCells(),e}s.RoadmapB=t;__extends(a,n=t),a.prototype.redraw=function(){this.resetCells();for(var t=0;t<this.record.length;t++){var e=this.cellList[t],i=(this.addChild(e),this.record[t]),n=i.charAt(0),i=(i.charAt(1),i.charAt(2));"0"!=n&&(e.addChild(e.BCell),e.setTexture(n)),e.addChild(e.numTxt),e.numTxt.text=i}},a.prototype.resetCells=function(){for(var t=this.cellList.length,e=0;e<t;e++){var i=this.cellList[e];this.removeChild(i),i.removeChildren(),i.numTxt.text=""}};var n,t=a;function a(t){return n.call(this,t)||this}s.RoadmapBDtf=t}(ShareRoad=ShareRoad||{}),!function(s){var i,t=PIXI.Sprite,t=(__extends(e,i=t),e.prototype.arrangeCells=function(){for(var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY,i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.Roadmap2Cell(this.cellSetting);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.cellList.push(r)}},e.prototype.setRoadmapData=function(t){if(0<t.length){this.record=t.split(",");for(var e=this.cellSetting.gridRow*this.cellSetting.gridCol;this.record.length>e;)this.record.splice(0,6);this.redraw()}else this.resetCells()},e.prototype.redraw=function(){this.resetCells();for(var t=0;t<this.record.length;t++){var e=this.cellList[t];0<this.record[t].length&&("B"==this.record[t]?(this.addChild(e),"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang||"ug"==IPL.UrlParameter.lang?e.addChild(e.banker):e.addChild(e.bankerE)):"S"==this.record[t]&&(this.addChild(e),"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang||"ug"==IPL.UrlParameter.lang?e.addChild(e.player):e.addChild(e.playerE)))}},e.prototype.resetCells=function(){for(var t=this.cellList.length,e=0;e<t;e++){var i=this.cellList[e];this.removeChild(i),i.removeChildren()}},e);function e(t){var e=i.call(this)||this;return e.interactiveChildren=!1,e.record=[],e.cellList=[],e.cellSetting=t,e.roadmap_length=e.cellSetting.gridRow*e.cellSetting.gridCol,e.arrangeCells(),e.resetCells(),e}s.RoadmapD=t}(ShareRoad=ShareRoad||{}),!function(o){var r,t=PIXI.Sprite,t=(__extends(e,r=t),e.prototype.setPos=function(){for(var t=0;t<this.raskArr.length;t++)this.raskArr[t].x=this.cellSetting.posX[t],this.raskArr[t].y=this.cellSetting.posY[t],this.raskArr[t].player.visible=!1,this.raskArr[t].banker.visible=!1,this.addChild(this.raskArr[t])},e.prototype.predictMapGetNewData=function(t){return 1==this._predictBanker&&1==this._predictBankerLastAdded&&(this.d=t+",108"),1==this._predictPlayer&&1==this._predictPlayerLastAdded&&(this.d=t+",208"),this.d},e.prototype.setData=function(t){this.d=t,this._predictBanker=this._predictBankerLastAdded=!0,this.d=this.predictMapGetNewData(this.d),this.recordB=this.d.split(","),this.redraw2A(this.recordB)},e.prototype.setData1=function(t){this.d=t,this._predictPlayer=this._predictPlayerLastAdded=!0,this.d=this.predictMapGetNewData(this.d),this.recordP=this.d.split(","),this.redraw2A(this.recordP)},e.prototype.setData2D=function(t){this.record2D=this.d.split(",")},e.prototype.setData2C=function(t){this.record2C=this.d.split(",")},e.prototype.setData2B=function(t){this.record2B=this.d.split(",")},e.prototype.setDataArray2B=function(t){this.record2B=this.translateRoadmapData(t,1),this.resetMc(this.raskMC1),this.redraw(this.record2B),2==parseInt(this.BP)?this.raskMC1.banker.visible=!0:3==parseInt(this.BP)&&(this.raskMC1.player.visible=!0)},e.prototype.setDataArray2B1=function(t){this.record2B=this.translateRoadmapData(t,1),this.resetMc(this.raskMC2),this.redraw(this.record2B),2==parseInt(this.BP)?this.raskMC2.banker.visible=!0:3==parseInt(this.BP)&&(this.raskMC2.player.visible=!0)},e.prototype.setDataArray2C=function(t){this.record2C=this.translateRoadmapData(t,2),this.resetMc(this.raskMC3),this.redraw(this.record2C),2==parseInt(this.BP)?this.raskMC3.banker.visible=!0:3==parseInt(this.BP)&&(this.raskMC3.player.visible=!0)},e.prototype.setDataArray2C1=function(t){this.record2C=this.translateRoadmapData(t,2),this.resetMc(this.raskMC4),this.redraw(this.record2C),2==parseInt(this.BP)?this.raskMC4.banker.visible=!0:3==parseInt(this.BP)&&(this.raskMC4.player.visible=!0)},e.prototype.setDataArray2D=function(t){this.record2D=this.translateRoadmapData(t,3),this.resetMc(this.raskMC5),this.redraw(this.record2D),2==parseInt(this.BP)?this.raskMC5.banker.visible=!0:3==parseInt(this.BP)&&(this.raskMC5.player.visible=!0)},e.prototype.setDataArray2D1=function(t){this.record2D=this.translateRoadmapData(t,3),this.resetMc(this.raskMC6),this.redraw(this.record2D),2==parseInt(this.BP)?this.raskMC6.banker.visible=!0:3==parseInt(this.BP)&&(this.raskMC6.player.visible=!0)},e.prototype.translateRoadmapData=function(t,e){for(var i="",n=e;n<t.length;n++)i+=this.magicRoad(t,e,n);return i.split("")},e.prototype.magicRoad=function(t,e,i){var n="",a=(e<i&&(n=t[i-1]==t[i-1-e]?"1":"2"),0),a=parseInt(t[i-e])>=parseInt(t[i])?parseInt(t[i])-1:(a=parseInt(t[i-e])-1,n=n+this.addColor(a,"1")+"2",parseInt(t[i])-parseInt(t[i-e])-1);return n+=this.addColor(a,"1")},e.prototype.addColor=function(t,e){for(var i="";0<t;)i+=e,t--;return i},e.prototype.redraw=function(t){this.record=t;var e=[],i=[];null!=this.record[0]&&this.record[0].charAt(0);for(var n=0;n<this.record.length;n++){var a="",o=this.record[n],r=o,s=(0!=n&&this.record[n-1].charAt(0),n<this.record.length-1&&(a=this.record[n+1].charAt(0)),this.cellSetting.gridRow-1);i.length>s&&(e.push(i),i=[]),null!=this.record[n+1]&&this.record[n+1].charAt(0),i.push(r),null!=a&&a!=o&&(e.push(i),i=[],0)}for(;e.length>this.cellSetting.gridCol;)e.splice(0,1);for(var h=e.length,n=0;n<h;n++)for(var l=(i=e[n]).length,c=0;c<l;c++)c<this.cellSetting.gridRow&&("1"==i[c]?this.BP="2":"2"==i[c]&&(this.BP="3"))},e.prototype.redraw2A=function(t){this.record=[],this.record=t;for(var e=[],i=0;i<this.record.length;i++){var n=this.record[i].charAt(0);"3"!=n&&e.push(n)}this.checkArray(e)},e.prototype.checkArray=function(t){for(var e=1,i=0,n=[],a=0;a<t.length;a++)t[a]==t[a-1]?(e++,n[i]=String(e)):null==t[a-1]?n[i]=String(e):(e=1,n[++i]=String(e));this.setDataAll(n)},e.prototype.setDataAll=function(t){this._predictBanker&&this._predictBankerLastAdded?(this.setDataArray2B(t),this.setDataArray2C(t),this.setDataArray2D(t),this._predictBanker=this._predictBankerLastAdded=!1):this._predictPlayer&&this._predictPlayerLastAdded&&(this.setDataArray2B1(t),this.setDataArray2C1(t),this.setDataArray2D1(t),this._predictPlayer=this._predictPlayerLastAdded=!1)},e.prototype.resetMc=function(t){this.BP="0",t.banker.visible=!1,t.player.visible=!1},e);function e(t){var e=r.call(this)||this,i={cellB:(e.cellSetting=t).rask1+"0",cellP:t.rask1+"1"},n={cellB:t.rask2+"0",cellP:t.rask2+"1"},a={cellB:t.rask3+"0",cellP:t.rask3+"1"};return e.raskMC1=new o.Roadmap2Cell(i),e.raskMC3=new o.Roadmap2Cell(n),e.raskMC5=new o.Roadmap2Cell(a),e.raskMC2=new o.Roadmap2Cell(i),e.raskMC4=new o.Roadmap2Cell(n),e.raskMC6=new o.Roadmap2Cell(a),null!=t.scale&&(e.raskMC1.scale.set(t.scale),e.raskMC3.scale.set(t.scale),e.raskMC5.scale.set(t.scale),e.raskMC2.scale.set(t.scale),e.raskMC4.scale.set(t.scale),e.raskMC6.scale.set(t.scale)),e.raskArr=[e.raskMC1,e.raskMC2,e.raskMC3,e.raskMC4,e.raskMC5,e.raskMC6],e.setPos(),e}o.PlayerBankerPanel=t}(ShareRoad=ShareRoad||{}),!function(t){i=t.RoadmapPanel,__extends(n,i),n.prototype.initAskBtn=function(t,e){this.B_raskbtn=e.mcBtn,this.B_raskbtn.name="B_raskbtn",this.B_raskbtn.x=e.posX,this.B_raskbtn.y=e.posY,this.addChild(this.B_raskbtn),this.P_raskbtn=t.mcBtn,this.P_raskbtn.name="P_raskbtn",this.P_raskbtn.x=t.posX,this.P_raskbtn.y=t.posY,this.addChild(this.P_raskbtn);var i=new Tools.Tip(this);null!=e.askBTip&&i.addTip(this.B_raskbtn,e.askBTip),null!=t.askPTip&&i.addTip(this.P_raskbtn,t.askPTip)},n.prototype.initAskRoadmap=function(t){this.BPPanel=new ShareRoad.PlayerBankerPanel(t),this.BPPanel.x=t.startPosX,this.BPPanel.y=t.startPosY,this.addChild(this.BPPanel),this.BPPanel.interactiveChildren=!1},n.prototype.initRoadB=function(t){"3001"==t.gameType?this.roadmapB=new ShareRoad.RoadmapB(t):"3003"!=t.gameType&&"3018"!=t.gameType&&"3026"!=t.gameType||(this.roadmapB=new ShareRoad.RoadmapBDtf(t))},n.prototype.initRoadD=function(t){this.roadmapD=new ShareRoad.RoadmapD(t)},n.prototype.initRoadNew2A=function(t){this.gameType=t.gameType,this.roadmapNew2A=new ShareRoad.RoadmapNew2ABac(t)},n.prototype.initRoad2B=function(t){this.roadmap2B=new ShareRoad.Roadmap2B(t)},n.prototype.initRoad2C=function(t){this.roadmap2C=new ShareRoad.Roadmap2C(t)},n.prototype.initRoad2D=function(t){this.roadmap2D=new ShareRoad.Roadmap2D(t)},n.prototype.initAddListen=function(){var e=this;i.prototype.initAddListen.call(this),null!=this.P_raskbtn&&(DeviceAndEnvironment.Device.isMobile()?this.P_raskbtn.on("tap",function(t){e.onAskRoad(t)}):this.P_raskbtn.on("click",function(t){e.onAskRoad(t)})),null!=this.B_raskbtn&&(DeviceAndEnvironment.Device.isMobile()?this.B_raskbtn.on("tap",function(t){e.onAskRoad(t)}):this.B_raskbtn.on("click",function(t){e.onAskRoad(t)})),this.roadmapNew2A.event.addEventListener(VideoShare.RoadmapEvent.ARRAYSORT,function(t){e.onDataArray(t)})},n.prototype.addRoadmap=function(t){for(var e=0;e<t.length;e++)"map2A"==t[e]?this.roadmapUI.addChild(this.roadmapNew2A):"map2B"==t[e]?this.roadmapUI.addChild(this.roadmap2B):"map2C"==t[e]?this.roadmapUI.addChild(this.roadmap2C):"map2D"==t[e]?this.roadmapUI.addChild(this.roadmap2D):"mapB"==t[e]?this.roadmapUI.addChild(this.roadmapB):"mapD"==t[e]&&this.roadmapUI.addChild(this.roadmapD)},n.prototype.setData=function(t,e){void 0===e&&(e=""),null!=t&&(""!=t?(null!=this.roadmapNew2A&&this.roadmapNew2A.setRoadmapData(t),null!=this.roadmapB&&this.roadmapB.setRoadmapData(t),null!=this.roadmapD&&this.DataToD(e),null!=this.BPPanel&&(this.BPPanel.setData(t),this.BPPanel.setData1(t)),this.setRoundNum(t),this._saveRoad=t):(null!=this.roadmapNew2A&&this.roadmapNew2A.setRoadmapData(""),null!=this.roadmapB&&this.roadmapB.setRoadmapData(""),null!=this.roadmapD&&this.DataToD(""),null!=this.BPPanel&&(this.BPPanel.setData(""),this.BPPanel.setData1("")),this.setRoundNum(""),this._saveRoad=""))},n.prototype.setRoundNum=function(t){for(var e,i=t.split(","),n=0,a=0,o=0,r=0;r<i.length;r++)"1"==(e=i[r].charAt(0))?n++:"2"==e?a++:"3"==e&&o++,0;this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),s={};s.gameKey=this.gameKey,s.BankerNum=n,s.PlayerNum=a,s.TieNum=o,t.data=s,this.roundObj=s,this.event.dispatchEvent(t)},n.prototype.onDataArray=function(t){t=t.roadArray;null!=this.roadmap2B&&this.roadmap2B.setDataArray(t),null!=this.roadmap2C&&this.roadmap2C.setDataArray(t),null!=this.roadmap2D&&this.roadmap2D.setDataArray(t)},n.prototype.DataToD=function(t){for(var e,i=t.split(","),n=[],a=0;a<i.length;a++)""!=i[a]&&(e=i[a].split("-"),0!=(e=parseInt(e[0])))&&null!=e&&(n[a]=12<(e=0==(e%=24)?24:e)?"S":"B");t=n.join(",");this.roadmapD.setRoadmapData(t)},n.prototype.onAskRoad=function(t){switch(t.currentTarget.name){case"B_raskbtn":this.setBankaskroad(!0,"banker"),this.onBtnStatus(this.P_raskbtn,!0),this.onBtnStatus(this.B_raskbtn,!1),this.onClosePlayerRask();break;case"P_raskbtn":this.setBankaskroad(!0,"player"),this.onBtnStatus(this.P_raskbtn,!1),this.onBtnStatus(this.B_raskbtn,!0),this.onCloseBankerRask()}},n.prototype.onCloseBankerRask=function(){this.setBankaskroad(!1,"banker")},n.prototype.onClosePlayerRask=function(){this.setBankaskroad(!1,"player")},n.prototype.onCloseRask=function(){this.onBtnStatus(this.P_raskbtn,!0),this.onBtnStatus(this.B_raskbtn,!0),this.onCloseBankerRask(),this.onClosePlayerRask()},n.prototype.onBtnStatus=function(t,e){0==e?t.setMouseStatus(!1):1==e&&t.setMouseStatus(!0)},n.prototype.setBankaskroad=function(t,e){"banker"==e&&(t?this.roadmapNew2A.predictBanker():(this.roadmapNew2A.predictBankerCancle(),this.roadmapNew2A.setRoadmapData(this._saveRoad))),"player"==e&&(t?this.roadmapNew2A.predictPlayer():(this.roadmapNew2A.predictPlayerCancle(),this.roadmapNew2A.setRoadmapData(this._saveRoad)))};var i,e=n;function n(){return i.call(this)||this}t.RoadmapBac=e}(SharePanel=SharePanel||{}),!function(s){var i,t=PIXI.Sprite,t=(__extends(e,i=t),e.prototype.arrangeCells=function(){this.mcList=[];var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY;this.roadmap_length=this.cellSetting.gridRow*this.cellSetting.gridCol;for(var i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new s.RoadmapNormalCell(this.cellSetting.cellName);r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.addChild(r),this.mcList.push(r)}},e.prototype.setRoadmapData=function(t){if(null!=t){this.resetCell();for(var e=t.split(",");e.length>this.roadmap_length;)e.splice(0,6);this.redraw(e)}},e.prototype.redraw=function(t){for(var e=0;e<t.length;e++){var i=Number(t[e]),n=this.mcList[e];switch(i){case 1:n.setPoint(1),n.visible=!0;break;case 2:n.setPoint(2),n.visible=!0;break;case 3:n.setPoint(3),n.visible=!0;break;case 4:n.setPoint(4),n.visible=!0;break;case 5:n.setPoint(5),n.visible=!0}}},e.prototype.resetCell=function(){for(var t=0;t<this.mcList.length;t++)this.mcList[t].visible=!1},e);function e(t){var e=i.call(this)||this;return e.interactiveChildren=!1,e.cellSetting=t,e.arrangeCells(),e.resetCell(),e}s.roadmapPanelNormal=t}(ShareRoad=ShareRoad||{}),!function(t){i=t.RoadmapPanel,__extends(n,i),n.prototype.initRoadNormal=function(t){this.normalRoad=new ShareRoad.roadmapPanelNormal(t)},n.prototype.initRoadNew2A=function(t){this.gameType=t.gameType,this.roadmapNew2A=new ShareRoad.RoadmapNew2ASedie(t)},n.prototype.initRoad2B=function(t){this.roadmap2B=new ShareRoad.Roadmap2B(t)},n.prototype.initRoad2C=function(t){this.roadmap2C=new ShareRoad.Roadmap2C(t)},n.prototype.initRoad2D=function(t){this.roadmap2D=new ShareRoad.Roadmap2D(t)},n.prototype.initAddListen=function(){var e=this;i.prototype.initAddListen.call(this),this.roadmapNew2A.event.addEventListener(VideoShare.RoadmapEvent.ARRAYSORT,function(t){e.onDataArray(t)})},n.prototype.addRoadmap=function(t){for(var e=0;e<t.length;e++)"map2A"==t[e]?this.roadmapUI.addChild(this.roadmapNew2A):"mapNormal"==t[e]?this.roadmapUI.addChild(this.normalRoad):"map2B"==t[e]?this.roadmapUI.addChild(this.roadmap2B):"map2C"==t[e]?this.roadmapUI.addChild(this.roadmap2C):"map2D"==t[e]&&this.roadmapUI.addChild(this.roadmap2D)},n.prototype.setData=function(t,e){void 0===e&&(e=""),null!=t&&(""!=t?(null!=this.roadmapNew2A&&this.roadmapNew2A.setRoadmapData(t),null!=this.normalRoad&&this.normalRoad.setRoadmapData(t),this.setRoundNum(t)):(null!=this.roadmapNew2A&&this.roadmapNew2A.setRoadmapData(""),null!=this.normalRoad&&this.normalRoad.setRoadmapData(""),this.setRoundNum("")))},n.prototype.onDataArray=function(t){t=t.roadArray;null!=this.roadmap2B&&this.roadmap2B.setDataArray(t),null!=this.roadmap2C&&this.roadmap2C.setDataArray(t),null!=this.roadmap2D&&this.roadmap2D.setDataArray(t)},n.prototype.setRoundNum=function(t){for(var e=t.split(","),i=0,n=0,a=0,o=0,r=0,s=0,h=0;h<e.length;h++){var l=Number(e[h]),c={};if(c.gameKey=this.gameKey,"3011"==this.gameType)switch(l){case 1:i++,r++;break;case 2:n++,s++;break;case 3:r++;break;case 4:a++,s++;break;case 5:o++,r++}else"3015"==this.gameType&&(1==l?(i++,r++):2==l?(n++,s++):3==l?(a++,r++):4==l&&(o++,s++))}c.OddNum=s,c.EvenNum=r,c.OneNum=i,c.TwoNum=n,c.ThreeNum=a,c.FourNum=o,this.roundObj={};t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP);t.data=c,this.roundObj=c,this.event.dispatchEvent(t)};var i,e=n;function n(){return i.call(this)||this}t.RoadmapSedie=e;a=t.RoadmapPanel,__extends(o,a),o.prototype.initRoadNormal=function(t){this.normalRoad=new ShareRoad.roadmapPanelNormal(t)},o.prototype.initRoadBS=function(t){this.gameType=t.gameType,this.roadmapBS=new ShareRoad.RoadmapNewSedie(t)},o.prototype.initRoadOE=function(t){this.roadmapOE=new ShareRoad.RoadmapNew2Aacey(t)},o.prototype.addRoadmap=function(t){for(var e=0;e<t.length;e++)"mapNormal"==t[e]?this.roadmapUI.addChild(this.normalRoad):"mapBS"==t[e]?this.roadmapUI.addChild(this.roadmapBS):"mapOE"==t[e]&&this.roadmapUI.addChild(this.roadmapOE)},o.prototype.setData=function(t,e){void 0===e&&(e=""),null!=t&&(""!=t?(null!=this.normalRoad&&this.normalRoad.setRoadmapData(t),null!=this.roadmapBS&&this.roadmapBS.setRoadmapData(t),this.setRoundNum(t)):(null!=this.normalRoad&&this.normalRoad.setRoadmapData(""),null!=this.roadmapBS&&this.roadmapBS.setRoadmapData(""),this.setRoundNum("")))},o.prototype.showResult=function(t){void 0===t&&(t=null),null!=this.roadmapOE&&t&&this.roadmapOE.showResult(t)},o.prototype.setRoundNum=function(t){for(var e=t.split(","),i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0;c<e.length;c++){var u=Number(e[c]),d={};if(d.gameKey=this.gameKey,"3011"==this.gameType||"3032"==this.gameType)switch(u){case 1:i++,h++,s++;break;case 2:n++,l++,s++;break;case 3:h++;break;case 4:a++,l++,r++;break;case 5:o++,h++,r++}else"3015"==this.gameType&&(1==u?(i++,h++):2==u?(n++,l++):3==u?(a++,h++):4==u&&(o++,l++))}d.OddNum=l,d.EvenNum=h,d.BigNum=r,d.SmallNum=s,d.OneNum=i,d.TwoNum=n,d.ThreeNum=a,d.FourNum=o,this.roundObj={};t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP);t.data=d,this.roundObj=d,this.event.dispatchEvent(t)};var a,e=o;function o(){return a.call(this)||this}t.RoadmapSedieNew=e}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Sprite,n=PIXI.Container,a=PIXI.Text,o=(e=t.RoadmapPanel,__extends(r,e),r.prototype.initList=function(t){this.listArr=[],this.cellSetting=t,null==this.cellSetting.listDir&&(this.cellSetting.listDir="Ver");for(var e=0;e<this.cellSetting.roundNum;e++)this.listArr[e]=new h(this.cellSetting),this.roadmapUI.addChild(this.listArr[e]);for(var i="right"==this.cellSetting.direction?0:this.listArr.length-1,e=0;e<this.listArr.length;e++){var n=0,a=0,a="Ver"==this.cellSetting.listDir?(n=Math.floor(i/this.cellSetting.modNum),i%this.cellSetting.modNum):(n=i%this.cellSetting.modNum,Math.floor(i/this.cellSetting.modNum));this.listArr[e].x=this.cellSetting.startPosX+n*this.cellSetting.gapX,this.listArr[e].y=this.cellSetting.startPosY+a*this.cellSetting.gapY,"right"==this.cellSetting.direction?i++:i--}},r.prototype.setStatus=function(t){if("dealing"==t&&this.showData.length==this.cellSetting.roundNum){this.showData.shift(),this.resetRoadmap();for(var e=0;e<this.showData.length;e++)this.listArr[e].setData(this.showData[e]),this.listArr[e].visible=!0}},r.prototype.setData=function(t,e){if(void 0===e&&(e=""),null!=t)if(this.resetRoadmap(),""!=t){var i=[];this.roadStrArr=t.split(","),this.roadDataLen=this.roadStrArr.length,this.roadStrArr.reverse();for(var n,a,o=0;o<this.roadDataLen;o++)"undefined"!=(a=this.roadStrArr[o].split("-"))[0]&&((n={}).diceStr=a,n.diceSum=this.getDiceSum(a),n.BSStr=this.getBigSmallStr(a),n.BSNum=this.getBigSmallNum(a),n.triSame=this.getTripleSame(a),i.push(n));this.setRoundNum(t),this.drawRoadList(i)}else this.setRoundNum(""),this.drawRoadList([])},r.prototype.setRoundNum=function(t){this.roadStrArr=t.split(",");for(var e=0,i=0,n=0,a=0,o=[0,0,0,0,0,0],r=0;r<this.roadStrArr.length;r++){var s=this.roadStrArr[r].split("-"),h=!0,l=this.getDiceSum(s);(h=0==l||s[0]==s[1]&&s[0]==s[2]?!1:h)&&(11<=l?e++:i++,l%2==0?n++:a++);for(var c=0;c<s.length;c++)o[Number(s[c])-1]++}this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),u={};u.gameKey=this.gameKey,u.bigNum=e,u.smallNum=i,u.evenNum=n,u.oddNum=a,u.oneNum=o[0],u.twoNum=o[1],u.threeNum=o[2],u.fourNum=o[3],u.fiveNum=o[4],u.sixNum=o[5],t.data=u,this.roundObj=u,this.event.dispatchEvent(t)},r.prototype.drawRoadList=function(t){for(t.reverse();t.length>this.cellSetting.roundNum;)t.shift();if(0<t.length)if("left"==this.cellSetting.direction&&t.length<this.cellSetting.roundNum){t.reverse();for(var e=this.listArr.length-1,i=0;i<t.length;i++)null!=t[i]&&(this.listArr[e].setData(t[i]),this.listArr[e].visible=!0,e--)}else for(i=0;i<this.cellSetting.roundNum;i++)null!=t[i]&&(this.listArr[i].setData(t[i]),this.listArr[i].visible=!0);this.showData=t},r.prototype.getDiceString=function(t){for(var e="",i=0;i<t.length;i++)e+=t[i],i!=t.length-1&&(e+="  ");return e},r.prototype.getDiceSum=function(t){for(var e=0,i=0;i<t.length;i++)e+=Number(t[i]);return e},r.prototype.getBigSmallStr=function(t){var e="";return e=this.getTripleSame(t)?e:"cn"==IPL.UrlParameter.lang||"tw"==IPL.UrlParameter.lang?11<=this.getDiceSum(t)?"大":"小":11<=this.getDiceSum(t)?"B":"S"},r.prototype.getBigSmallNum=function(t){var e="";return e=this.getTripleSame(t)?e:11<=this.getDiceSum(t)?"11-17":"4-10"},r.prototype.getTripleSame=function(t){for(var e=!1,i=1;i<t.length;i++){if(Number(t[i])!=Number(t[0])){e=!1;break}e=!0}return e},r.prototype.resetRoadmap=function(){for(var t=0;t<this.listArr.length;t++)this.listArr[t].visible=!1},r);function r(){var t=e.call(this)||this;return t.showData=[],t}t.RoadmapSicbo=o;__extends(l,s=n),l.prototype.initUI=function(){this.dice1=new i,this.addChild(this.dice1),this.dice1.scale.set(this.cell.diceSet.diceScale),this.dice2=new i,this.addChild(this.dice2),this.dice2.scale.set(this.cell.diceSet.diceScale),this.dice3=new i,this.addChild(this.dice3),this.dice3.scale.set(this.cell.diceSet.diceScale),null!=this.cell.diceSet.originalPos&&(this.dice1.position=this.dice2.position=this.dice3.position=this.cell.diceSet.originalPos),null!=this.cell.diceSet.diceDisX?(this.dice2.x+=+this.cell.diceSet.diceDisX,this.dice3.x+=2*this.cell.diceSet.diceDisX):null!=this.cell.diceSet.diceDisY&&(this.dice2.y+=+this.cell.diceSet.diceDisY,this.dice3.y+=2*this.cell.diceSet.diceDisY),null!=this.cell.BSSet&&(this.BSStrTxt=new a("",this.cell.BSSet.BSStyle),this.BSStrTxt.x=this.cell.BSSet.posX,this.BSStrTxt.y=this.cell.BSSet.posY,this.BSStrTxt.scale.set(.5),null!=this.cell.BSSet.anchor&&this.BSStrTxt.anchor.set(this.cell.BSSet.anchor.x,this.cell.BSSet.anchor.y),this.addChild(this.BSStrTxt)),null!=this.cell.diceSumSet.diceSumStyle&&(this.diceNumTxt=new a("",this.cell.diceSumSet.diceSumStyle),this.diceNumTxt.x=this.cell.diceSumSet.posX,this.diceNumTxt.y=this.cell.diceSumSet.posY,this.diceNumTxt.scale.set(.5),null!=this.cell.diceSumSet.anchor&&this.diceNumTxt.anchor.set(this.cell.diceSumSet.anchor.x,this.cell.diceSumSet.anchor.y),this.addChild(this.diceNumTxt),null!=this.cell.diceSumSet.GameType)&&"3044"==this.cell.diceSumSet.GameType&&(this.diceNumTxt.visible=!1)},l.prototype.setData=function(t){var e=Number(t.diceStr[0])-1,e=(-1!=e&&(this.dice1.texture=PIXI.Texture.fromImage(this.cell.diceSet.diceName+"000"+String(e))),Number(t.diceStr[1])-1),e=(-1!=e&&(this.dice2.texture=PIXI.Texture.fromImage(this.cell.diceSet.diceName+"000"+String(e))),Number(t.diceStr[2])-1);-1!=e&&(this.dice3.texture=PIXI.Texture.fromImage(this.cell.diceSet.diceName+"000"+String(e))),t.triSame?(null!=this.BSStrTxt&&(this.BSStrTxt.style.fill=this.cell.triSameCol,this.BSStrTxt.style.stroke=this.cell.triSameCol),this.diceNumTxt.style.fill=this.cell.triSameCol):10<t.diceSum?(null!=this.BSStrTxt&&(this.BSStrTxt.style.fill=this.cell.bigCol,this.BSStrTxt.style.stroke=this.cell.bigCol),this.diceNumTxt.style.fill=this.cell.bigCol):(null!=this.BSStrTxt&&(this.BSStrTxt.style.fill=this.cell.smallCol,this.BSStrTxt.style.stroke=this.cell.smallCol),this.diceNumTxt.style.fill=this.cell.smallCol),null!=this.BSStrTxt&&(this.BSStrTxt.text=t.BSStr),10<=t.diceSum?this.diceNumTxt.text=String(t.diceSum):this.diceNumTxt.text="0"+String(t.diceSum)};var s,h=l;function l(t){var e=s.call(this)||this;return e.cell=t,e.initUI(),e}t.roadmapList=h}(SharePanel=SharePanel||{}),!function(t){var e,n=PIXI.Point,i=PIXI.Container,a=PIXI.Text,o=(e=t.RoadmapPanel,__extends(r,e),r.prototype.initCell=function(t){this.pokerSetArr=[],this.titleSetTxtArr=[],this.cellSetting=t,null==this.cellSetting.direction&&(this.cellSetting.direction="right"),this.cellSetting.straight?this.setStraight():this.sethorizontal()},r.prototype.setTitleVidlbe=function(t){for(var e=0;e<this.titleSetTxtArr.length;e++)this.titleSetTxtArr[e].setTitleVisible(t)},r.prototype.setStraight=function(){var t=this.cellSetting.gridRow*this.cellSetting.titleNumX;if(null!=this.cellSetting.titleSet)for(var e=0;e<this.cellSetting.titleNumX;e++)this.titleSetTxtArr[e]=new h(this.cellSetting.titleSet),this.titleSetTxtArr[e].x=this.cellSetting.titleX,this.titleSetTxtArr[e].y=this.cellSetting.titleY,null!=this.cellSetting.gapTitleY&&(this.titleSetTxtArr[e].y=this.titleSetTxtArr[e].y+this.cellSetting.gapTitleY*e),this.roadmapUI.addChild(this.titleSetTxtArr[e]);for(e=0;e<t;e++)this.pokerSetArr[e]=new u(this.cellSetting.pokerSet),this.pokerSetArr[e].x=this.cellSetting.originalX,this.pokerSetArr[e].y=this.cellSetting.originalY,null!=this.cellSetting.gapX&&(this.pokerSetArr[e].x=this.pokerSetArr[e].x+this.cellSetting.gapX*e),null!=this.cellSetting.gapY&&(this.pokerSetArr[e].y=this.pokerSetArr[e].y+this.cellSetting.gapY*e),this.roadmapUI.addChild(this.pokerSetArr[e])},r.prototype.sethorizontal=function(){for(var t=this.cellSetting.roundNum,e=0;e<this.cellSetting.titleNumX;e++)this.titleSetTxtArr[e]=new h(this.cellSetting.titleSet),this.titleSetTxtArr[e].x=this.cellSetting.titleX,this.titleSetTxtArr[e].y=this.cellSetting.titleY,null!=this.cellSetting.gapTitleX&&(this.titleSetTxtArr[e].x=this.titleSetTxtArr[e].x+this.cellSetting.gapTitleX*e),this.roadmapUI.addChild(this.titleSetTxtArr[e]);for(e=0;e<t;e++)this.pokerSetArr[e]=new u(this.cellSetting.pokerSet),this.pokerSetArr[e].x=this.cellSetting.originalX+this.cellSetting.gapX*Math.floor(e/this.cellSetting.gridCol),this.pokerSetArr[e].y=this.cellSetting.originalY+this.cellSetting.gapY*(e%this.cellSetting.gridCol),this.roadmapUI.addChild(this.pokerSetArr[e])},r.prototype.setStatus=function(t){if(("dealingAnte"==t||"dealingFlop"==t||"dealingTurn"==t||"dealingRiver"==t||"dealing"==t)&&this.roadStrArr.length==this.cellSetting.roundNum){this.roadStrArr.shift(),this.resetRoadmap();for(var e=0;e<this.roadStrArr.length;e++)("left"==this.cellSetting.direction?this.pokerSetArr[e+1]:this.pokerSetArr[e]).setPoker(this.roadStrArr[e])}},r.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),""!=t&&null!=t){for(this.roadStrArr=t.split("-");this.roadStrArr.length>this.cellSetting.roundNum;)this.roadStrArr.shift();"left"==this.cellSetting.direction&&this.roadStrArr.reverse();for(var i=0;i<this.roadStrArr.length;i++)this.pokerSetArr[i].setPoker(this.roadStrArr[i])}},r.prototype.resetRoadmap=function(){for(var t=0;t<this.pokerSetArr.length;t++)this.pokerSetArr[t].reset()},r);function r(){return e.call(this)||this}t.RoadmapTexas=o;__extends(l,s=i),l.prototype.setTitleVisible=function(t){this.textArr[t].visible=!1},l.prototype.initUI=function(){for(var t=0;t<3;t++)this.textArr[t]=new a(this.getString(this.titleArr[t]),this.cellSetting.titleStyle),null!=this.cellSetting.gapX&&(this.textArr[t].x=this.cellSetting.gapX*t),null!=this.cellSetting.scale&&this.textArr[t].scale.set(this.cellSetting.scale),this.textArr[t].anchor.set(.5),this.addChild(this.textArr[t])},l.prototype.getString=function(t){var e,i=IPL.UrlParameter.noChangeLang;return"tw"==i?"BANKER"==t?e="莊家":"COMMUNITY"==t?e="公牌":"PLAYER"==t&&(e="閒家"):"cn"==i?"BANKER"==t?e="庄家":"COMMUNITY"==t?e="公牌":"PLAYER"==t&&(e="闲家"):"BANKER"==t?e="B":"COMMUNITY"==t?e="Community":"PLAYER"==t&&(e="P"),e};var s,h=l;function l(t){var e=s.call(this)||this;return e.titleArr=["BANKER","COMMUNITY","PLAYER"],e.cellSetting=t,e.textArr=[],e.initUI(),e}__extends(d,c=i),d.prototype.initUI=function(){for(var t=0,e=0;e<9;e++)this.pokerArr[e]=new ShareUI.PokerUI(this.cellSetting.pokerName),this.pokerArr[e].x=e*this.cellSetting.gapX,this.pokerArr[e].scale.set(this.cellSetting.scalePoker.x,this.cellSetting.scalePoker.y),2!=e&&7!=e||(t+=this.cellSetting.gapX2),this.pokerArr[e].x+=t,this.pokerArr[e].visible=!1,this.addChild(this.pokerArr[e]);this.exchangePos(this.pokerArr[0],this.pokerArr[7]),this.exchangePos(this.pokerArr[1],this.pokerArr[8]),this.winIcon()},d.prototype.winIcon=function(){this.bWin=PIXI.Sprite.fromImage(this.cellSetting.cellBanker),this.addChild(this.bWin),this.bWin.x=this.pokerArr[7].x-this.cellSetting.cellPosX,this.tie=PIXI.Sprite.fromImage(this.cellSetting.cellTie),this.addChild(this.tie),this.tie.x=this.pokerArr[2].x-this.cellSetting.cellPosX,this.cellSetting.cellTieWidth&&(this.tie.width=this.cellSetting.cellTieWidth),this.cellSetting.cellPosTieX&&(this.tie.x=this.cellSetting.cellPosTieX),this.pWin=PIXI.Sprite.fromImage(this.cellSetting.cellPlayer),this.addChild(this.pWin),this.pWin.x=this.pokerArr[0].x-this.cellSetting.cellPosX,this.bWin.y=this.tie.y=this.pWin.y=this.cellSetting.cellPosY,this.bWin.visible=this.tie.visible=this.pWin.visible=!1},d.prototype.exchangePos=function(t,e){var i=new n;i.x=t.x,i.y=t.y,t.x=e.x,t.y=e.y,e.x=i.x,e.y=i.y},d.prototype.setPoker=function(t){var t=t.split("*"),e=t[0],i=t[1],t=parseInt(t[2]);""!=e&&this.showPoker(e,i),0<t&&this.showWinType(t)},d.prototype.showPoker=function(t,e){for(var e=parseInt(e).toString(2),i=(e=this.paddingLeft(e,9)).split(""),n=(i.reverse(),t.split(",")),a=0;a<n.length;a++)this.pokerArr[a].setPokerNew(String(Number(n[a]))),this.pokerArr[a].alpha=.4,this.pokerArr[a].visible=!0;for(var o=0;o<i.length;o++)"1"==i[o]&&(this.pokerArr[o].alpha=1)},d.prototype.showWinType=function(t){1==(t=Math.ceil(t/2))?this.bWin.visible=!0:2==t&&(this.pWin.visible=!0),this.tie.visible=!0},d.prototype.paddingLeft=function(t,e){return t.length>=e?t:this.paddingLeft("0"+t,e)},d.prototype.reset=function(){for(var t=0;t<this.pokerArr.length;t++)this.pokerArr[t].visible=!1;this.pWin.visible=this.bWin.visible=this.tie.visible=!1};var c,u=d;function d(t){var e=c.call(this)||this;return e.cellSetting=t,e.pokerArr=[],e.initUI(),e}}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Text,n=PIXI.Container,a=(e=t.RoadmapPanel,__extends(o,e),o.prototype.initCell=function(t){this.pokerSetArr=[],this.titleSetTxtArr=[],this.cellSetting=t,this.cellSetting.straight?this.setStraight():this.sethorizontal()},o.prototype.setStraight=function(){for(var t=this.cellSetting.gridRow,e=0;e<this.cellSetting.titleNumX;e++)this.titleSetTxtArr[e]=new s(this.cellSetting.titleSet),this.titleSetTxtArr[e].x=this.cellSetting.titleX,this.titleSetTxtArr[e].y=this.cellSetting.titleY,null!=this.cellSetting.gapTitleY&&(this.titleSetTxtArr[e].y=this.titleSetTxtArr[e].y+this.cellSetting.gapTitleY*e),this.roadmapUI.addChild(this.titleSetTxtArr[e]);for(e=0;e<t;e++)this.pokerSetArr[e]=new c(this.cellSetting.pokerSet),this.pokerSetArr[e].x=this.cellSetting.originalX,this.pokerSetArr[e].y=this.cellSetting.originalY,null!=this.cellSetting.gapX&&(this.pokerSetArr[e].x=this.pokerSetArr[e].x+this.cellSetting.gapX*e),null!=this.cellSetting.gapY&&(this.pokerSetArr[e].y=this.pokerSetArr[e].y+this.cellSetting.gapY*e),this.roadmapUI.addChild(this.pokerSetArr[e])},o.prototype.sethorizontal=function(){for(var t=this.cellSetting.gridRow,e=0;e<this.cellSetting.titleNumX;e++)this.titleSetTxtArr[e]=new s(this.cellSetting.titleSet),this.titleSetTxtArr[e].x=this.cellSetting.titleX,this.titleSetTxtArr[e].y=this.cellSetting.titleY,null!=this.cellSetting.gapTitleX&&(this.titleSetTxtArr[e].x=this.titleSetTxtArr[e].x+this.cellSetting.gapTitleX*e),this.roadmapUI.addChild(this.titleSetTxtArr[e]);for(e=0;e<t;e++)this.pokerSetArr[e]=new c(this.cellSetting.pokerSet),this.pokerSetArr[e].x=this.cellSetting.originalX+this.cellSetting.gapX*e,this.pokerSetArr[e].y=this.cellSetting.originalY,this.roadmapUI.addChild(this.pokerSetArr[e])},o.prototype.setPokerVisible=function(t,e){this.pokerSetArr[t].visible=e},o.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),""!=t&&null!=t)for(var i=t.split(","),n=0;n<i.length;n++)this.pokerSetArr[n].setPoker(i[n])},o.prototype.resetRoadmap=function(){for(var t=0;t<this.pokerSetArr.length;t++)this.pokerSetArr[t].reset()},o);function o(){return e.call(this)||this}t.RoadmapPai=a;__extends(h,r=n),h.prototype.initUI=function(){for(var t=0;t<4;t++)null!=this.cellSetting.txtShort&&this.cellSetting.txtShort?this.textArr[t]=new i(this.getString2(this.titleArr[t]),this.cellSetting.titleStyle):this.textArr[t]=new i(this.getString(this.titleArr[t]),this.cellSetting.titleStyle),null!=this.cellSetting.gapX&&(this.textArr[t].x=this.cellSetting.gapX*t),null!=this.cellSetting.gapY&&(this.textArr[t].y=this.cellSetting.gapY*t),null!=this.cellSetting.scale&&this.textArr[t].scale.set(this.cellSetting.scale),this.textArr[t].anchor.set(.5),this.addChild(this.textArr[t]);null!=this.cellSetting.bankerStyle&&(this.textArr[0].style=this.cellSetting.bankerStyle)},h.prototype.getString2=function(t){var e=IPL.UrlParameter.noChangeLang,e="tw"==e?"B"==t?"莊家":"P1"==t?"順門":"P2"==t?"出門":"到門":"cn"==e?"B"==t?"庄家":"P1"==t?"顺门":"P2"==t?"出门":"到门":t;return e},h.prototype.getString=function(t){var e;IPL.UrlParameter.noChangeLang;if("B"==t){if("PAI_BANKER"!=(e=IPL.DictManager.getDict("PAI_BANKER")))return e}else if("P1"==t){if("PAI_PLAYER1"!=(e=IPL.DictManager.getDict("PAI_PLAYER1")))return e}else if("P2"==t){if("PAI_PLAYER2"!=(e=IPL.DictManager.getDict("PAI_PLAYER2")))return e}else if("P3"==t&&"PAI_PLAYER3"!=(e=IPL.DictManager.getDict("PAI_PLAYER3")))return e;return t};var r,s=h;function h(t){var e=r.call(this)||this;return e.titleArr=["B","P1","P2","P3"],e.cellSetting=t,e.textArr=[],e.initUI(),e}__extends(u,l=n),u.prototype.initUI=function(){for(var t,e=0;e<8;e++)this.pokerArr[e]=new ShareUI.PokerUI(this.cellSetting.pokerName),null!=this.cellSetting.gapX2?e%2==0?this.pokerArr[e].x=this.cellSetting.gapX*e+this.cellSetting.gapX2*e/2:e%2==1&&(this.pokerArr[e].x=this.cellSetting.gapX*e+this.cellSetting.gapX2*(e-1)/2):this.pokerArr[e].x=this.cellSetting.gapX*(e%2),null!=this.cellSetting.gapY&&(t=Math.floor(e/2),this.pokerArr[e].y=this.cellSetting.gapY*t),null!=this.cellSetting.scalePoker&&this.pokerArr[e].scale.set(this.cellSetting.scalePoker.x,this.cellSetting.scalePoker.y),this.pokerArr[e].visible=!1,this.addChild(this.pokerArr[e]);if(null!=this.cellSetting.titleSty){this.pokerTxt=[];for(e=0;e<4;e++)this.pokerTxt[e]=new i("",this.cellSetting.titleSty),this.pokerTxt[e].x=this.cellSetting.originalX+e*this.cellSetting.gapX3,this.pokerTxt[e].y=this.cellSetting.originalY,this.pokerTxt[e].anchor.set(.5,0),this.pokerTxt[e].visible=!1,this.addChild(this.pokerTxt[e])}},u.prototype.setPoker=function(t){for(var e=t.split("-"),i=0;i<e.length;i++)this.pokerArr[i].setPokerNew(e[i]),this.pokerArr[i].visible=!0;null!=this.pokerTxt&&(t=new PaiLogicShare.PaiPoker,this.pokerTxt[0].text=t.getPokerType(this.pokerType[e[0]],this.pokerType[e[1]],IPL.UrlParameter.lang),this.pokerTxt[1].text=t.getPokerType(this.pokerType[e[2]],this.pokerType[e[3]],IPL.UrlParameter.lang),this.pokerTxt[2].text=t.getPokerType(this.pokerType[e[4]],this.pokerType[e[5]],IPL.UrlParameter.lang),this.pokerTxt[3].text=t.getPokerType(this.pokerType[e[6]],this.pokerType[e[7]],IPL.UrlParameter.lang),this.pokerTxt[0].visible=this.pokerTxt[1].visible=this.pokerTxt[2].visible=this.pokerTxt[3].visible=!0)},u.prototype.reset=function(){for(var t=0;t<this.pokerArr.length;t++)this.pokerArr[t].visible=!1;if(null!=this.pokerTxt)for(t=0;t<this.pokerTxt.length;t++)this.pokerTxt[t].visible=!1};var l,c=u;function u(t){var e=l.call(this)||this;return e.pokerType=["back","S.1","S.2","S.3","S.4","S.5","S.6","S.7","S.8","S.9","S.10","S.11","S.12","S.13","H.1","H.2","H.3","H.4","H.5","H.6","H.7","H.8","H.9","H.10","H.11","H.12","H.13","D.1","D.2","D.3","D.4","D.5","D.6","D.7","D.8","D.9","D.10","D.11","D.12","D.13","C.1","C.2","C.3","C.4","C.5","C.6","C.7","C.8","C.9","C.10","C.11","C.12","C.13"],e.cellSetting=t,e.pokerArr=[],e.initUI(),e}}(SharePanel=SharePanel||{}),!function(t){var e,a=PIXI.Text,i=(e=t.RoadmapPanel,__extends(n,e),n.prototype.initCell=function(t){this.arrText=[],this.cellSetting=t,null!=this.cellSetting.txtShort&&this.cellSetting.txtShort?(this.player1=new a(this.getString2("2")+"1",this.cellSetting.styleTitle),this.player2=new a(this.getString2("2")+"2",this.cellSetting.styleTitle),this.player3=new a(this.getString2("2")+"3",this.cellSetting.styleTitle)):(this.player1=new a(this.getString("2")+"1",this.cellSetting.styleTitle),this.player2=new a(this.getString("2")+"2",this.cellSetting.styleTitle),this.player3=new a(this.getString("2")+"3",this.cellSetting.styleTitle));for(var e=[this.player1,this.player2,this.player3],i=0;i<3;i++)e[i].x=this.cellSetting.titleX,e[i].y=i*this.cellSetting.gapY+this.cellSetting.originalY,this.roadmapUI.addChild(e[i]),null!=this.cellSetting.scale&&e[i].scale.set(this.cellSetting.scale),e[i].anchor.set(.5);for(i=0;i<3*this.cellSetting.roundNum;i++){var n=new a("");n.x=Math.floor(i/3)*this.cellSetting.gapX+this.cellSetting.originalX,n.y=Number(i%3)*this.cellSetting.gapY+this.cellSetting.originalY,this.roadmapUI.addChild(n),null!=this.cellSetting.scale&&n.scale.set(this.cellSetting.scale),n.anchor.set(.5),this.arrText.push(n)}},n.prototype.setStatus=function(t){if("dealing"==t&&this.roadStrArr.length==this.cellSetting.roundNum){this.roadStrArr.shift(),this.resetRoadmap();for(var e=[],i=0;i<this.roadStrArr.length;i++)e=e.concat(this.roadStrArr[i].split(""));for(i=0;i<e.length;i++)""==e[i]?this.arrText[i].text="":this.arrText[i].text=this.getString2(e[i]),"1"==e[i]?this.arrText[i].style=this.cellSetting.styleB:"2"==e[i]?this.arrText[i].style=this.cellSetting.styleP:"4"==e[i]&&(this.arrText[i].style=this.cellSetting.styleT)}},n.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),null!=t)if(""!=t){for(this.roadStrArr=t.split(",");this.roadStrArr.length>this.cellSetting.roundNum;)this.roadStrArr.shift();for(var i=[],n=0;n<this.roadStrArr.length;n++)i=i.concat(this.roadStrArr[n].split(""));for(n=0;n<i.length;n++)""==i[n]?this.arrText[n].text="":this.arrText[n].text=this.getString2(i[n]),"1"==i[n]?this.arrText[n].style=this.cellSetting.styleB:"2"==i[n]?this.arrText[n].style=this.cellSetting.styleP:"4"==i[n]&&(this.arrText[n].style=this.cellSetting.styleT);this.setRoundNum(t)}else this.roadStrArr=[],this.setRoundNum("")},n.prototype.resetRoadmap=function(){for(var t=0;t<this.arrText.length;t++)this.arrText[t].text=""},n.prototype.setRoundNum=function(t){for(var e,i=t.split(","),t=i.length,n=0,a=0,o=0,r=this.cellSetting.sumNum,s=t-1,h=0;0<=s&&h<r;s--,h++)"2"==(e=i[s].split(""))[0]&&n++,"2"==e[1]&&a++,"2"==e[2]&&o++;this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),l={};l.gameKey=this.gameKey,l.totalNum=r,l.p1Num=n,l.p2Num=a,l.p3Num=o,t.data=l,this.roundObj=l,this.event.dispatchEvent(t)},n.prototype.getString=function(t){IPL.UrlParameter.noChangeLang;var e=IPL.DictManager.getDict("NIU_PLAYER");return"NIU_PLAYER"!=e?e:t},n.prototype.getString2=function(t){var e=IPL.UrlParameter.noChangeLang,e="tw"==e?"1"==t?"莊":"2"==t?"閒":"和":"cn"==e?"1"==t?"庄":"2"==t?"闲":"和":"1"==t?"B":"2"==t?"P":"T";return e},n.prototype.showHeadPoker=function(t){var e=this,i=(this._headPoker.setPoker(t),this._headPoker.visible=!0,(this._headPokerPos[1].x-this._headPokerPos[0].x)/10),n=(this._headPokerPos[1].y-this._headPokerPos[0].y)/10,a=(this._headPokerScale[1]-this._headPokerScale[0])/10,o=this._headPokerScale[0],r=0,s=setInterval(function(){15<=++r&&(o+=a,e._headPoker.x+=i,e._headPoker.y+=n,e._headPoker.scale.set(o),o>=e._headPokerScale[1])&&(e._headPoker.x=e._headPokerPos[1].x,e._headPoker.y=e._headPokerPos[1].y,e._headPoker.scale.set(e._headPokerScale[1]),clearInterval(s))},20)},n.prototype.lockHeadPokerPos=function(t){this._headPoker.setPoker(t),this._headPoker.visible=!0,this._headPoker.x=this._headPokerPos[1].x,this._headPoker.y=this._headPokerPos[1].y,this._headPoker.scale.set(this._headPokerScale[1])},n.prototype.createHeadPoker=function(t){this._headPoker=new ShareUI.PokerUI("SimplePoker"),this.addChild(this._headPoker),this._headPokerScale[0]=t.scale0,this._headPokerScale[1]=t.scale1,this._headPokerPos[0]=new PIXI.Point(t.pos0[0],t.pos0[1]),this._headPokerPos[1]=new PIXI.Point(t.pos1[0],t.pos1[1]),this._headPoker.scale.set(this._headPokerScale[0]),this._headPoker.position=this._headPokerPos[0],this._headPoker.visible=!1},n.prototype.clearHeadPoker=function(){this._headPoker.visible=!1,this._headPoker.position=this._headPokerPos[0],this._headPoker.scale.set(this._headPokerScale[0])},n);function n(){var t=e.call(this)||this;return t._headPokerScale=[],t._headPokerPos=[],t}t.RoadmapTriface=i}(SharePanel=SharePanel||{}),!function(t){e=t.RoadmapPanel,__extends(n,e),n.prototype.initCell=function(t){this.cellSetting=t;for(var e=0;e<4;e++)0==e&&null!=this.cellSetting.bankerStyle?this._roadMapTitle[e]=new PIXI.Text("",this.cellSetting.bankerStyle):this._roadMapTitle[e]=new PIXI.Text("",this.cellSetting.titleStyle),null!=this.cellSetting.txtShort&&this.cellSetting.txtShort?this._roadMapTitle[e].text=0!=e?this.getString2("2")+String(e):this.getString2("1"):this._roadMapTitle[e].text=0!=e?this.getString("2")+String(e):this.getString("1"),this.roadmapUI.addChild(this._roadMapTitle[e]),this._roadMapTitle[e].x=this.cellSetting.titleX,this._roadMapTitle[e].y=this.cellSetting.originalY+e%4*this.cellSetting.gapY,null!=this.cellSetting.scale&&this._roadMapTitle[e].scale.set(this.cellSetting.scale),this._roadMapTitle[e].anchor.set(.5);for(e=0;e<4*this.cellSetting.roundNum;e++)this._roadMapWin[e]=PIXI.Sprite.fromFrame(this.cellSetting.winBack),this.roadmapUI.addChild(this._roadMapWin[e]),this._roadMapWin[e].x=this.cellSetting.winX+Math.floor(e/4)*this.cellSetting.gapX,this._roadMapWin[e].y=this.cellSetting.winY+e%4*this.cellSetting.gapY,this._roadMapWin[e].visible=!1,this._roadMapWin[e].anchor.set(.5),this._roadMapTxt[e]=new PIXI.Text("",this.cellSetting.gapX),this.roadmapUI.addChild(this._roadMapTxt[e]),this._roadMapTxt[e].x=this.cellSetting.originalX+Math.floor(e/4)*this.cellSetting.gapX,this._roadMapTxt[e].y=this.cellSetting.originalY+e%4*this.cellSetting.gapY,null!=this.cellSetting.scale&&this._roadMapTxt[e].scale.set(this.cellSetting.scale),this._roadMapTxt[e].anchor.set(.5)},n.prototype.setStatus=function(t){if("dealing"==t&&this.roadStrArr.length==this.cellSetting.roundNum){this.roadStrArr.shift(),this.resetRoadmap();for(var e=0;e<this.roadStrArr.length;e++){var i=String(this.roadStrArr[e]).split(""),n=this.getBankerRoad(i),n=(this._roadMapTxt[4*e].text=n,this.setStyle(4*e,n),this.getPlayer1Road(i)),n=(this._roadMapTxt[4*e+1].text=n,this.setStyle(4*e+1,n),this.getPlayer2Road(i)),n=(this._roadMapTxt[4*e+2].text=n,this.setStyle(4*e+2,n),this.getPlayer3Road(i));this._roadMapTxt[4*e+3].text=n,this.setStyle(4*e+3,n),this.showWinRoad(i,e)}}},n.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),null!=t)if(""!=t){var i=this.cellSetting.roundNum;for(this.roadStrArr=t.split(",");this.roadStrArr.length>i;)this.roadStrArr.splice(0,1);"reverse"==e&&this.roadStrArr.reverse();for(var n=0;n<this.roadStrArr.length;n++){var a=String(this.roadStrArr[n]).split(""),o=this.getBankerRoad(a),o=(this._roadMapTxt[4*n].text=o,this.setStyle(4*n,o),this.getPlayer1Road(a)),o=(this._roadMapTxt[4*n+1].text=o,this.setStyle(4*n+1,o),this.getPlayer2Road(a)),o=(this._roadMapTxt[4*n+2].text=o,this.setStyle(4*n+2,o),this.getPlayer3Road(a));this._roadMapTxt[4*n+3].text=o,this.setStyle(4*n+3,o),this.showWinRoad(a,n)}this.setRoundNum(t)}else this.roadStrArr=[],this.setRoundNum("")},n.prototype.resetRoadmap=function(){for(var t=0;t<this._roadMapTxt.length;t++)this._roadMapTxt[t].text="",this._roadMapWin[t].visible=!1},n.prototype.setRoundNum=function(t){for(var e=t.split(","),t=e.length,i=0,n=0,a=0,o=this.cellSetting.sumNum,r=t-1,s=0;0<=r&&s<o;r--,s++){var h=String(e[r]).split("");switch(h[h.length-1]){case"1":i++;break;case"2":n++;break;case"3":i++,n++;break;case"4":a++;break;case"5":i++,a++;break;case"6":n++,a++;break;case"7":i++,n++,a++}}this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),l={};l.gameKey=this.gameKey,l.totalNum=o,l.p1Num=i,l.p2Num=n,l.p3Num=a,t.data=l,this.roundObj=l,this.event.dispatchEvent(t)},n.prototype.showWinRoad=function(t,e){switch(t[t.length-1]){case"0":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!1;break;case"1":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!1;break;case"2":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!1;break;case"3":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!1;break;case"4":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!0;break;case"5":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!0;break;case"6":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!0;break;case"7":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!0;break;default:this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!1}},n.prototype.setStyle=function(t,e){this._roadMapTxt[t].style="牛牛"==e||"BB"==e?this.cellSetting.BBStyle:"5公"==e||"5P"==e?this.cellSetting["5PStyle"]:this.cellSetting.style},n.prototype.getBankerRoad=function(t){t=t[0];return this.checkResult(t)},n.prototype.getPlayer1Road=function(t){t=t[1];return this.checkResult(t)},n.prototype.getPlayer2Road=function(t){t=t[2];return this.checkResult(t)},n.prototype.getPlayer3Road=function(t){t=t[3];return this.checkResult(t)},n.prototype.checkResult=function(t){return"0"==t?"N":"a"==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"牛牛":"BB":"b"==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"5公":"5P":t},n.prototype.getString=function(t){var e;IPL.UrlParameter.noChangeLang;if("1"==t){if("NIU_BANKER"!=(e=IPL.DictManager.getDict("NIU_BANKER")))return e}else if("2"==t&&"NIU_PLAYER"!=(e=IPL.DictManager.getDict("NIU_PLAYER")))return e;return t},n.prototype.getString2=function(t){var e=IPL.UrlParameter.noChangeLang,e="tw"==e?"1"==t?"莊家":"2"==t?"閒":"和":"cn"==e?"1"==t?"庄家":"2"==t?"闲":"和":"1"==t?"B":"2"==t?"P":"T";return e},n.prototype.showHeadPoker=function(t){var e=this,i=(this._headPoker.setPoker(t),this._headPoker.visible=!0,(this._headPokerPos[1].x-this._headPokerPos[0].x)/10),n=(this._headPokerPos[1].y-this._headPokerPos[0].y)/10,a=(this._headPokerScale[1]-this._headPokerScale[0])/10,o=this._headPokerScale[0],r=0,s=setInterval(function(){15<=++r&&(o+=a,e._headPoker.x+=i,e._headPoker.y+=n,e._headPoker.scale.set(o),o>=e._headPokerScale[1])&&(e._headPoker.x=e._headPokerPos[1].x,e._headPoker.y=e._headPokerPos[1].y,e._headPoker.scale.set(e._headPokerScale[1]),clearInterval(s))},20)},n.prototype.lockHeadPokerPos=function(t){this._headPoker.setPoker(t),this._headPoker.visible=!0,this._headPoker.x=this._headPokerPos[1].x,this._headPoker.y=this._headPokerPos[1].y,this._headPoker.scale.set(this._headPokerScale[1])},n.prototype.createHeadPoker=function(t){this._headPoker=new ShareUI.PokerUI("SimplePoker"),this.addChild(this._headPoker),this._headPokerScale[0]=t.scale0,this._headPokerScale[1]=t.scale1,this._headPokerPos[0]=new PIXI.Point(t.pos0[0],t.pos0[1]),this._headPokerPos[1]=new PIXI.Point(t.pos1[0],t.pos1[1]),this._headPoker.scale.set(this._headPokerScale[0]),this._headPoker.position=this._headPokerPos[0],this._headPoker.visible=!1},n.prototype.clearHeadPoker=function(){this._headPoker.visible=!1,this._headPoker.position=this._headPokerPos[0],this._headPoker.scale.set(this._headPokerScale[0])};var e,i=n;function n(){var t=e.call(this)||this;return t._roadMapTitle=[],t._roadMapTxt=[],t._roadMapWin=[],t._headPokerScale=[],t._headPokerPos=[],t}t.RoadmapBull=i;__extends(o,a=i),o.prototype.setRoundNum=function(t){for(var e=t.split(","),t=e.length,i=0,n=0,a=0,o=this.cellSetting.sumNum,r=t-1,s=0;0<=r&&s<o;r--,s++){var h=String(e[r]).split("");switch(h[h.length-1]){case"1":i++,n++,a++;break;case"2":i++,a++;break;case"3":i++,n++;break;case"4":i++;break;case"5":n++,a++;break;case"6":a++;break;case"7":n++}}this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),l={};l.gameKey=this.gameKey,l.totalNum=o,l.p1Num=i,l.p2Num=n,l.p3Num=a,t.data=l,this.roundObj=l,this.event.dispatchEvent(t)},o.prototype.showWinRoad=function(t,e){switch(t[t.length-1]){case"1":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!0;break;case"2":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!0;break;case"3":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!1;break;case"4":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!0,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!1;break;case"5":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!0;break;case"6":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!0;break;case"7":this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!0,this._roadMapWin[4*e+3].visible=!1;break;case"8":this._roadMapWin[4*e+0].visible=!0,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!1;break;default:this._roadMapWin[4*e+0].visible=!1,this._roadMapWin[4*e+1].visible=!1,this._roadMapWin[4*e+2].visible=!1,this._roadMapWin[4*e+3].visible=!1}};var a,i=o;function o(){return a.call(this)||this}t.RoadmapChessBull=i}(SharePanel=SharePanel||{}),!function(t){var e,r=PIXI.Text,s=PIXI.Sprite,h=PIXI.extras.BitmapText,i=(e=t.RoadmapPanel,__extends(n,e),n.prototype.initCell=function(t){if(this.roadNumArr=[],this.roadSprArr=[],null!=(this.cellSetting=t).numName){this.textureArr=[];for(var e=0;e<7;e++)this.textureArr[e]=PIXI.Texture.fromImage(t.numName+"000"+e)}for(var i="right"==this.cellSetting.direction?0:this.cellSetting.roundNum-1,n=0;n<this.cellSetting.roundNum;n++){var a=0,o=0,o="Ver"==this.cellSetting.listDir?(a=Math.floor(i/this.cellSetting.modNum),i%this.cellSetting.modNum):(a=i%this.cellSetting.modNum,Math.floor(i/this.cellSetting.modNum));null!=t.tStyle?(null!=t.tStyle.font?this.roadNumArr[n]=new h("",t.tStyle):(this.roadNumArr[n]=new r("",t.tStyle),this.roadNumArr[n].anchor.set(.5,.5)),this.roadNumArr[n].x=this.cellSetting.startPosX+a*this.cellSetting.gapX,this.roadNumArr[n].y=this.cellSetting.startPosY+o*this.cellSetting.gapY,this.roadmapUI.addChild(this.roadNumArr[n])):(this.roadSprArr[n]=new s,this.roadSprArr[n].x=this.cellSetting.startPosX+a*this.cellSetting.gapX,this.roadSprArr[n].y=this.cellSetting.startPosY+o*this.cellSetting.gapY,this.roadmapUI.addChild(this.roadSprArr[n]),null!=this.cellSetting.sprScale&&this.roadSprArr[n].scale.set(this.cellSetting.sprScale)),"right"==this.cellSetting.direction?i++:i--}},n.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),null!=t)if(""!=t){for(this.roadStrArr=t.split(",");this.roadStrArr.length>this.cellSetting.roundNum;)this.roadStrArr.shift();if(this.roadDataLen=this.roadStrArr.length,"left"==this.cellSetting.direction&&this.roadDataLen<this.cellSetting.roundNum){this.roadStrArr.reverse();for(var i=this.cellSetting.roundNum-1,n=0;n<this.roadDataLen;n++){var a=this.roadStrArr[n];null!=this.roadNumArr[i]?(null!=this.cellSetting.tStyle.font?this.roadNumArr[i].tint=this.cellSetting.col[a]:this.roadNumArr[i].style.fill=this.cellSetting.col[a],this.roadNumArr[i].text=this.numArr[Number(a)-1]):""!=a&&null!=this.roadSprArr[i]&&(this.roadSprArr[i].visible=!0,this.roadSprArr[i].texture=this.textureArr[Number(a)-1]),i--}}else for(var o=0;o<this.roadDataLen;o++){a=this.roadStrArr[o];null!=this.roadNumArr[o]?(null!=this.cellSetting.tStyle.font?this.roadNumArr[o].tint=this.cellSetting.col[a]:this.roadNumArr[o].style.fill=this.cellSetting.col[a],this.roadNumArr[o].text=this.numArr[Number(a)-1]):""!=a&&null!=this.roadSprArr[o]&&(this.roadSprArr[o].visible=!0,this.roadSprArr[o].texture=this.textureArr[Number(a)-1])}}else this.roadStrArr=[]},n.prototype.setStatus=function(t){"dealing"==t&&this.roadStrArr.length==this.cellSetting.roundNum&&(this.roadStrArr.push(""),this.resetRoadmap(),t=this.roadStrArr.toString(),this.setData(t))},n.prototype.setRoundNum=function(t){for(var e=t.split(","),i=[0,0,0,0,0,0,0,0],n=0;n<e.length;n++)i[Number(e[n])-1]++;this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),a={};a.gameKey=this.gameKey,a.num1=i[0],a.num3=i[1],a.num5=i[2],a.num16=i[3],a.num24=i[4],a.num501=i[5],a.num502=i[6],t.data=a,this.roundObj=a,this.event.dispatchEvent(t)},n.prototype.resetRoadmap=function(){for(var t=0;t<this.cellSetting.roundNum;t++)null!=this.roadNumArr[t]?this.roadNumArr[t].text="":null!=this.roadSprArr[t]&&(this.roadSprArr[t].visible=!1)},n);function n(){var t=e.call(this)||this;return t.numArr=["1","3","5","16","24","50","50"],t}t.RoadmapMonWheel=i}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Container,n=PIXI.Text,a=(e=t.RoadmapPanel,__extends(o,e),o.prototype.initList=function(t){this.listArr=[],this.cellSetting=t,null==this.cellSetting.listDir&&(this.cellSetting.listDir="Ver");for(var e=0;e<this.cellSetting.roundNum;e++)this.listArr[e]=new s(this.cellSetting),this.roadmapUI.addChild(this.listArr[e]);for(var i="right"==this.cellSetting.direction?0:this.listArr.length-1,e=0;e<this.listArr.length;e++){var n=0,a=0,a="Ver"==this.cellSetting.listDir?(n=Math.floor(i/this.cellSetting.modNum),i%this.cellSetting.modNum):(n=i%this.cellSetting.modNum,Math.floor(i/this.cellSetting.modNum));this.listArr[e].x=this.cellSetting.startPosX+n*this.cellSetting.gapX,this.listArr[e].y=this.cellSetting.startPosY+a*this.cellSetting.gapY,"right"==this.cellSetting.direction?i++:i--}},o.prototype.setStatus=function(t){if("dealing"==t&&this.showData.length==this.cellSetting.roundNum){this.showData.shift(),this.resetRoadmap();for(var e=0;e<this.showData.length;e++)this.listArr[e].setData(this.showData[e]),this.listArr[e].visible=!0}},o.prototype.setData=function(t,e){if(void 0===e&&(e=""),null!=t)if(""!=t){var i=[];this.roadStrArr=t.split(","),this.roadDataLen=this.roadStrArr.length;for(var n,a,o=0;o<this.roadDataLen;o++)"undefined"!=(a=this.roadStrArr[o].split(""))[0]&&((n={}).pokerStr=a[0]+a[1],n.HLNum=a[2],n.HLStr=this.getHighLowStr(a[2]),n.OEStr=this.getOddEvenStr(a[0]+a[1]),i.push(n));this.setRoundNum(t),this.drawRoadList(i)}else this.setRoundNum(""),this.drawRoadList([])},o.prototype.setRoundNum=function(t){this.roadStrArr=t.split(",");var e=0,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=0,c=0;if(""!=t)for(var u=0;u<this.roadStrArr.length;u++){var d=this.roadStrArr[u].split(""),p=Number(d[0]+d[1]),f=p%13,d=("1"==d[2]?e++:"2"==d[2]?i++:"3"==d[2]&&n++,0!=f&&f%2==0?a++:o++,14<=p&&p<=39?s++:r++,p%4);2<=d&&d<=5?h++:6<=d&&d<=9?l++:c++}this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),_={};_.gameKey=this.gameKey,_.highNum=e,_.sameNum=i,_.lowNum=n,_.oddNum=o,_.evenNum=a,_.blackNum=r,_.redNum=s,_.zone1Num=h,_.zone2Num=l,_.zone3Num=c,t.data=_,this.roundObj=_,this.event.dispatchEvent(t)},o.prototype.drawRoadList=function(t){for(;t.length>this.cellSetting.roundNum;)t.shift();if(this.resetRoadmap(),0<t.length)if("left"==this.cellSetting.direction&&t.length<this.cellSetting.roundNum){t.reverse();for(var e=this.listArr.length-1,i=0;i<t.length;i++)null!=t[i]&&(this.listArr[e].setData(t[i]),this.listArr[e].visible=!0,e--)}else for(i=0;i<this.cellSetting.roundNum;i++)null!=t[i]&&(this.listArr[i].setData(t[i]),this.listArr[i].visible=!0);this.showData=t},o.prototype.getHighLowStr=function(t){var e="",i=IPL.UrlParameter.lang;return"1"==t?e="cn"==i||"tw"==i?"高":"H":"2"==t?e="cn"==i||"tw"==i?"相同":"S":"3"==t&&(e="cn"==i||"tw"==i?"低":"L"),e},o.prototype.getOddEvenStr=function(t){var e=IPL.UrlParameter.lang,t=Number(t)%13;return 0!=t&&t%2==0?"tw"==e?"雙":"cn"==e?"双":"E":"tw"==e?"單":"cn"==e?"单":"O"},o.prototype.resetRoadmap=function(){for(var t=0;t<this.listArr.length;t++)this.listArr[t].visible=!1},o);function o(){var t=e.call(this)||this;return t.showData=[],t}t.RoadmapHiLo=a;__extends(h,r=i),h.prototype.initUI=function(){this.poker=new ShareUI.PokerUI(this.cell.pokerSet.pokerName),this.addChild(this.poker),this.poker.scale.set(this.cell.pokerSet.pokerScale),null!=this.cell.HLSet&&(this.HLtxt=new n("",this.cell.HLSet.HLStyle),this.HLtxt.x=this.cell.HLSet.posX,this.HLtxt.y=this.cell.HLSet.posY,this.HLtxt.scale.set(.5),null!=this.cell.HLSet.anchor&&this.HLtxt.anchor.set(this.cell.HLSet.anchor.x,this.cell.HLSet.anchor.y),this.addChild(this.HLtxt)),null!=this.cell.OESet&&(this.OEtxt=new n("",this.cell.OESet.OEStyle),this.OEtxt.x=this.cell.OESet.posX,this.OEtxt.y=this.cell.OESet.posY,this.OEtxt.scale.set(.5),null!=this.cell.OESet.anchor&&this.OEtxt.anchor.set(this.cell.OESet.anchor.x,this.cell.OESet.anchor.y),this.addChild(this.OEtxt))},h.prototype.setData=function(t){var e=Number(t.pokerStr);this.poker.setPokerNew(String(e)),null!=this.HLtxt&&(1==t.HLNum?(this.HLtxt.style.fill=this.cell.highCol,this.HLtxt.style.stroke=this.cell.highCol):2==t.HLNum?(this.HLtxt.style.fill=this.cell.SameCol,this.HLtxt.style.stroke=this.cell.SameCol):3==t.HLNum&&(this.HLtxt.style.fill=this.cell.lowCol,this.HLtxt.style.stroke=this.cell.lowCol),this.HLtxt.text=t.HLStr),null!=this.OEtxt&&(this.OEtxt.text=t.OEStr)};var r,s=h;function h(t){var e=r.call(this)||this;return e.cell=t,e.initUI(),e}t.HiloRoadmapList=s}(SharePanel=SharePanel||{}),!function(t){e=t.RoadmapChessBull,__extends(n,e),n.prototype.setStyle=function(t,e){this._roadMapTxt[t].style="爆玖"==e||"333"==e||"炸彈"==e||"炸弹"==e||"Bomb"==e||"三公"==e||"3P"==e?this.cellSetting.style2:this.cellSetting.style},n.prototype.checkResult=function(t){return"a"==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"三公":"3P":"b"==t?"tw"==IPL.UrlParameter.lang?"炸彈":"cn"==IPL.UrlParameter.lang?"炸弹":"Bomb":"c"==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"爆玖":"333":t};var e,i=n;function n(){return e.call(this)||this}t.RoadmapChessTripleFace=i}(SharePanel=SharePanel||{}),!function(t){e=t.RoadmapPanel,__extends(n,e),n.prototype.initCell=function(t){this.cellSetting=t;for(var e=0;e<5*this.cellSetting.roundNum;e++)this.cellSetting.fast&&"fast"==this.cellSetting.fast||(this._roadMapWin[e]=PIXI.Sprite.fromImage(this.cellSetting.winBack),this.roadmapUI.addChild(this._roadMapWin[e]),this._roadMapWin[e].x=this.cellSetting.winX+Math.floor(e/5)*this.cellSetting.gapX,this._roadMapWin[e].y=this.cellSetting.winY+e%5*this.cellSetting.gapY,this._roadMapWin[e].visible=!1,this._roadMapWin[e].anchor.set(.5)),this._roadMapTxt[e]=new PIXI.Text("",this.cellSetting.gapX),this.roadmapUI.addChild(this._roadMapTxt[e]),this._roadMapTxt[e].x=this.cellSetting.originalX+Math.floor(e/5)*this.cellSetting.gapX,this._roadMapTxt[e].y=this.cellSetting.originalY+e%5*this.cellSetting.gapY,null!=this.cellSetting.scale&&this._roadMapTxt[e].scale.set(this.cellSetting.scale),this._roadMapTxt[e].anchor.set(.5),this._roadMapTxt[e].style=this.cellSetting.style;for(e=0;e<this.cellSetting.roundNum;e++)this._roadMapTxt[5*e].style=this.cellSetting.bankStyle},n.prototype.setStatus=function(t){if("dealing"==t&&this.roadStrArr.length==this.cellSetting.roundNum){this.roadStrArr.shift(),this.resetRoadmap();for(var e=0;e<this.roadStrArr.length;e++){var i=String(this.roadStrArr[e]),n=i.substr(0,2),a=(this._roadMapTxt[5*e].text=n,i.substr(2,2)),a=(this._roadMapTxt[5*e+1].text=a,this.setStyle(5*e+1,n,a),i.substr(4,2)),a=(this._roadMapTxt[5*e+2].text=a,this.setStyle(5*e+2,n,a),i.substr(6,2)),a=(this._roadMapTxt[5*e+3].text=a,this.setStyle(5*e+3,n,a),i.substr(8,2));this._roadMapTxt[5*e+4].text=a,this.setStyle(5*e+4,n,a)}}},n.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),null!=t)if(""!=t){var i=this.cellSetting.roundNum;for(this.roadStrArr=t.split(",");this.roadStrArr.length>i;)this.roadStrArr.splice(0,1);"plan"==this.cellSetting.version&&this.roadStrArr.reverse();for(var n=0;n<this.roadStrArr.length;n++){var a=String(this.roadStrArr[n]),o=a.substr(0,2),r=(this._roadMapTxt[5*n].text=o,this.cellSetting.fast&&"fast"==this.cellSetting.fast&&(this._roadMapTxt[5*n].visible=!1),a.substr(2,2)),r=(this._roadMapTxt[5*n+1].text=r,this.setStyle(5*n+1,o,r),a.substr(4,2)),r=(this._roadMapTxt[5*n+2].text=r,this.setStyle(5*n+2,o,r),a.substr(6,2)),r=(this._roadMapTxt[5*n+3].text=r,this.setStyle(5*n+3,o,r),a.substr(8,2));this._roadMapTxt[5*n+4].text=r,this.setStyle(5*n+4,o,r)}this.setRoundNum(t)}else this.roadStrArr=[],this.setRoundNum("")},n.prototype.setRoundNum=function(t){for(var e=t.split(","),i=0,n=0,a=0,o=0,r=0;r<e.length;r++){var s=String(e[r]),h=s.substr(0,2),l=s.substr(2,2),c=s.substr(4,2),u=s.substr(6,2),s=s.substr(8,2);Number(l)<Number(h)&&i++,Number(c)<Number(h)&&n++,Number(u)<Number(h)&&a++,Number(s)<Number(h)&&o++}this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),d={};d.gameKey=this.gameKey,d.SpadeNum=i,d.HeartNum=n,d.DiamondeNum=a,d.ClubNum=o,t.data=d,this.roundObj=d,this.event.dispatchEvent(t)},n.prototype.resetRoadmap=function(){for(var t=0;t<this._roadMapTxt.length;t++)this._roadMapTxt[t].text="",this.cellSetting.fast&&"fast"==this.cellSetting.fast||(this._roadMapWin[t].visible=!1)},n.prototype.setStyle=function(t,e,i){Number(e)>Number(i)?("plan"==this.cellSetting.version&&(this._roadMapTxt[t].style=this.cellSetting.winStyle),this.cellSetting.fast&&"fast"==this.cellSetting.fast||(this._roadMapWin[t].visible=!0,this._roadMapWin[t].texture=PIXI.Texture.from(this.cellSetting.winBack))):this._roadMapTxt[t].style=this.cellSetting.style};var e,i=n;function n(){var t=e.call(this)||this;return t._roadMapTitle=[],t._roadMapTxt=[],t._roadMapWin=[],t._headPokerScale=[],t._headPokerPos=[],t}t.RoadmapLucky5=i}(SharePanel=SharePanel||{}),!function(t){e=t.RoadmapPanel,__extends(n,e),n.prototype.setData=function(t,e){if(void 0===e&&(e=""),null!=t)if(""!=t){this.resetRoadmap();var i,n=[];this.roadStrArr=t.split(","),this.roadDataLen=this.roadStrArr.length,this.roadStrArr.reverse();for(var a=0;a<this.roadStrArr.length;a++)n[a]={},i=parseInt(this.roadStrArr[a]),n[a].rouNum=i,n[a].BSStr=this.getBigSmallStr(i),n[a].BSNum=this.getBigSmallNum(i),n[a].oddEven=this.getOddEven(i),n[a].dozen=this.getDozen(i);this.setRoundNum(t),this.drawRoadList(n)}else this.showData=[],this.setRoundNum(""),this.resetRoadmap()},n.prototype.setRoundNum=function(t){this.roadStrArr=t.split(",");for(var e,i=0,n=0,a=0,o=0,r=0,s=0,h=0,l=[0,0,0],c=[0,0,0],u=0;u<this.roadStrArr.length;u++){18<(e=parseInt(this.roadStrArr[u]))?n++:e<19&&0<e&&a++,0==e?i++:e%2==0?o++:e%2==1&&r++;for(var d=0;d<this.redarr.length;d++){if(this.redarr[d]==e){s++;break}if(this.blackarr[d]==e){h++;break}}for(var p=0;p<this.colarr1.length;p++){if(this.colarr1[p]==e){c[0]++;break}if(this.colarr2[p]==e){c[1]++;break}if(this.colarr3[p]==e){c[2]++;break}}this.getDozen(e);24<e?l[0]++:13<=e&&e<=24?l[1]++:e<13&&0<e&&l[2]++}this.roundObj={};var t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP),f={};f.gameKey=this.gameKey,f.zeroNum=i,f.bigNum=n,f.smallNum=a,f.evenNum=o,f.oddNum=r,f.redNum=s,f.blackNum=h,f.colNumArr=c,f.dozNumArr=l,t.data=f,this.roundObj=f,this.event.dispatchEvent(t)},n.prototype.drawRoadList=function(t){},n.prototype.getBigSmallStr=function(t){var e="";return 18<t?e=this.getString("HIGH"):t<19&&0<t&&(e=this.getString("LOW")),e},n.prototype.getBigSmallNum=function(t){var e="";return 18<t?e="19-36":t<19&&0<t&&(e="1-18"),e},n.prototype.getOddEven=function(t){var e="";return 0!=t&&(1==(t=t%2)?e=this.getString("ODD"):0==t&&(e=this.getString("EVEN"))),e},n.prototype.getString=function(t){var e=IPL.UrlParameter.noChangeLang,e="tw"==e?"ODD"==t?"單":"EVEN"==t?"雙":"HIGH"==t?"大":"小":"cn"==e?"ODD"==t?"单":"EVEN"==t?"双":"HIGH"==t?"大":"小":"HIGH"==t?"HIGH":"LOW"==t?"LOW":t;return e},n.prototype.getDozen=function(t){var e="";return 24<t?e="3 rd 12":13<=t&&t<=24?e="2 nd 12":t<13&&0<t&&(e="1 st 12"),e};var e,i=n;function n(){var t=e.call(this)||this;return t.colarr1=[1,4,7,10,13,16,19,22,25,28,31,34],t.colarr2=[2,5,8,11,14,17,20,23,26,29,32,35],t.colarr3=[3,6,9,12,15,18,21,24,27,30,33,36],t.redarr=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],t.blackarr=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],t.showData=[],t}t.RoadmapRou=i}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Sprite,n=PIXI.Container,a=PIXI.Text,o=(e=SharePanel.RoadmapRou,__extends(r,e),r.prototype.initList=function(t){this.setObj=t,this.listArr=[];for(var e=this.setObj.roundNum/this.setObj.colNum,i=0;i<this.setObj.colNum;i++)for(var n=0;n<e;n++){var a=n+i*e;this.listArr[a]=new h(this.setObj.listSet),this.addChild(this.listArr[a]),this.listArr[a].x=this.setObj.originalX+i*this.setObj.gapX,this.listArr[a].y=this.setObj.originalY+n*this.setObj.gapY}},r.prototype.setStatus=function(t){if("dealing"==t&&this.showData.length==this.setObj.roundNum){this.showData.shift(),this.resetRoadmap();for(var e=0;e<this.showData.length;e++)this.listArr[e].setData(this.showData[e]),this.listArr[e].visible=!0}},r.prototype.drawRoadList=function(t){for(t.reverse();t.length>this.setObj.roundNum;)t.shift();for(var e=0;e<this.setObj.roundNum;e++)null!=t[e]&&(this.listArr[e].setData(t[e]),this.listArr[e].visible=!0);this.showData=t},r.prototype.resetRoadmap=function(){for(var t=0;t<this.listArr.length;t++)this.listArr[t].visible=!1},r);function r(){return e.call(this)||this}t.HallRouRoad=o;__extends(l,s=n),l.prototype.setData=function(t){for(var e=0;e<this.redarr.length;e++){if(this.redarr[e]==t.rouNum){this.ball.texture=PIXI.Texture.fromFrame("Multiple_Hall_Rou_R0000");break}if(this.blackarr[e]==t.rouNum){this.ball.texture=PIXI.Texture.fromFrame("Multiple_Hall_Rou_B0000");break}this.ball.texture=PIXI.Texture.fromFrame("Multiple_Hall_Rou_G0000")}this.ballNumTxt.text=t.rouNum;var i=IPL.UrlParameter.noChangeLang;"tw"==i||"cn"==i?(this.oddEvenTxt.text=t.oddEven,this.BSStrTxt.text=t.BSStr):("ODD"==t.oddEven?this.oddEvenTxt.text="O":"EVEN"==t.oddEven?this.oddEvenTxt.text="E":this.oddEvenTxt.text="","HIGH"==t.BSStr?this.BSStrTxt.text="H":"LOW"==t.BSStr?this.BSStrTxt.text="L":this.BSStrTxt.text=""),this.BSNumDozenTxt.text=t.dozen};var s,h=l;function l(t){var e=s.call(this)||this;return e.redarr=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],e.blackarr=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],e.setObj=t,e.ball=new i,e.ball.anchor.set(.5,.5),e.ball.x=e.setObj.ballX,e.ball.y=e.setObj.Y,e.addChild(e.ball),e.ballNumTxt=new a("",e.setObj.style),e.ballNumTxt.anchor.set(.5,.5),e.ballNumTxt.scale.set(.7),e.ballNumTxt.x=e.setObj.ballX,e.ballNumTxt.y=e.setObj.Y,e.addChild(e.ballNumTxt),e.oddEvenTxt=new a("",e.setObj.style),e.oddEvenTxt.anchor.set(.5,.5),e.oddEvenTxt.x=e.setObj.EvenOddTxtX,e.oddEvenTxt.y=e.setObj.Y,e.addChild(e.oddEvenTxt),e.BSStrTxt=new a("",e.setObj.style),e.BSStrTxt.anchor.set(.5,.5),e.BSStrTxt.x=e.setObj.BSStrTxtX,e.BSStrTxt.y=e.setObj.Y,e.addChild(e.BSStrTxt),e.BSNumDozenTxt=new a("",e.setObj.style),e.BSNumDozenTxt.anchor.set(.5,.5),e.BSNumDozenTxt.x=e.setObj.BSNumDozenTxtX,e.BSNumDozenTxt.y=e.setObj.Y,e.addChild(e.BSNumDozenTxt),e}t.RouList=h}(HallRoad=HallRoad||{}),!function(t){function e(){}function i(){}function n(t){this.Transinit(t)}e.getResultArea=function(t){var e=[[]];return e[1]=[33,39,45,46],e[2]=[1,4,18,33,46,47,53],e[3]=[1,5,19,33,46,48,52],e[4]=[1,6,20,33,46,49,53],e[5]=[1,7,21,33,46,50,52],e[6]=[1,8,22,33,46,51,53],e[7]=[1,5,18,34,46,47,52],e[8]=[1,6,18,19,23,46,47,48,53],e[9]=[1,7,18,20,24,46,47,49,52],e[10]=[1,8,18,21,25,46,47,50,53],e[11]=[1,9,18,22,26,46,47,51,52],e[12]=[1,7,19,35,46,48,52],e[13]=[1,8,19,20,27,46,48,49,53],e[14]=[1,9,19,21,28,46,48,50,52],e[15]=[1,10,19,22,29,46,48,51,53],e[16]=[1,9,20,36,46,49,52],e[17]=[1,10,20,21,30,46,49,50,53],e[18]=[2,11,20,22,31,46,49,51,52],e[19]=[2,11,21,37,46,50,52],e[20]=[2,12,21,22,32,46,50,51,53],e[21]=[2,13,22,38,46,51,52],e[22]=[6,34,40,45,47],e[23]=[1,7,23,34,47,48,52],e[24]=[1,8,24,34,47,49,53],e[25]=[1,9,25,34,47,50,52],e[26]=[1,10,26,34,47,51,53],e[27]=[1,8,23,35,47,48,53],e[28]=[1,9,23,24,27,47,48,49,52],e[29]=[1,10,23,25,28,47,48,50,53],e[30]=[2,11,23,26,29,47,48,51,52],e[31]=[1,10,24,36,47,49,53],e[32]=[2,11,24,25,30,47,49,50,52],e[33]=[2,12,24,26,31,47,49,51,53],e[34]=[2,12,25,37,47,50,53],e[35]=[2,13,25,26,32,47,50,51,52],e[36]=[2,14,26,38,47,51,53],e[37]=[9,35,41,45,48],e[38]=[1,10,27,35,48,49,53],e[39]=[2,11,28,35,48,50,52],e[40]=[2,12,29,35,48,51,53],e[41]=[2,11,27,36,48,49,52],e[42]=[2,12,27,28,30,48,49,50,53],e[43]=[2,13,27,29,31,48,49,51,52],e[44]=[2,13,28,37,48,50,52],e[45]=[2,14,28,29,32,48,50,51,53],e[46]=[2,15,29,38,48,51,52],e[47]=[12,36,42,45,49],e[48]=[2,13,30,36,49,50,52],e[49]=[2,14,31,36,49,51,53],e[50]=[2,14,30,37,49,50,53],e[51]=[2,15,30,31,32,49,50,51,52],e[52]=[2,16,31,38,49,51,53],e[53]=[15,37,43,45,50],e[54]=[2,16,32,37,50,51,53],e[55]=[2,17,32,38,50,51,52],e[56]=[38,44,45,51],e[t]},t.SicResultArea=e,i.getResultArea=function(t){var e=[[]];return e[1]=[17],e[2]=[1,3,17,18,24],e[3]=[1,4,17,19,23],e[4]=[1,5,17,20,24],e[5]=[1,6,17,21,23],e[6]=[1,7,17,22,24],e[7]=[1,4,17,18,23],e[8]=[1,5,23,17,18,19,24],e[9]=[1,6,24,17,18,20,23],e[10]=[1,7,17,18,21,24],e[11]=[1,8,17,18,22,23],e[12]=[1,6,17,19,23],e[13]=[1,7,17,19,20,24],e[14]=[1,8,17,19,21,23],e[15]=[1,9,17,19,22,24],e[16]=[1,8,17,20,23],e[17]=[1,9,17,20,21,24],e[18]=[2,10,17,20,22,23],e[19]=[2,10,17,21,23],e[20]=[2,11,17,21,22,24],e[21]=[2,12,17,22,23],e[22]=[5,18],e[23]=[1,6,23,18,19,23],e[24]=[1,7,24,18,20,24],e[25]=[1,8,18,21,23],e[26]=[1,9,18,22,24],e[27]=[1,7,23,18,19,24],e[28]=[1,8,23,24,18,19,20,23],e[29]=[1,9,23,18,19,21,24],e[30]=[2,10,23,18,19,22,23],e[31]=[1,9,18,20,24],e[32]=[2,10,24,18,20,21,23],e[33]=[2,11,18,20,22,24],e[34]=[2,11,18,21,24],e[35]=[2,12,18,21,22,23],e[36]=[2,13,18,22,24],e[37]=[8,19],e[38]=[1,9,19,20,24],e[39]=[2,10,19,21,23],e[40]=[2,11,19,22,24],e[41]=[2,10,19,20,23],e[42]=[2,11,19,20,21,24],e[43]=[2,12,19,20,22,23],e[44]=[2,12,19,21,23],e[45]=[2,13,19,21,22,24],e[46]=[2,14,19,22,23],e[47]=[11,20],e[48]=[2,12,20,21,23],e[49]=[2,13,20,22,24],e[50]=[2,13,20,21,24],e[51]=[2,14,20,21,22,23],e[52]=[2,15,20,22,24],e[53]=[14,21],e[54]=[2,15,21,22,24],e[55]=[2,16,21,22,23],e[56]=[38,22],e[t]},t.SicBoVnResultArea=i,n.prototype.Transinit=function(t){var e="";if(null!=t&&""!==t){for(var i=t.split(","),n=[],a=0,o=i.length;a<o;a++)""!==i[a]&&n.push(this.sumRes(i[a]));e=n.join(",")}this._rtString=e},n.prototype.sumRes=function(t){for(var e=t.split("-"),i=0,n=0,a=e.length;n<a;n++)i+=Number(e[n]);return e[0]===e[1]&&e[1]===e[2]?"2"+String(i):i<=10?"0"+String(i):"1"+String(i)},n.prototype.GetNewRoad=function(){return this._rtString},t.SicBoVnTransRoadmap=n}(SicLogicShare=SicLogicShare||{}),!function(t){var e,u=PIXI.Graphics,d=PIXI.Text,i=(e=SharePanel.RoadmapPanel,__extends(n,e),n.prototype.initBG=function(t){this.cellSetting=t,this.mcList=[],this.lineList=[];t=new u,t.beginFill(3089459),t.drawRect(0,0,454,145),t.endFill(),t=new PIXI.Sprite(PIXI.Texture.fromImage("MultipleHall_VnSicBo_Roadmap0000"));t.x=2,this.addChild(t)},n.prototype.setData=function(t){if(this.resetCells(),""!=t){for(var e,i=(t=new SicLogicShare.SicBoVnTransRoadmap(t).GetNewRoad()).split(","),n=0;n<i.length;n++)null!=i[n]&&(e=new ShareRoad.RoadmapNormalCell(this.cellSetting.cellName),null!=this.cellSetting.scale&&e.scale.set(this.cellSetting.scale),this.mcList.push(e));for(var a=0,n=a=20<=i.length?i.length-20:a;n<i.length;n++)if(null!=i[n]){var o,r=this.mcList[n],s=(t=i[n]).charAt(0),h=Number(s),l=("3042"==this.cellSetting.gameType&&h++,new d("",{fontFamily:"Arial",fontSize:"15px",fill:"#000000",fontWeight:"bolder"}));switch(l.y=1,"0"==s&&"1"!=t.charAt(1)||"2"==s&&"1"!=t.charAt(1)?(o=t.charAt(1),l.x=5):("1"==s||"0"==s&&"1"==t.charAt(1)||"2"==s&&"1"==t.charAt(1))&&(o=t.charAt(1)+t.charAt(2),l.x=2),l.text=o,r.x=25+16.53*(n-a),r.y=18-7.7*Number(o)+118,r.addChild(l),h){case 1:r.setPoint(1),this.addChild(r);break;case 2:r.setPoint(2),this.addChild(r);break;case 3:r.setPoint(3),this.addChild(r)}}for(var c,n=a;n<this.mcList.length-1;n++)null!=i[n]&&0!=this.mcList[n].x&&0!=this.mcList[n+1].x&&((c=new u).lineStyle(1,16777215),c.moveTo(this.mcList[n].x+12,this.mcList[n].y+5),c.lineTo(this.mcList[n+1].x+2,this.mcList[n+1].y+5),c.endFill(),this.lineList.push(c),c=c,this.addChildAt(c,1))}},n.prototype.resetCells=function(){for(var t=0;t<this.mcList.length;t++){var e=this.mcList[t];this.removeChild(e),e.removeChildren()}for(t=0;t<this.lineList.length;t++){var i=this.lineList[t];this.removeChild(i)}this.mcList=[],this.lineList=[]},n);function n(){return e.call(this)||this}t.HallSicVnRoad=i}(HallRoad=HallRoad||{}),!function(t){e=SharePanel.RoadmapPanel,__extends(n,e),n.prototype.initUI=function(){var t={fontFamily:"Arial",fontSize:"16px",fill:"#FFFFFF"},e=[];this.arrPoker=[];for(var i="tw"==Tools.CheckLang.threeLang()?["莊家","順門","出門","到門"]:"cn"==Tools.CheckLang.threeLang()?["庄家","顺门","出门","到门"]:["B","P1","P2","P3"],n=0;n<i.length;n++)e[n]=new PIXI.Text(i[n],t),e[n].position.set(44+89*n,10),e[n].anchor.set(.5),this.roadmapUI.addChild(e[n]);for(var a=[19,47,109,137,199,227,288,316],n=0;n<16;n++)this.arrPoker[n]=new ShareUI.TianjiuUI("Multiple_Hall_Blockchain_PaiGow"),this.arrPoker[n].scale.set(.57,.48),this.arrPoker[n].x=n<8?a[n]:a[n-8],this.arrPoker[n].y=n<8?25:77,this.roadmapUI.addChild(this.arrPoker[n])},n.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),t)for(var i=t.split(","),n=0;n<i.length;n++)for(var a=0;a<8;a++)this.arrPoker[8*n+a]&&(this.arrPoker[8*n+a].visible=!0,this.arrPoker[8*n+a].setPoker(i[n].split("-")[a+1]))},n.prototype.resetRoadmap=function(){for(var t=0;t<this.arrPoker.length;t++)this.arrPoker[t].setPoker("back"),this.arrPoker[t].visible=!1};var e,i=n;function n(){return null!==e&&e.apply(this,arguments)||this}t.HallPaiRoadmap=i}(HallRoad=HallRoad||{}),!function(t){var e,i=PIXI.Sprite,n=(e=t.RoadmapPanel,__extends(a,e),a.prototype.initRoadBall=function(t){this.roadmapBall=new r(t)},a.prototype.initRoadColor=function(t){this.roadmapColor=new ShareRoad.RoadmapNew2Aacey(t)},a.prototype.initRoadBS=function(t){this.roadmapBS=new ShareRoad.RoadmapNew2Aacey(t)},a.prototype.initRoadOE=function(t){this.roadmapOE=new ShareRoad.RoadmapNew2Aacey(t)},a.prototype.initTitle=function(t){this.cellSetting=t,this._roadMapTitle=[],this._roadMapTitle[0]=PIXI.Sprite.fromImage("MuiltF_AceyD_GoalTxt_"+IPL.UrlParameter.lang+"0000"),this._roadMapTitle[1]=PIXI.Sprite.fromImage("MuiltF_AceyD_HitTxt_"+IPL.UrlParameter.lang+"0000"),this._roadMapTitle[2]=PIXI.Sprite.fromImage("MuiltF_AceyD_MissTxt_"+IPL.UrlParameter.lang+"0000");for(var e=0;e<3;e++)this.roadmapUI.addChild(this._roadMapTitle[e]),this._roadMapTitle[e].x=this.cellSetting.titleX,this._roadMapTitle[e].y=this.cellSetting.originalY+e%3*this.cellSetting.gapY,this._roadMapTitle[e].scale.set(this.cellSetting.scale)},a.prototype.addRoadmap=function(t){for(var e=0;e<t.length;e++)"mapBall"==t[e]?this.roadmapUI.addChild(this.roadmapBall):"mapBS"==t[e]?this.roadmapUI.addChild(this.roadmapBS):"mapColor"==t[e]?this.roadmapUI.addChild(this.roadmapColor):"mapOE"==t[e]&&this.roadmapUI.addChild(this.roadmapOE)},a.prototype.setStatus=function(t){if("dealing"==t&&this.roadStrArr.length==this.cellSetting.roundNum){this.roadStrArr.shift();for(var e=0;e<this.roadStrArr.length;e++)String(this.roadStrArr[e])}},a.prototype.setData=function(t,e){void 0===e&&(e=""),null!=t&&(""!=t?null!=this.roadmapBall&&this.roadmapBall.setRoadmapData(t):(this.roadStrArr=[],null!=this.roadmapBall&&this.roadmapBall.resetCells()))},a.prototype.showResult=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),null!=this.roadmapColor&&t&&this.roadmapColor.showResult(t),null!=this.roadmapBS&&e&&this.roadmapBS.showResult(e),null!=this.roadmapOE&&i&&this.roadmapOE.showResult(i)},a.prototype.initAddListen=function(){var i=this;this.roadmapBall.on("ballRoadInfo",function(t){var e=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP);t.gameKey=i.gameKey,e.data=t,i.roundObj=t,i.event.dispatchEvent(e)}),e.prototype.initAddListen.call(this)},a);function a(){return e.call(this)||this}t.RoadmapAceyDeucey=n;__extends(s,o=i),s.prototype.arrangeCells=function(){this.record=[],this.roadmap_length=this.cellSetting.gridCol,this.cellSetting.NewRoundBG&&(this._newRoundBG=PIXI.Sprite.fromFrame(this.cellSetting.NewRoundBG),this._newRoundBG.x=this.cellSetting.NewRoundx+this.record.length*this.cellSetting.gapX,this._newRoundBG.y=this.cellSetting.NewRoundy,this.addChild(this._newRoundBG));for(var t=0;t<this.cellSetting.gridCol*this.cellSetting.gridRow;t++)this._roadMapCircle[t]=PIXI.Sprite.fromFrame(this.cellSetting.circleIcon),this._roadMapCircle[t].anchor.set(.5),this.addChild(this._roadMapCircle[t]),this._roadMapCircle[t].x=this.cellSetting.originalX+Math.floor(t/3)*this.cellSetting.gapX,this._roadMapCircle[t].y=this.cellSetting.originalY+t%3*this.cellSetting.gapY,null!=this.cellSetting.scale&&this._roadMapCircle[t].scale.set(this.cellSetting.scale),this._roadMapCircle[t].anchor.set(.5)},s.prototype.setRoadmapData=function(t){for(var e=t.split(",");e.length>this.roadmap_length;)e.splice(0,1);this.resetCells();for(var i=0;i<e.length;i++){var n=e[i].charAt(0);"G"==n?this._roadMapCircle[3*i].visible=!0:"H"==n?this._roadMapCircle[3*i+1].visible=!0:"M"==n&&(this._roadMapCircle[3*i+2].visible=!0)}this.cellSetting.NewRoundBG&&(this._newRoundBG.visible=!0,this._newRoundBG.x=this.cellSetting.NewRoundx+(e.length-1)*this.cellSetting.gapX),this.setRoundNum(t)},s.prototype.setRoundNum=function(t){for(var e=t.split(","),i=0,n=0,a=0,o=(e.length,0);o<e.length;o++){var r=e[o].charAt(0);"G"==r&&i++,"H"==r&&n++,"M"==r&&a++}t={};t.goalNum=i,t.hitNum=n,t.missNum=a,this.emit("ballRoadInfo",t)},s.prototype.resetCells=function(){this.cellSetting.NewRoundBG&&(this._newRoundBG.visible=!1);for(var t=0;t<this._roadMapCircle.length;t++)this._roadMapCircle[t].visible=!1};var o,r=s;function s(t){var e=o.call(this)||this;return e._roadMapCircle=[],e.cellSetting=t,e.arrangeCells(),e.resetCells(),e}t.RoadmapBall=r}(SharePanel=SharePanel||{}),!function(t){var e,o=PIXI.Sprite,r=PIXI.Text,i=(e=SharePanel.RoadmapPanel,__extends(n,e),n.prototype.initUI=function(t){this.cellSetting=t,this.roadmapBall=new s(t),this.roadmapUI.addChild(this.roadmapBall),null==Tools.TextureStore.repository.Fram1x4&&SharePanel.sameFrameLine.createTexture({gridRow:3,gridCol:1,gridW:48,gridH:40,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x4"});var t=new o(Tools.TextureStore.repository.Fram1x4),t=(t.x=0,t.y=0,this.addChild(t),{fontFamily:"微軟正黑體",fontSize:"18px",fill:"#ffffff"}),e=["射中","撞柱","不中"],i=["Goal","  Hit","Miss"],n=new r(e[0],t),a=(n.x=15,n.y=10,this.addChild(n),new r(e[1],t)),e=(a.x=15,a.y=53,this.addChild(a),new r(e[2],t));e.x=15,e.y=94,this.addChild(e),"tw"!=IPL.UrlParameter.lang&&"cn"!=IPL.UrlParameter.lang&&(n.text=i[0],a.text=i[1],e.text=i[2])},n.prototype.setData=function(t){this.roadmapBall.resetCells(),null!=t&&(""!=t?(this.roadStrArr=t.split(","),null!=this.roadmapBall&&this.roadmapBall.setRoadmapData(t)):this.roadStrArr=[])},n);function n(){return e.call(this)||this}t.AceyDeuceyRoad=i;__extends(h,a=o),h.prototype.arrangeCells=function(){this.record=[],this.roadmap_length=this.cellSetting.gridCol,this.cellSetting.NewRoundBG&&(this._newRoundBG=PIXI.Sprite.fromFrame(this.cellSetting.NewRoundBG),this._newRoundBG.x=this.cellSetting.NewRoundx+this.record.length*this.cellSetting.gapX,this._newRoundBG.y=this.cellSetting.NewRoundy,this.addChild(this._newRoundBG));for(var t=0;t<this.cellSetting.gridCol*this.cellSetting.gridRow;t++)this._roadMapCircle[t]=PIXI.Sprite.fromFrame(this.cellSetting.circleIcon),this._roadMapCircle[t].anchor.set(.5),this.addChild(this._roadMapCircle[t]),this._roadMapCircle[t].x=this.cellSetting.originalX+Math.floor(t/3)*this.cellSetting.gapX,this._roadMapCircle[t].y=this.cellSetting.originalY+t%3*this.cellSetting.gapY,null!=this.cellSetting.scale&&this._roadMapCircle[t].scale.set(this.cellSetting.scale),this._roadMapCircle[t].anchor.set(.5)},h.prototype.setRoadmapData=function(t){for(var e=t.split(",");e.length>this.roadmap_length;)e.splice(0,1);this.resetCells();for(var i=0;i<e.length;i++){var n=e[i].charAt(0);"G"==n?this._roadMapCircle[3*i].visible=!0:"H"==n?this._roadMapCircle[3*i+1].visible=!0:"M"==n&&(this._roadMapCircle[3*i+2].visible=!0)}this.cellSetting.NewRoundBG&&(this._newRoundBG.visible=!0,this._newRoundBG.x=this.cellSetting.NewRoundx+(e.length-1)*this.cellSetting.gapX),this.setRoundNum(t)},h.prototype.setRoundNum=function(t){for(var e=t.split(","),i=0,n=0,a=0,o=(e.length,0);o<e.length;o++){var r=e[o].charAt(0);"G"==r&&i++,"H"==r&&n++,"M"==r&&a++}t={};t.goalNum=i,t.hitNum=n,t.missNum=a,this.emit("ballRoadInfo",t)},h.prototype.resetCells=function(){this.cellSetting.NewRoundBG&&(this._newRoundBG.visible=!1);for(var t=0;t<this._roadMapCircle.length;t++)this._roadMapCircle[t].visible=!1};var a,s=h;function h(t){var e=a.call(this)||this;return e._roadMapCircle=[],e.cellSetting=t,e.arrangeCells(),e.resetCells(),e}t.RoadmapBall=s}(HallRoad=HallRoad||{}),!function(t){var n=PIXI.Container;function a(){}a.getHallTitle=function(t){var e=new n,i=new PIXI.Text("",{fontFamily:"微軟正黑體",fontSize:"20px",fill:"#fffffff",whiteSpace:"pre-line",wordWrap:!0,wordWrapWidth:135,lineHeight:19,fontWeight:"bold",letterSpacing:-.5});return a.isChinese(t)?(t=(t=(t=a.toFullWidth(t)).split("")).join("\n"),i.text=t):(t=(t=t.replace(/(Fighting+\s+)/gi,"$1\n")).replace(/(Wenzhou+\s+)/gi,"$&\n"),"us"==Tools.CheckLang.threeLang()&&(i.style.fontSize=17),"th"==IPL.UrlParameter.lang&&(i.style.letterSpacing=0),i.text=t,i.rotation=Math.PI/180*90,i.x+=i.height),e.addChild(i),133<e.height&&e.scale.set(Number((133/e.height).toFixed(2))),e},a.isChinese=function(t){return!!/.*[\u4e00-\u9fa5]+.*$/.test(t)},a.toFullWidth=function(t){for(var e="",i=0;i<t.length;i++)/^[\u4E00-\u9FA5]+$/.test(t.substring(i,i+1))?e+=t.substring(i,i+1):32!=t.charCodeAt(i)&&12288!=t.charCodeAt(i)&&t.charCodeAt(i)<127&&(e+=String.fromCharCode(t.charCodeAt(i)+65248));return e},t.HallTitleTool=a}(ShareMultiGames=ShareMultiGames||{}),!function(t){function e(){}e.threeLang=function(){return"cn"==IPL.UrlParameter.lang||"tw"==IPL.UrlParameter.lang?IPL.UrlParameter.lang:"us"},e.eightLang=function(){var t=["tw","cn","us","kr","vi","th","ja","id"].indexOf(IPL.UrlParameter.lang);return-1!=t?IPL.UrlParameter.lang:"us"},t.CheckLang=e}(Tools=Tools||{}),!function(a){var n,o=PIXI.Container,r=PIXI.Sprite,i=PIXI.Point,s=PIXI.Text,t=(n=SharePanel.TablePanel,__extends(e,n),e.prototype.setChessPanel=function(){VideoAssetManager.Informantion.settingData.switch.chessCard&&!this.isMaintain&&-1!=VideoAssetManager.Informantion.settingData.switch.chessCard.indexOf(this.gameKey)&&(this.initChessOverPanel(),this.initChessUIPanel())},e.prototype.initChessUIPanel=function(){var e=this,t=(this.conChessUI=new o,this.conChessUI.x=50,this.addChild(this.conChessUI),this.conChessUI.visible=!1,new PIXI.Graphics),t=(t.beginFill(0,.6),t.drawRect(0,0,this.width-55,this.height),t.x=5,t.interactive=!1,this.conChessUI.addChild(t),new ShareUI.Button("MultipleHall_ChessBtn")),i=PIXI.Sprite.fromImage("MultipleHall_ChessEnter0000"),i=(i.x=50,i.y=2.5,t.addChild(i),t.x=285,t.on("pointerdown",function(){var t=new VideoShare.HallEvent(VideoShare.HallEvent.ON_SELECT_GAME);t.status=e.gameKey,t.data={btnType:1},e.event.dispatchEvent(t),e.conChessUI.visible=!1}),this.conChessUI.addChild(t),new ShareUI.Button("MultipleHall_ChessBtn")),n=PIXI.Sprite.fromImage("MultipleHall_ChessCancel0000");n.x=50,n.y=2.5,i.addChild(n),i.x=105,i.on("pointerdown",function(){e.conChessUI.visible=!1,e.titleBtn.setMouseStatus(!e.conChessUI.visible)}),this.conChessUI.addChild(i),i.y=t.y=75,this.conChessUI.txt=new s("",{fontFamily:"微軟正黑體",fontSize:"22px",fill:"#ffcd86",fontWeight:"bold",wordWrap:!0,wordWrapWidth:520}),this.conChessUI.txt.x=265,this.conChessUI.txt.y=35,this.conChessUI.txt.anchor.set(.5),this.conChessUI.addChild(this.conChessUI.txt)},e.prototype.initChessOverPanel=function(){var t;DeviceAndEnvironment.Device.isMobile()||(this.conChessOver=new o,this.conChessOver.x=50,this.addChild(this.conChessOver),this.conChessOver.visible=!1,(t=new PIXI.Graphics).beginFill(0,.6),t.drawRect(0,0,this.width-55,this.height),t.x=5,t.interactive=!1,this.conChessOver.addChild(t),(t=new s(IPL.DictManager.getDict("CHESS_SINGLE_SELECT"),{fontFamily:"微軟正黑體",fontSize:"24px",fill:"#ffcd86",fontWeight:"bold"})).x=265,t.y=45,t.anchor.set(.5),this.conChessOver.addChild(t),(t=new s(IPL.DictManager.getDict("CHESS_CLICK_CHANGE"),{fontFamily:"微軟正黑體",fontSize:"24px",fill:"#ffffff",fontWeight:"bold"})).x=265,t.y=85,t.anchor.set(.5),this.conChessOver.addChild(t))},e.prototype.setTableChessOver=function(t){this.conChessOver&&(t?(this.titleBtn.on("mouseover",this.chessEvent),this.titleBtn.on("mouseout",this.chessEvent)):(this.titleBtn.off("mouseover",this.chessEvent),this.titleBtn.off("mouseout",this.chessEvent)))},e.prototype.setTableChessUI=function(t,e,i){e=(e=void 0===e?"":e)&&e.replace("-","_"),this.conChessUI&&(this.conChessUI.txt.text=IPL.DictManager.getDict("CHESS_SELECTED").replace("XXXX",IPL.DictManager.getDict("NAME_"+e))+"， "+IPL.DictManager.getDict("CHESS_CHANGE_SELECTED").replace("XXXX",IPL.DictManager.getDict("NAME_"+this.gameType)+" "+this.gameCodeName),this.conChessUI.visible=t,this.titleBtn.setMouseStatus(!t)),this.conChessOver&&(this.conChessOver.visible=!1)},e.prototype.onCardEvent=function(t){switch(t.type){case"mouseover":this.conChessOver.visible=!0;break;case"mouseout":this.conChessOver.visible=!1}},e.prototype.initMaintainUI=function(){this.maintainInfo=new PIXI.Graphics,this.maintainInfo.beginFill(0,.8),this.maintainInfo.drawRect(0,1,529,132),this.maintainInfo.x=55,this.maintainInfo.interactive=!1,this.addChildAt(this.maintainInfo,this.getChildIndex(this.selsecIcon));var t=new s(IPL.DictManager.getDict("GAME_MAINTAIN"),{fontFamily:"微軟正黑體",fontSize:"24px",fill:"#D0A766",fontWeight:"bold"});t.x=265,t.y=50,t.anchor.set(.5),this.maintainInfo.addChild(t),this.maintainTxt=new s("4/22 00:00 - 4/22 00:00",{fontFamily:"微軟正黑體",fontSize:"21px",fill:"#ffffff",fontWeight:"bold"}),this.maintainTxt.x=265,this.maintainTxt.y=84,this.maintainTxt.anchor.set(.5),this.maintainInfo.addChild(this.maintainTxt),this.maintainInfo.visible=!1},e.prototype.setModel=function(t){this._model=t,this._model.addEventListener(VideoShare.LiveGameEvent.CHANGE_DEALER_PIC,this.gameEvent),this._model.addEventListener(VideoShare.LiveGameEvent.CHANGE_DEALER_NAME,this.gameEvent),this._model.addEventListener(VideoShare.LiveGameEvent.ON_SHUFFLE,this.gameEvent),this.setDealerName(this._model.getDealerName()),this.setDealerPic(this._model.getDealerPic()),this.setShuffle(0==Number(this._model.getRoundNo().split("-")[1])?"Y":"N"),this._model.addEventListener(VideoShare.LiveGameEvent.ON_MAINTAIN_INFO,this.gameEvent),this.setMaintainInfo(this._model.getMt()),"3023"!=t.getGameType()&&"3041"!=t.getGameType()||((t=new l).visible=!0,t.x=535,t.y=22,this.addChild(t),t.setLight())},e.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_TableRoadMap_BG"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_TableCountDown_BG")),t=(this.addChild(t),this.titleBtn=new ShareUI.Button("Multiple_Hall_TableTilte"),this.titleBtn.x=1,this.titleBtn.y=1,this.addChild(this.titleBtn),this.titleBtn.setSensor(528,134,292),Tools.CheckLang.threeLang()),e=a.HallTitleTool.getHallTitle(IPL.DictManager.getDict("NAME_"+this.gameType)+" "+this.gameCodeName),t=(this.addChild(e),e.x=(57-e.width)/2,"cn"!=t&&"tw"!=t?e.y=2:(e.y=1,"3021"==this.gameType&&(e.y=3)),this.dealerMask=new PIXI.Graphics,this.dealerMask.beginFill(0),this.dealerMask.drawRect(0,0,95,129),this.dealerMask.endFill(),this.addChild(this.dealerMask),this.dealerMask.x=59,this.dealerMask.y=2,-1==VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(this.gameType+"-"+this.gameCode)&&(this.dealerBG=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_DealerBG"),this.addChild(this.dealerBG)),this.countTxt=new s("0",{fontFamily:"Arial",fontSize:"32px",fill:"#F7E8D3"}),this.countTxt.x=553,this.countTxt.y=22,this.countTxt.anchor.set(.5,.5),this.addChild(this.countTxt),this.dealerName=new s("",{fontFamily:"_sans",fontSize:"13px",fill:"#EBE5CB"}),this.addChild(this.dealerName),this.dealerName.x=108,this.dealerName.y=121,this.dealerName.anchor.set(.5,.5),this.statusCon=new o,this.statusCon.x=161,this.statusCon.y=5,PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_StatusBG"));this.statusCon.addChild(t),this.shuffleTxt=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_ShuffleCardsTxt_"+IPL.UrlParameter.lang),this.statusCon.addChild(this.shuffleTxt),this.addChild(this.statusCon);for(var i=1;i<=2;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Hall_TableFrameS","l"+i);this.addChild(n)}e=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_TableFrameB");this.addChild(e),VideoAssetManager.Informantion.settingData.switch.moneyIcon&&-1!=VideoAssetManager.Informantion.settingData.switch.moneyIcon.indexOf(this.gameKey)&&((t=PIXI.Sprite.fromImage("Multiple_MoneyIcon0000")).position.set(47,10),this.addChild(t))},e.prototype.initAddListen=function(){DeviceAndEnvironment.Device.isMobile()||this.titleBtn.on("click",this.clickEvent),this.titleBtn.on("tap",this.clickEvent)},e.prototype.initBacRoad=function(){this._roadmapPanel=new SharePanel.RoadmapBac,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby6x17BG&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:19,gridH:19,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby6x17BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby6x17BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{gameType:"3001",cellB:"Multiple_Hall_cellR0000",cellP:"Multiple_Hall_cellB0000",cellT:"Multiple_Hall_tieLine0000",gridRow:6,gridCol:17,gapX:21,gapY:21,startPosX:1.5,startPosY:1.5,scale:1,cellT1:-2.5,cellT2:1,cellT3:4.5,tStyle:{fontFamily:"Arial",fontSize:"14px",fill:"#FFFFFF"}});this._roadmapPanel.initRoadNew2A(e),this._roadmapPanel.addRoadmap(["map2A"]),this.addChild(this._roadmapPanel),this._roadmapPanel.initAddListen()},e.prototype.initDtfRoad=function(){this._roadmapPanel=new SharePanel.RoadmapBac,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby6x17BG&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:19,gridH:19,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby6x17BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby6x17BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{gameType:"3003",cellB:"Multiple_Hall_DTF_Btiger0000",cellP:"Multiple_Hall_DTF_Bdragon0000",cellT:"Multiple_Hall_DTF_Btie0000",gridRow:6,gridCol:17,gapX:21,gapY:21,startPosX:1.5,startPosY:1.5,scale:1});this._roadmapPanel.initRoadB(e),this._roadmapPanel.addRoadmap(["mapB"]),this.addChild(this._roadmapPanel)},e.prototype.initTrifaceRoad=function(){this._roadmapPanel=new SharePanel.RoadmapTriface,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby3x8BG&&SharePanel.colTitleFrameLine.createTexture({gridRow:3,gridCol:9,gridW:36,gridWTitle:51,gridH:40,cellColor:0,cellColorTitle:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby3x8BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby3x8BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{roundNum:8,gapX:38,gapY:42,titleX:27,originalX:72,originalY:21,scale:1,txtShort:!0,styleTitle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"},styleB:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ff624e"},styleP:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#42b3e8"},styleT:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#37d925"}});this._roadmapPanel.initCell(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initPaiRoad=function(){this._roadmapPanel=new SharePanel.RoadmapPai,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby2x4BG&&SharePanel.rowTitleFrameLine.createTexture({gridRow:3,gridCol:4,gridW:87,gridH:50,gridHTitle:21,cellColor:0,cellColorTitle:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby2x4BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby2x4BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{straight:!0,gridRow:2,titleNumX:1,gapY:52,titleX:44,titleY:10,originalX:12,originalY:25}),t={gapX:89,scale:1,titleStyle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"},txtShort:!0},t=(e.titleSet=t,{pokerName:"SimplePoker",gapX:33,gapX2:23});t.scalePoker=new i(.4,.39),e.pokerSet=t,this._roadmapPanel.initCell(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initRouRoad=function(){this._roadmapPanel=new HallRoad.HallRouRoad,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby5x2BG&&SharePanel.sameFrameLine.createTexture({gridRow:5,gridCol:2,gridW:177,gridH:23,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby5x2BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby5x2BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{roundNum:10,ballTextureName:"",colNum:2,originalX:2,originalY:5,gapX:177,gapY:25}),t={Y:6,ballX:15,EvenOddTxtX:50,BSStrTxtX:83,BSNumDozenTxtX:135,style:{fontFamily:"Arial",fontSize:"14px",fill:"#FFFFFF",align:"center"}};e.listSet=t,this._roadmapPanel.initList(e),this.addChild(this._roadmapPanel)},e.prototype.initSicboRoad=function(){this._roadmapPanel=new SharePanel.RoadmapSicbo,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby4x3BG&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:3,gridW:117,gridH:30,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby4x3BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby4x3BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{direction:"right",roundNum:12,modNum:4,startPosX:4,startPosY:4,gapX:119,gapY:32}),t={diceName:"Multiple_Hall_SicBo_Dice",diceDisX:23,diceScale:1},t=(e.diceSet=t,{BSStyle:{fontFamily:"Arail",fontSize:"32px",fill:"#FFFFFF",stroke:"#FFFFFF",strokeThickness:1},posX:72,posY:1}),t=(e.BSSet=t,{diceSumStyle:{fontFamily:"Arail",fontSize:"34px",fill:"#FFFFFF"},posX:92,posY:1});e.diceSumSet=t,e.triSameCol="#FFD277",e.bigCol="#FF745F",e.smallCol="#56FF44",this._roadmapPanel.initList(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initTexasRoad=function(){this._roadmapPanel=new SharePanel.RoadmapTexas,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby2x3BG&&SharePanel.specialFrameLine.createTexture({gridRow:3,gridCol:3,gridW:85,gridWTitle:181,gridH:50,gridHTitle:20,cellColor:0,cellColor2:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,texas:!0,textureName:"Lobby2x3BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby2x3BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{roundNum:2,straight:!0,gridRow:2,titleNumX:1,gapY:52,titleX:41,titleY:10,originalX:12,originalY:24}),t={gapX:137,scale:1,titleStyle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"}},t=(e.titleSet=t,{pokerName:"SimplePoker",cellBanker:"Multiple_Hall_Texas_Banker0000",cellPlayer:"Multiple_Hall_Texas_Player0000",cellTie:"Multiple_Hall_Texas_Tie0000",cellPosX:11,cellPosY:34,gapX:33,gapX2:19.5});t.scalePoker=new i(.4,.39),e.pokerSet=t,this._roadmapPanel.initCell(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initSedieRoad=function(){this._roadmapPanel=new SharePanel.RoadmapSedieNew,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby6x17BG&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:19,gridH:19,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby6x17BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby6x17BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),""),e="tw"==IPL.UrlParameter.lang?"0":"cn"==IPL.UrlParameter.lang?"1":"2",t={gameType:"3048"};t.cellB="Multiple_Sedie_OddTxt000"+e,t.cellP="Multiple_Sedie_EvenTxt000"+e,t.gridRow=6,t.gridCol=17,t.gapX=21,t.gapY=21,t.originalX=1,t.originalY=1,t.scale=.25,this._roadmapPanel.initRoadOE(t),this._roadmapPanel.addRoadmap(["mapOE"]),this.addChild(this._roadmapPanel)},e.prototype.initBullRoad=function(){this._roadmapPanel=new SharePanel.RoadmapBull,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby4x8BG&&SharePanel.colTitleFrameLine.createTexture({gridRow:4,gridCol:9,gridW:36,gridWTitle:51,gridH:30,cellColor:0,cellColorTitle:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby4x8BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby4x8BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{roundNum:8,winBack:"Multiple_Hall_Bull_win0000",gapX:38,gapY:32,titleX:26,originalX:71,originalY:15,winX:71,winY:14.5,scale:1,txtShort:!0,titleStyle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"},style:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"},BBStyle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#E8A008",stroke:"#E8A008",strokeThickness:1},"5PStyle":{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#B50D25",stroke:"#B50D25",strokeThickness:1}});this._roadmapPanel.initCell(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initFanTanRoad=function(){this._roadmapPanel=new SharePanel.RoadmapSedie,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby6x17BG&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:19,gridH:19,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby6x17BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby6x17BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{gameType:"3015",cellName:"Multiple_Hall_Sedie_roadEmpty",gridRow:6,gridCol:17,gapX:21,gapY:21,startPosX:1.5,startPosY:1.5,scale:1});this._roadmapPanel.initRoadNew2A(e),this._roadmapPanel.addRoadmap(["map2A"]),this.addChild(this._roadmapPanel)},e.prototype.initFishCSRoad=function(){this._roadmapPanel=new SharePanel.RoadmapSicbo,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby4x3BG&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:3,gridW:117,gridH:30,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby4x3BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby4x3BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{direction:"right",roundNum:12,modNum:4,startPosX:-3,startPosY:-3,gapX:119,gapY:32}),t={diceName:"Multiple_Hall_FishCS_Dice",diceDisX:23,diceScale:1},t=(e.diceSet=t,"3039"==this.gameType?t.diceName="Multiple_Hall_FishCS_Dice_vi":"3040"==this.gameType&&(t.diceName="Multiple_Hall_FishCS_Dice_th"),{BSStyle:{fontFamily:"Arail",fontSize:"32px",fill:"#FFFFFF",stroke:"#FFFFFF",strokeThickness:1},posX:78,posY:8}),t=(e.BSSet=t,{diceSumStyle:{fontFamily:"Arail",fontSize:"34px",fill:"#FFFFFF"},posX:98,posY:8});e.diceSumSet=t,e.triSameCol="#FFD277",e.bigCol="#FFFFFF",e.smallCol="#FFFFFF",this._roadmapPanel.initList(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initFishSCThRoad=function(){this._roadmapPanel=new SharePanel.RoadmapSicbo,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby1x12BG&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:12,gridW:28,gridH:124,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby1x12BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby1x12BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{listDir:"Hor",direction:"right",roundNum:12,modNum:16,startPosX:-5,startPosY:5,gapX:30,gapY:10}),t={diceName:"Multiple_Hall_FishCS_Dice_th",diceDisY:30,diceScale:1.1},t=(e.diceSet=t,{BSStyle:{fontFamily:"Arial",fontSize:"1px",fill:"#000000",align:"center"},posX:10,posY:90}),t=(e.BSSet=t,{diceSumStyle:{fontFamily:"Arial",fontSize:"1px",fill:"#000000",align:"center"},posX:10,posY:72});e.diceSumSet=t,e.triSameCol="#FFD277",e.bigCol="#000000",e.smallCol="#000000",this._roadmapPanel.initList(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initMonWheelRoad=function(){this._roadmapPanel=new SharePanel.RoadmapMonWheel,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby3x10BG&&SharePanel.sameFrameLine.createTexture({gridRow:3,gridCol:10,gridW:33.7,gridH:40,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby3x10BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby3x10BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{direction:"right",listDir:"Ver",roundNum:30,modNum:3,startPosX:18,startPosY:20,gapX:35.7,gapY:42,tStyle:{fontFamily:"Arial",fontSize:"20px",fill:"#000000",fontWeight:"bold"},col:{1:6220543,2:65280,3:16765440,4:16750080,5:15097599,6:16767990,7:16774538}});this._roadmapPanel.initCell(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initHiLoRoad=function(){this._roadmapPanel=new SharePanel.RoadmapHiLo,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby1x12BG&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:12,gridW:28,gridH:124,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby1x12BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby1x12BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{fontFamily:"微軟正黑體",fontSize:"25px",fill:"#FFFFFF",align:"center",fontWeight:"bold"}),t={listDir:"Hor",roundNum:12,direction:"right",modNum:16,startPosX:2,startPosY:25,gapX:30,gapY:25,pokerSet:{pokerName:"SimplePoker",pokerScale:.3}};t.HLSet={HLStyle:e,posX:11,posY:50,anchor:{x:.5,y:.5}},t.OESet={OEStyle:e,posX:11,posY:74,anchor:{x:.5,y:.5}},t.highCol="#FF0000",t.SameCol="#00FF00",t.lowCol="#00BFFF",this._roadmapPanel.initList(t),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initLucky5Road=function(){this._roadmapPanel=new SharePanel.RoadmapLucky5,this._roadmapPanel.x=161,this._roadmapPanel.y=5;var t=new o,e=new r(PIXI.Texture.fromImage("MultipleHall_Lucky5Cards_roadmap0000")),e=(t.addChild(e),new s("B",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#FF0000"}));e.x=15.5,e.y=2,t.addChild(e),"tw"==IPL.UrlParameter.lang?(e.text="莊",e.x=13):"cn"==IPL.UrlParameter.lang&&(e.text="庄",e.x=13);for(var i=0;i<4;++i){var n=r.fromFrame("MultipleHall_Lucky5Cards_RMpokersuits000"+i);n.x=13,n.y=30+25*i,t.addChild(n)}e={posX:0,posY:0},e.background=t,this._roadmapPanel.initRoadBg(e),e={version:"mandy",titleX:55,originalX:60,originalY:12,gapX:39.5,gapY:25.3,scale:1,roundNum:8,winBack:"MultipleHall_Lucky5Cards_RMwin0000",sameBack:"MultipleHall_Lucky5Cards_RMtie0000",winX:60,winY:11,sameStyle:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#00BD4B"},winStyle:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#00A5DC"},style:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#FFFFFF"},bankStyle:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#DF2C19"}};this._roadmapPanel.initCell(e),this.addChild(this._roadmapPanel)},e.prototype.initChessBullRoad=function(){this._roadmapPanel=new SharePanel.RoadmapChessBull,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby4x8BG&&SharePanel.colTitleFrameLine.createTexture({gridRow:4,gridCol:9,gridW:36,gridWTitle:51,gridH:30,cellColor:0,cellColorTitle:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby4x8BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby4x8BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{roundNum:8,winBack:"Multiple_Hall_Bull_win0000",gapX:38,gapY:32,titleX:26,originalX:71,originalY:15,winX:71,winY:14.5,scale:1,txtShort:!0,titleStyle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"},style:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"},BBStyle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#E8A008",stroke:"#E8A008",strokeThickness:1},"5PStyle":{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#B50D25",stroke:"#B50D25",strokeThickness:1}});this._roadmapPanel.initCell(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initChessTripleFaceRoad=function(){this._roadmapPanel=new SharePanel.RoadmapChessTripleFace,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby4x8BG&&SharePanel.colTitleFrameLine.createTexture({gridRow:4,gridCol:9,gridW:36,gridWTitle:51,gridH:30,cellColor:0,cellColorTitle:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby4x8BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby4x8BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{roundNum:8,winBack:"Multiple_Hall_Bull_win0000",gapX:38,gapY:32,titleX:26,originalX:71,originalY:15,winX:71,winY:14.5,scale:1,txtShort:!0,titleStyle:{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"},style:{fontFamily:"微軟正黑體",fontSize:"16px",fontWeight:"bold ",fill:"#FFFFFF"},style2:{fontFamily:"微軟正黑體",fontSize:"16px",fontWeight:"bold ",fill:"#E8A008"}});this._roadmapPanel.initCell(e),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initBlockChainTrifaceRoad=function(){this.initTrifaceRoad()},e.prototype.initBlockChainBullRoad=function(){this.initBullRoad()},e.prototype.initBlockChainSedieRoad=function(){this.initSedieRoad()},e.prototype.initBlockChainSicboRoad=function(){this.initSicboRoad()},e.prototype.initBlockChainFishSCRoad=function(){this.initFishCSRoad()},e.prototype.initBlockChainHiLoRoad=function(){this.initHiLoRoad()},e.prototype.initBlockChainFanTanRoad=function(){this.initFanTanRoad()},e.prototype.initBlockChainVnFishSCRoad=function(){this.initFishCSRoad()},e.prototype.initBlockChainThFishSCRoad=function(){this.initFishCSRoad()},e.prototype.initBlockChainChessBullRoad=function(){this.initChessBullRoad()},e.prototype.initBac21Road=function(){this._roadmapPanel=new SharePanel.RoadmapBac,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby6x17BG&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:19,gridH:19,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby6x17BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby6x17BG),e={background:null,posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{gameType:"3001",cellB:"Multiple_Hall_cellR0000",cellP:"Multiple_Hall_cellB0000",cellT:"Multiple_Hall_tieLine0000",gridRow:6,gridCol:17,gapX:21,gapY:21,startPosX:1.5,startPosY:1.5,scale:1,cellT1:-2.5,cellT2:1,cellT3:4.5,tStyle:{fontFamily:"Arial",fontSize:"14px",fill:"#FFFFFF"}});this._roadmapPanel.initRoadNew2A(e),this._roadmapPanel.addRoadmap(["map2A"]),this.addChild(this._roadmapPanel),this._roadmapPanel.initAddListen()},e.prototype.initBlockChainPaiRoad=function(){this._roadmapPanel=new HallRoad.HallPaiRoadmap,this._roadmapPanel.x=161,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Lobby2x4BG&&SharePanel.rowTitleFrameLine.createTexture({gridRow:3,gridCol:4,gridW:87,gridH:50,gridHTitle:21,cellColor:0,cellColorTitle:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Lobby2x4BG"});var t=new PIXI.Sprite(Tools.TextureStore.repository.Lobby2x4BG),e={background:null,posX:0,posY:0};this._roadmapPanel.initRoadBg(e,t),this._roadmapPanel.initUI(),this._roadmapPanel.setAddchild(),this.addChild(this._roadmapPanel)},e.prototype.initBlockChainVnSicboRoad=function(){var t={gameType:"3042",cellName:"Multiple_VnSicBo_Rm",gridRow:18,gridCol:30,gapX:10,gapY:10,startPosX:1,startPosY:1,scale:.65};this._roadmapPanel=new HallRoad.HallSicVnRoad,this._roadmapPanel.x=158,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),this._roadmapPanel.initBG(t),this.addChild(this._roadmapPanel)},e.prototype.initAceyDeuceyRoad=function(){this._roadmapPanel=new HallRoad.AceyDeuceyRoad,this._roadmapPanel.x=158,this._roadmapPanel.y=5,this._roadmapPanel.setGameKey(this.gameKey),null==Tools.TextureStore.repository.Fram3x13&&SharePanel.sameFrameLine.createTexture({gridRow:3,gridCol:13,gridW:22,gridH:40,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram3x13"});var t=new r(Tools.TextureStore.repository.Fram3x13),e={background:null,posX:47,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{gameType:"3048",gridRow:3,gridCol:12,circleIcon:"Multiple_Hall_cellB0000",originalX:35,originalY:20,gapX:24,gapY:42,roundNum:12});this._roadmapPanel.initUI(e),this.addChild(this._roadmapPanel)},e.prototype.updateCountDown=function(t){"1"!=this._mt&&(this.countTxt.text=t)},e.prototype.setCountDownStatus=function(t){this.countTxt.visible=t},e.prototype.setTableStatus=function(t){t?(this.selsecIcon.visible=!0,this.titleBtn.setStatus("down"),this.titleBtn.autoMouseStatus=!1):(this.selsecIcon.visible=!1,this.titleBtn.setStatus("up"),this.titleBtn.autoMouseStatus=!0)},e.prototype.setMaintainIcon=function(){this.isMaintain=!0;var t=new PIXI.Graphics,e=(t.beginFill(0,.6),t.drawRect(0,0,this.width-55,this.height),t.x=55,t.interactive=!1,this.addChild(t),PIXI.Sprite.fromImage("Multiplel_MaintainIcon0000"));e.anchor.set(.5),e.x=(this.width-55)/2,e.y=this.height/2,t.addChild(e),this.titleBtn.setMouseStatus(!1)},e.prototype.setDealerName=function(t){-1!=VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(this.gameType)||-1!=VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(this.gameType+"-"+this.gameCode)?this.dealerName.visible=!1:(this.dealerName.text=t,Tools.AdjustText.adjustFontSize(this.dealerName,13,93))},e.prototype.setMaintainInfo=function(t){"1"==(this._mt=t)?(this.maintainInfo||this.initMaintainUI(),this.maintainInfo.visible=!0,null!=this._model.getMtst()&&null!=this._model.getMtet()&&(this.maintainTxt.text=(this._model.getMtst()?this._model.getMtst().substr(5):"")+" - "+(this._model.getMtet()?this._model.getMtet().substr(5):""))):this.maintainInfo&&(this.maintainInfo.visible=!1)},e.prototype.tableClick=function(t){var e=new VideoShare.HallEvent(VideoShare.HallEvent.ON_SELECT_GAME);e.status=this.gameKey,this.event.dispatchEvent(e)},e.prototype.onGameEvent=function(t){switch(t.type){case VideoShare.LiveGameEvent.CHANGE_DEALER_PIC:this.setDealerPic(t.status);break;case VideoShare.LiveGameEvent.CHANGE_DEALER_NAME:this.setDealerName(t.status);break;case VideoShare.LiveGameEvent.ON_SHUFFLE:this.setShuffle(t.status);break;case VideoShare.LiveGameEvent.ON_MAINTAIN_INFO:this.setMaintainInfo(t.status)}},e.prototype.setDealerPic=function(t){var e=document.createElement("img");e.crossOrigin="anonymous",window.parent.CDNIP?e.src=window.parent.CDNIP+t:e.src=IPL.UrlParameter.domain+t,null==this.dealerSpr?(-1!=VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(this.gameType+"-"+this.gameCode)?(this.dealerSpr=PIXI.Sprite.fromImage("MultipleHall_RobotBaccaratIcon0000"),this.dealerSpr.x=59,this.dealerSpr.y=3):-1!=VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(this.gameType)?(this.dealerSpr=PIXI.Sprite.fromImage("MultipleHall_BlockchainIcon0000"),this.dealerSpr.x=59,this.dealerSpr.y=3):(this.dealerSpr=new PIXI.Sprite(PIXI.Texture.from(e)),this.dealerSpr.width=129,this.dealerSpr.height=129,this.dealerSpr.x=42,this.dealerSpr.y=0),this.dealerSpr.mask=this.dealerMask,this.addChildAt(this.dealerSpr,this.getChildIndex(this.dealerMask))):-1==VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(this.gameType+"-"+this.gameCode)&&-1==VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(this.gameType)&&(this.dealerSpr.texture=PIXI.Texture.from(e))},e.prototype.setShuffle=function(t){"Y"==t?this.addChild(this.statusCon):this.removeChild(this.statusCon)},e);function e(t,e){var i=n.call(this,t,e)||this;return i.isMaintain=!1,i.clickEvent=function(t){i.tableClick(t)},i.gameEvent=function(t){i.onGameEvent(t)},i.chessEvent=function(t){i.onCardEvent(t)},i.initUI(),i.initRoad(),i.selsecIcon=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_Choose"),i.addChild(i.selsecIcon),i.selsecIcon.visible=!1,i.initAddListen(),i}a.LobbyTablePanel=t;__extends(c,h=r),c.prototype.initUI=function(){this.arrArrow=[];for(var t=0;t<3;t++)this.arrArrow[t]=r.fromImage("Multiple_CheckerboardIcon0000"),this.addChild(this.arrArrow[t]),this.arrArrow[t].x=10*t},c.prototype.setLight=function(){for(var t=this.arrArrow.length,e=0;e<t;e++)this.arrArrow[e].alpha=0;this.lightNum=0,this.lightTimer.restart()},c.prototype.onLightInterval=function(){for(var t=this.arrArrow.length,e=this.lightNum,i=0;i<t;i++)5<=e||i>this.lightNum?this.arrArrow[i].alpha=0:this.arrArrow[i].alpha=1-.2*e,e--;this.lightNum++,11==this.lightNum&&(this.lightNum=0)};var h,l=c;function c(){var t=h.call(this)||this;return t.lightNum=0,t.lightTimer=new TimelineMax({paused:!0,repeat:-1,repeatDelay:.13,onRepeat:function(){t.onLightInterval()}}),t.initUI(),t}}(ShareMultiGames=ShareMultiGames||{}),!function(a){var o,r=PIXI.Container,t=(o=SharePanel.MenuPanel,__extends(e,o),e.prototype.onGameInfo=function(t){o.prototype.onGameInfo.call(this,t);var e=!1;if(null!=t){for(var i in t.data)null!=this.tablePanelArr[i]&&(null!=t.data[i].cd&&this.tablePanelArr[i].updateCountDown(t.data[i].cd),null!=t.data[i].st&&null!=this.tablePanelArr[i]&&this.tablePanelArr[i].setStatus(t.data[i].st),null!=t.data[i].mt)&&(e=!0);e&&this.tableMaintain()}},e.prototype.getSelect=function(){return this.arrSelect},e.prototype.initRoad=function(t){void 0===t&&(t=null),this.nowArr=VideoAssetManager.Informantion.settingData.lobbyList,this.tableCon=new r,this.addChild(this.tableCon);for(var e=this.tableNum=0;e<this.nowArr.length;e++){var i=this.nowArr[e].split("-"),n=this._model.getModel(i[0],i[1]);null!=n&&(this.arrSelect.length<3&&n.getGameInfo().getCountdown()&&this.arrSelect.push(this.nowArr[e]),null!=t?this.tablePanelArr[this.nowArr[e]]=new a.LobbyTablePanel(this.nowArr[e],t[this.nowArr[e]].gcn):(this.arrOpen.push(this.nowArr[e]),this.tablePanelArr[this.nowArr[e]]=new a.LobbyTablePanel(this.nowArr[e],n.getGameCodeName()),this.tablePanelArr[this.nowArr[e]].setRoadData(n.getGameInfo().getRoadmap()),this.tablePanelArr[this.nowArr[e]].setStatus(n.getGameInfo().getStatus()),this.tablePanelArr[this.nowArr[e]].setCountDownStatus(!("3023"==i[0]||"3024"==i[0]||"3041"==i[0])),this.tablePanelArr[this.nowArr[e]].updateCountDown(n.getGameInfo().getCountdown()),""===n.getGameInfo().getCountdown()&&this.tablePanelArr[this.nowArr[e]].setMaintainIcon(!0),VideoAssetManager.Informantion.settingData.switch.chessCard&&this.tablePanelArr[this.nowArr[e]].setChessPanel()),this.tablePanelArr[this.nowArr[e]].visible=!1,this.tableCon.addChild(this.tablePanelArr[this.nowArr[e]]),this.tablePanelArr[this.nowArr[e]].setModel(n),this.tableNum++)}this.initUI(),o.prototype.initRoad.call(this,t),this.setPos()},e.prototype.initUI=function(){this.tableMask=new PIXI.Graphics,this.tableMask.beginFill(16777215),this.tableMask.drawRect(0,0,1255,757),this.tableMask.endFill(),this.addChild(this.tableMask),this.tableMask.x=90,this.tableMask.y=5,this.tableCon.mask=this.tableMask;var t=Math.ceil(this.tableNum/10),e=1440-(17*t+10*(t-1));this.pageArr=[];for(var i=0;i<t;i++)this.pageArr[i]=new ShareUI.Button("Multiple_Hall_PageNext"),this.pageArr[i].name=String(i),this.pageArr[i].x=e/2+27*i,this.pageArr[i].y=785,this.addChild(this.pageArr[i]),1==t&&(this.pageArr[i].visible=!1);this.pageLeft=new ShareUI.Button("Multiple_Hall_TableMoreL"),this.pageLeft.name="left",this.addChild(this.pageLeft),this.pageRight=new ShareUI.Button("Multiple_Hall_TableMoreR"),this.pageRight.name="right",this.addChild(this.pageRight),this.pageLeft.x=30,this.pageRight.x=1368,this.pageLeft.y=this.pageRight.y=350;for(i=this.nowPage=0;i<10;i++)this.openTable.push(this.arrOpen[i]);this.checkPage()},e.prototype.setPos=function(){this.resetTableVisible();var t=0,e=0,i=[];this.arrOpen=[];for(var n,a=0;a<this.nowArr.length;a++)null!=this.tablePanelArr[this.nowArr[a]]&&(n=this.nowArr[a].split("-"),("1"==this._model.getModel(n[0],n[1]).getMt()?i:this.arrOpen).push(this.nowArr[a]));this.arrOpen=this.arrOpen.concat(i);for(a=0;a<this.arrOpen.length;a++){var o=this.arrOpen[a];null!=this.tablePanelArr[o]&&(this.tablePanelArr[o].x=e+111+629*parseInt(String(t/5)),this.tablePanelArr[o].y=15+t%5*150,10==++t)&&(e+=1440,t=0)}for(var r=0;r<10;r++)this.arrOpen[r]&&(this.tablePanelArr[this.arrOpen[r]].visible=!0)},e.prototype.initAddListen=function(){for(var t in this.tablePanelArr)this.tablePanelArr[t].event.addEventListener(VideoShare.HallEvent.ON_SELECT_GAME,this.clickEvent);for(var e=0;e<this.pageArr.length;e++)DeviceAndEnvironment.Device.isMobile()||this.pageArr[e].on("click",this.pageClickEvent),this.pageArr[e].on("tap",this.pageClickEvent);DeviceAndEnvironment.Device.isMobile()||(this.pageLeft.on("click",this.pageLREvent),this.pageRight.on("click",this.pageLREvent)),this.pageLeft.on("tap",this.pageLREvent),this.pageRight.on("tap",this.pageLREvent)},e.prototype.setChessOver=function(t,e){if("0"==t)for(var i in this.tablePanelArr)this.tablePanelArr[i].setTableChessOver(e);else this.tablePanelArr[t].setTableChessOver(e)},e.prototype.setChessUI=function(t,e,i){if("0"==t)for(var n in this.tablePanelArr)this.tablePanelArr[n].setTableChessUI(!1);else{var a=this.tablePanelArr[i].gameCodeName;this.tablePanelArr[t].setTableChessUI(e,i,a)}},e.prototype.setSelectGames=function(t){for(var e in this.tablePanelArr)this.tablePanelArr[e].setTableStatus(!1);null==this.tablePanelArr[t[1]]&&null!=this.tablePanelArr[t[2]]&&t.splice(1,1);for(var i=0;i<t.length;i++)this.tablePanelArr[t[i]].setTableStatus(!0)},e.prototype.tableMaintain=function(){for(var t in this.setPos(),this.openTable=[],this.tablePanelArr)this.tablePanelArr[t].visible=!1;for(var e=0;e<10;e++)this.tablePanelArr[this.arrOpen[10*this.nowPage+e]].visible=!0,this.openTable.push(this.arrOpen[10*this.nowPage+e])},e.prototype.tableClick=function(t){this.event.dispatchEvent(t.clone())},e.prototype.pageClick=function(t){var e=this,t=t.currentTarget;this.nowPage=Number(t.name);try{for(var i in this.tablePanelArr)this.tablePanelArr[i].visible=!0}catch(t){}this.openTable=[];for(var n=0;n<10;n++)try{this.tablePanelArr[this.arrOpen[10*this.nowPage+n]].visible=!0,this.openTable.push(this.arrOpen[10*this.nowPage+n])}catch(t){}TweenMax.to(this.tableCon,.5,{x:1440*-this.nowPage,onComplete:function(){for(var t in e.tablePanelArr)e.tablePanelArr[t].visible=-1!=e.openTable.indexOf(t)}}),this.checkPage()},e.prototype.pageLRClick=function(t){var e=this;switch(t.currentTarget.name){case"left":this.nowPage--;break;case"right":this.nowPage++}this.openTable=[];for(var i=0;i<10;i++)try{this.tablePanelArr[this.arrOpen[10*this.nowPage+i]].visible=!0,this.openTable.push(this.arrOpen[10*this.nowPage+i])}catch(t){}TweenMax.to(this.tableCon,.5,{x:1440*-this.nowPage,onComplete:function(){for(var t in e.tablePanelArr)e.tablePanelArr[t].visible=-1!=e.openTable.indexOf(t)}}),this.checkPage()},e.prototype.checkPage=function(){this.resetPage(),this.pageArr[this.nowPage].setStatus("down"),this.pageArr[this.nowPage].autoMouseStatus=!1,this.pageArr[this.nowPage].setMouseStatus(!1),1<this.pageArr.length?this.nowPage==this.pageArr.length-1?(this.pageLeft.visible=!0,this.pageRight.visible=!1):(0==this.nowPage?this.pageLeft.visible=!1:this.pageLeft.visible=!0,this.pageRight.visible=!0):(this.pageLeft.visible=!1,this.pageRight.visible=!1)},e.prototype.resetPage=function(){for(var t=0;t<this.pageArr.length;t++)this.pageArr[t].setStatus("up"),this.pageArr[t].autoMouseStatus=!0,this.pageArr[t].setMouseStatus(!0)},e);function e(){var e=o.call(this)||this;return e.arrSelect=[],e.arrOpen=[],e.openTable=[],e.clickEvent=function(t){e.tableClick(t)},e.pageLREvent=function(t){e.pageLRClick(t)},e.pageClickEvent=function(t){e.pageClick(t)},e}a.LobbyMenuPanel=t}(ShareMultiGames=ShareMultiGames||{}),!function(t){n=Composite.EventContainer,__extends(i,n),i.prototype.initAddListen=function(){var e=this;this.selectPanel.event.addEventListener(VideoShare.VideoGameEvent.ON_SETING_CHIP,function(t){e.handleChipEvent(t)}),this.selectPanel.event.addEventListener(VideoShare.VideoGameEvent.ON_UPDATE_CHIP,function(t){e.handleChipEvent(t)}),this.selectPanel.event.addEventListener(VideoShare.VideoGameEvent.ON_CANCEL_SAVE,function(t){e.handleChipEvent(t)}),this.chipPanel.event.addEventListener(VideoShare.VideoGameEvent.CHIP_VALUE,function(t){e.handleChipEvent(t)}),this.chipPanel.event.addEventListener(VideoShare.VideoGameEvent.ON_CUSTOM_CHIP,function(t){e.handleChipEvent(t)}),this.chipPanel.event.addEventListener(VideoShare.VideoGameEvent.CHIP_TURN,function(t){e.handleChipEvent(t)})},i.prototype.setchipFilter=function(t){this.chipPanel.setchipFilter(t)},i.prototype.setChipNum=function(t,e,i,n){this.chipPanel.setChipNum(t=void 0===t?0:t,e=void 0===e?0:e,i=void 0===i?0:i,n=void 0===n?0:n)},i.prototype.setSixChip=function(t){this._sixChipList=t},i.prototype.setPreSetChip=function(t){this._preSetChip=parseInt(t),this.chipPanel.setPreChip(this._preSetChip)},i.prototype.getPerSetChip=function(){return this._preSetChip},i.prototype.reset=function(){this._preSetChip=-1,this.chipPanel.init(),this.selectPanel.visible=!1,this.sChipEvent.mySwitch=this.selectPanel.visible,this.event.dispatchEvent(this.sChipEvent)},i.prototype.setChipPanelPos=function(t,e){this.chipPanel.x=t,this.chipPanel.y=e},i.prototype.setSelectPanelPos=function(t,e){this.selectPanel.x=t,this.selectPanel.y=e},i.prototype.setChipPanel=function(t){this.chipPanel.visible=t},i.prototype.getChipPanel=function(){return this.chipPanel.visible},i.prototype.getChipPanelTarget=function(){return this.chipPanel},i.prototype.setSelectChip=function(t){this.selectPanel.visible=t,this.sChipEvent.mySwitch=this.selectPanel.visible,this.event.dispatchEvent(this.sChipEvent)},i.prototype.getSelectChip=function(){return this.selectPanel.visible},i.prototype.getChipValue=function(){return this._chipValue},i.prototype.onBetLimit=function(t,e,i,n,a){void 0===n&&(n=0),void 0===a&&(a=0),this.list=t,this.chipmin=e,this.chipmax=i,null==this.list||""==this.list?(0!=n&&0!=a?this.selectPanel.setHaveChip(this._sixChipList,n,a):this.selectPanel.setHaveChip(this._sixChipList,this.chipmin,this.chipmax),this.chipPanel.arrageChip(this._sixChipList,this.chipmin,this.chipmax),this.selectPanel.setCancelBtnVisible(!1),this.selectPanel.visible=!0,this.sChipEvent.mySwitch=this.selectPanel.visible,this.event.dispatchEvent(this.sChipEvent)):(this.selectPanel.setHaveChip(this.list,this.chipmin,this.chipmax),this.chipPanel.arrageChip(this.list,this.chipmin,this.chipmax),this.chipPanel.visible=!0)},i.prototype.onUserInfo=function(t,e,i,n,a){void 0===n&&(n=0),void 0===a&&(a=.85),this.selectPanel.setDisplayFiler(t),this.selectPanel.initChipCover(e,i,-this.selectPanel.x,-this.selectPanel.y,n,a)},i.prototype.onUserInfoTip=function(t,e,i){this.selectPanel.setDisplayFiler(t)},i.prototype.setSize=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=.85);var a=this.selectPanel.getPanelPos(),o=a.pW,a=a.pH;this.selectPanel.x=t/2-o/2,this.selectPanel.y=e/2-a/2,this.selectPanel.initChipCover(t,e,-this.selectPanel.x,-this.selectPanel.y,i,n)},i.prototype.onSetChip=function(t,e,i){this.list=t,this.chipmin=e,this.chipmax=i,this.selectPanel.setHaveChip(this.list,this.chipmin,this.chipmax),this.selectPanel.visible=!1,this.chipPanel.arrageChip(this.list,this.chipmin,this.chipmax),this.chipPanel.visible=!0,this.sChipEvent.mySwitch=this.selectPanel.visible,this.event.dispatchEvent(this.sChipEvent)},i.prototype.handleChipEvent=function(t){switch(t.type){case VideoShare.VideoGameEvent.CHIP_TURN:this.event.dispatchEvent(t);break;case VideoShare.VideoGameEvent.ON_CUSTOM_CHIP:this.selectPanel.visible=!0,this.selectPanel.setHaveChip(this.list,this.chipmin,this.chipmax),this.event.dispatchEvent(t),this.sChipEvent.mySwitch=this.selectPanel.visible,this.event.dispatchEvent(this.sChipEvent);break;case VideoShare.VideoGameEvent.ON_SETING_CHIP:null!=this.list&&""!=this.list||this.selectPanel.setCancelBtnVisible(!0),this.selectPanel.visible=!1,this.event.dispatchEvent(t),this.list=t.data.chipValue,this.sChipEvent.mySwitch=this.selectPanel.visible,this.event.dispatchEvent(this.sChipEvent);break;case VideoShare.VideoGameEvent.ON_UPDATE_CHIP:var e=t.data.chipValue;this.chipPanel.arrageChip(e,this.chipmin,this.chipmax),this.chipPanel.visible=!0,this.event.dispatchEvent(t);break;case VideoShare.VideoGameEvent.ON_CANCEL_SAVE:null!=this.list&&""!=this.list&&(this.selectPanel.visible=!1,this.selectPanel.setHaveChip(this.list,this.chipmin,this.chipmax),this.chipPanel.arrageChip(this.list,this.chipmin,this.chipmax),this.sChipEvent.mySwitch=this.selectPanel.visible,this.event.dispatchEvent(this.sChipEvent));break;case VideoShare.VideoGameEvent.CHIP_VALUE:this._chipValue=t.data.chipValue,this.event.dispatchEvent(t)}};var n,e=i;function i(t,e){var i=n.call(this)||this;return i._preSetChip=-1,i.chipPanel=t,i.selectPanel=e,i.selectPanel.visible=!1,i.sChipEvent=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.CHATROOM_SWITCH),i.initAddListen(),i}t.CustomSelectPanel=e}(Chip=Chip||{}),function(){var t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}()),AmfPareser,Wx,VideoShare,VideoShare,StreamSignal,StreamSignal,StreamSignal,StreamSignal,SharePanel,SharePanel,SharePanel,SharePanel,ShareMultiGames,ShareMultiGames,ShareMultiGames,Chip,ChipMultiGamesStyle,_Group=(!function(t){function g(){}g.parseScriptData=function(t,e,i){var n={};try{var a=g.parseValue(t,e,i),o=g.parseValue(t,e+a.size,i-a.size);n[a.data]=o.data}catch(t){}return n},g.parseObject=function(t,e,i){var n=g.parseString(t,e,i),t=g.parseValue(t,e+n.size,i-n.size),e=t.objectEnd;return{data:{name:n.data,value:t.data},size:n.size+t.size,objectEnd:e}},g.decodeUTF8=function(t){for(var e,i,n,a="",o=t.length,r=0;r<o;)switch((e=t[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(e);break;case 12:case 13:i=t[r++],a+=String.fromCharCode((31&e)<<6|63&i);break;case 14:i=t[r++],n=t[r++],a+=String.fromCharCode((15&e)<<12|(63&i)<<6|(63&n)<<0)}return a},g.parseVariable=function(t,e,i){return g.parseObject(t,e,i)},g.parseString=function(t,e,i){i=new DataView(t,e,i).getUint16(0,!le),t=0<i?g.decodeUTF8(new Uint8Array(t,e+2,i)):"";return{data:t,size:2+i}},g.parseLongString=function(t,e,i){i=new DataView(t,e,i).getUint32(0,!le),t=0<i?g.decodeUTF8(new Uint8Array(t,e+4,i)):"";return{data:t,size:4+i}},g.parseDate=function(t,e,i){t=new DataView(t,e,i),e=t.getFloat64(0,!le);return e+=60*t.getInt16(8,!le)*1e3,{data:new Date(e),size:10}},g.parseValue=function(t,e,i){var n=new DataView(t,e,i),a=1,o=n.getUint8(0),r=!1;try{switch(o){case 0:s=n.getFloat64(1,!le),a+=8;break;case 1:var s=!!n.getUint8(1);a+=1;break;case 2:var h=g.parseString(t,e+1,i-1);s=h.data,a+=h.size;break;case 3:s={};var l=0;for(9==(16777215&n.getUint32(i-4,!le))&&(l=3);a<i-4;){var c=g.parseObject(t,e+a,i-a-l);if(c.objectEnd)break;s[c.data.name]=c.data.value,a+=c.size}a<=i-3&&9===(16777215&n.getUint32(a-1,!le))&&(a+=3);break;case 8:s={},a+=4;l=0;for(9==(16777215&n.getUint32(i-4,!le))&&(l=3);a<i-8;){var u=g.parseVariable(t,e+a,i-a-l);if(u.objectEnd)break;s[u.data.name]=u.data.value,a+=u.size}a<=i-3&&9===(16777215&n.getUint32(a-1,!le))&&(a+=3);break;case 9:a=1,r=!(s=void 0);break;case 10:s=[];var d=n.getUint32(1,!le);a+=4;for(var p=0;p<d;p++){var f=g.parseValue(t,e+a,i-a);s.push(f.data),a+=f.size}break;case 11:var _=g.parseDate(t,e+1,i-1);s=_.data,a+=_.size;break;case 12:var m=g.parseString(t,e+1,i-1);s=m.data,a+=m.size;break;default:a=i}}catch(t){}return{data:s,size:a,objectEnd:r}},t.AMF=g}(AmfPareser=AmfPareser||{}),!function(n){e=H5Event.H5BaseEvent,__extends(i,e),i.VIDEO_START="VIDEO_START",i.INITIALIZE_FRAMERATE="INITIALIZE_FRAMERATE",i.COUNT_FPS="COUNT_FPS";var e,t=i;function i(t){return e.call(this,t)||this}n.WxEvent=t;a=H5EventdispatcherCore.EventDispatcher,__extends(o,a),o.prototype.getVideoSource=function(){return this.videoCanvas},o.prototype.checkWebvisibility=function(){var t;document.hidden,t="visibilitychange",document.addEventListener(t,this.onWebVisibility)},o.prototype.setVolume=function(t){this.currentVolumn=t,null!=this.myPlayer&&this.myPlayer.volume(t)},o.prototype.setMute=function(t){this.currentMute=t,null!=this.myPlayer&&this.myPlayer.mute(t)},o.prototype.getSize=function(){return{width:this.videoWidth,height:this.videoHeight}},o.prototype.playVideoWithUrl=function(t,e){this.fnPlay(t,e=void 0===e?!1:e)},o.prototype.fnPlay=function(t,e){var i=this;void 0===e&&(e=!1),this.checkTimeCost=(new Date).getTime(),null==this.audioContext&&this.initAudioContext(),this.streamOption={url:t,$container:this.videoCanvas,hasVideo:!0,hasAudio:this.hasAudio,volume:this.currentVolumn,muted:!1,autoplay:!0,loop:!1,isLive:!0,chunkSize:16384,preloadTime:300,bufferingTime:300,cacheSegmentCount:20,customLoader:null,audioContext:this.audioContext},this.firstPlay=!0,this.fnStop(),this.playerIsReady=!1,this.initPlayer(e).then(function(){i.myPlayer.play()})},o.prototype.closeVideo=function(){this.fnStop()},o.prototype.fnStop=function(){var t,e=this;null!=this.myPlayer&&(this.playerIsReady?(this.myPlayer.stop(),this.myPlayer.off("countFps",this.onFps),this.myPlayer=null,this.audioContext=null):(t=this.myPlayer).on("ready",function(){t.stop(),t.off("countFps",e.onFps),t=null}))},o.prototype.setAudio=function(t){this.hasAudio=t},o.prototype.initAudioContext=function(){this.initAudioWhenClick()},o.prototype.initAudioWhenClick=function(){var t=window.webkitAudioContext||window.AudioContext,t=(this.audioContext=new t,this.audioContext.createGain()),e=(t.gain.value=0,t.connect(this.audioContext.destination),this.audioContext.createOscillator());e.type="square",e.frequency.value=440,e.detune.value=-400,e.connect(t),e.start(this.audioContext.currentTime+0),e.stop(this.audioContext.currentTime+.1)};var a,t=o;function o(t){void 0===t&&(t=null);var i=a.call(this)||this;return i.videoHeight=720,i.videoWidth=1280,i.hasAudio=!1,i.currentVolumn=1,i.currentMute=!0,i.firstPlay=!0,i.playerIsReady=!1,i.onWebVisibility=function(){"visible"==document.visibilityState?i.setMute(!1):"hidden"==document.visibilityState&&i.setMute(!0)},i.initPlayer=function(t){return t&&"h265"!=o.currentDecoder?(WXInlinePlayer.init({wasmUrl:"./videox/prod.h265.wasm.combine.js"}),o.currentDecoder="h265"):t||"h264"==o.currentDecoder||(WXInlinePlayer.init({wasmUrl:"./videox/prod.all.wasm.combine.js"}),o.currentDecoder="h264"),WXInlinePlayer.ready().then(function(){i.createNewPlayer(i.streamOption)})},i.onFps=function(t){var e;0<t&&(i.firstPlay?(i.firstPlay=!1,e=new n.WxEvent(n.WxEvent.VIDEO_START)):(e=new n.WxEvent(n.WxEvent.COUNT_FPS)).fps=t,i.dispatchEvent(e))},i.createNewPlayer=function(t){i.myPlayer=new WXInlinePlayer(t),i.myPlayer.on("ready",function(){i.playerIsReady=!0}),i.myPlayer.on("loadError",function(t){}),i.myPlayer.on("loadSuccess",function(){}),i.myPlayer.on("initializeVideo",function(t){var e=t.width,t=t.height;i.videoCanvas.height=t,i.videoCanvas.width=e}),i.myPlayer.on("initializeFramerate",function(t){var e=new n.WxEvent(n.WxEvent.INITIALIZE_FRAMERATE);e.fps=t,i.dispatchEvent(e)}),i.myPlayer.on("countFps",i.onFps)},i.videoCanvas=null===t?document.createElement("canvas"):t,i.videoCanvas.height=i.videoHeight,i.videoCanvas.width=i.videoWidth,i.checkWebvisibility(),i}n.Wxcinline=t}(Wx=Wx||{}),!function(n){t=Composite.EventContainer,__extends(i,t),i.prototype.checkWebvisibility=function(){var t;document.hidden,t="visibilitychange",document.addEventListener(t,this.onWebVisibility)},i.prototype.initPlayer=function(){this.wPlayer=new Wx.Wxcinline,this.wPlayer.addEventListener(Wx.WxEvent.INITIALIZE_FRAMERATE,this.onInitialFrameRate),this.wPlayer.addEventListener(Wx.WxEvent.VIDEO_START,this.onVideoStart),this.wPlayer.addEventListener(Wx.WxEvent.COUNT_FPS,this.countFps)},i.prototype.closeVideo=function(){this.wPlayer.fnStop(),this.setFocusInfo(null),this._videoSprite.texture=PIXI.Texture.fromCanvas(this.wPlayer.videoCanvas)},i.prototype.setSize=function(t,e){this._videoW=t,this._videoH=e},i.prototype.getSize=function(){var t={};return t.width=this._videoW,t.height=this._videoH,t},i.prototype.setAudio=function(t){this.wPlayer.setAudio(t)},i.prototype.setVolume=function(t){this.wPlayer.setVolume(t/100)},i.prototype.playVideoVN=function(t,e,i){},i.prototype.playVideoWithUrl=function(t){this.wPlayer.playVideoWithUrl(t)},i.prototype.initAudioContext=function(){this.wPlayer.initAudioContext()},i.prototype.playVideo=function(t,e,i,n,a){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n="video0");t=void 0===t?"":t,this.setVideoSource(this.wPlayer.videoCanvas)},i.prototype.setPos=function(){},i.prototype.setMute=function(){this.wPlayer.setMute(!0)},i.prototype.unmute=function(){this.wPlayer.setMute(!1)},i.prototype.setFocusInfo=function(t){this._focusInfo=t,this._videoMask.clear(),this.setVideoSource(this.wPlayer.videoCanvas),null!=this._focusInfo?(this._videoMask.beginFill(0,0),this._videoMask.drawRect(0,0,this._videoW,this._videoH),this._videoMask.endFill(),this._videoSprite.mask=this._videoMask):this._videoSprite.mask=null},i.prototype.ggTrans=function(t){for(var e="",i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e+=i[t.charCodeAt(n)-48];return e},i.prototype.setVideoFps=function(t){this._defaultFPS=t},i.prototype.setVideoSource=function(t){var e,i,n;this._videoSprite.texture=PIXI.Texture.fromCanvas(t),null!=this._focusInfo?(e=this._videoW/t.width,t=this._videoH/t.height,i=this._videoW/(this._focusInfo.w*e),n=this._videoH/(this._focusInfo.h*t),this._videoSprite.x=-this._focusInfo.x*e*i,this._videoSprite.y=-this._focusInfo.y*t*n,this._videoSprite.width=this._videoW*i,this._videoSprite.height=this._videoH*n):(this._videoSprite.x=0,this._videoSprite.y=0,this._videoSprite.width=this._videoW,this._videoSprite.height=this._videoH)},i.prototype.startVideoBySource=function(){this._videoSprite.width=this._videoW,this._videoSprite.height=this._videoH},i.prototype.getVideoFps=function(){return this._defaultFPS},i.prototype.getVideoSource=function(){return this.wPlayer.videoCanvas};var t,e=i;function i(){var i=t.call(this)||this;return i.tempUrl="https://hkm02.ddhqywa.com:80/fxvideo2/video/daabfg/videosd?d=Video/FLV&stream=daabfg",i._defaultFPS=10,i._focusInfo=null,i.onWebVisibility=function(){"visible"==document.visibilityState?i.wPlayer.setMute(!1):"hidden"==document.visibilityState&&i.wPlayer.setMute(!0)},i.countFps=function(t){var e=new n.VideoGameEvent(n.VideoGameEvent.VIDEO_PING);e.data={defaultFPS:i._defaultFPS,FPS:t.fps},i.event.dispatchEvent(e)},i.onVideoStart=function(t){i.event.dispatchEvent(new H5Event.H5BaseEvent("VIDEO_START"))},i.onInitialFrameRate=function(t){i._defaultFPS=t.fps,null!=i.currentInterval&&clearInterval(i.currentInterval),i.currentInterval=setInterval(i.updateByFps,Math.floor(1e3/t.fps)),i.updateByFps(),null!=i._videoW&&null!=i._videoH&&(i._videoSprite.x=0,i._videoSprite.y=0,i._videoSprite.width=i._videoW,i._videoSprite.height=i._videoH)},i.updateByFps=function(){i._videoSprite.texture.update()},i.initPlayer(),i._videoSprite=new PIXI.Sprite,i.addChild(i._videoSprite),i._videoSprite.texture=PIXI.Texture.fromCanvas(i.wPlayer.videoCanvas),i._videoMask=new PIXI.Graphics,i.addChild(i._videoMask),i.checkWebvisibility(),i}n.PixiWx=e}(VideoShare=VideoShare||{}),!function(l){var i,n=PIXI.Sprite,c=(i=Composite.EventContainer,__extends(t,i),t.prototype.setAudio=function(t){this._hasAudio=t},t.prototype.setMute=function(){this._videoTag.muted=!0},t.prototype.unmute=function(){this._videoTag.muted=!1},t.prototype.setVolume=function(t){this._videoTag.volume=t/100},t.prototype.checkDomain=function(){return 0==window.location.href.indexOf("https")},t.prototype.setGameSize=function(t,e){void 0===e&&(e=0),this._gameW=t=void 0===t?0:t,this._gameH=e},t.prototype.setPos=function(t,e){void 0===e&&(e=0),this._videoX=t=void 0===t?0:t,this._videoY=e},t.prototype.setSize=function(t,e){this._videoW=t,this._videoH=e},t.prototype.getSize=function(){var t={};return t.width=this._videoW,t.height=this._videoH,t},t.prototype.creatVideoTag=function(){this._videoTag=document.createElement("video"),this._videoTag.id=this.tagName,this._videoSprite=new n,this._videoMask=new PIXI.Graphics,this.addChild(this._videoMask)},t.prototype.onPlayVideo=function(){this._playBtn.visible=!1,""!=this._videoName?this.playVideoVN(this._ip,this._videoName,this._videoEvn):this.playVideo(this._ip,this._gameType,this._gameCode,this._videoEvn)},t.prototype.playVideo=function(t,e,i,n){this._gameType=e,this._gameCode=i,this._videoEvn=n,this._ip=t;var a="",a=this._isSecure?"wss://":"ws://",e=this.ggTrans(e)+this.ggTrans(i);a+=t+"/fxvideo2/video/"+e+"/"+n+"?d=Video/FLV&stream="+e+"&sid="+IPL.UrlParameter.sid,this.linkDomain=a,this.createPlayer(a),null!=this._player&&(this._player.attachMediaElement(this._videoTag),this._player.load(),this._player.play().catch(function(t){}))},t.prototype.playVideoVN=function(t,e,i){this._videoName=e,this._videoEvn=i,this._ip=t;var n="",n=this._isSecure?"wss://":"ws://";n+=t+"/fxvideo2/video/"+e+"/"+i+"?d=Video/FLV&stream="+e+"&sid="+IPL.UrlParameter.sid,this.linkDomain=n,this.createPlayer(n),null!=this._player&&(this._player.attachMediaElement(this._videoTag),this._player.load(),this._player.play().catch(function(t){}))},t.prototype.playVideoWithUrl=function(t){this.linkDomain=t,this.createPlayer(t),null!=this._player&&(this._player.attachMediaElement(this._videoTag),this._player.load(),this._player.play().catch(function(t){}))},t.prototype.createPlayer=function(t){null!=this._player&&this.closeVideo(),this._player=flvjs.createPlayer({type:"flv",hasAudio:this._hasAudio,isLive:!0,url:t,key:this._videoEvn},{enableStashBuffer:!1,autoCleanupSourceBuffer:!0}),this._player.on("statistics_info",this._infoEvent),this._player.on("media_info",this._mediaInfoEvent)},t.prototype.setVideoTag=function(t){var e,i,n;this._videoTexture=null!=(t=void 0===t?null:t)?PIXI.VideoBaseTexture.fromVideo(t):PIXI.VideoBaseTexture.fromVideo(this._videoTag),this._videoSprite.texture=PIXI.Texture.from(this._videoTexture),null!=this._focusInfo?(t=this._videoW/this._videoTexture.width,e=this._videoH/this._videoTexture.height,i=this._videoW/(this._focusInfo.w*t),n=this._videoH/(this._focusInfo.h*e),this._videoSprite.x=-this._focusInfo.x*t*i,this._videoSprite.y=-this._focusInfo.y*e*n,this._videoSprite.width=this._videoW*i,this._videoSprite.height=this._videoH*n):(this._videoSprite.x=0,this._videoSprite.y=0,this._videoSprite.width=this._videoW,this._videoSprite.height=this._videoH)},t.prototype.onInfo=function(t){this._player._receivedCanPlay&&!this._isReady&&(this._isReady=!0,this.setVideoTag(),this.addChild(this._videoSprite),this.event.dispatchEvent(new H5Event.H5BaseEvent("VIDEO_START"))),this._isReady&&null!=this._videoSprite.texture&&this._videoSprite.height!=this._videoH&&this.setVideoTag();var e=new l.VideoGameEvent(l.VideoGameEvent.VIDEO_PING);e.data={defaultFPS:this._defaultFPS,FPS:t.fps},this.event.dispatchEvent(e)},t.prototype.onMediaInfo=function(t){this._defaultFPS=t.fps},t.prototype.closeVideo=function(){this.removeChild(this._videoSprite),this.clear(),null!=this._player&&(this._player.off("statistics_info",this._infoEvent),this._player.off("media_info",this._mediaInfoEvent),this._isReady=!1,this._player.pause(),this._player.unload(),this._player.detachMediaElement(),this._player.destroy(),this._player=null);var t=new l.VideoGameEvent(l.VideoGameEvent.VIDEO_PING);t.data={defaultFPS:this._defaultFPS,FPS:0},this.event.dispatchEvent(t)},t.prototype.clear=function(){this._videoTexture=PIXI.VideoBaseTexture.fromVideo(this._videoTag),this._videoTexture&&(this._videoTexture.autoUpdate=!1,null!=this._videoSprite.texture&&this._videoSprite.texture.destroy(!0),this._videoTexture.destroy(),this._videoSprite.texture=null)},t.prototype.ggTrans=function(t){for(var e="",i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e+=i[t.charCodeAt(n)-48];return e},t.prototype.setFocusInfo=function(t){this._focusInfo=t,this._videoMask.clear(),null!=this._focusInfo?(this._videoMask.beginFill(0,0),this._videoMask.drawRect(0,0,this._videoW,this._videoH),this._videoMask.endFill(),this._videoSprite.mask=this._videoMask):this._videoSprite.mask=null,this._isReady&&null!=this._videoSprite.texture&&this.setVideoTag()},t.prototype.setVideoFps=function(t){this._defaultFPS=t},t.prototype.setVideoSource=function(t){this.setVideoTag(t)},t.prototype.startVideoBySource=function(){this.clear(),this.setVideoTag(),this.addChild(this._videoSprite)},t.prototype.getVideoFps=function(){return 1},t.prototype.getVideoSource=function(){return this._videoTag},t);function t(t){void 0===t&&(t="videoElement");var e=i.call(this)||this;return e._isSecure=!1,e._isReady=!1,e._isFirst=!0,e._videoName="",e._hasAudio=!1,e._focusInfo=null,e.tagName=t,e._infoEvent=function(t){e.onInfo(t)},e._mediaInfoEvent=function(t){e.onMediaInfo(t)},e.creatVideoTag(),e._isSecure=e.checkDomain(),e}l.VideoTag=c;a=Composite.EventContainer,__extends(e,a),e.prototype.createPlayer=function(){var e=this,t=(this._videoSprite=new n,this._videoMask=new PIXI.Graphics,this.addChild(this._videoMask),window.navigator.userAgent.toLowerCase());-1==t.indexOf("msie")&&"Netscape"==window.navigator.appName&&null!=new RegExp("trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(this._isIE=!0),this._player=new FxPlayer({useWorker:this._isIE,webgl:PIXI.utils.isWebGLSupported(),workerFile:this.workerPath+"FxDecoder/FxDecoder.js"}),this._player.onPictureDecoded=function(t){e.evt_player_onPictureDecoded(t)},this._audioSource=new AV.EventEmitter,this._audioSource.on("data",function(t){}),this._audioPlayer=new AV.Player(new AV.Asset(this._audioSource)),this._audioPlayer.preload(),this._audioPlayer.play()},e.prototype.parseScriptData=function(t,e,i){this.storeNalu=[],this.bufferFrameCount=0;t=AmfPareser.AMF.parseScriptData(t,e,i).onMetaData,e=Number(t.framerate);this.intervalDecode,this.intervalDecode=setInterval(this.decodeByTime,Math.floor(1e3/e)),this.limitBufferCount=e},e.prototype.decodeFrame=function(){var t=this.storeNalu.shift();if(null!=t)for(this.bufferFrameCount--;null!=t;)this._player.decode(t),t=this.storeNalu.shift();this.setVideoSource(this._player.canvas)},e.prototype.setAudio=function(t){this._hasAudio=t},e.prototype.setMute=function(){this._tempVol=this._audioPlayer.volume,this._audioPlayer.volume=0},e.prototype.unmute=function(){this._audioPlayer.volume=this._tempVol},e.prototype.setVolume=function(t){this._audioPlayer.volume=t},e.prototype.playVideo=function(t,e,i,n){var a="",a=this._isSecure?"wss://":"ws://",e=this.ggTrans(e)+this.ggTrans(i);a+=t+"/fxvideo2/video/"+e+"/"+n+"?d=Video/FLV&stream="+e+"&sid="+IPL.UrlParameter.sid,this.linkDomain=a,this.connect(a)},e.prototype.playVideoVN=function(t,e,i){var n="",n=this._isSecure?"wss://":"ws://";n+=t+"/fxvideo2/video/"+e+"/"+i+"?d=Video/FLV&stream="+e+"&sid="+IPL.UrlParameter.sid,this.linkDomain=n,this.connect(n)},e.prototype.playVideoWithUrl=function(t){this.linkDomain=t,this.connect(t)},e.prototype.connect=function(t){var e=this;null!=this._pingTimer&&clearInterval(this._pingTimer),this._pingTimer=setInterval(function(){e.sendPing()},1e3),this._pingFps=0,null!=this._ws&&(this._ws.close(),this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws=null,this._hasKey=!1,this.videoStart=!1,clearInterval(this.intervalDecode),this.intervalDecode=0,this.removeChild(this._videoSprite)),this._ws=new WebSocket(t),this._ws.binaryType="arraybuffer",this._ws.onmessage=function(t){e.evt_ws_onmessage(t)}},e.prototype.evt_ws_onmessage=function(t){var e;this._pingFps++,-1!=this.bufferConsume&&this.bufferConsume<=this.tempArrayBuffer.byteLength?((e=new Uint8Array(this.tempArrayBuffer.byteLength+t.data.byteLength-this.bufferConsume)).set(new Uint8Array(this.tempArrayBuffer.slice(this.bufferConsume,this.tempArrayBuffer.byteLength)),0),e.set(new Uint8Array(t.data),this.tempArrayBuffer.byteLength-this.bufferConsume),this.tempArrayBuffer=null,this.tempArrayBuffer=e.buffer):this.tempArrayBuffer=t.data,this.bufferConsume=this.parseFlv(this.tempArrayBuffer)},e.prototype.parseFlv=function(t){var e=0,i=new Uint8Array(t);for(70==i[0]&&76==i[1]&&86==i[2]&&13<t.byteLength&&(e+=9,new DataView(t,e).getUint32(0,!this._littleEndian),e+=4);e<t.byteLength;){var n=new DataView(t,e);if(e+11+4>t.byteLength)break;var a=n.getUint8(0),o=16777215&n.getUint32(0,!this._littleEndian);if(e+11+o+4>t.byteLength)break;var r=e+11;switch(a){case 8:this._hasAudio&&this.parseAudioData(t,r,o);break;case 9:this.bufferFrameCount++,this.parseVideoData(t,r,o),this.storeNalu.push(null);break;case 18:this.parseScriptData(t,r,o)}e+=11+o+4}return e},e.prototype.parseAudioData=function(t,e,i){var n,a=new DataView(t,e,i);10==a.getUint8(0)>>>4&&(0==(n=a.getUint8(1))?(this._audioObjectType=(248&a.getUint8(2))>>3,this._samplingIndex=(7&a.getUint8(2))<<1|a.getUint8(3)>>>7,this._channelConfig=(120&a.getUint8(3))>>3):1==n&&(a=new Uint8Array(t,e+2,i-2),this.composeAAC(i-2+7,a)))},e.prototype.composeAAC=function(t,e){var i=new Uint8Array(t);i[0]=255,i[1]=240,i[1]|=0,i[1]|=0,i[1]|=1,i[2]=this._audioObjectType-1<<6,i[2]|=(15&this._samplingIndex)<<2,i[2]|=0,i[2]|=(4&this._channelConfig)>>2,i[3]=(3&this._channelConfig)<<6,i[3]|=0,i[3]|=0,i[3]|=0,i[3]|=0,i[3]|=(6144&t)>>11,i[4]=(2040&t)>>3,i[5]=(7&t)<<5,i[5]|=31,i[6]=252,i.set(e,7),1==this._hasKey&&(t=new AV.Buffer(i.buffer),this._audioSource.emit("data",t))},e.prototype.parseVideoData=function(t,e,i){var n,a=new DataView(t,e,i);7==(15&a.getUint8(0))&&(n=4,0==(a=a.getUint8(1))?this.parseAVCDecoderConfigurationRecord(t,e+5,i-5):1==a&&this.parseAVCVideoData(t,e+5,i-5,n))},e.prototype.parseAVCDecoderConfigurationRecord=function(t,e,i){var i=new DataView(t,e,i),n=4&i.getUint8(4),a=(i.getUint8(5),6),o=i.getUint16(6,!this._littleEndian),r=(a+=2,new Uint8Array(t,e+8,o)),o=(a+=o,this.composeNalu(r),i.getUint8(a),i.getUint16(++a,!this._littleEndian)),r=(a+=2,new Uint8Array(t,e+a,o));return a+=o,this.composeNalu(r),n},e.prototype.parseAVCVideoData=function(t,e,i,n){for(var a=new DataView(t,e,i),o=0;o<i;){var r=a.getUint32(o,!this._littleEndian),s=(3==n&&(r>>>=8),o+=n,new Uint8Array(t,e+o,r));o+=r,this.composeNalu(s)}},e.prototype.composeNalu=function(t){var e=new Uint8Array(t.length+4);e.set([0,0,0,1],0),e.set(t,4),this.storeNalu.push(e),101==t[0]&&0==this._hasKey&&(this._hasKey=!0,this.event.dispatchEvent(new H5Event.H5BaseEvent("VIDEO_START")))},e.prototype.evt_player_onPictureDecoded=function(t){this.videoStart||(this.videoStart=!0,this.addChild(this._videoSprite),this.event.dispatchEvent(new H5Event.H5BaseEvent("VIDEO_START")))},e.prototype.closeVideo=function(){null!=this._ws&&this._ws.close(),clearInterval(this.intervalDecode),this.intervalDecode=0,this.removeChild(this._videoSprite),null!=this._pingTimer&&clearInterval(this._pingTimer),this._pingFps=0;var t=new l.VideoGameEvent(l.VideoGameEvent.VIDEO_PING);t.data={defaultFPS:10,FPS:this._pingFps},this.event.dispatchEvent(t)},e.prototype.ggTrans=function(t){for(var e="",i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e+=i[t.charCodeAt(n)-48];return e},e.prototype.sendPing=function(){var t=new l.VideoGameEvent(l.VideoGameEvent.VIDEO_PING);t.data={defaultFPS:10,FPS:this._pingFps},this.event.dispatchEvent(t),this._pingFps=0},e.prototype.setSize=function(t,e){this._videoW=t,this._videoH=e,this._videoSprite.width=t,this._videoSprite.height=e,this._videoMask.clear(),this._videoMask.beginFill(0),this._videoMask.drawRect(0,0,this._videoW,this._videoH),this._videoMask.endFill(),this._videoSprite.mask=this._videoMask},e.prototype.setGameSize=function(t,e){void 0===e&&(e=0),this._gameW=t=void 0===t?0:t,this._gameH=e},e.prototype.setPos=function(t,e){void 0===e&&(e=0),this._videoX=t=void 0===t?0:t,this._videoY=e},e.prototype.getSize=function(){var t={};return t.width=this._videoW,t.height=this._videoH,t},e.prototype.checkDomain=function(){return 0==window.location.href.indexOf("https")},e.prototype.setFocusInfo=function(t){this._focusInfo=t},e.prototype.setVideoSource=function(t){var e,i,n;this._tempTexture&&(this._tempTexture.destroy(),this._videoSprite.texture=null),this._tempTexture=new PIXI.BaseTexture(t),this._videoSprite.texture=new PIXI.Texture(this._tempTexture),null!=this._focusInfo?(t=this._videoW/this._tempTexture.width,e=this._videoH/this._tempTexture.height,i=this._videoW/(this._focusInfo.w*t),n=this._videoH/(this._focusInfo.h*e),this._videoSprite.x=-this._focusInfo.x*t*i,this._videoSprite.y=-this._focusInfo.y*e*n,this._videoSprite.width=this._videoW*i,this._videoSprite.height=this._videoH*n):(this._videoSprite.x=0,this._videoSprite.y=0,this._videoSprite.width=this._videoW,this._videoSprite.height=this._videoH)},e.prototype.setVideoFps=function(t){this._videoFps=t},e.prototype.getVideoFps=function(){return this._videoFps},e.prototype.getVideoSource=function(){return this._player.canvas},e.prototype.startVideoBySource=function(){this.addChild(this._videoSprite)};var a,u=e;function e(){var t,e=a.call(this)||this;return e._isSecure=!1,e.videoStart=!1,e._isIE=!1,e._first=!1,e.workerPath="",e._tempVol=100,e._hasKey=!1,e._isReady=!1,e._hasAudio=!1,e._focusInfo=null,e.intervalDecode=0,e.bufferConsume=-1,e.decodeByTime=function(){for(e.decodeFrame();e.bufferFrameCount>e.limitBufferCount;)e.decodeFrame()},e._littleEndian=(t=new ArrayBuffer(2),new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]),e.createPlayer(),e._isSecure=e.checkDomain(),e}l.BroadwayAAC=u;d=Composite.EventSprite,__extends(p,d),p.prototype.setAudio=function(t){this.video.setAudio(t)},p.prototype.setMute=function(){this.video.setMute()},p.prototype.unmute=function(){this.video.unmute()},p.prototype.setVolume=function(t){this.video.setVolume(t)},p.prototype.setGameSize=function(t,e){this.video.setGameSize(t=void 0===t?0:t,e=void 0===e?0:e)},p.prototype.setPos=function(t,e){this.video.setPos(t=void 0===t?0:t,e=void 0===e?0:e)},p.prototype.setSize=function(t,e){this.video.setSize(t,e),this.load.x=t/2,this.load.y=e/2},p.prototype.closeVideo=function(){this.video.event.removeEventListener("VIDEO_START",this.loadEvent),this.video.closeVideo(),this.load.visible=!1,null!=this.videoTimer&&clearInterval(this.videoTimer)},p.prototype.playVideoWithUrl=function(t){var e=this;this.load.visible=!0,this.video.visible=!1,this.video.playVideoWithUrl(t),this.video.event.addEventListener("VIDEO_START",this.loadEvent),null!=this.videoTimer&&clearInterval(this.videoTimer),this.rot=0,this.videoTimer=setInterval(function(){e.onInterval()},90)},p.prototype.initAudioContext=function(){this.video.initAudioContext()},p.prototype.onInterval=function(){this.rot%8==0?this.loadPoint.rotation=0:this.loadPoint.rotation+=.7875,this.rot++},p.prototype.loadComplete=function(){this.load.visible=!1,this.video.visible=!0,null!=this.videoTimer&&clearInterval(this.videoTimer),this.video.event.removeEventListener("VIDEO_START",this.loadEvent),this.event.dispatchEvent(new H5Event.H5BaseEvent("VIDEO_START"))},p.prototype.vidoePing=function(t){this.video.visible&&this.event.dispatchEvent(t)},p.prototype.setFocusInfo=function(t){this.video.setFocusInfo(t)},p.prototype.setVideoSource=function(t){this.video.setVideoSource(t)},p.prototype.setVideoFps=function(t){this.video.setVideoFps(t)},p.prototype.getVideoSource=function(){return this.video.getVideoSource()},p.prototype.getVideoFps=function(){return this.video.getVideoFps()},p.prototype.playVideoBySource=function(){var t=this;this.load.visible=!0,this.video.visible=!1,null!=this.videoTimer&&clearInterval(this.videoTimer),this.rot=0,this.videoTimer=setInterval(function(){t.onInterval()},90)},p.prototype.startVideoBySource=function(){this.load.visible=!1,this.video.visible=!0,null!=this.videoTimer&&clearInterval(this.videoTimer),this.video.startVideoBySource()},p.BROADWAY="BROADWAY",p.FLV="FLV",p.WXINLINE="WXINLINE";var d,o=p;function p(t,e){void 0===e&&(e="videoElement");var i,n,a,o,r=d.call(this)||this,s=(r.rot=0,window.MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),h=null!=window.isSupportedWASM&&window.isSupportedWASM,h=(t==p.WXINLINE&&h?(r.video=new l.PixiWx,r.video.setMute(),i=DeviceAndEnvironment.Device.isMobile()?"touchstart":"mousedown",n=function(){r.video.unmute(),document.body.removeEventListener(i,n)},document.body.addEventListener(i,n)):t==p.FLV&&s?(r.video=new c(e),r.video.setMute(),a=DeviceAndEnvironment.Device.isMobile()?"touchstart":"mousedown",o=function(){r.video.unmute(),document.body.removeEventListener(a,o)},document.body.addEventListener(a,o)):r.video=new u,r.addChild(r.video),r.pingEvent=function(t){r.vidoePing(t)},r.loadEvent=function(){r.loadComplete()},r.video.event.addEventListener(l.VideoGameEvent.VIDEO_PING,r.pingEvent),r.load=PIXI.Sprite.fromImage("MuiltN_LoadingBG0000"),r.load.visible=!1,r.addChild(r.load),r.load.pivot.x=r.load.width/2,r.load.pivot.y=r.load.height/2,r.video.getSize());return r.load.x=h.width/2,r.load.y=h.height/2,r.loadPoint=PIXI.Sprite.fromImage("MuiltN_LoadingPoint0000"),r.load.addChild(r.loadPoint),r.loadPoint.pivot.x=r.loadPoint.width/2,r.loadPoint.pivot.y=r.loadPoint.height/2,r.loadPoint.x=r.loadPoint.width/2,r.loadPoint.y=r.loadPoint.height/2,r}l.LiveVideoTag=o}(VideoShare=VideoShare||{}),!function(i){n=H5EventdispatcherCore.EventDispatcher,__extends(e,n),e.prototype.checkStreamDelay=function(t){this._totalTime=0,this._currentCount=0,this._streamUrl=t,this.repeatConnect()},e.prototype.repeatConnect=function(){var t,e=this;this._currentCount==this._pingCount?((t=new i.StreamCheckEvent(i.StreamCheckEvent.ON_STREAM_RESPONSE)).data=new Object,t.data.avg=this._totalTime/this._pingCount,n.prototype.dispatchEvent.call(this,t)):(this._currentCount++,this._pingOK=!1,t="",IPL.UrlParameter.isSecure||IPL.UrlParameter.isLocal,t="wss://",this._ws=new WebSocket(t+this._streamUrl),this._ws.onmessage=function(t){e.evt_ws_onmessage(t)},this._storeTimeEvent=setTimeout(this.onPingTimeOut,this._timeOut),this._startTime=(new Date).getTime())},e.prototype.setPingCount=function(t){this._pingCount=t},e.prototype.evt_ws_onmessage=function(t){clearInterval(this._storeTimeEvent);var e=(new Date).getTime()-this._startTime;this._totalTime+=e,this._ws.close(),this.repeatConnect()};var n,t=e;function e(){var t=n.call(this)||this;return t._timeOut=700,t._pingCount=1,t.onPingTimeOut=function(){t._pingOK||(t._ws.close(),t._totalTime+=t._timeOut,t.repeatConnect())},t}i.StreamCheck=t}(StreamSignal=StreamSignal||{}),!function(i){t=H5EventdispatcherCore.EventDispatcher,__extends(n,t),n.prototype.setPingCount=function(t){this._checkIP.setPingCount(t)},n.prototype.checkStreamDelay=function(){this._checkIP.checkStreamDelay(this.streamUrl)};var t,e=n;function n(){var e=t.call(this)||this;return e.ipError=!1,e.onStreamResponse=function(t){t=t.data,e.realDelay=t.avg,2e3<t.avg&&t.avg<=5e3?e.checkPingClass=25:500<t.avg&&t.avg<=2e3?e.checkPingClass=50:100<t.avg&&t.avg<=500?e.checkPingClass=75:t.avg<=100?e.checkPingClass=100:e.checkPingClass=0,t=new i.StreamCheckEvent(i.StreamCheckEvent.ON_STREAM_RESPONSE);t.data={streamName:e.streamName,speedPercentage:e.checkPingClass},e.dispatchEvent(t)},e.checkPingClass=e.priority=e.realDelay=0,e._checkIP=new i.StreamCheck,e._checkIP.addEventListener(i.StreamCheckEvent.ON_STREAM_RESPONSE,e.onStreamResponse),e}i.VideoStructure=e}(StreamSignal=StreamSignal||{}),!function(r){t=H5EventdispatcherCore.EventDispatcher,__extends(i,t),i.prototype.setVideoList=function(t){if(null==this._videoStruct)for(var e in this._videoStruct=[],t){var i=0,n=new r.VideoStructure,a=!1;n.priority=t[e].priority,n.streamName=e,n.streamUrl=t[e].url;for(var o=0;o<this._videoStruct.length&&!a;o++)n.priority<this._videoStruct[o].priority?a=!0:i++;this._videoStruct.splice(i,0,n),this.videoListLength++}this.walk=this.finishedCount=0,this.tempPingData={},this.storeInterval=setInterval(this.detectStreamByInterval,this.intervalTime)};var t,e=i;function i(){var i=t.call(this)||this;return i._pingCount=3,i.videoListLength=0,i.intervalTime=150,i.connectNum=1,i.isGotGoodStreaming=!1,i.detectStreamByInterval=function(){if(i.walk==i._videoStruct.length)clearInterval(i.storeInterval);else for(var t=i.connectNum;0<t;)i._videoStruct[i.walk].checkStreamDelay(),i._videoStruct[i.walk].addEventListener(r.StreamCheckEvent.ON_STREAM_RESPONSE,i.onStreamResponse),t--;i.walk++},i.onStreamResponse=function(t){var e;i.isGotGoodStreaming||(i.isGotGoodStreaming=!0,(e=new r.StreamCheckEvent(r.StreamCheckEvent.ON_SELECTED_STREAM)).data={selectedUrl:t.currentTarget.streamName},i.dispatchEvent(e)),i.finishedCount++,i.tempPingData[t.data.streamName]=t.data.speedPercentage,i.finishedCount==i._videoStruct.length&&((e=new r.StreamCheckEvent(r.StreamCheckEvent.ON_FINISH_DETECTED)).data=i.tempPingData,i.dispatchEvent(e))},i}r.StreamSignalDetect=e}(StreamSignal=StreamSignal||{}),!function(t){e=H5Event.H5BaseEvent,__extends(n,e),n.prototype.clone=function(){var t=new n(this.type);return t.data=this.data,t},n.ON_STREAM_RESPONSE="ON_STREAM_RESPONSE",n.ON_SELECTED_STREAM="ON_SELECTED_STREAM",n.ON_FINISH_DETECTED="ON_FINISH_DETECTED";var e,i=n;function n(t){return e.call(this,t)||this}t.StreamCheckEvent=i}(StreamSignal=StreamSignal||{}),!function(t){e=H5Event.H5BaseEvent,__extends(i,e),i.prototype.clone=function(){var t=new i(this.type);return t.data=this.data,t},i.GET_LIVE_STREAM_CHANNELS="GET_LIVE_STREAM_CHANNELS",i.ON_STREAM_URL="ON_STREAM_URL",i.STREAMING_SPEED_DETECTED="STREAMING_SPEED_DETECTED",i.ON_SELECTED_ROUTENAME="ON_SELECTED_ROUTENAME";var e,a=i;function i(t){return e.call(this,t)||this}t.StreamUrlFromServerEvent=a;n=H5EventdispatcherCore.EventDispatcher,__extends(r,n),r.prototype.setLiveStreamList=function(t){this.utcTimeDeviation=(new Date).getTime()-Number(t.ts),this.liveStreamsObj={};for(var e=0;e<t.data.length;e++){var i=t.data[e];this.liveStreamsObj[i.name]={},this.liveStreamsObj[i.name].baseUrl=i.baseUrl,this.liveStreamsObj[i.name].priority=i.priority}},r.prototype.reConnect=function(){this.needDetect=!0,this.status=r.WAIT_TO_DETECT},r.prototype.setLiveStreamChannels=function(t){if(this.liveStreanChannels=t,this.needDetect){this.needDetect=!1;var e,i=new Map(t),n=JSON.parse(JSON.stringify(this.liveStreamsObj));for(e in n)n[e].url=n[e].baseUrl+"/"+i.get(e)[0][1];this.streamSignalDetect=new StreamSignal.StreamSignalDetect,this.streamSignalDetect.addEventListener(StreamSignal.StreamCheckEvent.ON_SELECTED_STREAM,this.onSelectedStream),this.streamSignalDetect.addEventListener(StreamSignal.StreamCheckEvent.ON_FINISH_DETECTED,this.onFinishDetect),this.streamSignalDetect.setVideoList(n)}else this.streamUrlToClient()},r.prototype.streamUrlToClient=function(){for(var t=new Map(this.liveStreanChannels),e=t.get(this.currentRoute),i={},n=0;n<e.length;n++)i[e[n][0]]="wss://"+this.liveStreamsObj[this.currentRoute].baseUrl+"/"+e[n][1];i.routeName=this.currentRoute,i.gameType=this.currentGameType,i.gameCode=this.currentGameCode,i.envName=this.currentEnvName;t=new a(a.ON_STREAM_URL);t.data=i,this.dispatchEvent(t),this.digestStreamUrlRequest()},r.prototype.toGetLiveStreamChannelsFromServer=function(t,e,i,n){this.currentGameType=t,this.currentGameCode=e,this.currentEnvName=i,this.currentRoute=n;t=new a(a.GET_LIVE_STREAM_CHANNELS);t.data={gameType:this.currentGameType,gameCode:this.currentGameCode,streams:this.currentEnvName},this.dispatchEvent(t)},r.prototype.getStreamUrl=function(t,e,i,n){this.needDetect&&!this.isDetecting?(this.status=r.DETECTING,this.isDetecting=!0,this.toGetLiveStreamChannelsFromServer(t,e,i,n)):this.status!=r.IDLING?this.storeStreamUrlRequest.push({gameType:t,gameCode:e,envName:i,routeName:n}):(this.status=r.GETTING_URL,this.toGetLiveStreamChannelsFromServer(t,e,i,n))},r.DETECTING="DETECTING",r.GETTING_URL="GETTING_URL",r.IDLING="IDLING",r.WAIT_TO_DETECT="WAIT_TO_DETECT";var n,o=r;function r(){var i=n.call(this)||this;return i.checkExpireTimer=null,i.needDetect=!0,i.isDetecting=!1,i.onFinishDetect=function(t){var e=new a(a.STREAMING_SPEED_DETECTED);e.data=t.data,i.dispatchEvent(e)},i.onSelectedStream=function(t){i.isDetecting=!1,i.needDetect=!1,i.currentRoute=t.data.selectedUrl;t=new a(a.ON_SELECTED_ROUTENAME);t.data={routeName:i.currentRoute},i.dispatchEvent(t),i.streamUrlToClient()},i.digestStreamUrlRequest=function(){var t;0<i.storeStreamUrlRequest.length?(t=i.storeStreamUrlRequest.pop(),i.currentRoute,i.toGetLiveStreamChannelsFromServer(t.gameType,t.gameCode,t.envName,t.routeName)):i.status=r.IDLING},i.checkExpire=function(){},i.status=r.WAIT_TO_DETECT,i.storeStreamUrlRequest=[],i}t.StreamFromServer=o}(SharePanel=SharePanel||{}),!function(t){i=Composite.EventContainer,__extends(n,i),n.prototype.init=function(){},n.prototype.getStreamUrl=function(t,e,i,n){this.tmpGameType=t,this.tmpGameCode=e,this.streamFromServer.getStreamUrl(t,e,i,n)};var i,e=n;function n(){var e=i.call(this)||this;return e.initListener=function(){e.streamFromServer.addEventListener(t.StreamUrlFromServerEvent.GET_LIVE_STREAM_CHANNELS,e.getLiveStreamChannels),e.streamFromServer.addEventListener(t.StreamUrlFromServerEvent.ON_STREAM_URL,e.onStreamUrl),e.streamFromServer.addEventListener(t.StreamUrlFromServerEvent.STREAMING_SPEED_DETECTED,e.onStreamingSpeedDetected),e.streamFromServer.addEventListener(t.StreamUrlFromServerEvent.ON_SELECTED_ROUTENAME,e.onSelectedRounteName)},e.onSelectedRounteName=function(t){e.tmpVideoIP=t.data.routeName,e.event.dispatchEvent(t.clone())},e.onStreamingSpeedDetected=function(t){e.event.dispatchEvent(t.clone())},e.getLiveStreamChannels=function(t){e.event.dispatchEvent(t.clone())},e.onStreamUrl=function(t){e.streamUrl=t.data,e.video.playVideoWithUrl(t.data[e.typeArr[e.type]])},e.setLiveStreamChannels=function(t){e.streamFromServer.setLiveStreamChannels(t)},e.setLiveStreamList=function(t){e.streamFromServer.setLiveStreamList(t)},e.streamFromServer=new t.StreamFromServer,e}t.VideoBase=e}(SharePanel=SharePanel||{}),!function(t){n=t.VideoBase,__extends(i,n),i.prototype.setVideoSet=function(t){this.video1.visible=!1,this.video2.visible=!1,0==t?(this.checVideo1=!1,this.checVideo2=!1):1==t||2==t?(this.checVideo1=!0,this.checVideo2=!1):3==t&&(this.checVideo1=!0,this.checVideo2=!0)},i.prototype.setGameSize=function(t,e){this.video0.setGameSize(t=void 0===t?0:t,e=void 0===e?0:e),null!=this.video1&&this.video1.setGameSize(t,e),null!=this.video2&&this.video2.setGameSize(t,e)},i.prototype.setVideoPos=function(t,e){this.video0.x=t,this.video0.y=e,this.video0.setPos(t,e)},i.prototype.setVideoSize=function(t,e){this.video0.setSize(t,e)},i.prototype.setVideoVisible=function(t){this.video0.visible=t},i.prototype.setVideoAudio=function(t){this.video0.setAudio(t)},i.prototype.setVideo1Pos=function(t,e){this.video1.x=t,this.video1.y=e,this.video1.setPos(t,e)},i.prototype.setVideo1Size=function(t,e){this.video1.setSize(t,e)},i.prototype.setVideo1Visible=function(t){this.video1.visible=t},i.prototype.setVideo1Audio=function(t){this.video1.setAudio(t)},i.prototype.setVideo2Pos=function(t,e){this.video2.x=t,this.video2.y=e,this.video2.setPos(t,e)},i.prototype.setVideo2Size=function(t,e){this.video2.setSize(t,e)},i.prototype.setVideo2Visible=function(t){this.video2.visible=t},i.prototype.setVideo2Audio=function(t){this.video2.setAudio(t)},i.prototype.initHD=function(t,e){var i=this;this.video0=new VideoShare.LiveVideoTag(t,e),this.pingEvent=function(t){i.vidoePing(t)},this.video0.event.addEventListener(VideoShare.VideoGameEvent.VIDEO_PING,this.pingEvent),this.video0.event.addEventListener("VIDEO_START",this.videoStart),this.mainVideo=this.video0,this.addChild(this.video0)},i.prototype.initFoucsVideo1=function(t){this.video1=t,this.addChild(this.video1)},i.prototype.initFoucsVideo2=function(t){this.video2=t,this.addChild(this.video2)},i.prototype.setVideoVolumn=function(t){this.mainVideo.setVolume(t)},i.prototype.playVideo=function(t,e,i,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n="video0"),clearInterval(this._timer),this.mainVideo.visible=!0,this.mainVideo.playVideo(t,e,i,n),this.setFocusInfo(e,i),this._focusInfo&&this._focusInfo.isOpen?"3001"==e&&57<=Number(i)&&Number(i)<=61&&("SHARE_CONNECT"===this._mode?(this.video1.visible=!0,this.video1.playVideoBySource()):null!=this.video1&&this.checVideo1?(this.video1.visible=!0,this.video1.playVideo(t,e,i,"videosd")):null!=this.video2&&this.checVideo2&&(this.video2.visible=!0,this.video2.playVideo(t,e,i,"videosd"))):(null!=this.video1&&this.checVideo1&&(this.video1.visible=!0,this.video1.playVideo(t,e,i,"video1")),null!=this.video2&&this.checVideo2&&(this.video2.visible=!0,this.video2.playVideo(t,e,i,"video2")))},i.prototype.playVideoVN=function(t,e,i){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i="video0"),this.mainVideo.visible=!0,this.mainVideo.playVideoVN(t,e,i),null!=this.video1&&this.checVideo1&&(this.video1.visible=!0,this.video1.playVideoVN(t,e,"video1")),null!=this.video2&&this.checVideo2&&(this.video2.visible=!0,this.video2.playVideoVN(t,e,"video2"))},i.prototype.getStreamUrl=function(t,e,i,n){clearInterval(this._timer),this._envName=i[0],this.setFocusInfo(t,e),this.mainVideo.initAudioContext(),this._focusInfo&&this._focusInfo.isOpen?"3001"==t&&57<=Number(e)&&Number(e)<=61&&("SHARE_CONNECT"===this._mode?(this.video1.initAudioContext(),this.streamFromServer.getStreamUrl(t,e,i,n),this.video1.playVideoBySource(),null!=this.video1&&this.checVideo1?this.video1.visible=!0:this.video1.visible=!1):null!=this.video1&&this.checVideo1?(this.video1.visible=!0,this.streamFromServer.getStreamUrl(t,e,[this._envName,"videosd"],n)):(this.video1.visible=!1,this.streamFromServer.getStreamUrl(t,e,i,n))):null!=this.video1&&this.checVideo1?(this.video1.initAudioContext(),-1!=VideoAssetManager.Informantion.settingData.goldArmBac.indexOf(t+"-"+e)?(this.streamFromServer.getStreamUrl(t,e,[this._envName],n),this.video1.visible=!1):this.streamFromServer.getStreamUrl(t,e,[this._envName,"video1"],n)):this.streamFromServer.getStreamUrl(t,e,i,n)},i.prototype.stopVideo=function(){this.mainVideo.visible=!1,this.mainVideo.closeVideo(),null!=this.video1&&this.checVideo1&&(this.video1.visible=!1,this.video1.closeVideo()),null!=this.video2&&this.checVideo2&&(this.video2.visible=!1,this.video2.closeVideo()),clearInterval(this._timer)},i.prototype.vidoePing=function(t){this.event.dispatchEvent(t)},i.prototype.setFocusInfo=function(t,e){this._focusInfo=null,"3001"==t&&57<=Number(e)&&Number(e)<=61&&VideoAssetManager.Informantion.videoSettingData.focusInfo&&"3001"===t&&VideoAssetManager.Informantion.videoSettingData.focusInfo.bacTableList&&(t=VideoAssetManager.Informantion.videoSettingData.focusInfo.bacTableList)[e]&&t[e].isOpen&&(this._focusInfo=t[e]),null!=this.video1&&this.checVideo1&&this.video1.setFocusInfo(this._focusInfo),null!=this.video2&&this.checVideo2&&this.video2.setFocusInfo(this._focusInfo)},i.prototype.setVideoMode=function(t){this._mode=1===(t=void 0===t?0:t)?"SHARE_CONNECT":""};var n,e=i;function i(t,e){void 0===e&&(e="videoElement");var i=n.call(this)||this;return i._focusInfo=null,i._timer=0,i._mode="",i._envName="",i.videoStart=function(){var t,e;"SHARE_CONNECT"===i._mode&&i._focusInfo&&i._focusInfo.isOpen&&null!=i.video1&&i.checVideo1&&(i.video1.startVideoBySource(),t=i.video0.getVideoFps(),e=i.video0.getVideoSource(),clearInterval(i._timer),i.video1.setVideoSource(e),i._timer=setInterval(function(){i.video1.setVideoSource(e)},Math.floor(1e3/t)))},i.onStreamUrl=function(t){i.mainVideo.playVideoWithUrl(t.data[i._envName]),i.mainVideo.visible=!0,i._focusInfo&&i._focusInfo.isOpen?"3001"==t.data.gameType&&57<=Number(t.data.gameCode)&&Number(t.data.gameCode)<=61&&("SHARE_CONNECT"===i._mode?i.video1.playVideoBySource():null!=i.video1&&i.checVideo1&&(i.video1.visible=!0,i.video1.playVideoWithUrl(t.data.videosd))):null!=i.video1&&i.checVideo1&&(i.video1.visible=!0,i.video1.playVideoWithUrl(t.data.video1))},i.initHD(t,e),i.initListener(),i}t.VideoTagPanel=e}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Container,n=(e=Composite.EventContainer,__extends(a,e),a.prototype.initUI=function(){},a.prototype.initListen=function(){var e=this;DeviceAndEnvironment.Device.isMobile()?(this._confirmBtn.on("tap",function(t){e.giftEventDispatch(t)}),this._cancelBtn.on("tap",function(){e.onCancelBtn()})):(this._confirmBtn.on("click",function(t){e.giftEventDispatch(t)}),this._cancelBtn.on("click",function(){e.onCancelBtn()}))},a.prototype.setData=function(t,e,i,n,a){var o=this,r=(void 0===a&&(a={}),0),s=0;for(h in t)this._tipAry[r]=new l(e,i+String(r+1),n,a),DeviceAndEnvironment.Device.isMobile()?this._tipAry[r].on("tap",function(t){o.onTipClicked(t)}):this._tipAry[r].on("click",function(t){o.onTipClicked(t)}),this._tipAry[r].name=h,this._tipAry[r].priceTxt.text=(new ShareLogic.DigitalLogic).addCommas(String(t[h])),s=Math.max(s,this._tipAry[r].priceTxt.width),r++;if(r=0,51<s)for(var h in t)this._tipAry[r].iconBg.width+=s-51,r++;this.setPos()},a.prototype.setPos=function(){},a.prototype.giftEventDispatch=function(t){var e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.SEND_TIP),i=new Object;i.money=Number(this._giftPrice),i.level=this._giftName,e.data=i,this.event.dispatchEvent(e),this.closePanel()},a.prototype.onCancelBtn=function(){this.closePanel()},a.prototype.onTipClicked=function(t){this._btnContainer.visible=!0,this._giftName=t.currentTarget.name,this._giftPrice=t.currentTarget.priceTxt.text.replace(",",""),this._btnContainer.y=t.currentTarget.y+t.currentTarget.height},a.prototype.unlocked=function(t){null!=this._confirmBtn&&this.buttonStatus(this._confirmBtn,t),null!=this._cancelBtn&&this.buttonStatus(this._cancelBtn,t),t?(null!=this._confirmBtn&&(this._confirmBtn.alpha=1),null!=this._cancelBtn&&(this._cancelBtn.alpha=1)):(null!=this._confirmBtn&&(this._confirmBtn.alpha=.5),null!=this._cancelBtn&&(this._cancelBtn.alpha=.5))},a.prototype.buttonStatus=function(t,e){t.setMouseStatus(e),e&&t.setStatus("up")},a.prototype.checkCredit=function(t){},a.prototype.closePanel=function(){this._giftName="",this._giftPrice="",this.visible=this._btnContainer.visible=!1,this._confirmBtn.setStatus("up"),this._cancelBtn.setStatus("up")},a);function a(){var t=e.call(this)||this;return t._tipAry=[],t._btnContainer=new i,t.addChild(t._btnContainer),t.initUI(),t.initListen(),t}t.TipPanel=n;__extends(r,o=i),r.prototype.initListen=function(){var t=this;try{PIXI.Texture.fromFrame(this._iconTextureName+"0001")}catch(t){this._hasOver=!1}try{PIXI.Texture.fromFrame(this._iconTextureName+"0002")}catch(t){this._hasDown=!1}DeviceAndEnvironment.Device.isMobile()?(this._hasDown&&this.on("touchstart",function(){t.onButtonDown()}),this.on("touchend",function(){t.onButtonUp()}),this.on("touchendoutside",function(){t.onButtonUp()})):(this._hasDown&&this.on("mousedown",function(){t.onButtonDown()}),this.on("mouseup",function(){t.onButtonUp()}),this.on("mouseupoutside",function(){t.onButtonUp()}),this._hasOver&&(this.on("mouseover",function(){t.onButtonOver()}),this.on("mouseout",function(){t.onButtonOut()})))},r.prototype.onButtonOver=function(){this._isOver=!0,this._hasOver&&(this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0001"))},r.prototype.onButtonUp=function(){this._isOver?this.onButtonOver():this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0000")},r.prototype.onButtonDown=function(){this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0002")},r.prototype.onButtonOut=function(){this._isOver=!1,this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0000")},r.prototype.setButtonStatus=function(t){void 0===t&&(t=""),this.iconBg.autoMouseStatus=!1,this._isLock?(this.iconBg.alpha=0,this.interactive=!1):(this.interactive=!0,"up"==t?(this.iconBg.alpha=0,this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0000")):"down"==t&&(this.iconBg.alpha=1,this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0002")))},r.prototype.setBtnStatus=function(t){void 0===t&&(t=""),this.interactive=!0,"up"==t?(this.iconBg.autoMouseStatus=!0,this.iconBg.setStatus("up"),this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0000")):"down"==t&&(this.iconBg.autoMouseStatus=!1,this.iconBg.setStatus("down"),this.icon.texture=PIXI.Texture.fromFrame(this._iconTextureName+"0002"))},r.prototype.setLock=function(t){this._isLock=t,this.setButtonStatus()};var o,l=r;function r(t,e,i,n){var a=o.call(this)||this;return a._hasOver=!0,a._hasDown=!0,a._isLock=!1,a.interactive=!0,a.iconBg=new ShareUI.Button(t),a.addChild(a.iconBg),a._iconTextureName=e,a.icon=PIXI.Sprite.fromImage(a._iconTextureName+"0000"),null!=n.iconAnc?(a.icon.x=n.iconX,a.icon.y=n.iconY,a.icon.anchor.set(n.iconAnc)):(a.icon.x=a.icon.width/2+8,a.icon.y=a.iconBg.height/2,a.icon.anchor.set(.5)),a.addChild(a.icon),a.priceTxt=new PIXI.Text("",i),a.addChild(a.priceTxt),a.priceTxt.interactive=!1,null!=n.txtAnc?(a.priceTxt.x=n.txtX,a.priceTxt.y=n.txtY,a.priceTxt.anchor.set(n.txtAnc)):(a.priceTxt.x=a.icon.x+a.icon.width+(a.iconBg.width-(a.icon.x+a.icon.width))/2,a.priceTxt.y=a.iconBg.height/2,a.priceTxt.anchor.set(.5)),a.initListen(),a}t.Tip_Structure=l}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Graphics,n=(e=SharePanel.TipPanel,__extends(a,e),a.prototype.initUI=function(){this._back=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChildAt(this._back,0);var t=new i;t.beginFill(0),t.drawRect(2,-1,147,39),t.endFill(),this._btnContainer.addChild(t),this._confirmBtn=new ShareUI.Button("Multiple_tipOkBtn"),this._confirmBtn.x=3,this._btnContainer.addChild(this._confirmBtn),this._cancelBtn=new ShareUI.Button("Multiple_tipCancelBtn"),this._cancelBtn.x=76,this._btnContainer.addChild(this._cancelBtn),this._btnContainer.pivot.y=-2,this._btnContainer.visible=!1},a.prototype.setPos=function(){this.aryMask=[];for(var t=0;t<this._tipAry.length;t++)this._tipAry[t].x=1,this._tipAry[t].y=1+this._tipAry[t].height*t,this.addChildAt(this._tipAry[t],1),this.aryMask[t]=new i,this.aryMask[t].beginFill(0,.7),this.aryMask[t].drawRect(0,0,this._tipAry[t].width-1,this._tipAry[t].height),this.aryMask[t].endFill(),this.aryMask[t].interactive=!0,this.aryMask[t].visible=!1,this._tipAry[t].addChild(this.aryMask[t]);this._back.height9=this.height+1,this._back.width9=this.width},a.prototype.checkCredit=function(t){for(var e in this._tipAry)t<Number(this._tipAry[e].priceTxt.text.replace(/,/g,""))?(this.aryMask[e].visible=!0,this._tipAry[e].interactive=!1,this._tipAry[e].iconBg.autoMouseStatus=!1,this._tipAry[e].iconBg.buttonMode=!1):(this.aryMask[e].visible=!1,this._tipAry[e].interactive=!0,this._tipAry[e].iconBg.autoMouseStatus=!0,this._tipAry[e].iconBg.buttonMode=!0)},a);function a(){return e.call(this)||this}t.TipPanel=n}(ShareMultiGames=ShareMultiGames||{}),!function(t){var o,e=PIXI.Container,i=PIXI.Sprite,r=PIXI.Point,n=PIXI.Text,a=(__extends(s,o=e),s.prototype.setList=function(t,e){for(var i=0;i<t.length;i++)this.limitList[t[i]].visible=e;this.resetPos()},s.prototype.resetPos=function(){for(var t=0,e=[],i=0;i<this.limitList.length;i++)this.limitList[i].visible&&(this.limitList[i].x=this.posArr[t].x,this.limitList[i].y=this.posArr[t].y,e.push(this.limitList[i]),t++)},s);function s(t){var e=o.call(this)||this;e.limitList=[],e.posArr=[];for(var i=0;i<t.length;i++){var n,a=void 0,a=null!=t[i].limitMin?t[i].limitMin+"-"+t[i].limit:t[i].limit,a=(null!=t[i].titleIcon&&(n=null!=t[i].ratio?new l(t[i].titleIcon,a,t[i].ratio,!0):new l(t[i].titleIcon,a,"",!0)),null!=t[i].title&&(n=null!=t[i].ratio?new l(t[i].title,a,t[i].ratio):new l(t[i].title,a)),e.addChild(n),e.limitList.push(n),new r);e.posArr.push(a),a.x=n.x=0,a.y=n.y=55*i+2}return e}t.LimitPanel=a;__extends(c,h=e),c.prototype.initText=function(t){t?(this.titleIcon=new i,this.addChild(this.titleIcon),this.titleIcon.x=15):(this.title=new n("",this.titleStyle),this.addChild(this.title),this.title.x=15),this.ratio=new n("",this.textStyle),this.addChild(this.ratio),this.limit=new n("",this.textStyle),this.addChild(this.limit),this.limit.x=15,this.limit.y=this.ratio.y=23};var h,l=c;function c(t,e,i,n){void 0===i&&(i=""),void 0===n&&(n=!1);var a=h.call(this)||this,n=(a.titleStyle={fontFamily:"_sans",fontWeight:"bold",fontSize:"16px",fill:"#FFCD86"},a.textStyle={fontFamily:"_sans",fontWeight:"bold",fontSize:"16px",fill:"#FFFFFF"},a.initText(n),null!=a.title&&(a.title.text=t),null!=a.titleIcon&&(a.titleIcon.texture=PIXI.Texture.fromImage(t)),e.split("-"));return e=1<n.length?(new ShareLogic.DigitalLogic).addCommas(String(n[0]))+"-"+(new ShareLogic.DigitalLogic).addCommas(String(n[1])):(new ShareLogic.DigitalLogic).addCommas(String(e)),""!=i&&(a.ratio.text=i),a.limit.text=e,a.ratio.x=235,a}__extends(d,u=e),d.prototype.changeT2Pos=function(){for(var t=0;t<this.limitList.length;t++)this.limitList[t].changeT2Pos()};var u,a=d;function d(t){var e=u.call(this)||this;e.limitList=[],e.posArr=[];for(var i=0;i<t.length;i++){var n,a=void 0,a=null!=t[i].limitMin?t[i].limitMin+"-"+t[i].limit:t[i].limit,a=(null!=t[i].titleIcon&&(n=null!=t[i].ratio?new f(t[i].titleIcon,a,t[i].ratio,"","",!0):new f(t[i].titleIcon,a,"","","",!0)),null!=t[i].title&&(n=null==t[i].title2?null!=t[i].ratio?new f(t[i].title,a,t[i].ratio,"",""):new f(t[i].title,a,"",""):null!=t[i].ratio?new f(t[i].title,a,t[i].ratio,t[i].title2,t[i].title2text):new f(t[i].title,a,"","")),e.addChild(n),e.limitList.push(n),new r);e.posArr.push(a),a.x=n.x=0,a.y=n.y=55*i+2}return e}t.newBacLimitPanel=a;__extends(_,p=l),_.prototype.initText=function(t){p.prototype.initText.call(this,t),"us"==IPL.UrlParameter.lang?(this.title2=new n("",{fontFamily:"_sans",fontWeight:"bold",fontSize:"14px",fill:"#FFCD86",wordWrap:!0,wordWrapWidth:300}),this.title2.y=this.title2.y+3):"th"==IPL.UrlParameter.lang?(this.title.x=this.limit.x=5,this.title2=new n("",{fontFamily:"_sans",fontWeight:"bold",fontSize:"14px",fill:"#FFCD86",wordWrap:!0,wordWrapWidth:300}),this.title2.y=this.title2.y+3.5):"vi"==IPL.UrlParameter.lang?(this.title2=new n("",{fontFamily:"_sans",fontWeight:"bold",fontSize:"12.5px",fill:"#FFCD86",wordWrap:!0,wordWrapWidth:300}),this.title2.y=this.title2.y+5):this.title2=new n("",this.titleStyle),this.addChild(this.title2),"us"==IPL.UrlParameter.lang||"th"==IPL.UrlParameter.lang||"vi"==IPL.UrlParameter.lang?this.title2text=new n("",{fontFamily:"_sans",fontWeight:"bold",fontSize:"16px",fill:"#FFFFFF",wordWrap:!0,wordWrapWidth:115}):this.title2text=new n("",this.textStyle),this.addChild(this.title2text),this.title2.x=100,this.title2text.y=23},_.prototype.changeT2Pos=function(){null!=this.title2&&(this.title2.x=130),null!=this.title2text&&(this.title2text.x=130),null!=this.ratio&&(this.ratio.x=255)};var p,f=_;function _(t,e,i,n,a,o){void 0===n&&(n=""),void 0===a&&(a="");t=p.call(this,t,e,i=void 0===i?"":i,o=void 0===o?!1:o)||this;return null!=n&&(t.title2.text=n),null!=a&&(t.title2text.text=a),t.title2text.x=100,t}}(ShareMultiGames=ShareMultiGames||{}),!function(i){var e,t=PIXI.Text,n=PIXI.Container,a=(e=Composite.EventContainer,__extends(o,e),o.prototype.initUI=function(){this.roundNO=new t("",{fontFamily:"Arial",fontSize:"18px",fontWeight:"bold",fill:"#F7C178"}),this.roundNO.x=10,this.roundNO.y=17,this.addChild(this.roundNO),this._tipBtn=new ShareUI.Button("Multiple_Tip",!0,"Multiple_TipTxt",IPL.UrlParameter.lang),this._tipBtn.name="tip",this._tipBtn.x=397,this._tipBtn.y=54,this._videoBtn=new ShareUI.Button("Multiple_TopSize"),this._videoBtn.name="videoSwitch",this._videoBtn.x=342,this.addChild(this._videoBtn),this._betHistoryBtn=new ShareUI.Button("Multiple_TopHistory"),this._betHistoryBtn.name="betHistory",this._betHistoryBtn.x=372,this.addChild(this._betHistoryBtn),this._limitBtn=new ShareUI.Button("Multiple_TopLimit"),this._limitBtn.name="betLimitInfo",this._limitBtn.x=402,this.addChild(this._limitBtn),this._ruleBtn=new ShareUI.Button("Multiple_TopRule"),this._ruleBtn.name="rule",this._ruleBtn.x=432,this.addChild(this._ruleBtn),this._videoBtn.y=this._betHistoryBtn.y=this._limitBtn.y=this._ruleBtn.y=15,this._btnArr=[this._tipBtn,this._videoBtn,this._betHistoryBtn,this._limitBtn,this._ruleBtn],this.pingIcon=PIXI.Sprite.fromFrame("Multiple_RouteLevel0000"),this.pingIcon.x=14,this.pingIcon.y=267,this.addChild(this.pingIcon)},o.prototype.initTextTip=function(){var t=new Tools.Tip(this);t.addTip(this._videoBtn,"CHANGE_VIDEO_SIZE"),t.addTip(this._betHistoryBtn,"BETHISTORYBTN"),t.addTip(this._limitBtn,"LIMITBTN"),t.addTip(this._ruleBtn,"HELPBTN"),t.setPos(-10,-28)},o.prototype.initLimit=function(){this._limitContainer=new n,this._limitContainer.x=34,this._limitContainer.y=320,this._limitContainer.visible=!1,this._limitBG=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this._limitContainer.addChild(this._limitBG),this._limitBG.width9=402;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_LimitRatioTxt_"+IPL.UrlParameter.lang),t=(this._limitContainer.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_LimitLine"));this._limitContainer.addChild(t),this._limitCloseBtn=new ShareUI.Button("Multiple_CloseBtn"),this._limitCloseBtn.name="closeLimit",this._limitCloseBtn.x=365,this._limitCloseBtn.y=13,this._limitContainer.addChild(this._limitCloseBtn),this._limitScrollBar=new ShareUI.scrollBarNoSensor("Multiple_ScrollBar",!0,1),this._limitContainer.addChild(this._limitScrollBar),this._limitScrollBar.setBarDisplay(!0),this._limitScrollBar.x=10,this._limitScrollBar.y=65,this._limitScrollBar.setMask(0,0,397,430),this._limitScrollBar.setScrollBarPos(380,0,430)},o.prototype.initAddListen=function(){var e=this;this.interactive=!0,DeviceAndEnvironment.Device.isMobile()?this.on("touchstart",function(t){e.onLocalclicked(t)}):(this.on("mousedown",function(t){e.onLocalclicked(t)}),this.on("touchstart",function(t){e.onLocalclicked(t)}));for(var t=0;t<this._btnArr.length;t++)DeviceAndEnvironment.Device.isMobile()?this._btnArr[t].on("tap",function(t){return e.onBtnClick(t)}):(this._btnArr[t].on("click",function(t){return e.onBtnClick(t)}),this._btnArr[t].on("tap",function(t){return e.onBtnClick(t)}));DeviceAndEnvironment.Device.isMobile()?this._limitCloseBtn.on("tap",function(t){return e.onBtnClick(t)}):(this._limitCloseBtn.on("click",function(t){return e.onBtnClick(t)}),this._limitCloseBtn.on("tap",function(t){return e.onBtnClick(t)}))},o.prototype.onLocalclicked=function(t){this._isLocalClick=!0},o.prototype.onStageClick=function(t){this._isLocalClick||this.checkPanel(),this._isLocalClick=!1},o.prototype.onBtnClick=function(t){var e,t=t.currentTarget;switch(this.checkPanel(t.name),t.name){case"videoSwitch":e=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.VIDEO_SWITCH),this.event.dispatchEvent(e);break;case"betHistory":e=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.BET_HISTORY),this.event.dispatchEvent(e);break;case"betLimitInfo":this._limitContainer.visible=!this._limitContainer.visible,this._limitContainer.visible?this.addChild(this._limitContainer):this.removeChild(this._limitContainer);break;case"rule":e=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.HELP),this.event.dispatchEvent(e);break;case"tip":this._tipPanel.visible?this._tipPanel.closePanel():this._tipPanel.visible=!0;break;case"closeLimit":this._limitContainer.visible=!1,this.removeChild(this._limitContainer)}},o.prototype.checkPanel=function(t){void 0===t&&(t=""),null!=this._limitContainer&&this._limitContainer.visible&&"betLimitInfo"!=t&&(this._limitContainer.visible=!1,this.removeChild(this._limitContainer)),null!=this._tipPanel&&this._tipPanel.visible&&"tip"!=t&&this._tipPanel.closePanel()},o.prototype.initTipPanel=function(){var e=this;this.addChild(this._tipBtn),this._tipPanel=new i.TipPanel,this._tipPanel.y=54,this._tipPanel.x=236,this._tipPanel.visible=!1,this.addChild(this._tipPanel),this._tipPanel.event.addEventListener(VideoShare.VideoGameEvent.SEND_TIP,function(t){e.sendTip(t)})},o.prototype.sendTip=function(t){this.event.dispatchEvent(t)},o.prototype.updateRoundNO=function(t){this.roundNO.text=t},o.prototype.updateCredit=function(t){null!=this._tipPanel&&this._tipPanel.checkCredit(t)},o.prototype.setTipInfo=function(t){this._tipPanel.setData(t,"Multiple_List","Multiple_tipLevel",{fontFamily:"Arial",fontSize:"16px",fill:"#FFFFFF"},{fill:"#FFFFFF",txtX:63,txtY:12,txtAnc:0,iconX:29,iconY:22,iconAnc:.5})},o.prototype.setLimitPanel=function(t){null!=this._limitPanel&&this._limitScrollBar.removeToScrollBar(this._limitPanel),null==this._limitPanelObj[t.gameType]&&(this._limitPanelObj[t.gameType]=new i.LimitPanel(t.list)),this._limitPanel=this._limitPanelObj[t.gameType];t=15+55*t.list.length+53;this._limitScrollBar.setMaskSize(397,(t=509<t?509:t)-79),this._limitBG.height9=t,this._limitScrollBar.addToScrollBar(this._limitPanel),this._limitScrollBar.setbarListen(),this._limitContainer.visible&&(this._limitContainer.visible=!1,this.removeChild(this._limitContainer))},o.prototype.changeLimitPanel=function(t){this._limitScrollBar.removeToScrollBar(this._limitPanel),this._limitPanel=null,this._limitPanelObj[t.gameType]=new i.newBacLimitPanel(t.list),this._limitPanel=this._limitPanelObj[t.gameType],"Y"==t.changePos&&this._limitPanelObj[t.gameType].changeT2Pos();t=15+55*t.list.length+53;this._limitScrollBar.setMaskSize(397,(t=509<t?509:t)-79),this._limitBG.height9=t,this._limitScrollBar.addToScrollBar(this._limitPanel),this._limitScrollBar.setbarListen(),this._limitContainer.visible&&(this._limitContainer.visible=!1,this.removeChild(this._limitContainer))},o.prototype.setPingIcon=function(t){this.pingIcon.visible=t},o.prototype.setBtnStatus=function(t,e){var i;switch(t){case"videoSwitch":i=this._videoBtn;break;case"betHistory":i=this._betHistoryBtn;break;case"betLimitInfo":i=this._limitBtn;break;case"rule":i=this._ruleBtn;break;case"tip":i=this._tipBtn,this._tipBtn.visible=e,this._tipPanel&&(this._tipPanel.visible=!1);break;case"closeLimit":i=this._limitCloseBtn;break;case"pingIcon":i=this._tipBtn,this.pingIcon.visible=e}e?(i.setStatus("up"),i.alpha=1):(i.setStatus("down"),i.alpha=.5),i.interactive=e,i.autoMouseStatus=e},o.prototype.setVideoPing=function(t){this.pingIcon.texture=t<100?PIXI.Texture.fromFrame("Multiple_RouteLevel0004"):t<250?PIXI.Texture.fromFrame("Multiple_RouteLevel0003"):t<500?PIXI.Texture.fromFrame("Multiple_RouteLevel0002"):t<5e3?PIXI.Texture.fromFrame("Multiple_RouteLevel0001"):PIXI.Texture.fromFrame("Multiple_RouteLevel0000")},o.prototype.setVideoFps=function(t){this.setPercentage(t.FPS/t.defaultFPS*100)},o.prototype.setPercentage=function(t){100<t?t=100:t<0&&(t=0),0<=(t=0!=(t/=20)?Math.ceil(t)-1:Math.ceil(t))&&t<=5&&(this.pingIcon.texture=PIXI.Texture.fromFrame("Multiple_RouteLevel000"+t))},o);function o(){var t=e.call(this)||this;return t._limitPanelObj={},t.initUI(),t.initTextTip(),t.initLimit(),t.initAddListen(),t}i.GamesToolPanel=a}(ShareMultiGames=ShareMultiGames||{}),!function(t){var n,a=PIXI.Container,e=PIXI.Text,o=PIXI.Point,i=(n=Composite.EventContainer,__extends(r,n),r.prototype.init=function(){this.selectValue=0,this.tmpSelectValue=0,this.tmpNowChipMax=0,this.tmpNowChipMin=0,this.tmpMin=0,this.tmpMax=0,this.chipList=[],this.tmpChipValue=[],this.chipPositionArr=[],this.tmpChipStr="",null!=this.leftBtn&&(this.leftBtn.visible=!1),null!=this.rightBtn&&(this.rightBtn.visible=!1),null!=this.customBtn&&(this.customBtn.visible=!1),this.checkPosition(),this.resetChip()},r.prototype.setCustomRight=function(t){this.ifRightShow=t},r.prototype.setChipNum=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.showChipNum=t=void 0===t?0:t,0<e&&(this.CC_dis=e),0<i&&(this.SC_dis=i),0<n&&(this.LR_dis=n),this.checkPosition(),this.setChipPos()},r.prototype.setchipFilter=function(t){this.chipFilterValue=t},r.prototype.setPreChip=function(t){this._preSetChip=t-1},r.prototype.setClickStatus=function(t){t.setStatus("over")},r.prototype.initChipUI=function(){},r.prototype.initBtnUI=function(){},r.prototype.initTxtStyle=function(){this.limitStyle={fontFamily:"Verdana",fontSize:"28px",fontWeight:"bold ",fill:"#FF0000"}},r.prototype.initLimitTxtUI=function(){this.limitRangeTxt=new e("",this.limitStyle),this.addChild(this.limitRangeTxt),"Hor"==this.direction?this.limitRangeTxt.y=this.customBtn.y+this.customBtn.height/2:"Ver"==this.direction&&(this.limitRangeTxt.rotation=Math.PI/180*90,this.limitRangeTxt.anchor.set(.5),this.limitRangeTxt.x=this.customBtn.x+this.customBtn.width/2,this.limitRangeTxt.y=this.customBtn.y+this.customBtn.height+this.limitRangeTxt.width/2+this.SC_dis)},r.prototype.initAddListen=function(){for(var e=this,t=0;t<this.chipListMC.length;t++)this.chipListMC[t].setStatus("up"),DeviceAndEnvironment.Device.isMobile()?this.chipListMC[t].on("tap",function(t){e.onChipClick(t)}):this.chipListMC[t].on("click",function(t){e.onChipClick(t)});DeviceAndEnvironment.Device.isMobile()?(null!=this.leftBtn&&this.leftBtn.on("tap",function(t){e.onArrowClick(t)}),null!=this.rightBtn&&this.rightBtn.on("tap",function(t){e.onArrowClick(t)}),null!=this.customBtn&&this.customBtn.on("tap",function(){e.onCustomClick()})):(null!=this.leftBtn&&this.leftBtn.on("click",function(t){e.onArrowClick(t)}),null!=this.rightBtn&&this.rightBtn.on("click",function(t){e.onArrowClick(t)}),null!=this.customBtn&&this.customBtn.on("click",function(){e.onCustomClick()}))},r.prototype.setSize=function(t){for(var e=0;e<this.chipListMC.length;e++)this.chipListMC[e].scale.set(t);this.chipW=this.chipListMC[0].width,this.chipH=this.chipListMC[0].height,null!=this.leftBtn&&this.leftBtn.scale.set(t),null!=this.rightBtn&&this.rightBtn.scale.set(t),null!=this.customBtn&&this.customBtn.scale.set(t),this.checkPosition()},r.prototype.setChipSize=function(t){for(var e=0;e<this.chipListMC.length;e++)this.chipListMC[e].scale.set(t);this.chipW=this.chipListMC[0].width,this.chipH=this.chipListMC[0].height,this.checkPosition()},r.prototype.checkPosition=function(){var t,e;"Hor"==this.direction?t=this.customBtn.width+this.SC_dis:"Ver"==this.direction&&(e=this.customBtn.height+this.SC_dis),this.chipPositionArr=[];for(var i,n=0;n<this.showChipNum;n++)"Hor"==this.direction?i=new o(Math.round(t+this.CC_dis*n+this.chipW*n),Math.round(this.customBtn.height/2-this.chipH/2)):"Ver"==this.direction&&(i=new o(Math.round(this.customBtn.width/2-this.chipW/2),Math.round(e+this.CC_dis*(this.showChipNum-n-1)+this.chipH*(this.showChipNum-n-1)))),this.chipPositionArr.push(i)},r.prototype.onChipClick=function(t){var t=t.currentTarget,t=(null==this.tmpSelectChip?this.tmpSelectChip=t:(this.tmpSelectChip.setMouseStatus(!0),this.tmpSelectChip.setStatus("up")),this.selectValue=parseInt(t.name),this.tmpSelectValue=this.selectValue,this.tmpSelectChip=t,this.tmpSelectChip.setMouseStatus(!1),this.setClickStatus(this.tmpSelectChip),new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.CHIP_VALUE)),e={};e.chipValue=this.selectValue,e.noFirst=!0,t.data=e,this.event.dispatchEvent(t)},r.prototype.onCustomClick=function(){var t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.ON_CUSTOM_CHIP),e={btnName:"customChipBtn",btnType:"CHIP"};t.data=e,this.event.dispatchEvent(t)},r.prototype.onArrowClick=function(t){var t=t.currentTarget.name,e=("leftBtn"==t?this.checkShowChipLeft():"rightBtn"==t&&this.checkShowChipRight(),new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.CHIP_TURN)),i={};i.btnName=t,i.btnType="CHIP",e.data=i,this.event.dispatchEvent(e)},r.prototype.checkShowChipLeft=function(){this.resetChip();for(var t,e=this.tmpNowChipMin-this.showChipNum,i=this.tmpNowChipMax-this.showChipNum,n=(e<0||0==e?(this.tmpNowChipMin=0,this.chipList.length-1<this.showChipNum?this.tmpNowChipMax=this.chipList.length-1:this.tmpNowChipMax=this.showChipNum-1):(this.tmpNowChipMin=e,this.tmpNowChipMax=i),0),a=this.tmpNowChipMin;a<=this.tmpNowChipMax;a++)this.chipList[a].visible=!0,t=this.chipPositionArr[n],this.chipList[a].name==String(this.selectValue)&&(this.chipList[a].setMouseStatus(!1),this.setClickStatus(this.chipList[a])),this.chipList[a].x=t.x,this.chipList[a].y=t.y,n++;"Hor"==this.direction?(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x-this.LR_dis-this.leftBtn.width),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.chipList[0].chip.height/2-this.leftBtn.height/2),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.LR_dis+this.chipList[this.tmpNowChipMax].chip.width/1.2),null!=this.rightBtn&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y+this.chipList[this.tmpNowChipMax].chip.height/2.5-this.rightBtn.height/2)):"Ver"==this.direction&&(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x+this.chipList[0].width/2-this.leftBtn.width/2),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.LR_dis+this.chipList[0].height),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.chipList[this.tmpNowChipMax].width/2-this.rightBtn.width/2),null!=this.rightBtn)&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y-this.LR_dis-this.leftBtn.height),this.chipList.length>this.showChipNum?0==this.tmpNowChipMin?(null!=this.leftBtn&&(this.leftBtn.visible=!1),null!=this.rightBtn&&(this.rightBtn.visible=!0),this.customBtn.visible=!0,"Hor"==this.direction?(this.customBtn.x=this.chipList[0].x-this.SC_dis-this.customBtn.width,this.customBtn.y=this.chipList[0].y+this.chipList[0].height/2-this.customBtn.height/2):"Ver"==this.direction&&(this.customBtn.y=this.chipList[0].y+this.SC_dis+this.chipList[0].height),this.chipList.length-1>this.showChipNum&&null!=this.rightBtn&&(this.rightBtn.visible=!0)):(null!=this.leftBtn&&(this.leftBtn.visible=!0),this.customBtn.visible=!1,null!=this.rightBtn&&(this.rightBtn.visible=!0)):(null!=this.leftBtn&&(this.leftBtn.visible=!1),null!=this.rightBtn&&(this.rightBtn.visible=!1))},r.prototype.checkShowChipRight=function(){this.resetChip();for(var t,e=this.tmpNowChipMin+this.showChipNum,i=this.tmpNowChipMax+this.showChipNum,n=(this.chipList.length<this.showChipNum?(i>this.chipList.length-1||i==this.chipList.length-1)&&(this.tmpNowChipMax=this.chipList.length-1,this.tmpNowChipMin=this.chipList.length-this.showChipNum,this.tmpNowChipMin<0)&&(this.tmpNowChipMin=0):i>this.chipList.length-1?(this.tmpNowChipMax=this.chipList.length-1,this.tmpNowChipMin=this.chipList.length-this.showChipNum):(this.tmpNowChipMax=i,this.tmpNowChipMin=e),0),a=this.tmpNowChipMin;a<=this.tmpNowChipMax;a++)this.chipList[a].visible=!0,t=this.chipPositionArr[n],this.chipList[a].x=t.x,this.chipList[a].y=t.y,this.chipList[a].name==String(this.selectValue)&&(this.chipList[a].setMouseStatus(!1),this.setClickStatus(this.chipList[a])),n++;"Hor"==this.direction?(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x-this.LR_dis-this.leftBtn.width),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.chipList[0].height/2-this.leftBtn.height/2),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.LR_dis+this.chipList[this.tmpNowChipMax].width),null!=this.rightBtn&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y+this.chipList[this.tmpNowChipMax].height/2-this.rightBtn.height/2)):"Ver"==this.direction&&(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x+this.chipList[0].width/2-this.leftBtn.width/2),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.LR_dis+this.chipList[0].height),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.chipList[this.tmpNowChipMax].width/2-this.rightBtn.width/2),null!=this.rightBtn)&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y-this.LR_dis-this.rightBtn.height),this.chipList.length>this.showChipNum?this.tmpNowChipMax==this.chipList.length-1?(null!=this.rightBtn&&(this.rightBtn.visible=!1),null!=this.leftBtn&&(this.leftBtn.visible=!0),this.ifRightShow?this.customBtn.visible=!0:this.customBtn.visible=!1,"Hor"==this.direction?(this.customBtn.x=this.chipList[this.tmpNowChipMax].x+this.SC_dis+this.chipList[this.tmpNowChipMax].width,this.customBtn.y=this.chipList[this.tmpNowChipMax].y+this.chipList[this.tmpNowChipMax].height/2-this.customBtn.height/2):"Ver"==this.direction&&(this.customBtn.y=this.chipList[this.tmpNowChipMax].y-this.SC_dis-this.customBtn.height)):this.chipList.length>this.showChipNum&&(null!=this.rightBtn&&(this.rightBtn.visible=!0),this.customBtn.visible=!1,null!=this.leftBtn)&&(this.leftBtn.visible=!0):(null!=this.leftBtn&&(this.leftBtn.visible=!1),null!=this.rightBtn&&(this.rightBtn.visible=!1))},r.prototype.arrageChip=function(t,e,i){var n=this;if(void 0===e&&(e=0),void 0===i&&(i=0),t=this.sortChipList(t),null!=this.timer&&clearTimeout(this.timer),this.noChip=!1,this.tmpChipStr=t,this.limitRangeTxt.visible=!1,this.customChipSpr.visible=!0,0<this.chipList.length&&(this.chipList=[],this.tmpChipValue=[],this.resetChip()),0<e&&(this.tmpMin=e),0<i&&(this.tmpMax=i),this.chipFilterValue[0]>=this.tmpMin&&(this.tmpMin=this.chipFilterValue[0]),""!=t&&null!=t)for(var a=t.split(","),o=this.tmpNowChipMin=0;o<a.length;o++)for(var r=0;r<this.chipListValue.length;r++)if(parseInt(a[o])==this.chipListValue[r]&&parseInt(a[o])<=this.tmpMax&&parseInt(a[o])>=this.tmpMin){this.chipList.push(this.chipListMC[r]),this.tmpChipValue.push(this.chipListValue[r]);break}if(0<this.chipList.length){this.chipList.length>this.showChipNum?this.tmpNowChipMax=this.showChipNum-1:this.tmpNowChipMax=this.chipList.length-1;for(var s,h=0;h<this.showChipNum;h++)"Hor"!=this.direction&&"Ver"!=this.direction||(s=this.chipList.length<this.showChipNum&&"Left"==this.side?h+this.showChipNum-this.chipList.length:h,s=this.chipPositionArr[s]),null!=this.chipList[h]&&(this.chipList[h].x=s.x,this.chipList[h].y=s.y,this.chipList[h].visible=!0);"Hor"==this.direction?(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x-this.LR_dis-this.leftBtn.width),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.chipList[0].height/2-this.leftBtn.height/2),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.LR_dis+this.chipList[this.tmpNowChipMax].width),null!=this.rightBtn&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y+this.chipList[this.tmpNowChipMax].height/2-this.rightBtn.height/2),this.customBtn.x=this.chipList[0].x-this.SC_dis-this.customBtn.width,this.customBtn.y=this.chipList[this.tmpNowChipMax].y+this.chipList[this.tmpNowChipMax].height/2-this.customBtn.height/2):"Ver"==this.direction&&(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x+this.chipList[0].width/2-this.leftBtn.width/2),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.LR_dis+this.chipList[0].height),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.chipList[this.tmpNowChipMax].width/2-this.rightBtn.width/2),null!=this.rightBtn&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y-this.LR_dis-this.rightBtn.height),this.customBtn.y=this.chipList[0].y+this.SC_dis+this.chipList[0].height),this.customBtn.visible=!0,this.chipList.length<this.showChipNum?null!=this.leftBtn&&(this.leftBtn.visible=this.rightBtn.visible=!1):(null!=this.leftBtn&&(this.leftBtn.visible=!1),null!=this.rightBtn&&(this.rightBtn.visible=!0),this.tmpNowChipMax==this.chipList.length-1&&(this.rightBtn.visible=!1)),null!=this.tmpSelectChip&&(this.tmpSelectChip.setMouseStatus(!0),this.tmpSelectChip.setStatus("up")),this.chipList.length>this._preSetChip?this.tmpSelectChip=this.chipList[this._preSetChip]:this.tmpSelectChip=this.chipList[this.chipList.length-1],this.selectValue=parseInt(this.tmpSelectChip.name),this.tmpSelectValue=this.selectValue,this.tmpSelectChip.setMouseStatus(!1),this.setClickStatus(this.tmpSelectChip)}else this.noChip=!0,this.limitRangeTxt.text=this.tmpMin+" ~ "+this.tmpMax,"Hor"==this.direction?("Left"==this.side?(this.limitRangeTxt.x=this.chipPositionArr[this.showChipNum-1].x+this.customBtn.width-this.limitRangeTxt.width,this.customBtn.x=this.limitRangeTxt.x-this.customBtn.width-this.SC_dis):(this.customBtn.x=this.chipPositionArr[0].x-this.SC_dis-this.customBtn.width,this.limitRangeTxt.x=this.chipPositionArr[0].x),this.limitRangeTxt.y=this.customBtn.height/2-this.limitRangeTxt.height/2):"Ver"==this.direction&&(this.limitRangeTxt.y=this.customBtn.y+this.customBtn.height+this.limitRangeTxt.width/2+this.SC_dis),this.limitRangeTxt.visible=!0,this.customChipSpr.visible=!1,this.customBtn.visible=!0,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){n.onTimeout()},1e3),this.selectValue=0,this.tmpSelectValue=this.selectValue;e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.CHIP_VALUE),i={};i.chipValue=this.selectValue,e.data=i,this.event.dispatchEvent(e)},r.prototype.setChipPos=function(){var t=this;if(null!=this.timer&&clearTimeout(this.timer),this.noChip=!1,this.limitRangeTxt.visible=!1,this.customChipSpr.visible=!0,this.resetChip(),0<this.chipList.length){this.chipList.length>this.showChipNum?this.tmpNowChipMax=this.showChipNum-1:this.tmpNowChipMax=this.chipList.length-1;for(var e,i=0;i<this.showChipNum;i++)"Hor"!=this.direction&&"Ver"!=this.direction||(e=this.chipList.length<this.showChipNum&&"Left"==this.side?i+this.showChipNum-this.chipList.length:i,e=this.chipPositionArr[e]),null!=this.chipList[i]&&(this.chipList[i].x=e.x,this.chipList[i].y=e.y,this.chipList[i].visible=!0);"Hor"==this.direction?(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x-this.LR_dis-this.leftBtn.width),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.chipList[0].height/2-this.leftBtn.height/2),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.LR_dis+this.chipList[this.tmpNowChipMax].width),null!=this.rightBtn&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y+this.chipList[this.tmpNowChipMax].height/2-this.rightBtn.height/2),this.customBtn.x=this.chipList[0].x-this.SC_dis-this.customBtn.width,this.customBtn.y=this.chipList[this.tmpNowChipMax].y+this.chipList[this.tmpNowChipMax].height/2-this.customBtn.height/2):"Ver"==this.direction&&(null!=this.leftBtn&&(this.leftBtn.x=this.chipList[0].x+this.chipList[0].width/2-this.leftBtn.width/2),null!=this.leftBtn&&(this.leftBtn.y=this.chipList[0].y+this.LR_dis+this.chipList[0].height),null!=this.rightBtn&&(this.rightBtn.x=this.chipList[this.tmpNowChipMax].x+this.chipList[this.tmpNowChipMax].width/2-this.rightBtn.width/2),null!=this.rightBtn&&(this.rightBtn.y=this.chipList[this.tmpNowChipMax].y-this.LR_dis-this.rightBtn.height),this.customBtn.y=this.chipList[0].y+this.SC_dis+this.chipList[0].height),this.customBtn.visible=!0,this.chipList.length<this.showChipNum?null!=this.leftBtn&&(this.leftBtn.visible=this.rightBtn.visible=!1):(null!=this.leftBtn&&(this.leftBtn.visible=!1),null!=this.rightBtn&&(this.rightBtn.visible=!0),this.tmpNowChipMax==this.chipList.length-1&&(this.rightBtn.visible=!1)),this.selectValue=parseInt(this.tmpSelectChip.name),this.tmpSelectValue=this.selectValue,this.tmpSelectChip.setMouseStatus(!1),this.setClickStatus(this.tmpSelectChip)}else this.noChip=!0,this.limitRangeTxt.text=this.tmpMin+" ~ "+this.tmpMax,"Hor"==this.direction?(this.limitRangeTxt.x=this.chipPositionArr[this.showChipNum-1].x+this.customBtn.width-this.limitRangeTxt.width,this.customBtn.x=this.limitRangeTxt.x-this.customBtn.width-this.SC_dis,this.limitRangeTxt.y=this.customBtn.height/2-this.limitRangeTxt.height/2):"Ver"==this.direction&&(this.limitRangeTxt.y=this.customBtn.y+this.customBtn.height+this.limitRangeTxt.width/2+this.SC_dis),this.limitRangeTxt.visible=!0,this.customChipSpr.visible=!1,this.customBtn.visible=!0,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.onTimeout()},1e3),this.selectValue=0,this.tmpSelectValue=this.selectValue},r.prototype.onTimeout=function(){var t=this;this.limitRangeTxt.visible=!this.limitRangeTxt.visible,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.onTimeout()},1e3)},r.prototype.sortChipList=function(t){for(var e,i=t.split(","),n=0;n<i.length-1;n++)for(var a=0;a<i.length-1-n;a++)parseInt(i[a+1])<parseInt(i[a])&&(e=i[a],i[a]=i[a+1],i[a+1]=e);return i.toString()},r.prototype.resetChip=function(){for(var t=0;t<this.chipListMC.length;t++)this.chipListMC[t].visible=!1,this.chipListMC[t].setLight(!1),this.chipListMC[t].setMouseStatus(!0),this.chipListMC[t].setStatus("up")},r);function r(t,e){void 0===t&&(t="Hor"),void 0===e&&(e="Left");var i=n.call(this)||this;return i.ifRightShow=!0,i.showChipNum=4,i.CC_dis=10,i.SC_dis=15,i.LR_dis=15,i.selectValue=0,i._preSetChip=-1,i.direction=t,i.side=e,i.customChipSpr=new a,i.addChild(i.customChipSpr),i.chipListMC=[i.chip1,i.chip2,i.chip5,i.chip10,i.chip20,i.chip50,i.chip100,i.chip200,i.chip500,i.chip1000,i.chip2000,i.chip5000,i.chip10000,i.chip20000,i.chip50000,i.chip100000,i.chip200000,i.chip500000,i.chip1000k,i.chip2000k,i.chip5000k,i.chip10000k,i.chip20000k,i.chip50000k,i.chip100000k],i.chipListValue=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8],i.chipFilterValue=[],i.initChipUI(),i.initBtnUI(),i.initTxtStyle(),i.initLimitTxtUI(),i.initAddListen(),i.init(),i}t.CustomChipPanel=i}(Chip=Chip||{}),!function(t){e=Chip.CustomChipPanel,__extends(n,e),n.prototype.initChipUI=function(){for(var t=["1","2","5","10","20","50","100","200","500","1000","2000","5000","10000","20000","50000","100000","200000","500000","1000K","2000K","5000K","10000K","20000K","50000K","100000K"],e=0;e<this.chipListMC.length;e++)this.chipListMC[e]=new Chip.ChipUI("Multiple_chip"+String(t[e]),0,"up","Multiple_Chip_down"),this.chipListMC[e].name=String(this.chipListValue[e]),this.customChipSpr.addChild(this.chipListMC[e])},n.prototype.initBtnUI=function(){this.leftBtn=new ShareUI.Button("Multiple_ChipL"),this.leftBtn.name="leftBtn",this.customChipSpr.addChild(this.leftBtn),this.rightBtn=new ShareUI.Button("Multiple_ChipR"),this.rightBtn.name="rightBtn",this.customChipSpr.addChild(this.rightBtn),this.customBtn=new ShareUI.Button("Multiple_ChipSetting"),this.addChild(this.customBtn),this.setTip()},n.prototype.setTip=function(){new Tools.Tip(this).addTip(this.customBtn,IPL.DictManager.getDict("CHIP_SETTING"))};var e,i=n;function n(){return e.call(this,"Hor","Right")||this}t.CustomChipUI=i}(ChipMultiGamesStyle=ChipMultiGamesStyle||{}),function(){this._tweens={},this._tweensAddedDuringUpdate={}}),TWEEN=(_Group.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(t=void 0!==t?t:TWEEN.now();0<i.length;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var a=this._tweens[i[n]];a&&!1===a.update(t)&&(a._isPlaying=!1,e||delete this._tweens[i[n]])}i=Object.keys(this._tweensAddedDuringUpdate)}return!0}},new _Group),Scroll,Scroll,Scroll,Scroll,Scroll,Scroll,Scroll,Scroll,ShareUI,ShareMultiGames,ShareMultiGames,Model,SharePanel,VideoShare,SharePanel,SharePanel,ChipStack,ChipStack,ChipStack,SharePanel,ShareMultiGames,ShareMultiGames,SharePanel,ChipStack,BacShare,BacShare,BacLogicShare,BlockChainShare,BacMultiGames,MultiGames,BullLogicShare,BullShare,BullShare,BullLogicShare,BullMultiGames,MultiGames,DtfShare,DtfShare,DtfLogicShare,DtfMultiGames,MultiGames,PaiLogicShare,PaiShare,PaiLogicShare,PaiGowMultiGames,MultiGames,TrifaceLogicShare,TrifaceShare,TrifaceShare,TrifaceLogicShare,TrifaceMultiGames,MultiGames,SedieLogicShare,SedieShare,SedieShare,SedieShare,SeDieMultiGames,MultiGames,ThreeCardShare,ThreeCardLogicShare,ThreeCardShare,ThreeCardShare,ThreeCardMultiGames,MultiGames,RouShare,RouLogicShare,RouShare,RouShare,RouShare,RouShare,RouMultiGames,MultiGames,SicLogicShare,SicShare,SicShare,SicShare,SicBoMultiGames,MultiGames,FishSCLogicShare,FishSCShare,FishSCLogicShare,FishSCShare,FishSCShare,FishSCMultiGames,MultiGames,FishSCThLogicShare,FishSCThShare,FishSCThLogicShare,FishSCThShare,FishSCMultiGames,MultiGames,FantanLogicShare,FantanShare,FantanLogicShare,FantanShare,FantanShare,FanTanMultiGames,MultiGames,HiloShare,HiloLogicShare,HiloMultiGames,MultiGames,InsBacMultiGames,MultiGames,Tools,SharePanel,ChessBullShare,ChessMultiGames,ChessBullMultiGames,MultiGames,__extends=(TWEEN.Group=_Group,TWEEN._nextId=0,TWEEN.nextId=function(){return TWEEN._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?TWEEN.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?TWEEN.now=self.performance.now.bind(self.performance):void 0!==Date.now?TWEEN.now=Date.now:TWEEN.now=function(){return(new Date).getTime()},TWEEN.Tween=function(t,e){this._isPaused=!1,this._pauseStart=null,this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=TWEEN.Easing.Linear.None,this._interpolationFunction=TWEEN.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||TWEEN,this._id=TWEEN.nextId()},TWEEN.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?TWEEN.now()+parseFloat(t):t:TWEEN.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(void 0===this._valuesStart[e]&&(this._valuesStart[e]=this._object[e]),this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens()),this},end:function(){return this.update(1/0),this},pause:function(t){return!this._isPaused&&this._isPlaying&&(this._isPaused=!0,this._pauseStart=void 0===t?TWEEN.now():t,this._group.remove(this)),this},resume:function(t){return this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=(void 0===t?TWEEN.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this)),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,i,n,a,o,r;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=0===this._duration||1<i?1:i,n=this._easingFunction(i),this._valuesEnd)void 0!==this._valuesStart[e]&&(a=this._valuesStart[e]||0,(o=this._valuesEnd[e])instanceof Array?this._object[e]=this._interpolationFunction(o,n):"number"==typeof(o="string"==typeof o?"+"===o.charAt(0)||"-"===o.charAt(0)?a+parseFloat(o):parseFloat(o):o)&&(this._object[e]=a+(o-a)*n));if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1!=i)return!0;if(0<this._repeat){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)"string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo&&(r=this._valuesStartRepeat[e],this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r),this._valuesStart[e]=this._valuesStartRepeat[e];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,h=this._chainedTweens.length;s<h;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}},TWEEN.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-TWEEN.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*TWEEN.Easing.Bounce.In(2*t):.5*TWEEN.Easing.Bounce.Out(2*t-1)+.5}}},TWEEN.Interpolation={Linear:function(t,e){var i=t.length-1,n=i*e,a=Math.floor(n),o=TWEEN.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],n):1<e?o(t[i],t[i-1],i-n):o(t[a],t[i<a+1?i:a+1],n-a)},Bezier:function(t,e){for(var i=0,n=t.length-1,a=Math.pow,o=TWEEN.Interpolation.Utils.Bernstein,r=0;r<=n;r++)i+=a(1-e,n-r)*a(e,r)*t[r]*o(n,r);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,a=Math.floor(n),o=TWEEN.Interpolation.Utils.CatmullRom;return t[0]===t[i]?o(t[((a=e<0?Math.floor(n=i*(1+e)):a)-1+i)%i],t[a],t[(a+1)%i],t[(a+2)%i],n-a):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):1<e?t[i]-(o(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):o(t[a?a-1:0],t[a],t[i<a+1?i:a+1],t[i<a+2?i:a+2],n-a)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=TWEEN.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var n=[1];return function(t){var e=1;if(n[t])return n[t];for(var i=t;1<i;i--)e*=i;return n[t]=e}}(),CatmullRom:function(t,e,i,n,a){var t=.5*(i-t),n=.5*(n-e),o=a*a;return(2*e-2*i+t+n)*(a*o)+(-3*e+3*i-2*t-n)*o+t*a+e}}},!function(i){function t(){}t.init=function(t){var e;return null!=t.rate&&(t.rate=Math.max(0,t.rate),t.rate=Math.min(i.SliderView.MAX_RATE,t.rate)),t.rate=null!=(e=t.rate)?e:0,t.isHorizontal=null==(e=t.isHorizontal)||e,this.check(t),t},t.check=function(t){this.checkParts(t.base,"base"),this.checkParts(t.button,"button"),this.checkParts(t.mask,"mask"),this.checkParts(t.bar,"bar")},t.checkParts=function(t,e){if(null!=t){if(null===t.getBounds())throw new Error("SliderView : ".concat(e," 初始化錯誤"));t.parent}},i.SliderViewOption=t}(Scroll=Scroll||{}),!function(i){var n,t=PIXI.Container,a=PIXI.Point,o=(__extends(e,n=t),Object.defineProperty(e.prototype,"isHorizontal",{get:function(){return this._isHorizontal},enumerable:!1,configurable:!0}),e.prototype.init=function(t){t=i.SliderViewOption.init(t),this.base=t.base,this._bar=this.initBarAndMask(t.bar),this.slideButton=t.button,this._barMask=this.initBarAndMask(t.mask),this._bar&&this._barMask&&(this._bar.mask=this._barMask),this._minPosition=t.minPosition,this._maxPosition=t.maxPosition,this._isHorizontal=t.isHorizontal,this._rate=t.rate,this.changeRate(this._rate)},e.prototype.addChildParts=function(t){t&&(t.parent&&t.parent.removeChild(t),this.addChild(t))},e.prototype.changeRate=function(t){this.isDragging||(this._rate=t,t=this.convertRateToPixel(this._rate),this.updateParts(t),this.emit(i.SliderEventType.CHANGE,new i.SliderEventContext(this.rate)))},e.prototype.onPressedSliderButton=function(t){this.isDragging=!0;var e=t.currentTarget,t=t.data.global,t=this.toLocal(new a(t.x,t.y));this.dragStartPos=new a(t.x-e.x,t.y-e.y),this.on("pointermove",this.moveSlider),this.on("pointerup",this.moveSliderFinish),this.on("pointerupoutside",this.moveSliderFinish)},e.prototype.limitSliderButtonPosition=function(t){t=this.getMousePosition(this,t);return r.clamp(t,this._maxPosition,this._minPosition)},e.prototype.updateParts=function(t){this._bar&&!this._barMask&&r.setSize(this._bar,this._isHorizontal,Math.max(1,t-this._minPosition)),this._barMask&&r.setSize(this._barMask,this._isHorizontal,t-r.getPosition(this._barMask,this._isHorizontal)),this._slideButton&&r.setPosition(this._slideButton,this._isHorizontal,t)},e.prototype.onPressBase=function(t){this.dragStartPos=new a,this.moveSlider(t),this.emit(i.SliderEventType.CHANGE_FINISH,new i.SliderEventContext(this.rate))},e.prototype.convertRateToPixel=function(t){return r.convertRateToPixel(t,this._maxPosition,this._minPosition)},e.prototype.convertPixelToRate=function(t){return r.convertPixelToRate(t,this._maxPosition,this._minPosition)},e.prototype.getMousePosition=function(t,e){e=e.data.global,t=t.toLocal(new a(e.x,e.y));return this._isHorizontal?t.x-this.dragStartPos.x:t.y-this.dragStartPos.y},Object.defineProperty(e.prototype,"base",{set:function(t){var e=this;t&&(this._base=t,this._base.interactive=!0,this._base.on("pointertap",function(t){e.onPressBase(t)}),this.addChildParts(t))},enumerable:!1,configurable:!0}),e.prototype.initBarAndMask=function(t){if(null!=t)return t.interactive=!1,this.addChildParts(t),t},Object.defineProperty(e.prototype,"slideButton",{set:function(t){t&&(this._slideButton=t,this._slideButton.on("pointerdown",this.startMove),this._slideButton.interactive=!0,this._slideButton.buttonMode=!0,this.addChildParts(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rate",{get:function(){return this._rate},enumerable:!1,configurable:!0}),e.prototype.onDisposeFunction=function(t){this.removeAllListeners(),this._base.removeAllListeners(),this._slideButton.removeAllListeners(),this.removeChildren()},e.prototype.gotoBottom=function(){var t=this;clearInterval(this._moveTimer),this._moveTimer=setInterval(function(){t._rate+=.1,t.changeRate(t._rate),1<=t._rate&&(t.changeRate(1),clearInterval(t._moveTimer))},15)},e.prototype.gotoTop=function(){var t=this;clearInterval(this._moveTimer),this._moveTimer=setInterval(function(){t._rate-=.1,t.changeRate(t._rate),t._rate<=0&&(t.changeRate(0),clearInterval(t._moveTimer))},15)},e.MAX_RATE=1,e);function e(t){var e=n.call(this)||this;return e._isHorizontal=!0,e.dragStartPos=new a,e.isDragging=!1,e.startMove=function(t){e.onPressedSliderButton(t)},e.moveSlider=function(t){t=e.limitSliderButtonPosition(t);e.updateParts(t),e._rate=e.convertPixelToRate(t),e.emit(i.SliderEventType.CHANGE,new i.SliderEventContext(e.rate))},e.moveSliderFinish=function(t){e.isDragging=!1,e.removeListener("pointermove",e.moveSlider),e.removeListener("pointerup",e.moveSliderFinish),e.emit(i.SliderEventType.CHANGE_FINISH,new i.SliderEventContext(e.rate))},e.dispose=function(t){e.onDisposeFunction(t)},e.init(t),e.interactive=!0,e}i.SliderView=o;s.convertPixelToRate=function(t,e,i){return s.clamp((t-i)/(e-i)*o.MAX_RATE,o.MAX_RATE,0)},s.convertRateToPixel=function(t,e,i){return s.clamp((e-i)*t/o.MAX_RATE+i,e,i)},s.getPosition=function(t,e){return e?t.x:t.y},s.setPosition=function(t,e,i){t&&(e?t.x=i:t.y=i)},s.getSize=function(t,e){var i=t.getLocalBounds();return e?i.width*t.scale.x:i.height*t.scale.y},s.setSize=function(t,e,i){var n=t.getLocalBounds();e?t.scale.x=i/n.width:t.scale.y=i/n.height},s.clamp=function(t,e,i){return t=Math.max(t,i),t=Math.min(t,e)};var r=s;function s(){}i.SliderViewUtil=r}(Scroll=Scroll||{}),!function(t){(t.MouseWheelPluginEventType||(t.MouseWheelPluginEventType={})).WHEEL="wheel"}(Scroll=Scroll||{}),!function(t){(t=t.ScrollBarEventType||(t.ScrollBarEventType={})).UPDATE_TARGET_POSITION="ScrollBarEventType_UPDATE_TARGET_POSITION",t.STOP_INERTIAL_TWEEN="ScrollBarEventType_STOP_INERTIAL_TWEEN",t.IN_VIEW="IN_VIEW",t.DRAG="DRAG"}(Scroll=Scroll||{}),!function(a){i=PIXI.utils.EventEmitter,__extends(e,i),e.prototype.setlevel=function(t){this.level=t},e.prototype.start=function(){var t,e=this;this._isStart||(this.scrollBarView.targetContents.on("mouseover",function(t){e.inView=!0,e.emit(a.ScrollBarEventType.IN_VIEW,e.inView)}),this.scrollBarView.targetContents.on("mouseout",function(t){e.inView=!1,e.emit(a.ScrollBarEventType.IN_VIEW,e.inView)}),(t=document.getElementById("MyRenderer")).addEventListener("mousewheel",function(t){e.inView&&e.wheelHandler(t)}),t.addEventListener("DOMMouseScroll",function(t){e.inView&&e.wheelHandler(t)}),this._isStart=!0)},e.prototype.stop=function(){this.scrollBarView.targetContents.off(a.MouseWheelPluginEventType.WHEEL,this.wheelHandler),this._isStart=!1},e.prototype.scroll=function(t){var e=this.scrollBarView.targetContents,i=this.scrollBarView.contentsMask,n=this.scrollBarView.isHorizontal,t=a.SliderViewUtil.getPosition(e,n)+(0<t?this.level:-1*this.level);a.ScrollBarViewUtil.clampTargetPosition(e,i,t,n),this.emit(a.ScrollBarEventType.UPDATE_TARGET_POSITION),this.scrollBarView.emit(a.ScrollBarEventType.STOP_INERTIAL_TWEEN)};var i,t=e;function e(t){var e=i.call(this)||this,t=(e.delta=16,e.inView=!1,e.wheelHandler=function(t){t=0<t.deltaY?-e.delta:e.delta;e.scroll(t)},e.scrollBarView=t,e.scrollBarView.targetContents);return t.interactive=!0,t.interactiveMousewheel=!0,e.start(),e}a.MouseWheelScrollManager=t}(Scroll=Scroll||{}),!function(a){var e,n=PIXI.ticker,o=TWEEN.Tween,t=(e=PIXI.utils.EventEmitter,__extends(i,e),i.prototype.start=function(){this._isStart||(this._isStart=!0,this.scrollBarView.targetContents.on("pointerdown",this.onMouseDown),n.shared.add(function(t){TWEEN.update(performance.now())}),n.shared.add(this.onTick),n.shared.stop())},i.prototype.stop=function(){this._isStart&&(this._isStart=!1,this.scrollBarView.targetContents.off("pointerdown",this.onMouseDown),this.removeDragListener(),this.stopInertial(),n.shared.remove(this.onTick))},i.prototype.onMouseDownHandler=function(t){this.updateDragPos(t),this.isDragging=!0,this.speed=0,this.tween&&this.tween.stop(),this.emit(a.ScrollBarEventType.DRAG,this.isDragging),this.addDragListener()},i.prototype.addDragListener=function(){var t=this.scrollBarView.targetContents;t.on("pointermove",this.onMouseMove),t.on("pointerup",this.onMouseUp),t.on("pointerupoutside",this.onMouseUp)},i.prototype.removeDragListener=function(){var t=this.scrollBarView.targetContents;t.off("pointermove",this.onMouseMove),t.off("pointerup",this.onMouseUp),t.off("pointerupoutside",this.onMouseUp)},i.prototype.getDragPos=function(t){return a.SliderViewUtil.getPosition(t.data.global,this.scrollBarView.isHorizontal)},i.prototype.updateDragPos=function(t){this.dragPos=this.getDragPos(t)},i.prototype.onMouseMoveHandler=function(t){var e=this.getDragPos(t)-this.dragPos;this.speed=e,this.addTargetPosition(e*this.getOverflowDeceleration()),this.updateDragPos(t)},i.prototype.addTargetPosition=function(t){var e=this.scrollBarView.targetContents,i=this.scrollBarView.isHorizontal,n=a.SliderViewUtil.getPosition(e,i);a.SliderViewUtil.setPosition(e,i,n+t),this.emit(a.ScrollBarEventType.UPDATE_TARGET_POSITION)},i.prototype.onMouseUpHandler=function(t){this.removeDragListener(),this.isDragging=!1,this.emit(a.ScrollBarEventType.DRAG,this.isDragging)},i.prototype.getOverflowDeceleration=function(){var t=this.getLeaveRangeFromMask(),t=(this.overflowScrollRange-t)/this.overflowScrollRange;return t=t<0?0:t},i.prototype.getLeaveRangeFromMask=function(){var t=this.scrollBarView.targetContents,e=this.scrollBarView.isHorizontal,t=a.SliderViewUtil.getPosition(t,e),e=this.getClampedPos();return Math.abs(t-e)},i.prototype.getClampedPos=function(){var t=this.scrollBarView.targetContents,e=this.scrollBarView.isHorizontal;return a.ScrollBarViewUtil.getClampedTargetPosition(t,this.scrollBarView.contentsMask,e)},i);function i(t){var i=e.call(this)||this;return i.decelerationRate=.975,i.overflowScrollRange=180,i.speed=0,i.isDragging=!1,i.onMouseDown=function(t){var e;i.scrollBarView.targetContents.height>=i.scrollBarView.contentsMask.height&&(i.onMouseDownHandler(t),n.shared.started||(n.shared.start(),e=window.setInterval(function(){0==i.getLeaveRangeFromMask()&&(n.shared.stop(),window.clearInterval(e))},1e3)))},i.onMouseMove=function(t){i.onMouseMoveHandler(t)},i.onMouseUp=function(t){i.onMouseUpHandler(t)},i.onTick=function(){var t;i.isDragging||0===i.speed&&0===i.getLeaveRangeFromMask()||null!=(t=i.tween)&&t.isPlaying()||(t=i.getOverflowDeceleration(),i.speed*=i.decelerationRate*t,i.addTargetPosition(i.speed),.1<Math.abs(i.speed))||(i.speed=0,t={y:i.getClampedPos()},i.tween=new o(i.scrollBarView.targetContents).to(t,666).onUpdate(function(){i.emit(a.ScrollBarEventType.UPDATE_TARGET_POSITION)}).easing(TWEEN.Easing.Cubic.Out).start().onComplete(function(){n.shared.stop()}))},i.stopInertial=function(){i.speed=0,i.tween&&i.tween.stop(),n.shared.stop()},(i.scrollBarView=t).on(a.ScrollBarEventType.STOP_INERTIAL_TWEEN,i.stopInertial),i.scrollBarView.targetContents.interactive=!0,i.start(),i}a.InertialScrollManager=t}(Scroll=Scroll||{}),!function(o){a=o.SliderView,__extends(e,a),e.prototype.setChildVisible=function(){for(var t=this.targetContents.children[0].children,e=this.targetContents.y+this.contentsMask.y,i=0;i<t.length;i++)0<t[i].y&&(0!=t[i].pivot.y&&(t[i].y-t[i].pivot.y+t[i].height<Math.abs(e)||t[i].y-t[i].pivot.y+this.targetContents.y>this.contentsMask.y+this.contentsMask.height)||0==t[i].pivot.y&&(t[i].y+t[i].height<Math.abs(e)||t[i].y+this.targetContents.y>this.contentsMask.y+this.contentsMask.height)?t[i].visible=!1:t[i].visible=!0)},e.prototype.setLevel=function(t){this.wheelManager.setlevel(t)},e.prototype.init=function(t){a.prototype.init.call(this,t),this.initSliderButton()},e.prototype.limitSliderButtonPosition=function(t){var t=this.getMousePosition(this,t),e=this.getRangeOfSliderButtonPosition();return o.SliderViewUtil.clamp(t,e.max,e.min)},e.prototype.convertRateToPixel=function(t){var e=this.getRangeOfSliderButtonPosition();return o.SliderViewUtil.convertRateToPixel(t,e.max,e.min)},e.prototype.convertPixelToRate=function(t){var e=this.getRangeOfSliderButtonPosition();return o.SliderViewUtil.convertPixelToRate(t,e.max,e.min)},e.prototype.getRangeOfSliderButtonPosition=function(){var t=this.slideButtonSize;return{max:this._maxPosition-t/2,min:this._minPosition+t/2}},Object.defineProperty(e.prototype,"slideButtonSize",{get:function(){return this.updateSliderSize(),o.SliderViewUtil.getSize(this._slideButton,this.isHorizontal)},enumerable:!1,configurable:!0}),e.prototype.initSliderButton=function(){this._slideButton&&this._targetContents&&this._contentsMask&&(this.updateSliderSize(),this.updateSliderPosition(),0==this.listeners(o.SliderEventType.CHANGE).length)&&this.on(o.SliderEventType.CHANGE,this.updateContentsPosition)},e.prototype.updateSliderPosition=function(){var t=o.SliderViewUtil.getPosition,e=t(this._contentsMask,this.isHorizontal),t=t(this._targetContents,this.isHorizontal),i=o.SliderViewUtil.getSize,e=(e-t)/(i(this._targetContents,this.isHorizontal)-i(this._contentsMask,this.isHorizontal))*o.SliderView.MAX_RATE;this.changeRate(e)},e.prototype.updateSliderSize=function(){var t,e;this._targetContents&&this._contentsMask&&this._slideButton&&(t=this._maxPosition-this._minPosition,e=o.SliderViewUtil.getSize(this._targetContents,this.isHorizontal),e=t*o.SliderViewUtil.getSize(this._contentsMask,this.isHorizontal)/e,o.SliderViewUtil.setSize(this._slideButton,this.isHorizontal,e=t<e?t:e),this._slideButton.visible=this._slideButton.interactive=!this.isHide)},Object.defineProperty(e.prototype,"isHide",{get:function(){var t,e,i;return!!this.autoHide&&(t=this._maxPosition-this._minPosition,e=o.SliderViewUtil.getSize(this._targetContents,this.isHorizontal),i=o.SliderViewUtil.getSize(this._contentsMask,this.isHorizontal),e<0||i<0||t<0||o.SliderViewUtil.getSize(this._slideButton,this.isHorizontal)==t)},enumerable:!1,configurable:!0}),e.prototype.updateContentsPositionWithRate=function(t){t=o.SliderViewUtil.getPosition(this._contentsMask,this.isHorizontal)-t/o.SliderView.MAX_RATE*(o.SliderViewUtil.getSize(this._targetContents,this.isHorizontal)-o.SliderViewUtil.getSize(this._contentsMask,this.isHorizontal));o.SliderViewUtil.setPosition(this._targetContents,this.isHorizontal,t)},e.prototype.onPressedSliderButton=function(t){a.prototype.onPressedSliderButton.call(this,t),this.emit(o.ScrollBarEventType.STOP_INERTIAL_TWEEN)},e.prototype.onPressBase=function(t){this.isHide||(a.prototype.onPressBase.call(this,t),this.emit(o.ScrollBarEventType.STOP_INERTIAL_TWEEN))},Object.defineProperty(e.prototype,"targetContents",{get:function(){return this._targetContents},set:function(t){this._targetContents=t,this.initSliderButton()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentsMask",{get:function(){return this._contentsMask},set:function(t){this._contentsMask=t,this.initSliderButton()},enumerable:!1,configurable:!0}),e.prototype.onDisposeFunction=function(t){this.removeListener(o.SliderEventType.CHANGE,this.updateContentsPosition),this._targetContents=null,this._contentsMask=null,a.prototype.onDisposeFunction.call(this,t)};var a,t=e;function e(t,e,i){var n=a.call(this,t)||this;return n._isOver=!1,n._isInView=!1,n._isDown=!1,n.autoHide=!1,n.updateContentsPosition=function(t){n.updateContentsPositionWithRate(t.rate)},r.check(e),n.targetContents=e.targetContents,n.contentsMask=e.contentsMask,n.changeRate(t.rate),n.wheelManager=new o.MouseWheelScrollManager(n),n.wheelManager.on(o.ScrollBarEventType.UPDATE_TARGET_POSITION,function(){n.updateSliderPosition()}),i&&(n._slideButton.alpha=0,n.wheelManager.on(o.ScrollBarEventType.IN_VIEW,function(t){n._isInView=t,n._isInView||n._isDown||n.isDragging?n._slideButton.alpha=1:n._isInView||n._isOver||(n._slideButton.alpha=0)}),n._slideButton.on("pointerover",function(){n._isOver=!0,n._slideButton.alpha=1}),n._slideButton.on("pointerout",function(){n._isOver=!1,n._isInView||n.isDragging||(n._slideButton.alpha=0)}),n.on(o.SliderEventType.CHANGE_FINISH,function(){n._isInView||n._isOver||(n._slideButton.alpha=0)})),n}o.ScrollBarView=t;i.check=function(t){if(t.targetContents.mask,t.contentsMask,t.contentsMask.parent,t.contentsMask.parent,null===t.targetContents.getLocalBounds())throw new Error("ScrollBarView : 初始化targetContents錯誤");if(null===t.contentsMask.getLocalBounds())throw new Error("ScrollBarView : 初始化contentsMask錯誤。")};var r=i;function i(){}function n(){}o.ScrollBarViewInitOption=r,n.getClampedTargetPosition=function(t,e,i){var n=o.SliderViewUtil.getSize,a=n(t,i),n=n(e,i),e=Math.min(-a+n,0),a=o.SliderViewUtil.getPosition(t,i);return o.SliderViewUtil.clamp(a,0,e)},n.clampTargetPosition=function(t,e,i,n){o.SliderViewUtil.setPosition(t,n,i);i=this.getClampedTargetPosition(t,e,n);o.SliderViewUtil.setPosition(t,n,i)},o.ScrollBarViewUtil=n}(Scroll=Scroll||{}),!function(t){t.SliderEventContext=function(t){this.rate=t},(t=t.SliderEventType||(t.SliderEventType={})).CHANGE="event_slider_change",t.CHANGE_FINISH="event_slider_change_finish",t.ROLL_TO_TOP="ROLL_TO_TOP",t.ROLL_TO_BOTTOM="ROLL_TO_BOTTOM"}(Scroll=Scroll||{}),!function(t){var o,n=PIXI.Container,s=PIXI.Graphics,h=PIXI.Rectangle,e=(__extends(i,o=n),i.prototype.init=function(t,e,i,n){void 0===n&&(n=!1),this._scrollbarW=t,this._scrollbarH=this._containerH=e,this._contentsW=i,this._isLock=n},i.prototype.initWheel=function(t,e){switch(this._wheelType=t){case 0:this._wheelLv=this._containerH*e;break;case 1:this._wheelLv=e}},i.prototype.updateScrollBar=function(t){this._con.removeChildren(),t.height>this._containerH?(this._scrollbarH=t.height/2,this._scrollbar&&this._scrollbar.off(Scroll.SliderEventType.CHANGE,this._eveBar),this._scrollbar=null,this.addScoll(t),this.setWheel(t.height)):(this._scrollbar&&this._scrollbar.off(Scroll.SliderEventType.CHANGE,this._eveBar),this._scrollbar=null,this._scrollbarH=this._containerH,this._con.addChild(t))},i.prototype.setWheel=function(t){switch(this._wheelType){case 0:this._scrollbar.setLevel(this._wheelLv);break;case 1:this._scrollbar.setLevel(t*this._wheelLv)}},i.prototype.addScoll=function(t){var e=new n,i=(this._con.addChild(e),this._con.height=this._containerH,new s);i.beginFill(this._UISetting.bgColor,this._UISetting.bgAlpha),i.drawRoundedRect(0,0,this._contentsW,this._containerH,5),i.hitArea=new h(0,0,this._contentsW,this._containerH),e.addChild(i),this._scrollbar=new Scroll.ScrollBarView({base:this.getScrollBarBase(this._scrollbarW,this._containerH,255),button:this.getScrollBarButton(this._scrollbarW,this._UISetting.barColor),minPosition:0,maxPosition:this._containerH,rate:this._rate,isHorizontal:!1},this.getScrollBarOption(this._contentsW,this._scrollbarH,e,t),this._UISetting.isHover),this._con.addChild(this._scrollbar),this._scrollbar.x=e.x+this._contentsW,this._isLock||this._scrollbar.setChildVisible(),this._scrollbar.on(Scroll.SliderEventType.CHANGE,this._eveBar)},i.prototype.getScrollBarContents=function(t,e,i,n,a,o){void 0===a&&(a=1),void 0===o&&(o=!1);var r=new s;return r.beginFill(t,a),r.drawRoundedRect(0,0,e,i,5),o&&(r.hitArea=new h(0,0,e,i)),n.addChild(r),r},i.prototype.getScrollBarOption=function(t,e,i,n){return this.targetContents=this.getScrollBarContents(this._UISetting.conBgColor,t,2*e,i,this._UISetting.bgAlpha),this.targetContents.addChild(n),this.contentsMask=this.getScrollBarContents(255,t,this._containerH,i,.3,!0),this.targetContents.mask=this.contentsMask,{targetContents:this.targetContents,contentsMask:this.contentsMask}},i.prototype.rollScroll=function(t){this._rate=t.rate,1<this._rate?this.emit(Scroll.SliderEventType.ROLL_TO_BOTTOM):this._rate<0?this.emit(Scroll.SliderEventType.ROLL_TO_TOP):this._isLock||this._scrollbar.setChildVisible()},i.prototype.getScrollBarBase=function(t,e,i){var n=new s;return n.beginFill(i,0),n.drawRect(-t,0,t,e),n.hitArea=new h(0,0,t,e),n},i.prototype.getScrollBarButton=function(t,e){var i=new s;return i.beginFill(e),i.drawRect(-t/2,-t/2,t,t),i.hitArea=new h(-t/2,-t/2,t,t),i.x=-t/2,i},i.prototype.gotoBottom=function(){this._scrollbar.gotoBottom()},i.prototype.gotoTop=function(){this._scrollbar.gotoTop()},i);function i(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0);var a=o.call(this)||this;return a._rate=0,a._con=t,a._con.x=e,a._con.y=i,a._UISetting=n,a._eveBar=function(t){a.rollScroll(t)},a}t.QBar=e}(ShareUI=ShareUI||{}),!function(t){var i,c=PIXI.Text,e=PIXI.Sprite,r=PIXI.Container,n=(i=Composite.EventContainer,__extends(a,i),a.prototype.initUI=function(){this.titleBtn=new ShareUI.Button("Multiple_ChangeGame"),this.titleBtn.name="title",this.addChild(this.titleBtn),this.titleCon=new r,this.addChild(this.titleCon),this.titleSpr=new PIXI.Text("Live Game",this.style),this.titleCon.addChild(this.titleSpr),this.gameMoreSpr=PIXI.Sprite.fromFrame("Multiple_ChangeGameMore0000"),this.titleCon.addChild(this.gameMoreSpr),this.gameMoreSpr.x=116,this.gameMoreSpr.y=7,this.titleCon.x=(this.titleBtn.width-this.titleCon.width)/2,this.titleCon.y=(this.titleBtn.height-this.titleCon.height)/2,this.nowTable=[];for(var t=0;t<4;t++)this.nowTable[t]=new e,this.titleCon.addChild(this.nowTable[t])},a.prototype.initList=function(){this.classTitle=[],this.classCon=[],this.classList={},this.countTxt={},this.ChangeGameMore=[];var t=["NAME_3001","NAME_3008","NAME_3007","NAME_3003","HALL_OTHER"];this.listCon=new r,this.listCon.visible=!0;for(var e=0;e<this.classStr.length;e++){this.classTitle[e]=new ShareUI.Button("Multiple_TopList"),this.classTitle[e].name=this.classStr[e];for(var i,n=new PIXI.Text(IPL.DictManager.getDict(t[e]),this.style),a=(n.x=14,n.y=(this.classTitle[e].height-n.height)/2,this.classTitle[e].x=0,this.classTitle[e].addChild(n),this.ChangeGameMore[e]=PIXI.Sprite.fromFrame("Multiple_ChangeGameMore0000"),this.ChangeGameMore[e].x=290,this.ChangeGameMore[e].y=20,this.ChangeGameMore[e].anchor.set(.5),this.classTitle[e].addChild(this.ChangeGameMore[e]),this.listCon.addChild(this.classTitle[e]),this.classCon[e]=new r,VideoAssetManager.Informantion.settingData.sort[this.classStr[e]]),o=0;o<a.length;o++)-1!=this.keyList.indexOf(a[o])&&-1!=VideoAssetManager.Informantion.settingData.lobbyList.indexOf(a[o])&&(this.classList[a[o]]=new ShareUI.Button("Multiple_OpenList",!0),this.classList[a[o]].name=a[o],i=a[o].split("-"),(i=new c(IPL.DictManager.getDict("NAME_"+i[0]),{fontFamily:"Arial",fontWeight:"bold",fontSize:"18px",fill:"#F7E4D9"})).name="gameName",Tools.AdjustText.adjustFontSize(i,18,100),i.x=54,i.y=(this.classList[a[o]].height-i.height)/2,this.classList[a[o]].addChild(i),this.classCon[e].x=0,this.classCon[e].addChild(this.classList[a[o]]),this.countTxt[a[o]]=new c("0",{fontFamily:"Arial",fontWeight:"bold",fontSize:"18px",fill:"#CC0000"}),this.countTxt[a[o]].x=22,this.countTxt[a[o]].y=(this.classList[a[o]].height-this.countTxt[a[o]].height)/2,this.countTxt[a[o]].anchor.set(.5,0),this.classList[a[o]].addChild(this.countTxt[a[o]]));0!=e&&(this.classCon[e].visible=!1),this.listCon.addChild(this.classCon[e])}this._Container=new r,this._Container.visible=!1;this._scrollBar=new ShareUI.QBar(this._Container,-57,this.titleBtn.y+this.titleBtn.height+3,{isHover:!0,barColor:8612677,bgAlpha:1,conBgColor:10717302,bgColor:8547678}),this._scrollBar.init(7,720,315,!0),this._scrollBar.initWheel(0,.35),this.addChild(this._scrollBar),this.setListPos()},a.prototype.setModel=function(a){var o,r,s=this,h=(this.gModel=a,VideoAssetManager.Informantion.settingData.lobbyList),l=this;for(r in h)!function(){o=h[r].split("-");var t,e,i,n=a.getModel(o[0],o[1]);n&&(t=n.getGameCodeName(),l.classList[h[r]].children[0].text=IPL.DictManager.getDict("NAME_"+o[0])+" "+t,l.setMaintainInfo(n.getMt(),h[r]),n.addEventListener(VideoShare.LiveGameEvent.ON_MAINTAIN_INFO,function(){return s.setMaintainInfo(n.getMt(),n.getGameType()+"-"+n.getGameCode())}),""===n.getGameInfo().getCountdown()?(l.classList[h[r]].setMouseStatus(!1),(t=new PIXI.Graphics).beginFill(0,.6),t.drawRect(0,0,l.classList[h[r]].width,l.classList[h[r]].height),l.classList[h[r]].addChild(t),(i=PIXI.Sprite.fromImage("Multiplel_MaintainIcon0000")).anchor.set(.5),i.x=t.width/2,i.y=t.height/2,i.scale.set(.5),t.addChild(i)):"3023"!=o[0]&&"3024"!=o[0]&&"3041"!=o[0]||(l.countTxt[h[r]].visible=!1,(t=new u).visible=!0,t.x=5,t.y=11,l.classList[h[r]].addChild(t),t.setLight(),VideoAssetManager.Informantion.settingData.switch.chessCard&&((e=new PIXI.Graphics).beginFill(0,.6),e.drawRect(0,0,l.classList[h[r]].width,l.classList[h[r]].height),l.classList[h[r]].addChild(e),e.visible=!1,i=new c(IPL.DictManager.getDict("CHESS_SINGLE_SELECT")+"，"+IPL.DictManager.getDict("CHESS_CLICK_CHANGE"),{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffcd86",fontWeight:"bold"}),Tools.AdjustText.adjustFontSize(i,16,300),i.x=l.classList[h[r]].width/2,i.y=l.classList[h[r]].height/2,i.anchor.set(.5),e.addChild(i),l.classList[h[r]].on("mouseover",function(){-1==s.nowGame.indexOf("3024-1")&&-1==s.nowGame.indexOf("3023-1")&&-1==s.nowGame.indexOf("3041-1")&&-1==s.nowGame.indexOf("3041-2")&&-1==s.nowGame.indexOf("3041-3")||(e.visible=!0)}),l.classList[h[r]].on("mouseout",function(){e.visible=!1}))))}();this.gModel.addEventListener(VideoShare.LiveGameEvent.GAME_INFO,this.CountDownEvent)},a.prototype.updateCountDown=function(t){for(var e in t.data){var i=0;null!=t.data[e].cd&&(i=t.data[e].cd),this.txtMaintainInfo[e]&&this.txtMaintainInfo[e].visible&&(i=0),null!=this.countTxt[e]&&(this.countTxt[e].style.fill=i<=6?"#CC0000":"#F7E4D9",this.countTxt[e].text=i)}},a.prototype.initAddListen=function(){var e=this;this.interactive=!0,CheckSize.GameStyle.stage.interactive=!0,this._Container.interactive=!0,DeviceAndEnvironment.Device.isMobile()?(this.on("touchstart",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("touchstart",function(t){e.onStageClick(t)})):(this.on("mousedown",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("mousedown",function(t){e.onStageClick(t)}),this.on("touchstart",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("touchstart",function(t){e.onStageClick(t)})),this.titleEvent=function(t){e.titleOpen(t)};for(var t,i=0;i<this.classStr.length;i++)DeviceAndEnvironment.Device.isMobile()||this.classTitle[i].on("click",this.titleEvent),this.classTitle[i].on("tap",this.titleEvent);for(t in DeviceAndEnvironment.Device.isMobile()||this.titleBtn.on("click",this.titleEvent),this.titleBtn.on("tap",this.titleEvent),this.listEvent=function(t){e.clickList(t)},this.classList)DeviceAndEnvironment.Device.isMobile()||this.classList[t].on("click",this.listEvent),this.classList[t].on("tap",this.listEvent)},a.prototype.onLocalclicked=function(t){this._isLocalClick=!0},a.prototype.onStageClick=function(t){this._isLocalClick||this.checkPanel(),this._isLocalClick=!1},a.prototype.checkPanel=function(t){void 0===t&&(t=""),!this._Container.visible||""!=t&&null!=t||(this._Container.visible=!1),this.removeChild(this._Container)},a.prototype.titleOpen=function(t){var e=t.currentTarget;if("title"==e.name)this._Container.visible=!this._Container.visible,this._Container.visible?this.addChild(this._Container):this.removeChild(this._Container);else{for(var i=0;i<this.classTitle.length;i++)this.classTitle[i].name==e.name&&(this.classCon[i].visible=!this.classCon[i].visible);this.setListPos()}},a.prototype.chessUI=function(e,t){var i=this,n=(this.chessPanel=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChild(this.chessPanel),this.chessPanel.height9=300,this.chessPanel.width9=400,this.chessPanel.x=-100,this.chessPanel.y=310,new ShareUI.Button("MultipleHall_ChessBtn")),a=PIXI.Sprite.fromImage("MultipleHall_ChessEnter0000"),a=(a.x=50,a.y=2.5,n.addChild(a),n.x=215,n.on("click",function(){var t=new VideoShare.HallEvent(VideoShare.HallEvent.ON_SELECT_GAME);t.status=e,t.data={btnType:1},i.event.dispatchEvent(t),i.removeChild(i.chessPanel),i.chessPanel=null}),this.chessPanel.addChild(n),new ShareUI.Button("MultipleHall_ChessBtn")),o=PIXI.Sprite.fromImage("MultipleHall_ChessCancel0000"),o=(o.x=50,o.y=2.5,a.addChild(o),a.x=50,a.on("click",function(){i.removeChild(i.chessPanel),i.chessPanel=null}),this.chessPanel.addChild(a),a.y=n.y=185,new c(IPL.DictManager.getDict("CHESS_SELECTED").replace("XXXX",this.classList[t].children[0].text)+"， "+IPL.DictManager.getDict("CHESS_CHANGE_SELECTED").replace("XXXX",this.classList[e].children[0].text),{fontFamily:"微軟正黑體",fontSize:"22px",fill:"#ffcd86",fontWeight:"bold",wordWrap:!0,wordWrapWidth:350}));o.x=200,o.y=120,o.anchor.set(.5),this.chessPanel.addChild(o)},a.prototype.clickList=function(t){if(this._Container.visible=!1,VideoAssetManager.Informantion.settingData.switch.chessCard){for(var e=VideoAssetManager.Informantion.settingData.switch.chessCard,i="0",n="0",a=0;a<e.length;a++)t.currentTarget.name==e[a]&&(i=t.currentTarget.name),-1!=this.nowGame.indexOf(e[a])&&(n=e[a]);"0"!=i&&"0"!=n?this.chessPanel||this.chessUI(i,n):this.selectPass(t)}else this.selectPass(t)},a.prototype.selectPass=function(t){var e,t=t.currentTarget;this._Container.visible=!1,this.removeChild(this._Container),(e=new VideoShare.HallEvent(VideoShare.HallEvent.ON_SELECT_GAME)).status=t.name,this.event.dispatchEvent(e)},a.prototype.setGameKeyList=function(t){this.keyList=t,this.initList(),this.initAddListen()},a.prototype.setMaintainInfo=function(t,e){var i,n=this.classList[e].getChildByName("gameName");"1"==t?(this.classList[e]&&this.classList[e].setStatus("no"),this.classList[e].autoMouseStatus=!1,n.style={fontFamily:"Arial",fontWeight:"normal",fontSize:"14px",fill:"#F7E4D9"},n.y=3,this.txtMaintainInfo[e]||(this.txtMaintainInfo[e]=new PIXI.Text("",{fontFamily:"Arial",fontWeight:"normal",fontSize:"14px",fill:"#000000"}),this.txtMaintainInfo[e].x=54,this.txtMaintainInfo[e].y=n.height+5,this.classList[e].addChild(this.txtMaintainInfo[e])),t=this.gModel.getModel(e.split("-")[0],e.split("-")[1]).getMtst(),i=this.gModel.getModel(e.split("-")[0],e.split("-")[1]).getMtet(),null!=t&&null!=i&&(this.txtMaintainInfo[e].text=IPL.DictManager.getDict("GAME_MAINTAIN")+"："+(t?t.substr(5):"")+" - "+(i?i.substr(5):"")),this.txtMaintainInfo[e].visible=!0):(this.classList[e].setStatus("up"),this.classList[e].autoMouseStatus=!0,n.style={fontFamily:"Arial",fontWeight:"bold",fontSize:"18px",fill:"#F7E4D9"},n.y=(this.classList[e].height-n.height)/2,this.txtMaintainInfo[e]&&(this.txtMaintainInfo[e].visible=!1)),this.setMaintainSort()},a.prototype.setSelectList=function(t){this.nowGame=t;for(var e=VideoAssetManager.Informantion.settingData.sort,i=0;i<this.ChangeGameMore.length;i++)this.ChangeGameMore[i].visible=!1;for(var n=0;n<this.classStr.length;n++)for(var a=e[this.classStr[n]],o=0,r=0;r<a.length;r++)null!=this.classList[a[r]]&&(-1!=t.indexOf(a[r])?(this.classList[a[r]].visible=!1,this.classList[a[r]].y=0):(this.classList[a[r]].visible=!0,this.classList[a[r]].y=39*o,o++,this.ChangeGameMore[n].visible=!0));this.setListPos()},a.prototype.setNowGame=function(t,e){for(var i=t.split("-"),n=(IPL.UrlParameter.lang,this.gameMoreSpr.visible=!1,this.titleSpr.text=IPL.DictManager.getDict("NAME_"+i[0])+" "+e,this.resetTableNum(),e.split(""),this.titleCon.x=(this.titleBtn.width-this.titleCon.width)/2,this.titleCon.y=(this.titleBtn.height-this.titleCon.height)/2,VideoAssetManager.Informantion.settingData.sort),a=0;a<this.classStr.length;a++)-1!=n[this.classStr[a]].indexOf(t)?this.classCon[a].visible=!0:this.classCon[a].visible=!1;this.titleCon.scale.set(1),200<this.titleCon.width&&this.titleCon.scale.set(Number((198/this.titleCon.width).toFixed(2))),this.titleCon.x=(this.titleBtn.width-this.titleCon.width)/2,this.titleCon.y=(this.titleBtn.height-this.titleCon.height)/2,this.setListPos()},a.prototype.setListPos=function(){this.chessPanel&&(this.removeChild(this.chessPanel),this.chessPanel=null);VideoAssetManager.Informantion.settingData.sort;for(var t=0;t<this.classTitle.length;t++)0==this.ChangeGameMore[t].visible?(this.classCon[t].visible=!1,this.classTitle[t].visible=!1):this.classTitle[t].visible=!0,0==t?this.classTitle[t].y=0:(this.classCon[t-1].visible?this.classTitle[t].y=this.classCon[t-1].y+this.classCon[t-1].height-1:this.classTitle[t].y=this.classTitle[t-1].y+this.classTitle[t-1].height-1,this.classTitle[t-1].visible||(this.classTitle[t].y=this.classTitle[t-1].y)),this.classCon[t].visible?this.classCon[t].y=this.classTitle[t].y+this.classTitle[t].height-1:this.classCon[t].y=0,this.classCon[t].visible?this.ChangeGameMore[t].rotation=Math.PI/180*180:this.ChangeGameMore[t].rotation=Math.PI/180*0;this.listCon.height;this._scrollBar.updateScrollBar(this.listCon)},a.prototype.setMaintainSort=function(){for(var t=VideoAssetManager.Informantion.settingData.sort,e=0;e<this.classStr.length;e++){for(var i,n,a=t[this.classStr[e]],o=0,r=[],s=0;s<a.length;s++)null!=this.classList[a[s]]&&(i=a[s].split("-"),i=this.gModel.getModel(i[0],i[1]),this.nowGame&&-1!=this.nowGame.indexOf(a[s])?(this.classList[a[s]].visible=!1,this.classList[a[s]].y=0):"1"==i.getMt()?r.push(a[s]):(this.classList[a[s]].visible=!0,this.classList[a[s]].y=39*o,o++,this.ChangeGameMore[e].visible=!0));for(n in r)this.classList[r[n]].visible=!0,this.classList[r[n]].y=39*o,o++,this.ChangeGameMore[e].visible=!0}},a.prototype.reset=function(){this.titleSpr.text="Live Game",this.gameMoreSpr.visible=!0,this.resetTableNum(),this.titleCon.x=(this.titleBtn.width-this.titleCon.width)/2,this.titleCon.y=(this.titleBtn.height-this.titleCon.height)/2,this.listCon.visible&&(this._Container.visible=!1,this.removeChild(this._Container))},a.prototype.resetTableNum=function(){for(var t=0;t<this.nowTable.length;t++)this.nowTable[t].visible=!1},a);function a(){var e=i.call(this)||this;return e.englishMach=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.tableTexture="Multiple_ changeTxt",e.numTexture="Multiple_ changeNum",e.classStr=["bac","sic","rou","dtf","other"],e.txtMaintainInfo={},e.style=new PIXI.TextStyle({dropShadow:!0,dropShadowAngle:0,dropShadowBlur:2,dropShadowColor:"#8b5b18",dropShadowDistance:1,fill:["#ffd2b9","#fff1d7"],fontSize:22,fontFamily:"微軟正黑體",fontWeight:"500",lineJoin:"bevel",miterLimit:0,stroke:"#8b5b18",strokeThickness:.3}),e.initUI(),e.CountDownEvent=function(t){e.updateCountDown(t)},e}t.GameListPanel=n;__extends(s,o=e),s.prototype.initUI=function(){this.arrArrow=[];for(var t=0;t<3;t++)this.arrArrow[t]=e.fromImage("Multiple_CheckerboardIcon0000"),this.addChild(this.arrArrow[t]),this.arrArrow[t].x=10*t},s.prototype.setLight=function(){for(var t=this.arrArrow.length,e=0;e<t;e++)this.arrArrow[e].alpha=0;this.lightNum=0,this.lightTimer.restart()},s.prototype.onLightInterval=function(){for(var t=this.arrArrow.length,e=this.lightNum,i=0;i<t;i++)5<=e||i>this.lightNum?this.arrArrow[i].alpha=0:this.arrArrow[i].alpha=1-.2*e,e--;this.lightNum++,11==this.lightNum&&(this.lightNum=0)};var o,u=s;function s(){var t=o.call(this)||this;return t.lightNum=0,t.lightTimer=new TimelineMax({paused:!0,repeat:-1,repeatDelay:.13,onRepeat:function(){t.onLightInterval()}}),t.initUI(),t}}(ShareMultiGames=ShareMultiGames||{}),!function(n){var t,a=PIXI.Container,e=(t=Composite.EventContainer,__extends(i,t),i.prototype.initUI=function(){for(var t=1;t<=2;t++){var e=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BetBG","b"+String(t));this.addChild(e)}this.frame=[];for(t=1;t<=2;t++)this.frame[t-1]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BetFrameS","l"+String(t)),this.addChild(this.frame[t-1]);var i=PIXILayoutTool.DisplayObject.createImage("Multiple_BetFrameB"),i=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_LiveDealerBG")),i=(this.addChild(i),DeviceAndEnvironment.Device.iOS(),this._videoTagPanel=new VideoShare.LiveVideoTag(VideoShare.LiveVideoTag.WXINLINE,"v1"),this._videoTagPanel.setSize(444,247),this._videoTagPanel.x=14,this._videoTagPanel.y=48,this._videoTagPanel.setPos(13,48),this._videoCloseText=new PIXI.Text(IPL.DictManager.getDict("VIDEO_OFF"),{fontFamily:"微軟正黑體",fontSize:"30px",fill:"#E9BF8B"}),this._videoCloseText.x=235,this._videoCloseText.y=150,this._videoCloseText.anchor.x=.5,this._videoCloseText.visible=!1,this.addChild(this._videoCloseText),this._gameContainer=new a,new ChipMultiGamesStyle.CustomChipUI);i.x=20,i.y=633,i.setChipNum(5,11,14,12),i.setSize(.86),this._toolBarPanel=new n.GamesToolPanel,this._gameListPanel=new n.GameListPanel,this.addChild(this._gameListPanel),this._gameListPanel.x=134,this._gameListPanel.y=10,this._mixChipSelectPanel=new Chip.CustomSelectPanel(i,MultiGames.Main.selectChip),this._gameListPanel.event.addEventListener(VideoShare.HallEvent.ON_SELECT_GAME,this.changeEvent)},i.prototype.initAddListen=function(){var e=this;this._videoTagPanel.event.addEventListener(VideoShare.VideoGameEvent.VIDEO_PING,this.videoGEvent),this._toolBarPanel.event.addEventListener(VideoShare.VideoGameEvent.SEND_TIP,this.videoGEvent),this._toolBarPanel.event.addEventListener(VideoShare.ToolBarEvent.VIDEO_SWITCH,this.toolEvent),this._toolBarPanel.event.addEventListener(VideoShare.ToolBarEvent.BET_HISTORY,this.toolEvent),this._toolBarPanel.event.addEventListener(VideoShare.ToolBarEvent.HELP,this.toolEvent),this.interactive=!0,DeviceAndEnvironment.Device.isMobile()?this.on("touchstart",function(t){e._toolBarPanel.onStageClick(t)}):this.on("pointerdown",function(t){e._toolBarPanel.onStageClick(t)})},i.prototype.setSubModel=function(t){this._subModel=t,this.onInfoReady()},i.prototype.setfirVideoName=function(t){this._videoName=t},i.prototype.setGameModel=function(t){var e=this;null==this._gameModel&&(this._gameModel=t,this._gameListPanel.setModel(t),this._gameModel.addEventListener(VideoShare.LiveGameEvent.CHANGE_CREDIT,function(){e.onUpDateCredit()}))},i.prototype.initMaintainUI=function(){this.maintainInfo=new PIXI.Container,this.maintainInfo.x=236,this.maintainInfo.y=150,this.maintainInfo.interactive=!1,this.addChildAt(this.maintainInfo,this.getChildIndex(this._gameListPanel));var t=new PIXI.Text(IPL.DictManager.getDict("GAME_MAINTAIN"),{fontFamily:"微軟正黑體",fontSize:"32px",fill:"#ffcd86"});t.anchor.set(.5),this.maintainInfo.addChild(t),this.maintainTxt=new PIXI.Text("4/22 00:00 - 4/22 00:00",{fontFamily:"微軟正黑體",fontSize:"24px",fill:"#ffffff"}),this.maintainTxt.y=40,this.maintainTxt.anchor.set(.5),this.maintainInfo.addChild(this.maintainTxt),this.maintainInfo.visible=!1},i.prototype.setMaintainInfo=function(t){"1"==(this._mt=t)?(this.maintainInfo||this.initMaintainUI(),this.maintainInfo.visible=!0,this._videoTagPanel.visible=!1,this._videoCloseText.visible=!1,this._toolBarPanel.setPingIcon(!1),i=this._subModel.getMtst(),e=this._subModel.getMtet(),null!=i&&null!=e&&(this.maintainTxt.text=(i?i.substr(5):"")+" - "+(e?e.substr(5):""))):(this.maintainInfo&&(this.maintainInfo.visible=!1),this._videoTagPanel.visible=!0,this._videoCloseText.visible=!1,-1==VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(this._gameType)&&this._toolBarPanel.setPingIcon(!0));var e,i=new H5Event.H5BaseEvent("MAINTAIN_VIDEOBTN_SWITCH");i.gametype=this._gameType,i.gamecode=this._gameCode,i.maintain=t,this.event.dispatchEvent(i)},i.prototype.setVideoPlay=function(t){"1"!=this._mt&&(this._videoTagPanel.visible=t,this._videoCloseText.visible=!t,0==t?(this._videoTagPanel.closeVideo(),this._toolBarPanel.setBtnStatus("videoSwitch",!1),this.isPlay=!1):(t=Object.keys(VideoAssetManager.Informantion.settingData.novideo_focus),this.isPlay=!0,this.playVideo(),-1!=t.indexOf(this._gameType)&&(VideoAssetManager.Informantion.settingData.novideo_focus[this._gameType],-1!=VideoAssetManager.Informantion.settingData.novideo_focus[this._gameType].indexOf(this._gameCode))?this._toolBarPanel.setBtnStatus("videoSwitch",!1):this._toolBarPanel.setBtnStatus("videoSwitch",!0)))},i.prototype.onUpDateCredit=function(){var t=this._gameModel.getUserInfo();this._toolBarPanel.updateCredit(t.getCredit())},i.prototype.setGameKeyList=function(t){this._gameListPanel.setGameKeyList(t)},i.prototype.setSelectList=function(t){this._gameListPanel.setSelectList(t),this._gameListPanel.setMaintainSort(),this._gameKey=t},i.prototype.setNowGame=function(t,e,i){null!=this.nowGame&&this.nowGame.parent==this._gameContainer&&(this._videoTagPanel.closeVideo(),this.nowGame.removeHandle(),this._gameContainer.removeChild(this.nowGame),this.removeChild(this._gameContainer),this.removeChild(this._toolBarPanel),this.bcConfig)&&-1!=this.bcConfig.indexOf(this._gameType)&&this.unsubscribe(this._gameType+"-"+this._gameCode),this._gameType=e,this._gameCode=i,this._nowVideo=0,this.nowGame=t,this.nowGame.setType("multi"),this.nowGame.setToolBar(this._toolBarPanel),this.onUpDateCredit(),this.nowGame.setCustomSelectPanel(this._mixChipSelectPanel),this.nowGame.setGameModel(this._subModel,this._gameModel),this._subModel.addEventListener(VideoShare.LiveGameEvent.ON_MAINTAIN_INFO,this.toolEvent),this.bcConfig&&-1!=this.bcConfig.indexOf(this._gameType)&&(this.subscribe(this._gameType+"-"+this._gameCode),this.getHash(this._gameType+"-"+this._gameCode)),this._gameListPanel.setNowGame(this._gameType+"-"+this._gameCode,this._subModel.getGameCodeName()),this.setVideoSetting(),this.setChipRange(),this.setMaintainInfo(this._subModel.getMt()),this._gameContainer.addChild(this.nowGame),this.addChildAt(this._gameContainer,this.getChildIndex(this._gameListPanel)),this.addChild(this._toolBarPanel),"3023"==this._gameType||"3024"==this._gameType||"3041"==this._gameType?this.frame[0].visible=!1:this.frame[0].visible=!0},i.prototype.getHash=function(t){var e=new Object;e.game=[t],this._gameModel.getHash(e)},i.prototype.subscribe=function(t){var e=new Object;e.pubSub=[t],this._gameModel.subscribe(e)},i.prototype.unsubscribe=function(t){var e=new Object;e.pubSub=[t],this._gameModel.unsubscribe(e)},i.prototype.onSetChip=function(e){try{this._chipList=this._subModel.getUserInfo().getChipList()}catch(t){this._chipList=e.data.chipList}this.setChipRange()},i.prototype.setVideoIP=function(t){this._toolBarPanel.setVideoPing(9999),this._videoName=t.videolabel,this.playVideo()},i.prototype.setVideo=function(t){this.isPlay&&(null!=t.data.video0?this._videoTagPanel.playVideoWithUrl(t.data.video0):null!=t.data.video1?this._videoTagPanel.playVideoWithUrl(t.data.video1):null!=t.data.videosd&&this._videoTagPanel.playVideoWithUrl(t.data.videosd))},i.prototype.playVideo=function(){var t,e,i;null!=this.nowGame&&(this._videoTagPanel.setFocusInfo(null),"3041"==(t="3024"==(t="3023"==(t=this._subModel.getGameType())?"3012":t)?"3005":t)&&(t="3012"),e=this._subModel.getGameCode(),"3001"==t&&57<=Number(e)&&Number(e)<=61?VideoAssetManager.Informantion.videoSettingData.focusInfo.bacTableList[e].isOpen?(this._videoArr=["videosd","videosd"],1===this._nowVideo&&this._videoTagPanel.setFocusInfo(VideoAssetManager.Informantion.videoSettingData.focusInfo.bacTableList[e])):this._videoArr=["videosd"]:"3001"==t&&62<=Number(e)&&Number(e)<=64||"3001"==t&&65<=Number(e)&&Number(e)<=68||"3001"==t&&99==Number(e)?this._videoArr=["video0"]:"3001"==t&&69<=Number(e)&&Number(e)<=71?this._videoArr=["videosd"]:"3001"==t&&72<=Number(e)&&Number(e)<=76?this._videoArr=["video0"]:"3001"==t&&77<=Number(e)&&Number(e)<=81||"3001"==t&&88<=Number(e)&&Number(e)<=92?this._videoArr=["video0","video1"]:this._videoArr="3007"==t&&"5"==e?["videosd","video1"]:"3007"==t&&"6"==e||"3007"==t&&"7"==e?["video0"]:("3008"!=t||"6"!=e)&&"3003"==t&&"7"==e?["videosd"]:["video0","video1"],-1==VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(t))&&this.isPlay&&((i=new H5Event.H5BaseEvent("VIDEO_PLAYIP")).gametype=t,i.gamecode=e,i.defaultIp=this._videoName,i.video=this._videoArr[this._nowVideo],this.event.dispatchEvent(i))},i.prototype.onInfoReady=function(){var t=this._subModel.getUserInfo();this._firstInit&&(this._firstInit=!1,"Y"==t.getLobby3Tip()&&(this._toolBarPanel.initTipPanel(),this._toolBarPanel.setTipInfo(t.getDealerTip())),""!=t.getSixChip()&&this._mixChipSelectPanel.getPerSetChip()!=parseInt(t.getPreSetChip())&&(this._mixChipSelectPanel.setSixChip(t.getSixChip()),this._mixChipSelectPanel.setPreSetChip(t.getPreSetChip())),this.initAddListen()),this._chipList=t.getChipList()},i.prototype.setChipRange=function(){for(var t,e,i,n,a=new ShareLogic.ChipLimitRange,o=0;o<this._gameKey.length;o++)if(null!=this._gameKey[o]){var r=this._gameKey[o].split("-"),s=void 0;if(null!=(s="3001"!=r[0]&&"3002"!=r[0]&&"3003"!=r[0]&&"3005"!=r[0]&&"3006"!=r[0]&&"3007"!=r[0]&&"3008"!=r[0]&&"3010"!=r[0]&&"3011"!=r[0]&&"3012"!=r[0]&&"3015"!=r[0]&&"3016"!=r[0]&&"3017"!=r[0]&&"3018"!=r[0]&&"3019"!=r[0]&&"3020"!=r[0]&&"3021"!=r[0]&&"3025"!=r[0]&&"3026"!=r[0]&&"3027"!=r[0]&&"3028"!=r[0]&&"3029"!=r[0]&&"3030"!=r[0]&&"3031"!=r[0]&&"3032"!=r[0]&&"3033"!=r[0]&&"3034"!=r[0]&&"3036"!=r[0]&&"3037"!=r[0]&&"3038"!=r[0]&&"3039"!=r[0]&&"3040"!=r[0]&&"3042"!=r[0]&&"3043"!=r[0]&&"3044"!=r[0]&&"3045"!=r[0]&&"3046"!=r[0]&&"3047"!=r[0]&&"3048"!=r[0]&&"3050"!=r[0]?s:this._gameModel.getModel(r[0],r[1]).getLimiter())){var h=a.getChipString(s.getLimit("roundBetMin"),6),l=s.getLimit("roundBetMax");if(-1!=VideoAssetManager.Informantion.settingData.switch.roundBetGame.indexOf(r[0])){var c,u=s.getLimit("roundBetMin");for(c in s)-1==c.indexOf("Min")&&-1==c.indexOf("min")||s[c]<=u&&(u=s[c]);h=a.getChipString(u,6)}(null==i||h<i)&&(i=h),(null==n||n<l)&&(n=l),r[0]+"-"+r[1]==this._gameType+"-"+this._gameCode&&(t=h,e=l)}}if(this._subModel){for(var d=this._subModel.getUserInfo().getChipFilter().split(","),p=[],f=0;f<d.length;f++)p[f]=Number(d[f]);this._mixChipSelectPanel.setchipFilter(p)}this._mixChipSelectPanel.onBetLimit(this._chipList,t,e,i,n)},i.prototype.setVideoSetting=function(){this._videoTagPanel.setAudio(!1),-1!=VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(this._gameType)?this._toolBarPanel.setPingIcon(!1):(this._gameContainer.addChild(this._videoTagPanel),this._toolBarPanel.setPingIcon(!0))},i.prototype.handleChange=function(t){t.type===VideoShare.HallEvent.ON_SELECT_GAME&&(t.data={index:this.name},this.event.dispatchEvent(t.clone()))},i.prototype.handleVideoGameEvent=function(t){switch(t.type){case VideoShare.VideoGameEvent.SEND_TIP:this._subModel.sendTip(t);break;case VideoShare.VideoGameEvent.VIDEO_PING:null!=t.data.ping?this._toolBarPanel.setVideoPing(t.data.ping):null!=t.data.FPS&&this._toolBarPanel.setVideoFps(t.data)}},i.prototype.handleToolEvent=function(t){switch(t.type){case VideoShare.ToolBarEvent.VIDEO_SWITCH:this._nowVideo++,this._nowVideo==this._videoArr.length&&(this._nowVideo=0);var e=this._subModel.getGameCode();"3001"===this._subModel.getGameType()&&57<=Number(e)&&Number(e)<=61&&VideoAssetManager.Informantion.videoSettingData.focusInfo.bacTableList[e].isOpen?1===this._nowVideo?this._videoTagPanel.setFocusInfo(VideoAssetManager.Informantion.videoSettingData.focusInfo.bacTableList[e]):0===this._nowVideo&&this._videoTagPanel.setFocusInfo(null):this.playVideo();break;case VideoShare.ToolBarEvent.BET_HISTORY:IPL.UrlParameter.gotoBetHistory(this._gameType);break;case VideoShare.ToolBarEvent.HELP:IPL.UrlParameter.gotoRulePage(this._gameType,this._gameCode);break;case VideoShare.LiveGameEvent.ON_MAINTAIN_INFO:this.setMaintainInfo(t.status)}},i.prototype.removeHandle=function(){null!=this.nowGame&&this.nowGame.parent==this._gameContainer&&(this._videoTagPanel.closeVideo(),this.nowGame.removeHandle(),this._gameContainer.removeChild(this.nowGame),this.removeChild(this._gameContainer),this.removeChild(this._toolBarPanel),this.nowGame=null,this._subModel.removeEventListener(VideoShare.LiveGameEvent.ON_MAINTAIN_INFO,this.toolEvent),this.frame[0].visible=!0,this.maintainInfo)&&(this.maintainInfo.visible=!1),this.bcConfig&&-1!=this.bcConfig.indexOf(this._gameType)&&this.unsubscribe(this._gameType+"-"+this._gameCode),this._gameListPanel.reset()},i);function i(){var e=t.call(this)||this;return e._gameType="",e._gameCode="",e._gameKey=[],e._chipFilerClose=!1,e._videoName="",e._firstInit=!0,e._videoArr=["video0","video1"],e._mt="0",e.isPlay=!0,e.changeEvent=function(t){e.handleChange(t)},e.videoGEvent=function(t){e.handleVideoGameEvent(t)},e.toolEvent=function(t){e.handleToolEvent(t)},e.initUI(),e.bcConfig=VideoAssetManager.Informantion.settingData.switch.blockChain,e}n.GamesMain=e}(ShareMultiGames=ShareMultiGames||{}),!function(t){i=Composite.EventContainer,__extends(n,i),n.prototype.setModel=function(t,e){null!=(e=void 0===e?null:e)&&null==this.gModel&&(this.gModel=e,this.configureGameModelListener()),null!=this.vModel&&this.vModel,this.vModel=t,this.configureModelListener(),this.configureCostumeListener(),this.init(),this.setMaintainInfo(this.vModel.getMt())},n.prototype.init=function(){},n.prototype.configureCostumeListener=function(){},n.prototype.configureGameModelListener=function(){},n.prototype.configureModelListener=function(){this._tmpGameCode=this.vModel.getGameCode(),this._overGameCode=this._tmpGameCode,this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_POOL_INFO,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.STATUS_CHANGED,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ROUND_INFO,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.USER_INFO,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.BET_INFO,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.BET_INFO_COMMITTED,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_SETCHIP,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.MARQUEE,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_JOIN_TABLE,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_SEAT_DATA,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.CANCEL_CUSTOM_BET,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_ENDGAME,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_FOLLOW_DEALER,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.CLOSE_GAME,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_SEND_TIP,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_SIC_PERCENT,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_COLDHOT,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_ODDS,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.BET_RECORD,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_PUSH_BANKER_MIDATA,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_PUSH_PLAYER_MIDATA,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_PUSH_MIDATA,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_TABLE_LIST,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_NOTIFY,this.liveGameEvent),this.vModel.addEventListener(VideoShare.VideoGameEvent.ON_FLY_POKER_MAX,this.liveGameEvent),this.vModel.addEventListener(VideoShare.VideoGameEvent.ON_CHG_DEALER,this.liveGameEvent),this.vModel.addEventListener(VideoShare.VideoGameEvent.ON_CHG_ROADMAP,this.liveGameEvent),this.vModel.addEventListener(VideoShare.VideoGameEvent.ON_JOIN_DRAW_BANKER,this.liveGameEvent),this.vModel.addEventListener(VideoShare.VideoGameEvent.ON_BLOCKCHAIN_UPDATE,this.liveGameEvent),this.vModel.addEventListener(VideoShare.VideoGameEvent.ON_GET_HASH,this.liveGameEvent),this.vModel.addEventListener(VideoShare.VideoGameEvent.PLST_UPDATE,this.liveGameEvent),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_MAINTAIN_INFO,this.liveGameEvent)},n.prototype.handleModel=function(t){switch(t.type){case VideoShare.LiveGameEvent.ON_POOL_INFO:this.onPoolInfo();break;case VideoShare.LiveGameEvent.STATUS_CHANGED:this.onStatusChanged(t);break;case VideoShare.LiveGameEvent.ROUND_INFO:this.onRoundInfo();break;case VideoShare.LiveGameEvent.USER_INFO:this.onUserInfo();break;case VideoShare.LiveGameEvent.BET_INFO:this.onBetInfo(t);break;case VideoShare.LiveGameEvent.BET_INFO_COMMITTED:this.onBetInfoCommitted(t);break;case VideoShare.LiveGameEvent.ON_SETCHIP:this.onSetChip();break;case VideoShare.LiveGameEvent.ON_ENDGAME:this.onEndGame(t);break;case VideoShare.LiveGameEvent.ON_SEND_TIP:this.onSendTip(t);break;case VideoShare.LiveGameEvent.MARQUEE:this.onMarquee();break;case VideoShare.LiveGameEvent.ON_JOIN_TABLE:this.onJoinTable(t);break;case VideoShare.LiveGameEvent.ON_SEAT_DATA:this.onSeatData(t);break;case VideoShare.LiveGameEvent.CANCEL_CUSTOM_BET:this.cancelCustomBet();break;case VideoShare.LiveGameEvent.ON_SIC_PERCENT:this.onSicPercent();break;case VideoShare.LiveGameEvent.ON_COLDHOT:this.onColdHot();break;case VideoShare.LiveGameEvent.ON_ODDS:this.onRunOdds();break;case VideoShare.LiveGameEvent.BET_RECORD:this.onBetRecord();break;case VideoShare.LiveGameEvent.IDLE3:this.onIdle3();break;case VideoShare.LiveGameEvent.IDLE5:this.onIdle5();break;case VideoShare.LiveGameEvent.IDLE_PAUSE:break;case VideoShare.LiveGameEvent.ON_FOLLOW_DEALER:this.onSetFollowDealer();break;case VideoShare.LiveGameEvent.CLOSE_GAME:this.removeHandle();break;case VideoShare.LiveGameEvent.ON_PUSH_BANKER_MIDATA:this.onPushBMiData();break;case VideoShare.LiveGameEvent.ON_PUSH_PLAYER_MIDATA:this.onPushPMiData();break;case VideoShare.LiveGameEvent.ON_PUSH_MIDATA:this.onPushMiData();break;case VideoShare.LiveGameEvent.ON_TABLE_LIST:this.onTableList();break;case VideoShare.LiveGameEvent.ON_NOTIFY:this.onNotify(t);break;case VideoShare.VideoGameEvent.ON_FLY_POKER_MAX:this.onFlyPokerMax(t);break;case VideoShare.VideoGameEvent.ON_CHG_DEALER:this.onChgDealer(t);break;case VideoShare.VideoGameEvent.ON_CHG_ROADMAP:this.onChgRpadmap(t);break;case VideoShare.VideoGameEvent.ON_JOIN_DRAW_BANKER:this.onJoinDrawBanker(t);break;case VideoShare.VideoGameEvent.ON_BLOCKCHAIN_UPDATE:this.onBlockChainUpdate(t);break;case VideoShare.VideoGameEvent.ON_GET_HASH:this.onGetHash(t);break;case VideoShare.VideoGameEvent.PLST_UPDATE:this.onPlstUpdate(t);break;case VideoShare.LiveGameEvent.ON_MAINTAIN_INFO:this.setMaintainInfo(t.status)}},n.prototype.handleCommand=function(t){switch(t.type){case VideoShare.VideoGameEvent.COMMIT:this.vModel.commitBet();break;case VideoShare.VideoGameEvent.CANCEL:this.vModel.cancelBet();break;case VideoShare.VideoGameEvent.REBET:this.vModel.reBet();break;case VideoShare.VideoGameEvent.UNDO:this.vModel.undoBet();break;case VideoShare.VideoGameEvent.RASIE:this.vModel.followBet(this.statusToInt())}},n.prototype.handleLiveEvent=function(t){switch(t.type){case VideoShare.VideoGameEvent.CHIP_VALUE:this._chipValue=t.data.chipValue;break;case VideoShare.VideoGameEvent.SEND_TIP:this.vModel.sendTip(t);case VideoShare.VideoGameEvent.ON_OPEN_POKER:this.vModel.sendPokerShow(t);break;case VideoShare.VideoGameEvent.SEND_MIPOKER_INFO:this.vModel.sendMipokerInfo(t);break;case VideoShare.VideoGameEvent.CHOOSE_TIME:this.vModel.goJumpDice(t)}},n.prototype.handleToolbar=function(t){switch(t.type){case VideoShare.ToolBarEvent.MESSAGE_HISTORY:this.vModel.messageHistory();break;case VideoShare.ToolBarEvent.HELP:this.vModel.help();break;case VideoShare.ToolBarEvent.BET_HISTORY:this.vModel.betHistory()}},n.prototype.statusToInt=function(){return"betingFlop"==this._status?2:"betingTurn"==this._status?3:"betingRiver"==this._status?4:-1},n.prototype.onPoolInfo=function(){},n.prototype.onStatusChanged=function(t){},n.prototype.onRoundInfo=function(){},n.prototype.onUserInfo=function(){},n.prototype.onSetChip=function(){},n.prototype.onAddBet=function(t){0==this._chipValue?Tools.AlertPanel.showAlert(IPL.DictManager.getDict("PLEASE_SELECT_CHIP"),3e3,"",!0,!1):(this._betType=t.betType,this.vModel.addBet(this._betType,this._chipValue))},n.prototype.onBetInfo=function(t){},n.prototype.onBetInfoCommitted=function(t){},n.prototype.onSendTip=function(t){},n.prototype.onVideoIP=function(){},n.prototype.onMarquee=function(){},n.prototype.onJoinTable=function(t){},n.prototype.onSeatData=function(t){},n.prototype.cancelCustomBet=function(){},n.prototype.onSicPercent=function(){},n.prototype.onColdHot=function(){},n.prototype.onRunOdds=function(){},n.prototype.onBetRecord=function(){},n.prototype.onPushBMiData=function(){},n.prototype.onPushPMiData=function(){},n.prototype.onPushMiData=function(){},n.prototype.onTableList=function(){},n.prototype.onFlyPokerMax=function(t){},n.prototype.onChgDealer=function(t){},n.prototype.onChgRpadmap=function(t){},n.prototype.onJoinDrawBanker=function(t){},n.prototype.onBlockChainUpdate=function(t){},n.prototype.onGetHash=function(t){},n.prototype.onPlstUpdate=function(t){},n.prototype.setMaintainInfo=function(t){},n.prototype.onNotify=function(t){},n.prototype.onEndGame=function(t){},n.prototype.onIdle3=function(){Tools.AlertPanel.showAlert(IPL.DictManager.getDict("IDLE_3"),1e4,"",!0,!0)},n.prototype.onIdle5=function(){Tools.AlertPanel.showAlert(IPL.DictManager.getDict("IDLE_5"),1e4,"",!0,!0)},n.prototype.onIdlePause=function(){},n.prototype.onSetFollowDealer=function(){},n.prototype.reset=function(){this._limitMin=0,this._limitMax=0,this._betTotal="0",this._chipList="",this._roundCancelOpen=!0,this.vModel.cancelBet()},n.prototype.removeHandle=function(){this.reset(),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_POOL_INFO,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.STATUS_CHANGED,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ROUND_INFO,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.USER_INFO,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.BET_INFO,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.BET_INFO_COMMITTED,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_SETCHIP,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.MARQUEE,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_JOIN_TABLE,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_SEAT_DATA,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.CANCEL_CUSTOM_BET,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_FOLLOW_DEALER,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_ENDGAME,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.CLOSE_GAME,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_SEND_TIP,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_SIC_PERCENT,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_COLDHOT,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_ODDS,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.BET_RECORD,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_PUSH_BANKER_MIDATA,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_PUSH_PLAYER_MIDATA,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_TABLE_LIST,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_NOTIFY,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.VideoGameEvent.ON_FLY_POKER_MAX,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.VideoGameEvent.ON_CHG_DEALER,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.VideoGameEvent.ON_CHG_ROADMAP,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.VideoGameEvent.ON_BLOCKCHAIN_UPDATE,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.VideoGameEvent.ON_GET_HASH,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.VideoGameEvent.PLST_UPDATE,this.liveGameEvent),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_MAINTAIN_INFO,this.liveGameEvent)};var i,e=n;function n(){var e=i.call(this)||this;return e._chipValue=0,e._chipLimitMin=0,e._roundCancelOpen=!0,e._isPlay=!0,e.liveGameEvent=function(t){e.handleModel(t)},e.videoLiveEvent=function(t){e.handleLiveEvent(t)},e}t.ViewModel=e}(Model=Model||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.changePos=function(t){},n.prototype.setCommitPostion=function(t,e){void 0===e&&(e=0),this.commitBtn.x=t=void 0===t?0:t,this.commitBtn.y=e},n.prototype.setMoveCommitPostion=function(t,e){void 0===e&&(e=0),this.mCommitBtn.x=(t=void 0===t?0:t)-this.x,this.mCommitBtn.y=e-this.y},n.prototype.setCanelPostion=function(t,e){void 0===e&&(e=0),this.cancelBtn.x=t=void 0===t?0:t,this.cancelBtn.y=e},n.prototype.setRebetPostion=function(t,e){void 0===e&&(e=0),this.rebetBtn.x=t=void 0===t?0:t,this.rebetBtn.y=e},n.prototype.setUndoPostion=function(t,e){void 0===e&&(e=0),this.undoBtn.x=t=void 0===t?0:t,this.undoBtn.y=e},n.prototype.setCommitShow=function(t){this.commitBtn.visible=t},n.prototype.setMoveCommitShow=function(t){this.mCommitBtn.visible=t},n.prototype.setRebetShow=function(t){this.rebetBtn.visible=t},n.prototype.setUndoShow=function(t){this.undoBtn.visible=t},n.prototype.setCancelShow=function(t){this.cancelBtn.visible=t},n.prototype.setCommitUnlocked=function(t){this.buttonStatus(this.commitBtn,t),this.commitBtn.alpha=t?1:.5},n.prototype.setMoveCommitUnlocked=function(t){this.buttonStatus(this.mCommitBtn,t),this.mCommitBtn.alpha=t?1:.5},n.prototype.setRebetUnlocked=function(t){this.buttonStatus(this.rebetBtn,t),this.rebetBtn.alpha=t?1:.5},n.prototype.setUndoUnlocked=function(t){this.buttonStatus(this.undoBtn,t),this.undoBtn.alpha=t?1:.5},n.prototype.setCancelUnlocked=function(t){this.buttonStatus(this.cancelBtn,t),this.cancelBtn.alpha=t?1:.5},n.prototype.initBtn=function(){},n.prototype.addTip=function(){this.textTip=new Tools.Tip(this);for(var t=0;t<this.tipArr.length;t++)null!=this.btnArr[t]&&this.textTip.addTip(this.btnArr[t],this.tipArr[t])},n.prototype.configureListener=function(){var e=this;this.betEvent=function(t){e.handleClick(t)},null!=this.commitBtn&&(DeviceAndEnvironment.Device.isMobile()?this.commitBtn.on("tap",this.betEvent):this.commitBtn.on("click",this.betEvent)),null!=this.mCommitBtn&&(DeviceAndEnvironment.Device.isMobile()?this.mCommitBtn.on("tap",this.betEvent):this.mCommitBtn.on("click",this.betEvent)),null!=this.rebetBtn&&(DeviceAndEnvironment.Device.isMobile()?this.rebetBtn.on("tap",this.betEvent):this.rebetBtn.on("click",this.betEvent)),null!=this.undoBtn&&(DeviceAndEnvironment.Device.isMobile()?this.undoBtn.on("tap",this.betEvent):this.undoBtn.on("click",this.betEvent)),null!=this.cancelBtn&&(DeviceAndEnvironment.Device.isMobile()?this.cancelBtn.on("tap",this.betEvent):this.cancelBtn.on("click",this.betEvent))},n.prototype.handleClick=function(t){switch(t.currentTarget.name){case"commit":this.unlocked(!1),this.event.dispatchEvent(new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.COMMIT));break;case"cancel":this.event.dispatchEvent(new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.CANCEL));break;case"undo":this.event.dispatchEvent(new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.UNDO));break;case"rebet":this.event.dispatchEvent(new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.REBET))}},n.prototype.unlocked=function(t){null!=this.commitBtn&&this.buttonStatus(this.commitBtn,t),null!=this.mCommitBtn&&this.buttonStatus(this.mCommitBtn,t),null!=this.rebetBtn&&this.buttonStatus(this.rebetBtn,t),null!=this.undoBtn&&this.buttonStatus(this.undoBtn,t),null!=this.cancelBtn&&this.buttonStatus(this.cancelBtn,t),t?(null!=this.commitBtn&&(this.commitBtn.alpha=1),null!=this.mCommitBtn&&(this.mCommitBtn.alpha=1),null!=this.cancelBtn&&(this.cancelBtn.alpha=1),null!=this.rebetBtn&&(this.rebetBtn.alpha=1),null!=this.undoBtn&&(this.undoBtn.alpha=1)):(null!=this.textTip&&this.textTip.removeTip(),null!=this.commitBtn&&(this.commitBtn.alpha=.5),null!=this.mCommitBtn&&(this.mCommitBtn.alpha=.5),null!=this.cancelBtn&&(this.cancelBtn.alpha=.5),null!=this.rebetBtn&&(this.rebetBtn.alpha=.5),null!=this.undoBtn&&(this.undoBtn.alpha=.5))},n.prototype.buttonStatus=function(t,e){t.setMouseStatus(e),e&&t.setStatus("up")},n.prototype.removeHandle=function(){null!=this.commitBtn&&(DeviceAndEnvironment.Device.isMobile()?this.commitBtn.off("tap",this.betEvent):this.commitBtn.off("click",this.betEvent)),null!=this.mCommitBtn&&(DeviceAndEnvironment.Device.isMobile()?this.mCommitBtn.off("tap",this.betEvent):this.mCommitBtn.off("click",this.betEvent)),null!=this.rebetBtn&&(DeviceAndEnvironment.Device.isMobile()?this.rebetBtn.off("tap",this.betEvent):this.rebetBtn.off("click",this.betEvent)),null!=this.undoBtn&&(DeviceAndEnvironment.Device.isMobile()?this.undoBtn.off("tap",this.betEvent):this.undoBtn.off("click",this.betEvent)),null!=this.cancelBtn&&(DeviceAndEnvironment.Device.isMobile()?this.cancelBtn.off("tap",this.betEvent):this.cancelBtn.off("click",this.betEvent))};var e,i=n;function n(){var t=e.call(this)||this;return t.tipArr=["COMMITBTN","CLEARBTN","REPEATBTN","UNDOBTN"],t.initBtn(),t}t.CommandPanel=i}(SharePanel=SharePanel||{}),!function(n){var i,a=PIXI.Sprite,o=(i=Composite.EventSprite,__extends(t,i),t.prototype.setWoekerPath=function(t){this.workerPath=t},t.prototype.checkDomain=function(){return 0==window.location.href.indexOf("https")},t.prototype.createPlayer=function(){var t=this,e=window.navigator.userAgent.toLowerCase();-1==e.indexOf("msie")&&"Netscape"==window.navigator.appName&&null!=new RegExp("trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(this._isIE=!0),this._player=new Player({useWorker:this._isIE,webgl:!this._isIE,workerFile:this.workerPath+"VP6/Decoder.js"}),this._player.onPictureDecoded=function(){t.evt_player_onPictureDecoded()}},t.prototype.setSize=function(t,e){this._videoSprite.width=t,this._videoSprite.height=e},t.prototype.getSize=function(){var t={};return t.width=this._videoSprite.width,t.height=this._videoSprite.height,t},t.prototype.playVideo=function(t,e,i,n){var a="",a=this._isSecure?"wss://":"ws://";a+=t+"/fxVideo/video/"+this.ggTrans(e)+this.ggTrans(i)+"/"+n+"?d=HLS.m3u8",this.linkDomain=a,this.connect(a)},t.prototype.playVideoVN=function(t,e,i){var n="",n=this._isSecure?"wss://":"ws://";this.linkDomain=n+=t+"/fxVideo/video/"+e+"/"+i+"?d=HLS.m3u8",this.connect(n)},t.prototype.closeWebSocket=function(){null!=this._ws&&this._ws.close(),this.clear(),this.removeChild(this._videoSprite)},t.prototype.clear=function(){var t;null!=this._player.canvasObj.webGLCanvas&&((t=this._player.canvasObj.webGLCanvas.contextGL).clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),this._player.decoder.onCleanUp())},t.prototype.connect=function(t){var e,i=this;null!=this._ws&&((e=new n.VideoGameEvent(n.VideoGameEvent.VIDEO_PING)).data={ping:5001},this.event.dispatchEvent(e),this._ws.close(),this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws=null,this.videoStart=!1,this._isIE||this.clear()),this._ws=new WebSocket(t,"video.op"),this._ws.onmessage=function(t){i.evt_ws_onmessage(t)}},t.prototype.evt_ws_onmessage=function(t){var e,t=JSON.parse(t.data);"NetStreamData"==t.NetStreamEvent&&(this._first||(this._first=!0,this.event.dispatchEvent(new H5Event.H5BaseEvent("LINK_SUCCESS"))),this._isIE?this._player.decode(t.data):(e=this.toUint8Array(t.data),this._player.decode(e)),this.videoStart)&&(this._tempTexture&&(this._tempTexture.destroy(),this._videoSprite.texture=null),this._tempTexture=new PIXI.BaseTexture(this._player.canvas),this._videoSprite.texture=new PIXI.Texture(this._tempTexture)),null!=t.ping&&(e=JSON.stringify(t),this._ws.send(e),(e=new n.VideoGameEvent(n.VideoGameEvent.VIDEO_PING)).data={ping:t.rtt},this.event.dispatchEvent(e))},t.prototype.evt_player_onPictureDecoded=function(){this.videoStart||(this.videoStart=!0,this.timeToStartVideo())},t.prototype.timeToStartVideo=function(){this.addChild(this._videoSprite),this.event.dispatchEvent(new H5Event.H5BaseEvent("VIDEO_START"))},t.prototype.toUint8Array=function(t){for(var e=window.atob(t),t=e.length,i=new Uint8Array(new ArrayBuffer(t)),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},t.prototype.ggTrans=function(t){for(var e="",i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e+=i[t.charCodeAt(n)-48];return e},t);function t(t){void 0===t&&(t=1500);var e=i.call(this)||this;return e.videoStart=!1,e._isIE=!1,e._first=!1,e.workerPath="",e._isSecure=!1,e._delayTime=t,e._videoSprite=new a,e._isSecure=e.checkDomain(),e.createPlayer(),e}n.Broadway=o;r=Composite.EventSprite,__extends(e,r),e.prototype.setWoekerPath=function(t){this.workerPath=t},e.prototype.checkDomain=function(){return 0==window.location.href.indexOf("https")},e.prototype.createPlayer=function(){var t=this,e=window.navigator.userAgent.toLowerCase();-1==e.indexOf("msie")&&"Netscape"==window.navigator.appName&&null!=new RegExp("trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(this._isIE=!0),this._player=new FxPlayer({useWorker:this._isIE,webgl:!this._isIE,workerFile:this.workerPath+"FxDecoder/FxDecoder.js"}),this._player.onPictureDecoded=function(){t.evt_player_onPictureDecoded()}},e.prototype.setSize=function(t,e){this._videoSprite.width=t,this._videoSprite.height=e},e.prototype.getSize=function(){var t={};return t.width=this._videoSprite.width,t.height=this._videoSprite.height,t},e.prototype.playVideo=function(t,e,i,n){var a="",a=this._isSecure?"wss://":"ws://";a+=t+"/fxVideo/video/"+this.ggTrans(e)+this.ggTrans(i)+"/"+n+"/",this.linkDomain=a,this.connect(a)},e.prototype.playVideoVN=function(t,e,i){var n="",n=this._isSecure?"wss://":"ws://";this.linkDomain=n+=t+"/fxVideo/video/"+e+"/"+i+"/",this.connect(n)},e.prototype.closeWebSocket=function(){null!=this._ws&&this._ws.close(),this.removeChild(this._videoSprite);var t=new n.VideoGameEvent(n.VideoGameEvent.VIDEO_PING);t.data={ping:5001},this.event.dispatchEvent(t)},e.prototype.connect=function(t){var e,i=this;null!=this._ws&&((e=new n.VideoGameEvent(n.VideoGameEvent.VIDEO_PING)).data={ping:5001},this.event.dispatchEvent(e),this._ws.close(),this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws=null,this.videoStart=!1),this._ws=new WebSocket(t,"app2"),this._ws.onmessage=function(t){i.evt_ws_onmessage(t)}},e.prototype.evt_ws_onmessage=function(t){var e,t=JSON.parse(t.data);"NetStreamData"==t.NetStreamEvent&&(this._first||(this._first=!0,this.event.dispatchEvent(new H5Event.H5BaseEvent("LINK_SUCCESS"))),this._isIE?this._player.decode(t.data):(e=this.toUint8Array(t.data),this._player.decode(e)),this.videoStart)&&(this._tempTexture&&(this._tempTexture.destroy(),this._videoSprite.texture=null),this._tempTexture=new PIXI.BaseTexture(this._player.canvas),this._videoSprite.texture=new PIXI.Texture(this._tempTexture)),null!=t.ping&&(e=JSON.stringify(t),this._ws.send(e),(e=new n.VideoGameEvent(n.VideoGameEvent.VIDEO_PING)).data={ping:t.rtt},this.event.dispatchEvent(e))},e.prototype.evt_player_onPictureDecoded=function(){var t=this;this.videoStart||(this.videoStart=!0,setTimeout(function(){t.timeToStartVideo()},this._delayTime))},e.prototype.timeToStartVideo=function(){this.addChild(this._videoSprite),this.event.dispatchEvent(new H5Event.H5BaseEvent("VIDEO_START"))},e.prototype.toUint8Array=function(t){for(var e=window.atob(t),t=e.length,i=new Uint8Array(new ArrayBuffer(t)),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},e.prototype.ggTrans=function(t){for(var e="",i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=0;n<t.length;n++)e+=i[t.charCodeAt(n)-48];return e};var r,s=e;function e(t){void 0===t&&(t=1500);var e=r.call(this)||this;return e.videoStart=!1,e._isIE=!1,e._first=!1,e.workerPath="",e._isSecure=!1,e._delayTime=t,e._videoSprite=new a,e._isSecure=e.checkDomain(),e.createPlayer(),e}n.FxBroadway=s;h=Composite.EventSprite,__extends(c,h),c.prototype.setSize=function(t,e){this.video.setSize(t,e),this.load.x=t/2,this.load.y=e/2},c.prototype.setPath=function(t){this.video.setWoekerPath(t)},c.prototype.closeVideo=function(){this.video.event.removeEventListener("VIDEO_START",this.loadEvent),this.video.closeWebSocket(),this.load.visible=!1,null!=this.videoTimer&&clearInterval(this.videoTimer)},c.prototype.playVideo=function(t,e,i,n){var a=this;this.load.visible=!0,this.video.visible=!1,this.video.playVideo(t,e,i,n),this.video.event.addEventListener("VIDEO_START",this.loadEvent),null!=this.videoTimer&&clearInterval(this.videoTimer),this.rot=0,this.videoTimer=setInterval(function(){a.onInterval()},90)},c.prototype.playVideoVN=function(t,e,i){var n=this;this.load.visible=!0,this.video.visible=!1,this.video.playVideoVN(t,e,i),this.video.event.addEventListener("VIDEO_START",this.loadEvent),null!=this.videoTimer&&clearInterval(this.videoTimer),this.rot=0,this.videoTimer=setInterval(function(){n.onInterval()},90)},c.prototype.onInterval=function(){this.rot%8==0?this.loadPoint.rotation=0:this.loadPoint.rotation+=.7875,this.rot++},c.prototype.loadComplete=function(){this.load.visible=!1,this.video.visible=!0,null!=this.videoTimer&&clearInterval(this.videoTimer),this.video.event.removeEventListener("VIDEO_START",this.loadEvent)},c.prototype.vidoePing=function(t){this.video.visible&&this.event.dispatchEvent(t)};var h,l=c;function c(t){void 0===t&&(t=!1);var e=h.call(this)||this,t=(e.rot=0,DeviceAndEnvironment.Device.isMobile()||t?e.video=new s:e.video=new o,e.addChild(e.video),e.pingEvent=function(t){e.vidoePing(t)},e.loadEvent=function(){e.loadComplete()},e.video.event.addEventListener(n.VideoGameEvent.VIDEO_PING,e.pingEvent),e.load=PIXI.Sprite.fromImage("MuiltN_LoadingBG0000"),e.load.visible=!1,e.addChild(e.load),e.load.pivot.x=e.load.width/2,e.load.pivot.y=e.load.height/2,e.video.getSize());return e.load.x=t.width/2,e.load.y=t.height/2,e.loadPoint=PIXI.Sprite.fromImage("MuiltN_LoadingPoint0000"),e.load.addChild(e.loadPoint),e.loadPoint.pivot.x=e.loadPoint.width/2,e.loadPoint.pivot.y=e.loadPoint.height/2,e.loadPoint.x=e.loadPoint.width/2,e.loadPoint.y=e.loadPoint.height/2,e}n.LiveVideo=l}(VideoShare=VideoShare||{}),!function(t){i=Composite.EventSprite,__extends(n,i),n.prototype.setVideoSet=function(t){0==t?(this.checVideo1=!1,this.checVideo2=!1):1==t?(this.checVideo1=!0,this.checVideo2=!1):2==t?(this.checVideo1=!1,this.checVideo2=!0):3==t&&(this.checVideo1=!0,this.checVideo2=!0)},n.prototype.setVideoPos=function(t,e){this.video0.x=t,this.video0.y=e},n.prototype.setVideoSize=function(t,e){this.video0.setSize(t,e)},n.prototype.setVideoVisible=function(t){this.video0.visible=t},n.prototype.setVideo1Pos=function(t,e){this.video1.x=t,this.video1.y=e},n.prototype.setVideo1Size=function(t,e){this.video1.setSize(t,e)},n.prototype.setVideo1Visible=function(t){this.video1.visible=t},n.prototype.setVideo2Pos=function(t,e){this.video2.x=t,this.video2.y=e},n.prototype.setVideo2Size=function(t,e){this.video2.setSize(t,e)},n.prototype.setVideo2Visible=function(t){this.video2.visible=t},n.prototype.initHD=function(t){var e=this;this.video0=new VideoShare.LiveVideo(t),this.pingEvent=function(t){e.vidoePing(t)},this.video0.event.addEventListener(VideoShare.VideoGameEvent.VIDEO_PING,this.pingEvent),this.mainVideo=this.video0,this.addChild(this.video0)},n.prototype.initFoucsVideo1=function(t){this.video1=t,this.addChild(this.video1)},n.prototype.initFoucsVideo2=function(t){this.video2=t,this.addChild(this.video2)},n.prototype.setPath=function(t){this.video0.setPath(t),null!=this.video1&&this.video1.setPath(t),null!=this.video2&&this.video2.setPath(t)},n.prototype.playVideo=function(t,e,i,n){var a=this;void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n="video0"),this.mainVideo.visible=!0,this.mainVideo.playVideo(t,e,i,n),null!=this.video1&&this.checVideo1&&(null!=this.v1Timer&&clearTimeout(this.v1Timer),this.v1Timer=setTimeout(function(){a.video1.visible=!0,a.video1.playVideo(t,e,i,"video1")},500)),null!=this.video2&&this.checVideo2&&(null!=this.v2Timer&&clearTimeout(this.v2Timer),this.v2Timer=setTimeout(function(){a.video2.visible=!0,a.video2.playVideo(t,e,i,"video2")},1e3))},n.prototype.playVideoVN=function(t,e,i){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i="video0"),this.mainVideo.visible=!0,this.mainVideo.playVideoVN(t,e,i),null!=this.video1&&this.checVideo1&&(this.video1.visible=!0,this.video1.playVideoVN(t,e,"video1")),null!=this.video2&&this.checVideo2&&(this.video2.visible=!0,this.video2.playVideoVN(t,e,"video2"))},n.prototype.stopVideo=function(){this.mainVideo.visible=!1,this.mainVideo.closeVideo(),null!=this.video1&&(this.video1.visible=!1,this.video1.closeVideo()),null!=this.video2&&(this.video2.visible=!1,this.video2.closeVideo())},n.prototype.vidoePing=function(t){this.event.dispatchEvent(t)};var i,e=n;function n(t){void 0===t&&(t=!1);var e=i.call(this)||this;return e.initHD(t),e}t.VideoPanel=e}(SharePanel=SharePanel||{}),!function(t){var e,i=PIXI.Container,n=PIXI.Text,i=(__extends(a,e=i),a.prototype.initMessageBg=function(t){this.messageBG=t.background,this.addChild(this.messageBG),this.messageBG.anchor.set(.5),this.messageBG.visible=!1},a.prototype.setTextSize=function(t){this.messageTxt.scale.set(t)},a.prototype.initWinWord=function(){},a.prototype.initLoseWord=function(){},a.prototype.initTxt=function(t,e){void 0===e&&(e=!1),this.txtStyle=t=void 0===t?null:t,null!=this.txtStyle&&(this.messageTxt=new n("",this.txtStyle),this.messageTxt.anchor.set(.5),(null==this.messageBG||e?this:this.messageBG).addChild(this.messageTxt)),this.maxFontSize="number"==typeof this.txtStyle.fontSize?this.txtStyle.fontSize:Number(this.txtStyle.fontSize.split("px")[0])},a.prototype.setMessageBG=function(t){this.messageBG.texture=PIXI.Texture.fromFrame(t)},a.prototype.onMessage=function(t,e,i,n,a,o){var r=this;void 0===e&&(e=!0),void 0===i&&(i=3e3),void 0===n&&(n=!0),void 0===o&&(o=-1),""!=(a=void 0===a?"":a)&&(this.messageTxt.style.fill=a),this.messageTxt.text=t,this.messageTxt.style.fontSize=this.maxFontSize,-1!=o&&Tools.AdjustText.adjustFontSize(this.messageTxt,this.maxFontSize,o),null!=this.messageBG&&n?this.messageBG.visible=!0:n?this.messageTxt.visible=!0:this.messageBG.visible=!1,null!=this.timer&&clearTimeout(this.timer),e&&(this.timer=setTimeout(function(){r.onTimeout()},i))},a.prototype.onTimeout=function(){this.messageTxt.text="",null!=this.messageBG?this.messageBG.visible=!1:this.messageTxt.visible=!1},a.prototype.setWinCredit=function(t){},a.prototype.setLoseCredit=function(t){},a.prototype.resetShowTxt=function(){this.messageTxt.text="",null!=this.messageBG?this.messageBG.visible=!1:this.messageTxt.visible=!1,null!=this.timer&&clearTimeout(this.timer)},a);function a(){return e.call(this)||this}t.MessagePanel=i}(SharePanel=SharePanel||{}),!function(t){var s,h=PIXI.Text,l=PIXI.Container,e=(__extends(i,s=l),i.prototype.initChip=function(t){this.chipString=t,this.chipMoney=[1e8,5e7,2e7,1e7,5e6,2e6,1e6,5e5,2e5,1e5,5e4,2e4,1e4,5e3,2e3,1e3,500,200,100,50,20,10,5,2,1]},i.prototype.setAdd=function(t,e){void 0===e&&(e=!1),0<(this.add=t)?(this.addChipText.visible=!0,this.addChipText.text=e?"+"+(new ShareLogic.DigitalLogic).addCommas(Tools.AdjustText.simpleNumber(t)):"+"+(new ShareLogic.DigitalLogic).addCommas(String(t))):this.addChipText.visible=!1,null!=this.textBG&&this.setTxtBG(),this.update()},i.prototype.setCommit=function(t,e){void 0===e&&(e=!1),0<(this.commit=t)?(this.commitChipText.visible=!0,this.commitChipText.text=e?(new ShareLogic.DigitalLogic).addCommas(Tools.AdjustText.simpleNumber(t)):(new ShareLogic.DigitalLogic).addCommas(String(t))):this.commitChipText.visible=!1,null!=this.textBG&&this.setTxtBG(),this.update()},i.prototype.setTxtBG=function(){this.commitChipText.visible||this.addChipText.visible?this.textBG.visible=!0:this.textBG.visible=!1},i.prototype.update=function(){var t=this.add+this.commit;this.setChipView(t)},i.prototype.setChipView=function(t){this.clearChip();var e=0;if(this.nowChip=t,null!=this.commitChipImage&&0==this.add&&0<this.commit)this.chipadd.addChild(this.commitChipImage);else for(var i=0;i<this.chipMoney.length;i++){var n=this.chipMoney[i];if(a=t/n,t%=n,1<=a)for(var a=parseInt(String(a)),o=0;o<a;o++){var r=PIXI.Sprite.fromImage(this.chipString[this.chipMoney.indexOf(n)]);this.chipadd.addChild(r),r.y=e,e-=4,this.chipList.push(r)}}0<this.textPosY?(this.addChipText.y=this.textPosY,this.commitChipText.y=this.textPosY):this.chipadd.scale.x<=this.addChipText.scale.x?(this.addChipText.y=(e+this.textPosY)*this.chipadd.scale.x,this.commitChipText.y=(e+this.textPosY)*this.chipadd.scale.x):(this.addChipText.y=(e+this.textPosY)*this.addChipText.scale.x,this.commitChipText.y=(e+this.textPosY)*this.commitChipText.scale.x),this.addChipText.x=this.chipadd.width/2,this.commitChipText.x=this.chipadd.width/2,null!=this.textBG&&(this.textBG.x=this.chipadd.width/2,this.textBG.y=this.addChipText.y)},i.prototype.clearChip=function(){for(var t=this.chipList.length,e=0;e<t;e++)this.chipadd.removeChild(this.chipList.pop());null!=this.commitChipImage&&this.chipadd.removeChild(this.commitChipImage),this.nowChip=0},i.prototype.resetChipSize=function(t){this.chipadd.scale.set(t=void 0===t?1:t,t)},i.prototype.resetTextSize=function(t){this.addChipText.scale.set(t=void 0===t?1:t,t),this.commitChipText.scale.set(t,t)},i);function i(t,e,i,n,a,o){void 0===i&&(i=null),void 0===n&&(n=0),void 0===a&&(a=""),void 0===o&&(o="");var r=s.call(this)||this;return r.add=0,r.commit=0,r.textPosY=n,""!=a&&(r.textBG=PIXI.Sprite.fromFrame(a),r.addChild(r.textBG),r.textBG.anchor.set(.5),r.textBG.visible=!1),""!=o&&(r.commitChipImage=PIXI.Sprite.fromImage(o)),r.commitChipText=new h("",e),r.addChild(r.commitChipText),r.commitChipText.visible=!1,r.addChipText=new h("",t),r.addChild(r.addChipText),r.addChipText.visible=!1,r.addChipText.anchor.set(.5),r.commitChipText.anchor.set(.5),r.chipList=[],r.chipadd=new l,r.addChildAt(r.chipadd,0),null!=i&&r.initChip(i),r}t.ChipStackUI=e;__extends(n,o=e),n.prototype.setChipView=function(t){this.clearChip(),0!=(this.nowChip=t)&&this.chipadd.addChild(this.chipImage),0<this.textPosY?(this.addChipText.y=this.textPosY,this.commitChipText.y=this.textPosY):this.chipadd.scale.x<=this.addChipText.scale.x?(this.addChipText.y=this.textPosY*this.chipadd.scale.x,this.commitChipText.y=this.textPosY*this.chipadd.scale.x):(this.addChipText.y=this.textPosY*this.addChipText.scale.x,this.commitChipText.y=this.textPosY*this.commitChipText.scale.x),this.addChipText.x=this.chipadd.width/2,this.commitChipText.x=this.chipadd.width/2,null!=this.textBG&&(this.textBG.x=this.chipadd.width/2,this.textBG.y=this.addChipText.y)},n.prototype.clearChip=function(){this.chipadd.removeChild(this.chipImage),this.nowChip=0};var o,e=n;function n(t,e,i,n,a){t=o.call(this,t,e,null,n=void 0===n?-5:n,a=void 0===a?"":a)||this;return t.chipImage=PIXI.Sprite.fromImage(i),t}t.ChipStackOneUI=e}(ChipStack=ChipStack||{}),!function(a){var n,t=PIXI.Container,t=(__extends(e,n=t),e.prototype.initPos=function(){this.stackList=[];for(var t,e=[],i=0;i<this.posArr.length;i++)null!=this.posArr[i]&&(this.stackList[i]=new a.ChipStackUI(this.cellSetting.sty1,this.cellSetting.sty2,this.cellSetting.nameArr,this.cellSetting.txtPosY,this.cellSetting.txtBG,this.cellSetting.imageName),this.stackList[i].x=this.posArr[i].x,this.stackList[i].y=this.posArr[i].y,(t={}).name=i,t.posY=this.posArr[i].y,e.push(t));for(var e=this.sortOnY(e),n=0;n<e.length;n++)null!=this.stackList[e[n].name]&&this.addChild(this.stackList[e[n].name])},e.prototype.sortOnY=function(t){for(var e,i=0;i<t.length-1;i++)for(e=0;e<t.length-1-i;e++){var n=t[e].posY,a=t[e+1].posY;null!=t[e]&&a<n&&(a=t[e],t[e]=t[e+1],t[e+1]=a)}return t},e.prototype.initGameDefine=function(t){this._gd=t},e.prototype.setChipVisible=function(t,e){for(var i=0;i<t.length;i++)this.stackList[t[i]].visible=e},e.prototype.reset=function(){for(var t=0;t<this.stackList.length;t++)null!=this.stackList[t]&&(this.stackList[t].setAdd(0),this.stackList[t].setCommit(0))},e.prototype.setDataAdd=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!1);for(var n=0;n<this.stackList.length;n++)null!=this.stackList[n]&&this.stackList[n].setAdd(Number((new ShareLogic.DigitalLogic).numtoFix(t.getAmount(n))),i);-1!=e&&null!=this.stackList[e]&&this.addChild(this.stackList[e])},e.prototype.setNoCommDataAdd=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!1);for(var n=0;n<this.stackList.length;n++)null!=this.stackList[n]&&this.stackList[n].setAdd(Number((new ShareLogic.DigitalLogic).numtoFix(t.getNoCommAmount(n))),i);-1!=e&&null!=this.stackList[e]&&this.addChild(this.stackList[e])},e.prototype.setDataCommit=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!1);for(var n=0;n<this.stackList.length;n++)null!=this.stackList[n]&&this.stackList[n].setCommit(Number((new ShareLogic.DigitalLogic).numtoFix(t.getAmount(n))),i);-1!=e&&null!=this.stackList[e]&&this.addChild(this.stackList[e])},e.prototype.setNoCommDataCommit=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!1);for(var n=0;n<this.stackList.length;n++)null!=this.stackList[n]&&this.stackList[n].setCommit(Number((new ShareLogic.DigitalLogic).numtoFix(t.getNoCommAmount(n))),i);-1!=e&&null!=this.stackList[e]&&this.addChild(this.stackList[e])},e.prototype.resetPos=function(t){for(var e=0;e<t.length;e++)null!=t[e]&&(this.posArr[e]=t[e],this.stackList[e].x=this.posArr[e].x,this.stackList[e].y=this.posArr[e].y)},e.prototype.resetChipTextSize=function(t){void 0===t&&(t=1);for(var e,i=this._gd.getMinBetType(),n=0;n<this.stackList.length;n++)null!=(e=0==i?this.stackList[n]:this.stackList[n+1])&&e.scale.set(t)},e.prototype.resetChipSize=function(t){void 0===t&&(t=1);for(var e,i=this._gd.getMinBetType(),n=0;n<this.stackList.length;n++)null!=(e=0==i?this.stackList[n]:this.stackList[n+1])&&e.resetChipSize(t)},e.prototype.resetTextSize=function(t){void 0===t&&(t=1);for(var e,i=this._gd.getMinBetType(),n=0;n<this.stackList.length;n++)null!=(e=0==i?this.stackList[n]:this.stackList[n+1])&&e.resetTextSize(t)},e);function e(t,e){var i=n.call(this)||this;return null==t.sty1&&(t.sty1={fontFamily:"Arial",fontSize:"32px",fill:"#FFCC00",stroke:"#000000",strokeThickness:5}),null==t.sty2&&(t.sty2={fontFamily:"Arial",fontSize:"32px",fill:"#66FF00",stroke:"#000000",strokeThickness:5}),null==t.txtPosY&&(t.txtPosY=-5),null==t.txtBG&&(t.txtBG=""),null==t.imageName&&(t.imageName=""),i.interactiveChildren=!1,i.cellSetting=t,i.posArr=e,i.initPos(),i}a.ChipStackPanel=t}(ChipStack=ChipStack||{}),!function(a){i=a.ChipStackPanel,__extends(e,i),e.prototype.initPos=function(){this.stackList=[];for(var t,e=[],i=0;i<this.posArr.length;i++)null!=this.posArr[i]&&(this.stackList[i]=new a.ChipStackOneUI(this.cellSetting.sty1,this.cellSetting.sty2,this.cellSetting.name,this.cellSetting.txtPosY,this.cellSetting.txtBG),this.stackList[i].x=this.posArr[i].x,this.stackList[i].y=this.posArr[i].y,this.addChild(this.stackList[i]),(t={}).name=i,t.posY=this.posArr[i].y,e.push(t));for(var e=this.sortOnY(e),n=0;n<e.length;n++)null!=this.stackList[e[n].name]&&this.addChild(this.stackList[e[n].name])},e.prototype.changeOnePos=function(t,e,i){this.stackList[t].x=e,this.stackList[t].y=i};var i,t=e;function e(t,e){return i.call(this,t,e)||this}a.ChipStackOne=t}(ChipStack=ChipStack||{}),!function(t){i=H5EventdispatcherCore.EventDispatcher,__extends(n,i),n.prototype.initAddListen=function(){for(var e=this,t=0;t<this._betArr.length;t++)null!=this._betArr[t]&&(DeviceAndEnvironment.Device.isMobile()?(this._betArr[t].on("touchstart",function(t){e.star(t)}),this._betArr[t].on("touchend",function(t){e.end(t)}),this._betArr[t].on("touchendoutside",function(){e.out()})):(this._betArr[t].on("mousedown",function(t){e.star(t)}),this._betArr[t].on("mouseup",function(t){e.end(t)}),this._betArr[t].on("mouseupoutside",function(){e.out()})))},n.prototype.initReBetBlock=function(t){for(var e=this,i=0;i<t.length;i++)DeviceAndEnvironment.Device.isMobile()?(t[i].on("touchstart",function(t){e.star(t)}),t[i].on("touchend",function(t){e.end(t)}),t[i].on("touchendoutside",function(){e.out()})):(t[i].on("mousedown",function(t){e.star(t)}),t[i].on("mouseup",function(t){e.end(t)}),t[i].on("mouseupoutside",function(){e.out()}))},n.prototype.star=function(t){this.starPos=t.data.getLocalPosition(t.currentTarget.parent)},n.prototype.end=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(t.currentTarget.parent),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<15)&&i<15&&this.clicked(t),this.starPos=null},n.prototype.out=function(){this.starPos=null},n.prototype.clicked=function(t){var e=t.currentTarget,i=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK),n=e.name;if(null==e.getPixelData())i.betType=parseInt(n.split("b")[1]),this.dispatchEvent(i);else{for(var a,o=-1,r=0;r<this._betArr.length&&-1==o;r++)null!=this._betArr[r]&&null!=e.getPixelData()&&0<(a=t.data.getLocalPosition(this._betArr[r].getSensor())).x&&a.x<this._betArr[r].width&&0<a.y&&a.y<this._betArr[r].height&&(a=Math.floor(4*(Math.floor(a.y)*this._betArr[r].width+Math.floor(a.x))-1),0!=this._betArr[r].getPixelData()[a])&&(o=r);-1!=o&&((i=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK)).betType=parseInt(this._betArr[o].name.split("b")[1]),this.dispatchEvent(i))}},n.prototype.resetBetBlock=function(t){for(var e=0;e<t.length;e++)null!=t[e]&&(this._betArr[e]=t[e])},n.prototype.showResult=function(t){var e,i=this;if(null!=t&&null==this._storeLight)this._storeLight=t;else if(null==t||this._storeLight.toString()==t.toString())return;this._storeLight=t,this._lightArr=new Array;for(var n=0;n<this._storeLight.length;n++)e=t[n],null!=(e=this._betArr[e])&&(this._lightArr.push(e),e.setResultAlpha(1));clearInterval(this._showTimer),this.setBetMouseStatus(!1),this._showTimer=setInterval(function(){i.onResult()},370)},n.prototype.setBetMouseStatus=function(t){for(var e=0;e<this._betArr.length;e++)null!=this._betArr[e]&&(this._betArr[e].setMouseStatus(t),this._betArr[e].setBetAlpha(0),this._betArr[e].setResultAlpha(0))},n.prototype.setSingleBetMouseStatus=function(t,e){null!=this._betArr[t]&&this._betArr[t].setMouseStatus(e)},n.prototype.onResult=function(){for(var t=0;t<this._lightArr.length;t++)1==this._lightArr[t].getResultAlpha()?this._lightArr[t].setResultAlpha(0):this._lightArr[t].setResultAlpha(1)},n.prototype.reset=function(){(this._storeLight=null)!=this._showTimer&&clearInterval(this._showTimer)};var i,e=n;function n(t){var e=i.call(this)||this;return e._betArr=t,e._storeLight=null,e.initAddListen(),e.endEvent=function(t){e.end(t)},e.starEvent=function(t){e.star(t)},e.outEvent=function(){e.out()},e}t.BlockBetSensorPanel=e}(SharePanel=SharePanel||{}),!function(t){e=SharePanel.CommandPanel,__extends(n,e),n.prototype.initBtn=function(){this.cancelBtn=new ShareUI.Button("Multiple_Fold"),this.cancelBtn.name="cancel",this.addChild(this.cancelBtn),this.rebetBtn=new ShareUI.Button("Multiple_Repeart"),this.rebetBtn.name="rebet",this.addChild(this.rebetBtn),this.rebetBtn.x=105,this.undoBtn=new ShareUI.Button("Multiple_Undo"),this.undoBtn.name="undo",this.addChild(this.undoBtn),this.undoBtn.x=210,this.commitBtn=new ShareUI.Button("Multiple_Check"),this.commitBtn.name="commit",this.addChild(this.commitBtn),this.commitBtn.x=315,this.configureListener()};var e,i=n;function n(){var t=e.call(this)||this;return t.btnArr=[t.commitBtn,t.cancelBtn,t.rebetBtn,t.undoBtn],t.addTip(),t}t.CommandUI=i}(ShareMultiGames=ShareMultiGames||{}),!function(i){var n,a=PIXI.Container,o=PIXI.Sprite,t=(n=Model.ViewModel,__extends(e,n),e.prototype.setVideoPanel=function(t){},e.prototype.setToolBar=function(t){null!=this._toolBarPanel&&(this._toolBarPanel=null),this._toolBarPanel=t},e.prototype.setCustomSelectPanel=function(t){null!=this._mixChipSelectPanel&&(this._mixChipSelectPanel.event.removeEventListener(VideoShare.VideoGameEvent.CHIP_VALUE,this.videoLiveEvent),this.removeChild(this._mixChipSelectPanel.getChipPanelTarget()),this._mixChipSelectPanel=null),this._mixChipSelectPanel=t,this._mixChipSelectPanel.event.addEventListener(VideoShare.VideoGameEvent.CHIP_VALUE,this.videoLiveEvent),this._mixChipSelectPanel.setChipPanel(!0),this.addChildAt(this._mixChipSelectPanel.getChipPanelTarget(),0)},e.prototype.initUI=function(){},e.prototype.initShareUI=function(){this._betButton=new i.CommandUI,this._betButton.x=32,this._betButton.y=571,this.addChild(this._betButton),this._countDownMc=new ShareUI.countUI(460,2,55552,16767232,16711680,1315860,"ver"),this._countDownMc.x=5,this._countDownMc.y=297,this.addChild(this._countDownMc),this._messageTxt=new h;var t={fontFamily:"_sans",fontSize:"18px",fontWeight:"bold",fill:"#FFFFFF",stroke:"#000000",strokeThickness:2},e={},t=(e.background=new o,this._messageTxt.initMessageBg(e),this._messageTxt.initTxt(t),this._messageTxt.x=235,this._messageTxt.y=313,this.addChild(this._messageTxt),this._wlMessageTxt=new SharePanel.MessagePanel,{fontFamily:"_sans",fontSize:"18px",fontWeight:"bold",fill:"#FFD277",stroke:"#000000",strokeThickness:2});(e={}).background=PIXILayoutTool.DisplayObject.createImage("Multiple_MessageTxtBG"),this._wlMessageTxt.initMessageBg(e),this._wlMessageTxt.initTxt(t),this._wlMessageTxt.x=235,this._wlMessageTxt.y=346,this.addChild(this._wlMessageTxt)},e.prototype.initBetArea=function(){},e.prototype.initChipPosition=function(){this._stackSetObj={},this._stackSetObj.txtPosY=30,this._stackSetObj.sty1={fontFamily:"Arial",fontSize:"34px",fill:"#FFCC00",stroke:"#000000",strokeThickness:5},this._stackSetObj.sty2={fontFamily:"Arial",fontSize:"34px",fill:"#66FF00",stroke:"#000000",strokeThickness:5},this._stackSetObj.name="Multiple_ChipBet0000"},e.prototype.initRoadInfo=function(){},e.prototype.init=function(){this._betButton&&this._betButton.unlocked(!1),this._betAreaPanel&&this._betAreaPanel.setBetMouseStatus(!1),this.extRoundInfo=[],this.extRoundInfo={con:new a,eTxt:new PIXI.Text(""),bg:new PIXI.Graphics},this.extRoundInfo.eTxt.style.fontSize="16px",this.extRoundInfo.eTxt.style.fill="#c0c0c0",this.extRoundInfo.eTxt.anchor.set(1,0),this.extRoundInfo.eTxt.y=1,this.extRoundInfo.eTxt.x=-4,this.extRoundInfo.bg.beginFill(0,.75),this.extRoundInfo.bg.drawRect(0,0,-150,22),this.extRoundInfo.con.addChild(this.extRoundInfo.bg),this.extRoundInfo.con.addChild(this.extRoundInfo.eTxt),this.extRoundInfo.con.x=457,this.extRoundInfo.con.y=272,this.addChild(this.extRoundInfo.con),this.extRoundInfo.con.visible=!1,this.extRound="",this.extNo="",this._roundNo="",this._roundNum="",this._poker="-",this._roadMap="-",this._credit=0,this.onRoundInfo(),this.onStatusChanged(),this.setMaintainInfo(this.vModel.getMt()),this.onUserInfo(),this.onVideoIP(),this.onCommittedInfo(),null!=this.vModel.getSeatData()&&0!=this.vModel.getSeatData().length&&this.onJoinTable()},e.prototype.initBetStatus=function(){this._betAreaPanel&&this._betAreaPanel.reset(),this._result=0,this._result2=0,this._roundCancelOpen=!0,this._hasAddBet=!1,this._poker="-"},e.prototype.configureCostumeListener=function(){this._roadmapPanel.event.addEventListener(VideoShare.RoadmapEvent.SUMROADMAP,this.roadEvent),this._betAreaPanel&&this._betAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._betButton&&this._betButton.event.addEventListener(VideoShare.VideoGameEvent.COMMIT,this.commandEvent),this._betButton&&this._betButton.event.addEventListener(VideoShare.VideoGameEvent.CANCEL,this.commandEvent),this._betButton&&this._betButton.event.addEventListener(VideoShare.VideoGameEvent.REBET,this.commandEvent),this._betButton&&this._betButton.event.addEventListener(VideoShare.VideoGameEvent.UNDO,this.commandEvent)},e.prototype.handleCommand2=function(t){switch(t.type===VideoShare.VideoGameEvent.COMMIT&&this._betButton&&this._betButton.unlocked(!1),t.type){case VideoShare.VideoGameEvent.COMMIT:this.vModel.commitBet(16);break;case VideoShare.VideoGameEvent.CANCEL:this.vModel.cancelBet();break;case VideoShare.VideoGameEvent.REBET:var e;"3007"!=this.vModel.getGameType()&&"3028"!=this.vModel.getGameType()||0<(e=this.vModel.getLastCommitInfo().getFastBet()).length&&this.vModel.addFastBet(76,this.vModel.getLastCommitInfo().getTotal(),e),this.vModel.reBet();break;case VideoShare.VideoGameEvent.UNDO:this.vModel.undoBet();break;case VideoShare.VideoGameEvent.RASIE:this.vModel.followBet(this.statusToInt(),16)}},e.prototype.onSetChip=function(){this._mixChipSelectPanel.onSetChip(this.vModel.getChipList(),this._chipLimitMin,this._limitMax)},e.prototype.onPoolInfo=function(){},e.prototype.onStatusChanged=function(t){this._status=null!=(t=void 0===t?null:t)?t.status:this.vModel.getGameInfo().getStatus(),this._betAreaPanel&&this._betAreaPanel.setBetMouseStatus(!1),this._betButton&&this._betButton.unlocked(!1),this._countDownMc.visible=!1,"betting"==this._status?(this.initBetStatus(),this._messageTxt.resetShowTxt(),this._betAreaPanel&&this._betAreaPanel.setBetMouseStatus(!0),this._betButton&&this._betButton.unlocked(!0),this.checkCloseBet(),this._countDownMc.visible=!0):"dealing"==this._status?this._messageTxt.onMessage(IPL.DictManager.getDict("SHOW"),!1):"waiting"==this._status&&this._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_NEW_GAME"),!1)},e.prototype.checkCloseBet=function(){},e.prototype.setExt=function(){""!=this.extNo||""!=this.extRound?(this.extRoundInfo.con.visible=!0,!this.extNo&&this.extRound?this.extRoundInfo.eTxt.text=IPL.DictManager.getDict("ON_LIVE")+"："+this.extRound:this.extNo&&!this.extRound?this.extRoundInfo.eTxt.text=IPL.DictManager.getDict("ON_LIVE")+"："+this.extNo:this.extRoundInfo.eTxt.text=IPL.DictManager.getDict("ON_LIVE")+"："+this.extNo+" - "+this.extRound,this.extRoundInfo.bg.width=this.extRoundInfo.eTxt.width+8):this.extRoundInfo.con.visible=!1},e.prototype.onRoundInfo=function(){var t=this.vModel.getGameInfo(),e=(t.getExtRound()!=this.extRound&&(this.extRound=t.getExtRound(),this.setExt()),t.getExtNo()!=this.extNo&&(this.extNo=t.getExtNo(),this.setExt()),this._dealerName!=t.getDealerName()&&(this._dealerName=t.getDealerName()),this._roundNum!=t.getRoundNo()&&(this._roundNum=t.getRoundNo(),this.checkCloseBet()),this._roundNo!=t.getRoundSerial()&&(this._roundNo=t.getRoundSerial(),this._toolBarPanel.updateRoundNO(this._roundNo)),this._poker!=t.getPoker()&&(this._poker=t.getPoker(),this.setPoker()),this._roadMap!=t.getRoadmap()&&(this._roadMap=t.getRoadmap(),this.setRoadmap()),this._slice!=t.getSrcdown()&&(this._slice=t.getSrcdown(),this._countDownMc.setSlice(Number(t.getSrcdown()))),this._countDownMc.updateCountDown(Number(t.getCountdown())),"betting"==this._status&&this._messageTxt.onMessage(IPL.DictManager.getDict("PLEASE_BET")+"  "+t.getCountdown(),!1),parseInt(t.getResult())),i=parseInt(t.getResult2());!(0!=e&&-1!=e&&""!=t.getResult()||0!=i&&-1!=i&&""!=t.getResult2())||this._result==e&&t.getResult()==this._resultStr&&this._result2==i||(this._result=e,this._resultStr=t.getResult(),this._roundCancelOpen=!0,this._result2=i,this.setResult()),-1==e&&this._roundCancelOpen&&(this._roundCancelOpen=!1,this._messageTxt.onMessage(IPL.DictManager.getDict("ROUND_ID")+":"+t.getRoundSerial()+"."+IPL.DictManager.getDict("ROUND_CANCEL"),!0,3e3)),this.statusCon&&this._roadmapPanel.removeChild(this.statusCon),0==Number(this._roundNum.split("-")[1])&&(this.statusCon=new a,this.statusCon.interactive=!0,this.coverBG=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_StatusBG"),this.statusCon.addChild(this.coverBG),this.shuffleTxt=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_ShuffleCardsTxt_"+IPL.UrlParameter.lang),this.shuffleTxt.anchor.set(.5),this.statusCon.addChild(this.shuffleTxt),this.statusCon.position.set(0,0),this.coverBG.width=this._roadmapPanel.width,this.coverBG.height=this._roadmapPanel.height,this.shuffleTxt.x=this._roadmapPanel.width/2,this.shuffleTxt.y=this._roadmapPanel.height/2,this._roadmapPanel.addChild(this.statusCon))},e.prototype.setPoker=function(){},e.prototype.setRoadmap=function(){},e.prototype.setResult=function(){},e.prototype.setRoundNum=function(t){null!=this._statisticsPanel&&this._statisticsPanel.setStatisticsInfo(t.data,!1)},e.prototype.setMaintainInfo=function(t){"1"==t?(this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1),this._betAreaPanel&&this._betAreaPanel.setBetMouseStatus(!1),this._betButton&&this._betButton.unlocked(!1),this._countDownMc.visible=!1,this._messageTxt.visible=!1,this._status="waiting",this.blockChainVideoPanel&&(this.blockChainVideoPanel.visible=!1)):this._mt!=t&&(this._toolBarPanel.setBtnStatus("videoSwitch",!0),this._toolBarPanel.setBtnStatus("tip",!0),this.onStatusChanged(),this.onRoundInfo(),this._messageTxt.visible=!0,this.blockChainVideoPanel)&&(this.blockChainVideoPanel.visible=!0),this._mt=t,this.setToolBarBtnStatus()},e.prototype.setToolBarBtnStatus=function(){},e.prototype.onUserInfo=function(){var t=this.vModel.getUserInfo();this._chipList=t.getChipList(),this._chipValue=this._mixChipSelectPanel.getChipValue(),this._mainuser=this.vModel.getUserInfo().getUserID(),this._currencyPic=this.vModel.getUserInfo().getCurrencyPic(),this.setToolBarBtnStatus()},e.prototype.onBetInfo=function(t){null!=t.status?Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.status),3e3,"",!0,!0):this.vModel.getNoComm()?this._chipStackPanel&&this._chipStackPanel.setNoCommDataAdd(this.vModel.getAddBetInfo(),this._betType):this._chipStackPanel&&this._chipStackPanel.setDataAdd(this.vModel.getAddBetInfo(),this._betType),0<this.vModel.getAddBetInfo().getTotal()?this._hasAddBet=!0:this._hasAddBet=!1,"betting"==this._status||"betingAnte"==this._status?(this._betButton&&this._betButton.unlocked(!0),this.checkCloseBet()):this._betButton&&this._betButton.unlocked(!1)},e.prototype.onBetInfoCommitted=function(t){n.prototype.onBetInfoCommitted.call(this,t),"betting"==this._status?(this._betButton&&this._betButton.unlocked(!0),this.checkCloseBet()):this._betButton&&this._betButton.unlocked(!1),this.vModel.getNoComm()?this._chipStackPanel&&this._chipStackPanel.setNoCommDataCommit(this.vModel.getCommitInfo(),this._betType):this._chipStackPanel&&this._chipStackPanel.setDataCommit(this.vModel.getCommitInfo(),this._betType),this._betTotal=(new ShareLogic.DigitalLogic).numtoFix2(this.vModel.getCommitInfo().getTotal()),"TOTAL_BET"==t.status?(this._sound.play("betSucceed"),this._messageTxt.onMessage(IPL.DictManager.getDict("TOTAL_BET")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(Number(this._betTotal))))):null!=t.status&&"TOTAL_BET"!=t.status&&Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.status),3e3,"",!0,!0)},e.prototype.onCommittedInfo=function(){null!=this.vModel.getCommitInfo()&&(this._betTotal=(new ShareLogic.DigitalLogic).numtoFix2(this.vModel.getCommitInfo().getTotal())),this.vModel.getNoComm()?this._chipStackPanel&&this._chipStackPanel.setNoCommDataCommit(this.vModel.getCommitInfo()):this._chipStackPanel&&this._chipStackPanel.setDataCommit(this.vModel.getCommitInfo()),null!=this.vModel.getCommitInfo()&&0!=this.vModel.getCommitInfo().getTotal()&&"waiting"!=this._status&&"rollDice"!=this._status&&(this._messageTxt.onMessage(IPL.DictManager.getDict("TOTAL_BET")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(Number(this._betTotal)))),this._sound.play("betSucceed"))},e.prototype.onSendTip=function(t){t.data.event?Tools.AlertPanel.showAlert(IPL.DictManager.getDict("SEND_TIP_SUCCESS"),1e4):Tools.AlertPanel.showAlert(IPL.DictManager.getDict("SEND_TIP_FAILURE"),1e4)},e.prototype.vidoePing=function(t){t.data.ping||t.data.fps},e.prototype.onEndGame=function(t){var t=t.data.payoff;0<t?(t=Number((new ShareLogic.DigitalLogic).numtoFix(t)),this._messageTxt.onMessage(IPL.DictManager.getDict("YOU_WIN")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(t)),!0,5e3)):t<0&&(t=(new ShareLogic.DigitalLogic).numtoFix(Math.abs(t)),this._messageTxt.onMessage(IPL.DictManager.getDict("YOU_LOSE")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(Number(t))),!0,5e3))},e.prototype.reset=function(){n.prototype.reset.call(this),this.extRoundInfo.con.visible=!1,this._result=0,this._result2=0},e.prototype.removeHandle=function(){this._betAreaPanel&&this._betAreaPanel.reset(),this._messageTxt.resetShowTxt(),this._roadmapPanel.event.removeEventListener(VideoShare.RoadmapEvent.SUMROADMAP,this.roadEvent),this._betAreaPanel&&this._betAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._betButton&&this._betButton.event.removeEventListener(VideoShare.VideoGameEvent.COMMIT,this.commandEvent),this._betButton&&this._betButton.event.removeEventListener(VideoShare.VideoGameEvent.CANCEL,this.commandEvent),this._betButton&&this._betButton.event.removeEventListener(VideoShare.VideoGameEvent.REBET,this.commandEvent),this._betButton&&this._betButton.event.removeEventListener(VideoShare.VideoGameEvent.UNDO,this.commandEvent),this._toolBarPanel.setBtnStatus("videoSwitch",!0),this._toolBarPanel.setBtnStatus("tip",!0),this._toolBarPanel.setBtnStatus("betLimitInfo",!0),n.prototype.removeHandle.call(this)},e);function e(){var e=n.call(this)||this;return e._mt="0",e._sound=SoundsManager.VideoSoundsManager.getInstance(),e.betSensorEvent=function(t){e.onAddBet(t)},e.toolbarEvent=function(t){e.handleToolbar(t)},e.commandEvent=function(t){e.handleCommand2(t)},e.roadEvent=function(t){e.setRoundNum(t)},e.initUI(),e.initShareUI(),e.initBetStatus(),e}i.ViewModel=t;var r,s=PIXI.Text,h=(r=SharePanel.MessagePanel,__extends(l,r),l.prototype.initTxt=function(t,e){r.prototype.initTxt.call(this,t=void 0===t?null:t,e=void 0===e?!1:e),this.newTxt=new s("",t),this.newTxt.anchor.set(.5),this.addChild(this.newTxt),this.newTxt.visible=!1},l.prototype.onMessage=function(t,e,i,n,a){var o=this;void 0===e&&(e=!0),void 0===i&&(i=3e3),void 0===n&&(n=!0),""!=(a=void 0===a?"":a)&&(this.messageTxt.style.fill=a),null!=this.messageBG&&n?this.messageBG.visible=!0:n?this.messageTxt.visible=!0:this.messageBG.visible=!1,e?(this.newTxt.text=t,this.newTxt.visible=!0,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){o.onTimeout()},i)):this.messageTxt.text=t,this.exchange()},l.prototype.onTimeout=function(){this.newTxt.text="",this.newTxt.visible=!1,this.exchange()},l.prototype.exchange=function(){this.newTxt.visible?this.messageBG.visible=!1:this.messageBG.visible=!0},l.prototype.resetShowTxt=function(){r.prototype.resetShowTxt.call(this),this.newTxt.text="",this.newTxt.visible=!1},l);function l(){return r.call(this)||this}i.oneMessage=h}(ShareMultiGames=ShareMultiGames||{}),!function(t){var i,e=PIXI.Sprite,o=PIXI.Graphics,e=(__extends(n,i=e),n.prototype.initUI=function(){var t=this.obj.num,e=this.obj.width,i=this.obj.height,n=this.obj.lightStr;this.arrGraghics=[],this.arrLight=[],null!=this.obj.bgColor&&(this.background=new o,this.background.beginFill(this.obj.bgColor,1),this.background.drawRect(0,0,e,i),this.background.endFill(),this.addChild(this.background));for(var a=0;a<t;a++)this.arrGraghics[a]=new o,this.arrGraghics[a].beginFill(this.obj["lineColor"+String(a+1)],1),this.arrGraghics[a].drawRect(0,0,e,i),this.arrGraghics[a].endFill(),this.arrGraghics[a].scale.set(0,1),this.addChild(this.arrGraghics[a]);for(a=0;a<t-1;a++)this.arrLight[a]=PIXI.Sprite.fromFrame(n+"0000"),this.arrLight[a].anchor.set(.5,.5),this.arrLight[a].visible=!1,this.arrLight[a].y=i/2,this.addChild(this.arrLight[a])},n.prototype.setScale=function(t){for(var e=this.obj.num,i=e-1,n=0,a=0;a<e;a++)null!=this.arrGraghics[a]&&(this.arrGraghics[a].scale.x=t["scale"+String(a+1)],this.arrGraghics[a].x=n,n+=this.arrGraghics[a].width,null!=this.arrLight[a])&&(this.arrLight[a].x=n);if(0!=i)for(a=0;a<i;a++)null!=this.arrLight[a]&&(this.arrLight[a].visible=!0)},n.prototype.reset=function(){for(var t=this.obj.num,e=0;e<t;e++)null!=this.arrLight[e]&&(this.arrLight[e].visible=!1),null!=this.arrGraghics[e]&&(this.arrGraghics[e].scale.x=0)},n);function n(t){var e=i.call(this)||this;return e.obj=t,e.initUI(),e}t.StatisticsLine=e}(SharePanel=SharePanel||{}),!function(o){var a,t=PIXI.Container,t=(__extends(e,a=t),e.prototype.initPos=function(t){this.stackList=[];for(var e,i=[],n=0;n<this.posArr.length;n++)null!=this.posArr[n]&&(this.stackList[Number(t[n])]=new o.ChipStackUI(this.cellSetting.sty1,this.cellSetting.sty2,this.cellSetting.nameArr,this.cellSetting.txtPosY,this.cellSetting.txtBG),this.stackList[Number(t[n])].x=this.posArr[n].x,this.stackList[Number(t[n])].y=this.posArr[n].y,(e={}).name=Number(t[n]),e.posY=this.posArr[n].y,i.push(e));for(var i=this.sortOnY(i),a=0;a<i.length;a++)null!=this.stackList[i[a].name]&&this.addChild(this.stackList[i[a].name])},e.prototype.sortOnY=function(t){for(var e,i=0;i<t.length-1;i++)for(e=0;e<t.length-1-i;e++){var n=t[e].posY,a=t[e+1].posY;null!=t[e]&&a<n&&(a=t[e],t[e]=t[e+1],t[e+1]=a)}return t},e.prototype.initGameDefine=function(t){this._gd=t},e.prototype.setChipVisible=function(t,e){for(var i=0;i<t.length;i++)this.stackList[t[i]].visible=e},e.prototype.reset=function(){for(var t=0;t<this.stackList.length;t++)null!=this.stackList[t]&&(this.stackList[t].setAdd(0),this.stackList[t].setCommit(0))},e.prototype.setDataCommit=function(t){for(var e,i,n=t.length,a=0;a<n;a++)e=Number(t[a].name),i=t[a].bet,null!=this.stackList[e]&&this.stackList[e].setCommit(Number((new ShareLogic.DigitalLogic).numtoFix(i)))},e.prototype.resetChipTextSize=function(t){void 0===t&&(t=1);for(var e,i=this._gd.getMinBetType(),n=0;n<this.stackList.length;n++)null!=(e=0==i?this.stackList[n]:this.stackList[n+1])&&e.scale.set(t)},e.prototype.resetChipSize=function(t){void 0===t&&(t=1);for(var e,i=this._gd.getMinBetType(),n=0;n<this.stackList.length;n++)null!=(e=0==i?this.stackList[n]:this.stackList[n+1])&&e.resetChipSize(t)},e.prototype.resetTextSize=function(t){void 0===t&&(t=1);for(var e,i=this._gd.getMinBetType(),n=0;n<this.stackList.length;n++)null!=(e=0==i?this.stackList[n]:this.stackList[n+1])&&e.resetTextSize(t)},e);function e(t,e,i){var n=a.call(this)||this;return null==t.sty1&&(t.sty1={fontFamily:"Arial",fontSize:"32px",fill:"#FFCC00",stroke:"#000000",strokeThickness:5}),null==t.sty2&&(t.sty2={fontFamily:"Arial",fontSize:"32px",fill:"#66FF00",stroke:"#000000",strokeThickness:5}),null==t.txtPosY&&(t.txtPosY=-5),n.interactiveChildren=!1,n.cellSetting=t,n.posArr=e,n.initPos(i),n}o.CustomChipStackPanel=t}(ChipStack=ChipStack||{}),!function(t){i=Composite.EventContainer,__extends(n,i),n.prototype.initUI=function(){},n.prototype.checkBankerIsSix=function(){return"6"==this.bankerPoint.text},n.prototype.checkSprcialCase=function(t){if(""!=t.split(",")[4]){if("0"==this.bankerPoint.text&&"0"==this.playerPoint.text)return"InsBankerWin";if("9"==this.bankerPoint.text&&"9"==this.playerPoint.text)return"InsPlayerWin"}return"No"},n.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();for(var i,n,a=[0,0,0,0,0,0],o=t.split(","),r=o.length,s=0;s<r;s++)""!=o[s]&&"X"!=o[s]&&(n=(i=o[s]).split("."),n=parseInt(n[1]),this.pokerMcArr[s].setPoker(i),1==e&&(this.pokerMcArr[s].visible=!0),a[s]=n=9<n?0:n);var h,l=(a[0]+a[2]+a[4])%10,c=(a[1]+a[3]+a[5])%10;this.playerPoint.text=String(l),this.bankerPoint.text=String(c),this.tmpPoker!=t?this.tmpPoker=t:""!=t&&(l<c?this.setWinLight("banker"):c<l?this.setWinLight("player"):c==l&&this.setWinLight("tie"),t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.PASS_WIN_INFO),(h=new Object).playerpoint=l,h.bankerpoint=c,t.data=h,this.event.dispatchEvent(t))},n.prototype.setStatus=function(t){var e,i,n;null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),"waiting"==t&&((t=Number(this.playerPoint.text))<(e=Number(this.bankerPoint.text))?this.setWinLight("banker"):e<t&&this.setWinLight("player"),i=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.PASS_WIN_INFO),(n=new Object).playerpoint=t,n.bankerpoint=e,i.data=n,this.event.dispatchEvent(i))},n.prototype.setWinLight=function(t){"banker"==t&&null!=this.bankerWin?this.bankerWin.visible=!0:"player"==t&&null!=this.playerWin&&(this.playerWin.visible=!0)},n.prototype.reset=function(){null!=this.playerPoint&&(this.playerPoint.text=""),null!=this.bankerPoint&&(this.bankerPoint.text=""),null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this.pokerMcArr[t].visible=!1},n.prototype.resetPokerStr=function(){this.tmpPoker=""};var i,e=n;function n(t){var e=i.call(this)||this;return e.tmpPoker="",e.poker1=new ShareUI.PokerUI(t),e.poker2=new ShareUI.PokerUI(t),e.poker3=new ShareUI.PokerUI(t),e.poker4=new ShareUI.PokerUI(t),e.poker5=new ShareUI.PokerUI(t),e.poker6=new ShareUI.PokerUI(t),e.pokerMcArr=[e.poker1,e.poker2,e.poker3,e.poker4,e.poker5,e.poker6],e.initUI(),e}t.PokerPanel=e}(BacShare=BacShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){null!=this.bankerTitle&&(this.bankerTitle.text=IPL.DictManager.getDict("BAC_BANKER")),null!=this.playerTitle&&(this.playerTitle.text=IPL.DictManager.getDict("BAC_PLAYER")),null!=this.tieTitle&&(this.tieTitle.text=IPL.DictManager.getDict("BAC_TIE"))},n.prototype.setStatisticsInfo=function(t,e){var i,n,a,o=t.BankerNum,r=t.PlayerNum,s=t.TieNum,t=t.BankerNum+t.PlayerNum+t.TieNum;0==t&&(t=1),e&&(i=(new ShareLogic.DigitalLogic).numtoFix4(o/t)+"%",n=(new ShareLogic.DigitalLogic).numtoFix4(r/t)+"%",a=(new ShareLogic.DigitalLogic).numtoFix4(s/t)+"%"),null!=this.bankerTxt&&(this.bankerTxt.text=String(o)),null!=this.playerTxt&&(this.playerTxt.text=String(r)),null!=this.tieTxt&&(this.tieTxt.text=String(s)),e&&(this.bankerTxt.text=this.bankerTxt.text+"/"+i,this.playerTxt.text=this.playerTxt.text+"/"+n,this.tieTxt.text=this.tieTxt.text+"/"+a),null!=this.banker&&(this.banker.scale.x=o/t),null!=this.player&&(this.player.scale.x=r/t),null!=this.tie&&(this.tie.scale.x=s/t)},n);function n(){return e.call(this)||this}t.StatisticsPanel=i}(BacShare=BacShare||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX","PAIR","TIE","HIGHT_LOW","EITHERPAIR","PERFECTPAIR","SUPERSIX","SUPERPAIR","COMBOPAIR","BANKERPLAYERTIAN","TIAN","LUCKYSIX","BANKERPLAYERDRAGON","BANKERPLAYERODDEVEN"],this.titleArr=["MIN_BET","BAC_MAX","PAIRMAX","MAX_TIE_BET","HIGHT_LOW_MAX","MAX_EITHERPAIR_BET","MAX_PERFECTPAIR_BET","MAX_SUPERSIX_BET","SUPER_PAIR_MAX","COMBO_PAIR_MAX","BANKER_PLAYER_TIAN_MAX","TIAN_MAX","LUCKY_SIX_MAX","BANKER_PLAYER_DRAGON_MAX","BANKER_PLAYER_ODD_EVEN_MAX"],this.limitNameArr=["roundBetMin","roundBetMax","pairMax","tieMax","hightlowMax","eitherPairMax","perfectPairMax","superSixMax","superPairMax","comboPairMax","bankerPlayerTianMax","tianMax","luckySixMax","bankerPlayerDragonMax","bankerPlayerOddEvenMax"]):(this.keyArr=["BANKER","BANKER_NOCOMM","PLAYER","TIE","PAIR","HIGHT","LOW","EITHERPAIR","PERFECTPAIR","SUPERSIX","SUPERPAIR","COMBOPAIR","BANKERPLAYERTIAN","TIAN","LUCKYSIX","BANKERPLAYERDRAGON","DRAGON","TIGER","BANKERODD","PLAYERODD","BANKEREVEN","PLAYEREVEN"],this.titleArr=["BAC_BANKER","BAC_BANKER","BAC_PLAYER","BAC_TIE","BAC_PAIR","BAC_BIG","BAC_SMALL","MAX_EITHERPAIR_BET","MAX_PERFECTPAIR_BET","MAX_SUPERSIX_BET","SUPER_PAIR_MAX","COMBO_PAIR_MAX","BANKER_PLAYER_TIAN_MAX","TIAN_MAX","LUCKY_SIX_MAX","BANKER_PLAYER_DRAGON_MAX","DTF_DRAGON","DTF_TIGER","BACRUN_BANKER_ODD","BACRUN_PLAYER_ODD","BACRUN_BANKER_EVEN","BACRUN_PLAYER_EVEN"],this.limitNameArr=["roundBetMax","roundBetMax","roundBetMax","tieMax","pairMax","hightlowMax","hightlowMax","eitherPairMax","perfectPairMax","superSixMax","superPairMax","comboPairMax","bankerPlayerTianMax","tianMax","luckySixMax","bankerPlayerDragonMax","roundBetMax","roundBetMax","bankerPlayerOddEvenMax","bankerPlayerOddEvenMax","bankerPlayerOddEvenMax","bankerPlayerOddEvenMax"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:0.95","1:1 ("+IPL.DictManager.getDict("BAC_SIX_WIN")+" 1:0.5)","1:1","1:8.5","1:11","1:0.53","1:1.46","1:5","1:22","1:12","1:1.2","1:20","1:4","1:1.6","1:12/1:20","1:30","1:1","1:1","1:0.94","1:0.96","1:0.9","1:0.88"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},"BANKER_NOCOMM"==this.keyArr[t]?this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict("BAC_BANKER")+"("+IPL.DictManager.getDict("NO_COMM")+")":this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(BacLogicShare=BacLogicShare||{}),!function(t){var e,n=PIXI.Container,h=PIXI.Sprite,i=PIXI.Point,l=PIXI.Text,c=(e=Composite.EventContainer,__extends(a,e),a.prototype.openPanel=function(t){void 0===t&&(t=!0),this.visible=!0,this._isOpen=t},a.prototype.initPanelUI=function(t,e){var i=this,e=(void 0===t&&(t=402),void 0===e&&(e=780),this._shoeBG=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChild(this._shoeBG),this._shoeBG.width9=t,this._shoeBG.height9=e,this._shoeBG.interactive=!0,PIXILayoutTool.DisplayObject.createImage("Multiple_LimitLine")),n=(e.width=t-26,this.addChild(e),new ShareUI.Button("Multiple_CloseBtn"));n.x=t-37,n.y=13,this.addChild(n),n.on("pointerdown",function(){i.visible=!1,n.setStatus("up")}),this.closeBtn=n,this.visible=!1,this.interactive=!0,this.initAddListen()},a.prototype.checkPanel=function(t){void 0===t&&(t=""),this.visible&&(this.visible=!1)},a.prototype.initAddListen=function(){var e=this;this.interactive=!0,CheckSize.GameStyle.stage.interactive=!0,DeviceAndEnvironment.Device.isMobile()?(this.on("touchstart",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("touchstart",function(t){e.onStageClick(t)})):(this.on("pointerdown",function(t){e.onLocalclicked(t)}),CheckSize.GameStyle.stage.on("pointerdown",function(t){e.onStageClick(t)}))},a.prototype.onLocalclicked=function(t){this._isLocalClick=!0},a.prototype.onStageClick=function(t){this._isOpen?this._isOpen=!1:(this._isLocalClick||this.checkPanel(),this._isLocalClick=!1)},a.prototype.setH=function(t){this._shoeBG.height9=t},a.prototype.setTitle=function(t,e){t=new l(t,{fontSize:24,fill:16764294,fontWeight:"bolder"});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,24,358),t.x=e,t.y=28,t.anchor.y=.5,this.addChild(t)},a);function a(){return null!==e&&e.apply(this,arguments)||this}t.Panel=c;__extends(s,o=c),s.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("INTACT_SHOE"),15);this._shoePokerCon=new n,this.addChild(this._shoePokerCon),this.scrollBar=new ShareUI.QBar(this._shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},s.prototype.initShoePokerUI=function(t){for(var n=this,a=new PIXI.Container,o=(this._pokerR=h.fromImage("Multiple_Blockchain_PokerRed0000"),this._pokerR.width=44,this._pokerR.height=70,this._pokerR.visible=!1,a.addChild(this._pokerR),this),e=0;e<t;e++)!function(t){o._conCell[t]=new PIXI.Container;var e=new l((t+1<100?t+1<10?"00":"0":"")+String(t+1),{fontFamily:"Arial",fontSize:15,fill:16777215}),i=(e.x=22,e.y=71,e.anchor.x=.5,o._conCell[t].addChild(e),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Select"));i.x=-6,i.y=-6,o._conCell[t].addChild(i),i.visible=!1,o._conCell[t].x=15+t%7*50,o._conCell[t].y=10+90*Math.floor(t/7),a.addChild(o._conCell[t]),o._arrPokerUI[t]=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),o._arrPokerUI[t].initListener(),o._arrPokerUI[t].setPokerSize(44,70),o._arrPokerUI[t].setPoker("back"),o._arrPokerUI[t].setId(t+1),o._conCell[t].addChild(o._arrPokerUI[t]),o._arrPokerUI[t].on("mouseover",function(){i.visible=!0}),o._arrPokerUI[t].on("mouseout",function(){i.visible=!1}),o._arrPokerUI[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,n.event.dispatchEvent(e)})}(e);this.scrollBar.updateScrollBar(a)},s.prototype.updateAllData=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=-1),this.reset();for(var n=0;n<t.length;n++)""!==t[n]?this._arrPokerUI[n].setPoker(t[n]):this._arrPokerUI[n].setPoker("back");if(-1!==e){10<e&&(e=10);for(n=0;n<e;n++)this._arrPokerUI[n+1].alpha=.5}if(-1!==i){this._pokerR.x=15+(i-1)%7*50,this._pokerR.y=10+90*Math.floor((i-1)/7);for(n=0;n<this._conCell.length;n++)n<i-1?(this._conCell[n].x=15+n%7*50,this._conCell[n].y=10+90*Math.floor(n/7)):(this._conCell[n].x=15+(n+1)%7*50,this._conCell[n].y=10+90*Math.floor((n+1)/7));this._pokerR.visible=!0}else{for(n=0;n<this._conCell.length;n++)this._conCell[n].x=15+n%7*50,this._conCell[n].y=10+90*Math.floor(n/7);this._pokerR.visible=!1}},s.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._arrPokerUI[t].alpha=1},s.prototype.updateData=function(t,e){t-=1;""!==e&&"X"!==e?this._arrPokerUI[t].setPoker(e):this._arrPokerUI[t].setPoker("back")};var o,r=s;function s(t){void 0===t&&(t=416);var e=o.call(this)||this;return e._arrPokerUI=[],e._conCell=[],e.initPanelUI(),e.init(),e.initShoePokerUI(t),e}t.BacShoePanel=r;__extends(d,u=r),d.prototype.initShoePokerUI=function(t){for(var n=this,a=new PIXI.Container,o=(this._pokerR=h.fromImage("Multiple_Blockchain_PokerRed0000"),this._pokerR.width=44,this._pokerR.height=70,this._pokerR.visible=!1,a.addChild(this._pokerR),this),e=0;e<t;e++)!function(i){o._conCell[i]=new PIXI.Container;var t=new l((i+1<100?i+1<10?"00":"0":"")+String(i+1),{fontFamily:"Arial",fontSize:15,fill:16777215}),e=(t.x=22,t.y=71,t.anchor.x=.5,o._conCell[i].addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Select"));e.x=-6,e.y=-6,o._conCell[i].addChild(e),e.visible=!1,o._conCell[i].x=15+i%7*50,o._conCell[i].y=10+90*Math.floor(i/7),a.addChild(o._conCell[i]),o._arrPokerUI[i]=new ShareUI.bcBac28UI("Multiple_28Bac_mahjong","Multiple_Blockchain_IBtn"),o._arrPokerUI[i].initListener(),o._arrPokerUI[i].setPokerSize(44,70),o._arrPokerUI[i].setPoker("back"),o._arrPokerUI[i].setId(i+1),o._conCell[i].addChild(o._arrPokerUI[i]),o._arrPokerUI[i].on("mouseover",function(){e.visible=!0}),o._arrPokerUI[i].on("mouseout",function(){e.visible=!1}),o._arrPokerUI[i].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");t.pStr=n._arrPokerUI[i].pStr,e.data=t,n.event.dispatchEvent(e)})}(e);this.scrollBar.updateScrollBar(a)},d.prototype.updateAllData=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=-1),this.reset();for(var n=0;n<t.length;n++)""!==t[n]?(this._arrPokerUI[n].setPoker(t[n]),this._arrPokerUI[n].pStr=t[n]):this._arrPokerUI[n].setPoker("back");if(-1!==e){10<e&&(e=10);for(n=0;n<e;n++)this._arrPokerUI[n+1].alpha=.5}if(-1!==i){this._pokerR.x=15+(i-1)%7*50,this._pokerR.y=10+90*Math.floor((i-1)/7);for(n=0;n<this._conCell.length;n++)n<i-1?(this._conCell[n].x=15+n%7*50,this._conCell[n].y=10+90*Math.floor(n/7)):(this._conCell[n].x=15+(n+1)%7*50,this._conCell[n].y=10+90*Math.floor((n+1)/7));this._pokerR.visible=!0}else{for(n=0;n<this._conCell.length;n++)this._conCell[n].x=15+n%7*50,this._conCell[n].y=10+90*Math.floor(n/7);this._pokerR.visible=!1}},d.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._arrPokerUI[t].pStr="back",this._arrPokerUI[t].alpha=1},d.prototype.updateData=function(t,e){t-=1;""!==e&&"X"!==e?(this._arrPokerUI[t].setPoker(e),this._arrPokerUI[t].pStr=e):this._arrPokerUI[t].setPoker("back")};var u,r=d;function d(t){return u.call(this,t=void 0===t?320:t)||this}t.Bac28ShoePanel=r;__extends(f,p=c),f.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("INTACT_SHOE"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},f.prototype.initShoePokerUI=function(t){for(var n=this,a=new PIXI.Container,o=this,e=0;e<t;e++)!function(t){o._conCell[t]=new PIXI.Container;var e=new l((t+1<100&&t+1<10?"0":"")+String(t+1),{fontFamily:"Arial",fontSize:15,fill:16777215}),i=(e.x=22,e.y=71,e.anchor.x=.5,o._conCell[t].addChild(e),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Select"));i.x=-6,i.y=-6,o._conCell[t].addChild(i),i.visible=!1,o._conCell[t].x=15+t%7*50,o._conCell[t].y=10+90*Math.floor(t/7),a.addChild(o._conCell[t]),o._arrPokerUI[t]=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),o._arrPokerUI[t].initListener(),o._arrPokerUI[t].setPokerSize(44,70),o._arrPokerUI[t].setPoker("back"),o._arrPokerUI[t].setId(t+1),o._conCell[t].addChild(o._arrPokerUI[t]),o._arrPokerUI[t].on("mouseover",function(){i.visible=!0}),o._arrPokerUI[t].on("mouseout",function(){i.visible=!1}),o._arrPokerUI[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,e.status="new",n.event.dispatchEvent(e)})}(e);this.scrollBar.updateScrollBar(a)},f.prototype.updateAllData=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=-1),this.reset();for(var n=0;n<t.length;n++)""!==t[n]?this._arrPokerUI[n].setPoker(t[n]):this._arrPokerUI[n].setPoker("back")},f.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back")},f.prototype.updateData=function(t,e){t-=1;""!==e&&"X"!==e?this._arrPokerUI[t].setPoker(e):this._arrPokerUI[t].setPoker("back")};var p,r=f;function f(t){void 0===t&&(t=52);var e=p.call(this)||this;return e._arrPokerUI=[],e._conCell=[],e.initPanelUI(),e.init(),e.initShoePokerUI(t),e}t.NoRedShoePanel=r;__extends(m,_=c),m.prototype.initPoker=function(t){void 0===t&&(t=""),this._poker=new ShareUI.PokerUI("SimplePoker"),this._poker.x=160,this._poker.y=12,this._poker.scale=new i(.72,.74),this._conContent.addChild(this._poker)},m.prototype.initUI=function(){var t=PIXI.Sprite.fromFrame("Multiple_Blockchain_CertificationIcon0000");t.x=15,t.y=15,this.addChild(t),this.setTitle(IPL.DictManager.getDict("BC_CARD_VERIFY"),50),this._conContent=new n,this._conContent.x=15,this._conContent.y=65,this.addChild(this._conContent)},m.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_POKER_SN"),IPL.DictManager.getDict("BC_POKER_POINT")+"\n"+IPL.DictManager.getDict("BC_POKER_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_POKER_SUIT")+"\n"+IPL.DictManager.getDict("BC_POKER_SUIT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new c),n=(i.initPanelUI(390,200),i.x=6,new l(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},m.prototype.initVerifiUI=function(){for(var e=this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Arrow"),i=(this._conContent.addChild(t),new l("SHA512",{fontSize:13,fill:0})),t=(i.anchor.set(.5),i.x=t.width/2,i.y=t.height/2-2,t.addChild(i),new PIXI.Graphics),i=(t.lineStyle(1,3350562),t.drawRect(0,0,372,240),t.endFill(),this._conContent.addChild(t),new PIXI.Graphics),t=(i.beginFill(3350562),i.drawRect(0,130,372,110),i.endFill(),this._conContent.addChild(i),new PIXI.Graphics),i=(t.beginFill(3350562),t.drawRect(0,288,372,360),t.endFill(),this._conContent.addChild(t),new PIXI.Graphics),t=(i.lineStyle(1,15459250,.5),i.moveTo(12,470),i.lineTo(360,470),i.endFill(),this._conContent.addChild(i),this._btnVer=new ShareUI.Button("Multiple_Blockchain_CertificationBtn"),this._btnVer.x=(372-this._btnVer.width)/2,this._btnVer.y=658,this._conContent.addChild(this._btnVer),this._btnVer.on("pointerdown",function(){e._arrContext[1].text=e._arrContext[0].text,e._arrContext[0].style.fill=65384,e._iconSucc.visible=!0}),new l(IPL.DictManager.getDict("BC_CARD_VERIFY"),{fontFamily:"微軟正黑體",fontSize:19,fill:3217691,fontWeight:"bolder"})),n=(t.anchor.set(.5),t.x=this._btnVer.width/2,t.y=this._btnVer.height/2,this._btnVer.addChild(t),this._pokerID=new l("000",{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,fontWeight:"bolder"}),this._pokerID.anchor.set(.5),this._pokerID.x=this._poker.x+this._poker.width/2,this._pokerID.y=this._poker.y+this._poker.height+15,this._conContent.addChild(this._pokerID),[140,300,480]),a=[IPL.DictManager.getDict("BC_SEEDS"),IPL.DictManager.getDict("BC_HASH"),IPL.DictManager.getDict("BC_PRE_HASH")],o=[510,330,170],r=0;r<3;r++){var s=new l(a[r],{fontFamily:"微軟正黑體",fontSize:19,fill:16764294});s.style.fontSize=Tools.AdjustText.adjustFontSize(s,19,345),s.x=10,s.y=n[r],this._conContent.addChild(s),this._arrContext[r]=new l("",{fontFamily:"Arial",fontSize:16,fill:1==r?65384:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}),this._arrContext[r].x=12,this._arrContext[r].y=o[r],this._conContent.addChild(this._arrContext[r])}this._copyBtn=new ShareUI.Button("Multiple_Blockchain_CopyBtn"),this._copyBtn.x=292,this._copyBtn.y=212,this._conContent.addChild(this._copyBtn),this._copyBtn.on("pointerdown",function(){var t;DeviceAndEnvironment.Device.iOS()&&0<=navigator.userAgent.indexOf(" UB")?navigator.writeToClipboard(e._arrContext[2].text):DeviceAndEnvironment.Device.isIE()||DeviceAndEnvironment.Device.iOS()||DeviceAndEnvironment.Device.isAIO()?(t=document.createElement("input"),document.body.appendChild(t),t.textContent=e._arrContext[2].text,t.value=e._arrContext[2].text,t.readOnly=!0,t.style.opacity="0",t.focus(),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("copy"),document.body.removeChild(t),t.remove()):(t=function(t){t.preventDefault(),t.clipboardData.setData("text/plain",e._arrContext[2].text)},document.addEventListener("copy",t),document.execCommand("copy"),document.removeEventListener("copy",t))});i=PIXI.Sprite.fromImage("Multiple_Blockchain_CopyIcon0000"),i.x=11,i.y=3,this._copyBtn.addChild(i),t="cn"==IPL.UrlParameter.lang?"拷贝":"tw"==IPL.UrlParameter.lang?"複製":"Copy",i=new PIXI.Text(t,{fontFamily:"微軟正黑體",fontSize:12,fill:16777215}),i.x=58,i.y=this._copyBtn.height/2,i.anchor.set(1,.5),this._copyBtn.addChild(i),this._iconSucc=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Success"),this._iconSucc.x=266,this._iconSucc.y=420,this._iconSucc.width9=100,this._conContent.addChild(this._iconSucc),this._iconSucc.visible=!1,t=new l(IPL.DictManager.getDict("BC_CARD_VERIFY"),{fontFamily:"微軟正黑體",fontSize:14,fill:65384}),t.anchor.set(.5),t.x=46,t.y=25,this._iconSucc.addChild(t),this._returnBtn=new ShareUI.Button("Multiple_Blockchain_ReturnBtn"),this._returnBtn.x=18,this._returnBtn.y=72,this._conContent.addChild(this._returnBtn),this._returnBtn.on("pointerdown",function(){var t=new H5Event.H5BaseEvent("openShoe");e.event.dispatchEvent(t)}),i=new l(IPL.DictManager.getDict("INTACT_SHOE"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});i.style.fontSize=Tools.AdjustText.adjustFontSize(i,14,125),i.anchor.set(.5),i.x=61,i.y=11,this._returnBtn.addChild(i)},m.prototype.showPanel=function(t,e,i,n){this.reset(),this._poker.setPoker(t),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));t="";e<10?t="00":e<100&&(t="0"),this._pokerID.text=t+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)},m.prototype.updateData=function(t,e,i){t===Number(this._pokerID.text)&&(this._poker.setPoker(e="X"==e?"back":e),this._arrContext[2].text=i,this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),-1===i.indexOf("********"))&&(this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0))},m.prototype.reset=function(){this._poker.setPoker("back"),this._iconSucc.visible=!1,this._arrContext[1].text="",this._arrContext[0].style.fill=16777215};var _,r=m;function m(t){void 0===t&&(t="");var e=_.call(this)||this;return e._arrContext=[],e.initPanelUI(),e.initUI(),e.initPoker(t),e.initVerifiUI(),e.initRultUI(),e}t.VerificationPanel=r;g=t.VerificationPanel,__extends(y,g),y.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=""),this.reset(),this._pStr=t,this._status=a,this._poker.setPoker(t),"back"!==t&&""!==t&&" "!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a="";e<10?a="0":e<100&&(a=""),this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)},y.prototype.updateData=function(t,e,i){"new"!==this._status&&""!==this._status||t===Number(this._pokerID.text)&&"back"===this._pStr&&(this._pStr=e,this._poker.setPoker(e="X"==e?"back":e),this._arrContext[2].text=i,this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),-1===i.indexOf("********"))&&(this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0))};var g,v=y;function y(){var t=null!==g&&g.apply(this,arguments)||this;return t._status="",t._pStr="back",t}t.ThrCardVerificationPanel=v;__extends(S,P=r),S.prototype.initPoker=function(t){void 0===t&&(t=""),this._poker=new ShareUI.bcBac28UI("Multiple_28Bac_mahjong"),this._poker.x=160,this._poker.y=12,this._poker.scale.set(1.2),this._conContent.addChild(this._poker)},S.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_POKER_SN"),IPL.DictManager.getDict("BC_MAHJONG_POINT")+"\n"+IPL.DictManager.getDict("BC_MAHJONG_POINT_TXT")+"\n"+IPL.DictManager.getDict("BC_MAHJONG_EXPLAIN1")+"\n"+IPL.DictManager.getDict("BC_MAHJONG_EXPLAIN2")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2")+"\n",IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new c),n=(i.initPanelUI(390,200),i.x=6,new l(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},S.prototype.showPanel=function(t,e,i,n){this.reset(),this._pStr=t,this._poker.setPoker(t),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));t="";e<10?t="00":e<100&&(t="0"),this._pokerID.text=t+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)},S.prototype.updateData=function(t,e,i){t===Number(this._pokerID.text)&&"back"===this._pStr&&(this._pStr=e,this._poker.setPoker(e="X"==e?"back":e),this._arrContext[2].text=i,this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),-1===i.indexOf("********"))&&(this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0))},S.prototype.reset=function(){this._poker.setPoker("back"),this._iconSucc.visible=!1,this._arrContext[1].text="",this._arrContext[0].style.fill=16777215};var P,v=S;function S(t){t=P.call(this,t=void 0===t?"":t)||this;return t._pStr="back",t}t.Bac28VerificationPanel=v;__extends(I,b=c),I.prototype.initUI=function(t){this.setTitle(IPL.DictManager.getDict("BC_JUST_OPEN_VERIFIABLE"),15);for(var e=["ruleBlockChainGame010000","ruleBlockChainGame020000","ruleBlockChainGame030000","ruleBlockChainGame040000"],i=[150,300,460,600],n=[],a=0;a<4;a++)n[a]=h.fromImage(e[a]),n[a].x=3!=a?55:90,n[a].y=i[a],this.addChild(n[a]);for(var o=[],r=(0==t?o=[IPL.DictManager.getDict("BC_EXPLAIN1"),IPL.DictManager.getDict("BC_EXPLAIN2"),IPL.DictManager.getDict("BC_EXPLAIN3"),IPL.DictManager.getDict("BC_EXPLAIN4")]:1==t&&(o=[IPL.DictManager.getDict("BC_EXPLAIN1_2"),IPL.DictManager.getDict("BC_EXPLAIN2_2"),IPL.DictManager.getDict("BC_EXPLAIN3"),IPL.DictManager.getDict("BC_EXPLAIN4")]),[110,270,400,570]),s=[],a=0;a<4;a++)s[a]=new l(o[a],{fontFamily:"_sans",fontSize:18,fill:16777215,wordWrap:!0,wordWrapWidth:365,breakWords:!0}),s[a].x=18,s[a].y=r[a],this.addChild(s[a]);for(a=0;a<4;a++)s[a].y=0==a?67:n[a-1].y+n[a-1].height,n[a].y=s[a].y+s[a].height+2};var b,r=I;function I(t){void 0===t&&(t=0);var e=b.call(this)||this;return e.initPanelUI(),e.initUI(t),e}t.RulePanel=r;__extends(C,B=n),C.prototype.init=function(){this._redCard=h.fromImage("Multiple_Blockchain_PokerRed0000"),this._redCard.width=53,this._redCard.height=85,this._redCard.x=194.5,this._redCard.y=69,this.addChild(this._redCard)},C.prototype.show=function(){var t=this;TweenMax.fromTo(this,1,{alpha:0},{alpha:1}),TweenMax.delayedCall(2,function(){TweenMax.fromTo(t,1,{alpha:1},{alpha:0})})};var B,v=C;function C(){var t=B.call(this)||this;return t.init(),t}t.RedPanel=v;k=Composite.EventContainer,__extends(T,k),T.prototype.initUI=function(){var i=this,t=new l(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}),t=(t.anchor.set(.5),t.x=235,t.y=185,this._infoTxt=new PIXI.Graphics,this._infoTxt.beginFill(0,.7),this._infoTxt.drawRect(t.x-t.width/2-20,t.y-t.height/2-5,t.width+40,t.height+10),this._infoTxt.endFill(),this._infoTxt.addChild(t),this._infoTxt.visible=!1,this._headPokerUI=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this._headPokerUI.x=200,this._headPokerUI.y=90,this._headPokerUI.initListener(),this._headPokerUI.setPokerSize(66,100),this.addChild(this._headPokerUI),this.visible=!1,this._headPokerUI.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),this._headPokerId=new l("",{fill:16772830,fontSize:16}),this._headPokerId.anchor.x=.5,this._headPokerId.x=33,this._headPokerId.y=103,this._headPokerUI.addChild(this._headPokerId),this._headPokerUI.getChildAt(0));t.x=.5*t.width,t.anchor.x=.5,t.y=.5*t.height,t.anchor.y=.5,this._con=new n,this._con.y=36,this.addChild(this._con),this._arrPokerId=[],this._arrPokerUI=[];for(var e=0;e<10;e++)this._arrPokerUI[e]=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this._arrPokerUI[e].visible=!1,this._con.addChild(this._arrPokerUI[e]),this._arrPokerUI[e].initListener(),this._arrPokerUI[e].setPokerSize(44,70),this._arrPokerUI[e].setPoker("back"),this._arrPokerUI[e].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),this._arrPokerId[e]=new l("",{fill:16772830,fontSize:16}),this._arrPokerId[e].anchor.x=.5,this._arrPokerId[e].x=22,this._arrPokerId[e].y=68,this._arrPokerUI[e].addChild(this._arrPokerId[e])},T.prototype.showPokerAnimate=function(t,e){var i=t.getChildAt(0);TweenMax.fromTo(i,.2,{width:66,height:100},{width:0,height:120}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(i),i.width=0,i.height=120,t.setPoker(e),TweenMax.fromTo(i,.2,{width:0,height:120},{width:66,height:100}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(i),i.width=66,i.height=100})})},T.prototype.runAnimate=function(t,e,i){var n=this;this._headPokerUI.setPoker(e),this.showPokerAnimate(this._headPokerUI,e),this._headPokerUI.setId(t);for(var a=0;a<10;a++)this._arrPokerUI[a].setId(t+a+1),this._arrPokerId[a].text=9<t+a+1?"0"+String(t+a+1):"00"+String(t+a+1);for(e=5<i?Math.ceil(i/2):i,a=0;a<this._arrPokerUI.length;a++)this._arrPokerUI[a].x=49*(a<5?a:a-5),this._arrPokerUI[a].y=85*(a<5?0:1),this._arrPokerUI[a].visible=!1;this._con.x=(470-(10*e+10*(e-1)))/2-40,this._con.y=5<i?70:110;var o=this._con.x-80;this._headPokerUI.x=200,this._headPokerUI.y=90,TweenMax.delayedCall(1,function(){n._infoTxt.visible=!1,n._headPokerId.text="00"+String(t),TweenMax.delayedCall(.6,function(){TweenMax.fromTo(n._headPokerUI,.5,{x:200},{x:o}),TweenMax.delayedCall(.6,function(){n._con.visible=!0;for(var t=0;t<i;t++){var e=n._arrPokerUI[t].x;n._arrPokerUI[t].visible=!0,TweenMax.fromTo(n._arrPokerUI[t],.5,{x:0},{x:e})}})})})},T.prototype.reset=function(){this._con.visible=!1,this._headPokerUI.setPoker("back"),this._headPokerId.text="",this._headPokerUI.x=200,this._headPokerUI.y=90,TweenMax.fromTo(this._headPokerUI,.3,{alpha:0},{alpha:1}),this._infoTxt.visible=!0,TweenMax.fromTo(this._infoTxt,.3,{alpha:0},{alpha:1})};var k,r=T;function T(){var t=k.call(this)||this;return t.initUI(),t}t.BurnCardPanel=r;x=Composite.EventContainer,__extends(M,x),M.prototype.initUI=function(){var i=this,t=new l(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}),t=(t.anchor.set(.5),t.x=235,t.y=185,this._infoTxt=new PIXI.Graphics,this._infoTxt.beginFill(0,.7),this._infoTxt.drawRect(t.x-t.width/2-20,t.y-t.height/2-5,t.width+40,t.height+10),this._infoTxt.endFill(),this._infoTxt.addChild(t),this._infoTxt.visible=!1,this._headPokerUI=new ShareUI.bcBac28UI(this._pokerName,"Multiple_Blockchain_IBtn"),this._headPokerUI.x=200,this._headPokerUI.y=90,this._headPokerUI.initListener(),this._headPokerUI.setPokerSize(66,100),this.addChild(this._headPokerUI),this.visible=!1,this._headPokerUI.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),this._headPokerId=new l("",{fill:16772830,fontSize:16}),this._headPokerId.anchor.x=.5,this._headPokerId.x=33,this._headPokerId.y=103,this._headPokerUI.addChild(this._headPokerId),this._headPokerUI.getChildAt(0));t.x=.5*t.width,t.anchor.x=.5,t.y=.5*t.height,t.anchor.y=.5,this._con=new n,this._con.y=36,this.addChild(this._con),this._arrPokerId=[],this._arrPokerUI=[];for(var e=0;e<10;e++)this._arrPokerUI[e]=new ShareUI.bcBac28UI(this._pokerName,"Multiple_Blockchain_IBtn"),this._arrPokerUI[e].visible=!1,this._con.addChild(this._arrPokerUI[e]),this._arrPokerUI[e].initListener(),this._arrPokerUI[e].setPokerSize(44,70),this._arrPokerUI[e].setPoker("back"),this._arrPokerUI[e].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),this._arrPokerId[e]=new l("",{fill:16772830,fontSize:16}),this._arrPokerId[e].anchor.x=.5,this._arrPokerId[e].x=22,this._arrPokerId[e].y=68,this._arrPokerUI[e].addChild(this._arrPokerId[e])},M.prototype.showPokerAnimate=function(t,e){var i=t.getChildAt(0);TweenMax.fromTo(i,.2,{width:66,height:100},{width:0,height:120}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(i),i.width=0,i.height=120,t.setPoker(e),TweenMax.fromTo(i,.2,{width:0,height:120},{width:66,height:100}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(i),i.width=66,i.height=100})})},M.prototype.runAnimate=function(t,e,i){var n=this;this._headPokerUI.setPoker(e),this._headPokerUI.pStr=e,this.showPokerAnimate(this._headPokerUI,e),this._headPokerUI.setId(t);for(var a=0;a<10;a++)this._arrPokerUI[a].setId(t+a+1),this._arrPokerId[a].text=9<t+a+1?"0"+String(t+a+1):"00"+String(t+a+1);for(e=5<i?Math.ceil(i/2):i,a=0;a<this._arrPokerUI.length;a++)this._arrPokerUI[a].x=49*(a<5?a:a-5),this._arrPokerUI[a].y=85*(a<5?0:1),this._arrPokerUI[a].visible=!1;this._con.x=(470-(10*e+10*(e-1)))/2-40,this._con.y=5<i?70:110;var o=this._con.x-80;this._headPokerUI.x=200,this._headPokerUI.y=90,TweenMax.delayedCall(1,function(){n._infoTxt.visible=!1,n._headPokerId.text="00"+String(t),TweenMax.delayedCall(.6,function(){TweenMax.fromTo(n._headPokerUI,.5,{x:200},{x:o}),TweenMax.delayedCall(.6,function(){n._con.visible=!0;for(var t=0;t<i;t++){var e=n._arrPokerUI[t].x;n._arrPokerUI[t].visible=!0,TweenMax.fromTo(n._arrPokerUI[t],.5,{x:0},{x:e})}})})})},M.prototype.reset=function(){this._con.visible=!1,this._headPokerUI.setPoker("back"),this._headPokerId.text="",this._headPokerUI.x=200,this._headPokerUI.y=90,TweenMax.fromTo(this._headPokerUI,.3,{alpha:0},{alpha:1}),this._infoTxt.visible=!0,TweenMax.fromTo(this._infoTxt,.3,{alpha:0},{alpha:1})};var x,v=M;function M(t){var e=x.call(this)||this;return e._pokerName=t,e.initUI(),e}t.Bac28BurnCardPanel=v}(BlockChainShare=BlockChainShare||{}),!function(t){var h,y=PIXI.Container,i=PIXI.Graphics,n=PIXI.Sprite,o=PIXI.Point,r=PIXI.Text,e=(h=ShareMultiGames.ViewModel,__extends(a,h),a.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this._statisticsPanel=new d,this.addChild(this._statisticsPanel),this.initRoadInfo()},a.prototype.changeLayout=function(t){this._classicCon.visible=!1,this._dragonTigerCon.visible=!1,this._dragonBonusCon.visible=!1,this._naturalCon.visible=!1,this._superPCon.visible=!1,this._oddEvenCon.visible=!1;var t=t.data.name,e=0;"Classic"==t?(e=1,this._classicCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._classicObj)):"DragonTiger"==t?(e=2,this._dragonTigerCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._dragonTigerObj)):"DragonBonus"==t?(e=3,this._dragonBonusCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._dragonBonusObj)):"Natural"==t?(e=4,this._naturalCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._naturalObj)):"SuperP"==t?(e=5,this._superPCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._superPObj)):"OddEven"==t&&(e=6,this._oddEvenCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._oddEvenObj)),"Classic"==t||"DragonTiger"==t||"Natural"==t?this._chipStackPanel.resetPos(this._chipPos):this._chipStackPanel.resetPos(this._chipPos2),this.writeCookie(e),this.checkLayout()},a.prototype.getCookie=function(){for(var t=document.cookie.split("; "),e=0;e<t.length;e++)if("layout_key"===t[e].split("=")[0])return t[e].split("=")[1];return""},a.prototype.writeCookie=function(t){void 0===t&&(t=0);var e=new Date,e=(e.setTime(e.getTime()+864e5),"expires="+e.toUTCString());document.cookie="layout_key=".concat(t,";")+e},a.prototype.reCommittedInfo=function(){this._betButton.setRebetUnlocked(!1),this._checkbet=!1,this.vModel.cancelBet(),null!=this.vModel.getCommitInfo()&&(this._betTotal=(new ShareLogic.DigitalLogic).numtoFix2(this.vModel.getCommitInfo().getTotal())),this.vModel.getNoComm()?this._chipStackPanel&&this._chipStackPanel.setNoCommDataCommit(this.vModel.getCommitInfo()):this._chipStackPanel&&this._chipStackPanel.setDataCommit(this.vModel.getCommitInfo())},a.prototype.initBetStatus=function(){h.prototype.initBetStatus.call(this),this._classicBetAreaPanel&&this._classicBetAreaPanel.reset(),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.reset(),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.reset(),this._naturalBetAreaPanel&&this._naturalBetAreaPanel.reset(),this._superPBetAreaPanel&&this._superPBetAreaPanel.reset(),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.reset()},a.prototype.setToolBar=function(t){h.prototype.setToolBar.call(this,t),this.setlayoutToolBar()},a.prototype.setlayoutToolBar=function(){var i=this;this._layoutBtn.on("pointerdown",function(){i._layoutPanel.openPanel(),i._toolBarPanel.setBtnStatus("tip",!1),i._toolBarPanel.setBtnStatus("pingIcon",!1);var t=new Object,e=(t.GameType=i.vModel.getGameType(),t.GameCode=i._tmpGameCode,t.Visible=!1,new window.Event("VIDEO_BTN_VISIBLE"));e.data=t,window.dispatchEvent(e)}),this._layoutPanel.setTools(this._toolBarPanel)},a.prototype.checkLayout=function(){var t=this.getCookie();if(this._checkfir)for(var e=[],i=("1"==t?(this._layoutPanel.initbetArealight("Classic"),e=[1,2,3,4,5,6,7]):"2"==t?(this._layoutPanel.initbetArealight("DragonTiger"),e=[1,2,3,4,5,29,30]):"3"==t?(this._layoutPanel.initbetArealight("DragonBonus"),e=[1,2,3,19,20,25]):"4"==t?(this._layoutPanel.initbetArealight("Natural"),e=[1,2,3,16,17,18,25]):"5"==t?(this._layoutPanel.initbetArealight("SuperP"),e=[1,2,3,12,13,26,27,28]):"6"==t&&(this._layoutPanel.initbetArealight("OddEven"),e=[1,2,3,21,22,23,24]),this._checkfir=!1,[]),n=0;n<this._chipPos.length;n++)null!=this._chipPos[n]&&i.push(n);else{for(e=[],i=("1"==t?e=[1,2,3,4,5,6,7]:"2"==t?e=[1,2,3,4,5,29,30]:"3"==t?e=[1,2,3,19,20,25]:"4"==t?e=[1,2,3,16,17,18,25]:"5"==t?e=[1,2,3,12,13,26,27,28]:"6"==t&&(e=[1,2,3,21,22,23,24]),[]),n=0;n<this._chipPos.length;n++)null!=this._chipPos[n]&&i.push(n);this._chipStackPanel.reset(),this.reCommittedInfo()}this._chipStackPanel.setChipVisible(i,!1),this._chipStackPanel.setChipVisible(e,!0)},a.prototype.initShareUI=function(){h.prototype.initShareUI.call(this),this._pokerPanel=new _("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel),this._layoutPanel=new v,this._layoutPanel.x=34,this._layoutPanel.y=54,this.addChild(this._layoutPanel)},a.prototype.handleCommand2=function(t){h.prototype.handleCommand2.call(this,t),t.type===VideoShare.VideoGameEvent.COMMIT&&(this._checkbet=this._hasAddBet)},a.prototype.initBetArea=function(){this._layoutBtn=new ShareUI.Button("Multiple_LayoutBtn"),this._layoutBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Bac_LayoutBtn",""),this.addChild(this._layoutBtn),this._layoutBtn.name="LayoutBtn";new Tools.Tip(this._layoutBtn).addTip(this._layoutBtn,"LAYOUT_PLAY"),this._classicCon=new y,this._dragonTigerCon=new y,this._dragonBonusCon=new y,this._naturalCon=new y,this._superPCon=new y,this._oddEvenCon=new y,this.addChild(this._classicCon),this.addChild(this._dragonTigerCon),this.addChild(this._dragonBonusCon),this.addChild(this._naturalCon),this.addChild(this._superPCon),this.addChild(this._oddEvenCon);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BetArea"),t=(this._classicCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._classicCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._classicCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTieTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._classicCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBigTxt_"+IPL.UrlParameter.lang)),t=(this._classicCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetSmallTxt_"+IPL.UrlParameter.lang)),t=(this._classicCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerPTxt_"+IPL.UrlParameter.lang)),t=(this._classicCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerPTxt_"+IPL.UrlParameter.lang)),e=(this._classicCon.addChild(t),[]),i=1;i<=7;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(e[i]=new ShareUI.betSprBlock(l),e[i].name="b"+String(i),this._classicCon.addChild(e[i]));this._classicBetAreaPanel=new SharePanel.BlockBetSensorPanel(e);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BetArea"),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTieTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetDragonTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTigerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerPTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerPTxt_"+IPL.UrlParameter.lang)),n=(this._dragonTigerCon.addChild(t),[]),i=1;i<=5;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(n[i]=new ShareUI.betSprBlock(l),n[i].name="b"+String(i),this._dragonTigerCon.addChild(n[i]));for(i=29;i<=30;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(n[i]=new ShareUI.betSprBlock(l),n[i].name="b"+String(i),this._dragonTigerCon.addChild(n[i]));this._dragonTigerBetAreaPanel=new SharePanel.BlockBetSensorPanel(n);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_DragonBonus_BetArea"),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerDBTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerDBTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetSuper6Txt_"+IPL.UrlParameter.lang)),a=(this._dragonBonusCon.addChild(t),[]),i=1;i<=3;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_DragonBonus_BetWin","b"+String(i)))&&(a[i]=new ShareUI.betSprBlock(l),a[i].name="b"+String(i),this._dragonBonusCon.addChild(a[i]));for(i=19;i<=20;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(a[i]=new ShareUI.betSprBlock(l),a[i].name="b"+String(i),this._dragonBonusCon.addChild(a[i]));null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_DragonBonus_BetWin","b25"))&&(a[25]=new ShareUI.betSprBlock(l),a[25].name="b25",this._dragonBonusCon.addChild(a[25])),this._dragonBonusBetAreaPanel=new SharePanel.BlockBetSensorPanel(a);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BetArea"),t=(this._naturalCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._naturalCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._naturalCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTieTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._naturalCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerNTxt_"+IPL.UrlParameter.lang)),t=(this._naturalCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerNTxt_"+IPL.UrlParameter.lang)),t=(this._naturalCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetSuper6Txt_"+IPL.UrlParameter.lang,0,0,"Multiple_NewBac_Naturl_BetSuper6Txt_"+IPL.UrlParameter.lang)),t=(this._naturalCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetNaturalTxt_"+IPL.UrlParameter.lang)),o=(this._naturalCon.addChild(t),[]),i=1;i<=3;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(o[i]=new ShareUI.betSprBlock(l),o[i].name="b"+String(i),this._naturalCon.addChild(o[i]));for(i=16;i<=18;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(o[i]=new ShareUI.betSprBlock(l),o[i].name="b"+String(i),this._naturalCon.addChild(o[i]));null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b25"))&&(o[25]=new ShareUI.betSprBlock(l),o[25].name="b25",this._naturalCon.addChild(o[25])),this._naturalBetAreaPanel=new SharePanel.BlockBetSensorPanel(o);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_SuperP_BetArea"),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerTxt_"+IPL.UrlParameter.lang)),r=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),r=(this._superPCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTieTxt_"+IPL.UrlParameter.lang)),r=(this._superPCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerPCTxt_"+IPL.UrlParameter.lang)),r=(this._superPCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerPCTxt_"+IPL.UrlParameter.lang)),r=(this._superPCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetEitherPTxt_"+IPL.UrlParameter.lang)),r=(this._superPCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetSuperPTxt_"+IPL.UrlParameter.lang)),r=(this._superPCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPerfectPTxt_"+IPL.UrlParameter.lang)),s=(this._superPCon.addChild(r),[]),i=1;i<=3;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_DragonBonus_BetWin","b"+String(i)))&&(s[i]=new ShareUI.betSprBlock(l),s[i].name="b"+String(i),this._superPCon.addChild(s[i]));for(i=12;i<=13;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(s[i]=new ShareUI.betSprBlock(l),s[i].name="b"+String(i),this._superPCon.addChild(s[i]));for(i=26;i<=28;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(s[i]=new ShareUI.betSprBlock(l),s[i].name="b"+String(i),this._superPCon.addChild(s[i]));this._superPBetAreaPanel=new SharePanel.BlockBetSensorPanel(s);r=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_OddEven_BetArea");this._oddEvenCon.addChild(r);(t=PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerTxt_"+IPL.UrlParameter.lang)).y-=20,this._oddEvenCon.addChild(t);for(var r=PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerTxt_"+IPL.UrlParameter.lang),t=(r.y-=20,this._oddEvenCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTieTxt_"+IPL.UrlParameter.lang)),r=(t.y-=20,this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerOTxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerETxt_"+IPL.UrlParameter.lang)),r=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerOTxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(r),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerETxt_"+IPL.UrlParameter.lang)),h=(this._oddEvenCon.addChild(t),[]),i=1;i<=3;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_OddEven_BetWin","b"+String(i)))&&(h[i]=new ShareUI.betSprBlock(l),h[i].name="b"+String(i),this._oddEvenCon.addChild(h[i]));for(var l,i=21;i<=24;i++)null!=(l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i)))&&(h[i]=new ShareUI.betSprBlock(l),h[i].name="b"+String(i),this._oddEvenCon.addChild(h[i]));this._oddEvenBetAreaPanel=new SharePanel.BlockBetSensorPanel(h),this._closeBetCBGCon=new y,this._classicCon.addChild(this._closeBetCBGCon),this._closeBetCBGCon.interactive=!0,this._closeBetCBGCon.visible=!1;for(i=6;i<=7;i++){var c=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetCBGCon.addChild(c)}this._closeBetCPCon=new y,this._classicCon.addChild(this._closeBetCPCon),this._closeBetCPCon.interactive=!0,this._closeBetCPCon.visible=!1;for(i=4;i<=5;i++){var u=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetCPCon.addChild(u)}this._closeBetDT55Con=new y,this._dragonTigerCon.addChild(this._closeBetDT55Con),this._closeBetDT55Con.interactive=!0,this._closeBetDT55Con.visible=!1;for(i=4;i<=5;i++){var d=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetDT55Con.addChild(d)}this._closeBetDTCon=new y,this._dragonTigerCon.addChild(this._closeBetDTCon),this._closeBetDTCon.interactive=!0,this._closeBetDTCon.visible=!1;for(i=29;i<=30;i++){var p=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetDTCon.addChild(p)}this._closeBetSPCon=new y,this._superPCon.addChild(this._closeBetSPCon),this._closeBetSPCon.interactive=!0,this._closeBetSPCon.visible=!1;for(i=26;i<=28;i++){var f=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetSPCon.addChild(f)}this._closeBetSP50Con=new y,this._superPCon.addChild(this._closeBetSP50Con),this._closeBetSP50Con.interactive=!0,this._closeBetSP50Con.visible=!1;for(i=12;i<=13;i++){var _=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetSP50Con.addChild(_)}this._closeBetNCon=new y,this._naturalCon.addChild(this._closeBetNCon),this._closeBetNCon.interactive=!0,this._closeBetNCon.visible=!1;for(i=16;i<=17;i++){var m=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetNCon.addChild(m)}this._closeBetN40Con=new y,this._naturalCon.addChild(this._closeBetN40Con),this._closeBetN40Con.interactive=!0,this._closeBetN40Con.visible=!1;r=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b25"),this._closeBetN40Con.addChild(r),this._closeBetNLCon=new y,this._naturalCon.addChild(this._closeBetNLCon),this._closeBetNLCon.interactive=!0,this._closeBetNLCon.visible=!1,t=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b18");this._closeBetNLCon.addChild(t),this._closeBetDBCon=new y,this._dragonBonusCon.addChild(this._closeBetDBCon),this._closeBetDBCon.interactive=!0,this._closeBetDBCon.visible=!1;for(i=19;i<=20;i++){var g=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetDBCon.addChild(g)}this._closeBetDBLCon=new y,this._dragonBonusCon.addChild(this._closeBetDBLCon),this._closeBetDBLCon.interactive=!0,this._closeBetDBLCon.visible=!1;r=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO1","b25");this._closeBetDBLCon.addChild(r),this._closeBetOECon=new y,this._oddEvenCon.addChild(this._closeBetOECon),this._closeBetOECon.interactive=!0,this._closeBetOECon.visible=!1;for(i=21;i<=24;i++){var v=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetNO","b"+String(i));this._closeBetOECon.addChild(v)}this._dragonTigerCon.visible=!1,this._dragonBonusCon.visible=!1,this._naturalCon.visible=!1,this._superPCon.visible=!1,this._oddEvenCon.visible=!1},a.prototype.initChipPosition=function(){h.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=7;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewBac_CDN_ChipPos","mb"+String(t));for(t=12;t<=13;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewBac_CDN_ChipPos","mb"+String(t));for(t=16;t<=30;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewBac_CDN_ChipPos","mb"+String(t));this._chipPos2=[];for(t=1;t<=7;t++)this._chipPos2[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewBac_OSD_ChipPos","mb"+String(t));for(t=12;t<=13;t++)this._chipPos2[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewBac_OSD_ChipPos","mb"+String(t));for(t=16;t<=30;t++)this._chipPos2[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewBac_OSD_ChipPos","mb"+String(t));for(var e=[],t=0;t<=this._chipPos.length;t++)e[t]=this._chipPos[t];this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,e),this.addChild(this._chipStackPanel);var i=new VideoShare.BacBM(1);this._chipStackPanel.initGameDefine(i),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},a.prototype.initRoadInfo=function(){this._roadmapPanel=new l,this._roadmapPanel.x=56,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x17&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x17"});var t=new n(Tools.TextureStore.repository.Fram6x17),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new i),t=(e.beginFill(13421772),e.drawRect(0,0,390,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3001",e.cellB="Multiple_cellRed0000",e.cellP="Multiple_cellBlue0000",e.cellT="Multiple_tieLine0000",e.gridRow=6,e.gridCol=17,e.gapX=24,e.gapY=24,e.startPosX=2,e.startPosY=2,e.scale=1,e.cellT1=-2,e.cellT2=2,e.cellT3=6,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.gameType="3001",t.cellB="Multiple_Bac_Bbanker0000",t.cellP="Multiple_Bac_Bplayer0000",t.cellT="Multiple_Bac_Btie0000",t.cellBP="Multiple_Bac_BpairBanker0000",t.cellPP="Multiple_Bac_BpairPlayer0000",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=2,t.startPosY=2,t.scale=1,t.tStyle={fontFamily:"Arial",fontSize:"18px",fill:"#000000",fontWeight:"bold"},this._roadmapPanel.initRoadB(t),{}),t=(e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=34,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=17,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{}),t=(e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=17,e.gapX=12,e.gapY=12,e.startPosX=203,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),{});t.cellB="Multiple_Bac_BSCell0000",t.cellP="Multiple_Bac_BSCell0001",t.cellBE="Multiple_Bac_BSCell0002",t.cellPE="Multiple_Bac_BSCell0003",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=3,t.startPosY=3,t.scale=1,this._roadmapPanel.initRoadD(t),this._roadmapPanel.addRoadmap(["map2A"]),this._roadmapPanel.setNowRoadmap("roadmap2A"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},a.prototype.configureCostumeListener=function(){h.prototype.configureCostumeListener.call(this),this._layoutPanel.event.addEventListener("changeLayout",this._layoutEvent),this._layoutPanel.setGameCode(this.vModel.getGameCode()),this._classicBetAreaPanel&&this._classicBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._naturalBetAreaPanel&&this._naturalBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._superPBetAreaPanel&&this._superPBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent)},a.prototype.removeHandle=function(){h.prototype.removeHandle.call(this),this._classicBetAreaPanel&&this._classicBetAreaPanel.reset(),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.reset(),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.reset(),this._naturalBetAreaPanel&&this._naturalBetAreaPanel.reset(),this._superPBetAreaPanel&&this._superPBetAreaPanel.reset(),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.reset(),this._layoutPanel.visible=!1,this._layoutPanel.event.removeEventListener("changeLayout",this._layoutEvent),this._classicBetAreaPanel&&this._classicBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._naturalBetAreaPanel&&this._naturalBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._superPBetAreaPanel&&this._superPBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent)},a.prototype.configureModelListener=function(){h.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},a.prototype.onStatusChanged=function(t){h.prototype.onStatusChanged.call(this,t=void 0===t?null:t),this._classicBetAreaPanel&&this._classicBetAreaPanel.setBetMouseStatus(!1),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.setBetMouseStatus(!1),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.setBetMouseStatus(!1),this._naturalBetAreaPanel&&this._naturalBetAreaPanel.setBetMouseStatus(!1),this._superPBetAreaPanel&&this._superPBetAreaPanel.setBetMouseStatus(!1),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.setBetMouseStatus(!1),"betting"==this._status?(this._pokerPanel.visible=!1,this._classicBetAreaPanel&&this._classicBetAreaPanel.setBetMouseStatus(!0),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.setBetMouseStatus(!0),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.setBetMouseStatus(!0),this._naturalBetAreaPanel&&this._naturalBetAreaPanel.setBetMouseStatus(!0),this._superPBetAreaPanel&&this._superPBetAreaPanel.setBetMouseStatus(!0),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.setBetMouseStatus(!0)):"dealing"!=this._status&&"waiting"!=this._status||(this._pokerPanel.visible=!0)},a.prototype.setMaintainInfo=function(t){"1"==t&&(this._classicBetAreaPanel&&this._classicBetAreaPanel.setBetMouseStatus(!1),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.setBetMouseStatus(!1),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.setBetMouseStatus(!1),this._naturalBetAreaPanel&&this._naturalBetAreaPanel.setBetMouseStatus(!1),this._superPBetAreaPanel&&this._superPBetAreaPanel.setBetMouseStatus(!1),this._oddEvenBetAreaPanel)&&this._oddEvenBetAreaPanel.setBetMouseStatus(!1),this._layoutPanel.setMaintain(t),h.prototype.setMaintainInfo.call(this,t)},a.prototype.checkCloseBet=function(){0==this._checkbet&&this._betButton.setRebetUnlocked(!1);for(var t=!1,e=21;e<=24;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(t=!0);var i=!1;if(!t&&this._checkbet||(i=!0),15<Number(this._roundNum.split("-")[1])&&i&&this._betButton.setRebetUnlocked(!i),15<Number(this._roundNum.split("-")[1])?this._closeBetOECon.visible=!0:this._closeBetOECon.visible=!1,15<Number(this._roundNum.split("-")[1]))for(var n=21;n<=24;n++)this._oddEvenBetAreaPanel.setSingleBetMouseStatus(n,!1);for(var a=!1,e=6;e<=7;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(a=!0);i=!1;if(!a&&this._checkbet||(i=!0),20<Number(this._roundNum.split("-")[1])&&i&&this._betButton.setRebetUnlocked(!i),20<Number(this._roundNum.split("-")[1])?this._closeBetCBGCon.visible=!0:this._closeBetCBGCon.visible=!1,20<Number(this._roundNum.split("-")[1]))for(var o=6;o<=7;o++)this._classicBetAreaPanel.setSingleBetMouseStatus(o,!1);for(var i=!1,r=!1,i=(!(i=0!=this.vModel.getLastCommitInfo().getAmount(18)?!0:i)&&this._checkbet||(r=!0),25<Number(this._roundNum.split("-")[1])&&r&&this._betButton.setRebetUnlocked(!r),25<Number(this._roundNum.split("-")[1])?this._closeBetNLCon.visible=!0:this._closeBetNLCon.visible=!1,25<Number(this._roundNum.split("-")[1])&&this._naturalBetAreaPanel.setSingleBetMouseStatus(18,!1),!1),r=!1,s=(!(i=0!=this.vModel.getLastCommitInfo().getAmount(25)?!0:i)&&this._checkbet||(r=!0),40<Number(this._roundNum.split("-")[1])&&r&&this._betButton.setRebetUnlocked(!r),40<Number(this._roundNum.split("-")[1])?(this._closeBetN40Con.visible=!0,this._closeBetDBLCon.visible=!0):(this._closeBetN40Con.visible=!1,this._closeBetDBLCon.visible=!1),40<Number(this._roundNum.split("-")[1])&&(this._naturalBetAreaPanel.setSingleBetMouseStatus(25,!1),this._dragonBonusBetAreaPanel.setSingleBetMouseStatus(25,!1)),[20,19,17,16]),h=!1,e=0;e<s.length;e++)0==this.vModel.getLastCommitInfo().getAmount(s[e])&&this._checkbet||(h=!0);if(45<Number(this._roundNum.split("-")[1])&&h&&this._betButton.setRebetUnlocked(!h),45<Number(this._roundNum.split("-")[1])?(this._closeBetNCon.visible=!0,this._closeBetDBCon.visible=!0):(this._closeBetNCon.visible=!1,this._closeBetDBCon.visible=!1),45<Number(this._roundNum.split("-")[1])){for(var l=16;l<=17;l++)this._naturalBetAreaPanel.setSingleBetMouseStatus(l,!1);for(var c=19;c<=20;c++)this._dragonBonusBetAreaPanel.setSingleBetMouseStatus(c,!1)}for(var u=[12,13],d=!1,e=0;e<u.length;e++)0==this.vModel.getLastCommitInfo().getAmount(u[e])&&this._checkbet||(d=!0);if(50<Number(this._roundNum.split("-")[1])&&d&&this._betButton.setRebetUnlocked(!d),50<Number(this._roundNum.split("-")[1])?this._closeBetSP50Con.visible=!0:this._closeBetSP50Con.visible=!1,50<Number(this._roundNum.split("-")[1]))for(var p=12;p<=13;p++)this._superPBetAreaPanel.setSingleBetMouseStatus(p,!1);for(var f=[4,5],_=!1,e=0;e<f.length;e++)0==this.vModel.getLastCommitInfo().getAmount(f[e])&&this._checkbet||(_=!0);if(55<Number(this._roundNum.split("-")[1])&&_&&this._betButton.setRebetUnlocked(!_),55<Number(this._roundNum.split("-")[1])?(this._closeBetCPCon.visible=!0,this._closeBetDT55Con.visible=!0):(this._closeBetCPCon.visible=!1,this._closeBetDT55Con.visible=!1),55<Number(this._roundNum.split("-")[1]))for(var m=4;m<=5;m++)this._classicBetAreaPanel.setSingleBetMouseStatus(m,!1),this._dragonTigerBetAreaPanel.setSingleBetMouseStatus(m,!1);for(var g=[30,29,28,27,26],v=!1,e=0;e<g.length;e++)0==this.vModel.getLastCommitInfo().getAmount(g[e])&&this._checkbet||(v=!0);if(60<Number(this._roundNum.split("-")[1])&&v&&this._betButton.setRebetUnlocked(!v),60<Number(this._roundNum.split("-")[1])?(this._closeBetDTCon.visible=!0,this._closeBetSPCon.visible=!0):(this._closeBetDTCon.visible=!1,this._closeBetSPCon.visible=!1),60<Number(this._roundNum.split("-")[1])){for(var y=26;y<=28;y++)this._superPBetAreaPanel.setSingleBetMouseStatus(y,!1);for(var P=29;P<=30;P++)this._dragonTigerBetAreaPanel.setSingleBetMouseStatus(P,!1)}},a.prototype.setPoker=function(){",,,,,"==this._poker?this._pokerPanel.reset():(this._pokerPanel.setPoker(this._poker),this._pokerPanel.setStatus(this._status))},a.prototype.setRoadmap=function(){var t=new BacLogicShare.BacTransRoadmap(this._roadMap).GetNewRoad();this._roadmapPanel.setData(t,this._roadMap)},a.prototype.setResult=function(){for(var t=this.vModel.getGameInfo().getResult2().split(","),e=[],i=0;i<t.length;i++)e[i]=Number(t[i]);this._classicBetAreaPanel.showResult(e),this._dragonTigerBetAreaPanel.showResult(e),this._dragonBonusBetAreaPanel.showResult(e),this._naturalBetAreaPanel.showResult(e),this._superPBetAreaPanel.showResult(e),this._oddEvenBetAreaPanel.showResult(e)},a.prototype.setToolBarBtnStatus=function(){("3001"==this.vModel.getGameType()&&62<=Number(this.vModel.getGameCode())&&Number(this.vModel.getGameCode())<=76||"3001"==this.vModel.getGameType()&&99==Number(this.vModel.getGameCode())||"3001"==this.vModel.getGameType()&&102<=Number(this.vModel.getGameCode())&&Number(this.vModel.getGameCode())<=106)&&this._toolBarPanel.setBtnStatus("videoSwitch",!1)},a.prototype.onUserInfo=function(){for(var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new BacLogicShare.LimitPanel("2"),this._limitInfo.setData(t),this._limitInfo.getLimitInfo(["LUCKYSIX"])),e=this._limitInfo.getLimitInfo(["BANKERPLAYERDRAGON"]),i=this._limitInfo.getLimitInfo(["COMBOPAIR"]),n=this.vModel.getUserInfo().getMod(),e=(this._layoutPanel.setPanel(n),this._classicObj={},this._classicObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","PAIR","HIGHT","LOW"]),this._classicObj.gameType=this.vModel.getGameType(),this._dragonTigerObj={},this._dragonTigerObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","PAIR","DRAGON","TIGER"]),this._dragonTigerObj.gameType=this.vModel.getGameType(),this._dragonBonusObj={},this._dragonBonusObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE"]),this._dragonBonusObj.list[3]={title:IPL.DictManager.getDict("BAC_LAYOUT_SUPER_SIX")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+t[0].limitMin+"-"+t[0].limit,ratio:"\n\n"+t[0].ratio.split("/")[0]+"\n"+t[0].ratio.split("/")[1],title2:"\n\n"+IPL.DictManager.getDict("BANKER_SIX_POINT_WIN"),title2text:"\n\n2\n3"},this._dragonBonusObj.list[4]={title:IPL.DictManager.getDict("BAC_LAYOUT_BANK_DRAGON_BONUS")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAY_DRAGON_BONUS")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+e[0].limitMin+"-"+e[0].limit,ratio:"\n\n"+e[0].ratio+"\n1:10\n1:5\n1:3\n1:2\n1:1\n1:1",title2:"\n\n"+IPL.DictManager.getDict("NON_NATURAL_WIN_POINT"),title2text:"\n\n9\n8\n7\n6\n5\n4\n"+IPL.DictManager.getDict("NATURAL_HAND_WIN")},this._dragonBonusObj.list[5]="",this._dragonBonusObj.gameType=this.vModel.getGameType(),this._naturalObj={},this._naturalObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","BANKERPLAYERTIAN","TIAN"]),this._naturalObj.gameType=this.vModel.getGameType(),this._naturalObj.list[5]={title:IPL.DictManager.getDict("BAC_LAYOUT_SUPER_SIX")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+t[0].limitMin+"-"+t[0].limit,ratio:"\n\n"+t[0].ratio.split("/")[0]+"\n"+t[0].ratio.split("/")[1],title2:"\n\n"+IPL.DictManager.getDict("BANKER_SIX_POINT_WIN"),title2text:"\n\n2\n3"},this._superPObj={},this._superPObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","EITHERPAIR","PERFECTPAIR","SUPERPAIR"]),this._superPObj.gameType=this.vModel.getGameType(),this._superPObj.list[6]={title:IPL.DictManager.getDict("BAC_LAYOUT_BANKER_PAIR")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAYER_PAIR")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+i[0].limitMin+"-"+i[0].limit,ratio:"\n\n1:5\n1:10\n"+i[0].ratio,title2:"\n\n"+IPL.DictManager.getDict("BAC_LAYOUT_INTRO"),title2text:"\n\n"+IPL.DictManager.getDict("BAC_LAYOUT_MIXED")+"\n"+IPL.DictManager.getDict("BAC_LAYOUT_COLORED")+"\n"+IPL.DictManager.getDict("BAC_LAYOUT_PERFECT")+"\n"},this._oddEvenObj={},this._oddEvenObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","BANKERODD","PLAYERODD","BANKEREVEN","PLAYEREVEN"]),this._oddEvenObj.gameType=this.vModel.getGameType(),1e5<=Number(t[0].limit)&&(this._dragonBonusObj.changePos="Y",this._naturalObj.changePos="Y"),1e5<=Number(i[0].limit)&&(this._superPObj.changePos="Y"),{}),a=(e.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","PAIR","HIGHT","LOW"]),e.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(e),this.getCookie()),o=n.split(","),r=!1,s=0;s<o.length;s++)o[s]==a&&(r=!0);0==r&&(a=o[0],this.writeCookie(Number(a))),this._classicCon.visible=!1,this._dragonTigerCon.visible=!1,this._dragonBonusCon.visible=!1,this._naturalCon.visible=!1,this._superPCon.visible=!1,this._oddEvenCon.visible=!1,"1"==a?(this._toolBarPanel.changeLimitPanel(this._classicObj),this._classicCon.visible=!0):"2"==a?(this._toolBarPanel.changeLimitPanel(this._dragonTigerObj),this._dragonTigerCon.visible=!0):"3"==a?(this._toolBarPanel.changeLimitPanel(this._dragonBonusObj),this._dragonBonusCon.visible=!0):"4"==a?(this._toolBarPanel.changeLimitPanel(this._naturalObj),this._naturalCon.visible=!0):"5"==a?(this._toolBarPanel.changeLimitPanel(this._superPObj),this._superPCon.visible=!0):"6"==a&&(this._toolBarPanel.changeLimitPanel(this._oddEvenObj),this._oddEvenCon.visible=!0),"1"==a||"2"==a||"4"==a?this._chipStackPanel.resetPos(this._chipPos):this._chipStackPanel.resetPos(this._chipPos2),this._checkfir=!0,this.checkLayout(),h.prototype.onUserInfo.call(this)},a);function a(){var e=h.call(this)||this;return e._checkfir=!0,e._checkbet=!0,e._layoutEvent=function(t){e.changeLayout(t)},e}t.ViewModel=e;s=SharePanel.RoadmapBac,__extends(c,s),c.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.roadmapB),this._nowRamp="roadmapB"):"roadmapB"==this._nowRamp?(this.removeMc(this.roadmapB),this.addMc(this.roadmapD),this._nowRamp="roadmapD"):"roadmapD"==this._nowRamp?(this.removeMc(this.roadmapD),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp&&(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A")};var s,l=c;function c(){return s.call(this)||this}t.Roadmap=l;u=BacShare.StatisticsPanel,__extends(p,u),p.prototype.initUI=function(){var t=new i,t=(t.beginFill(0,1),t.drawRect(8,709,46,142),t.endFill(),t.cacheAsBitmap=!0,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BPTTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"});this.bankerTxt=new r("",t),this.bankerTxt.y=742,this.bankerTxt.anchor.set(.5),this.addChild(this.bankerTxt),this.playerTxt=new r("",t),this.playerTxt.y=790,this.playerTxt.anchor.set(.5),this.addChild(this.playerTxt),this.tieTxt=new r("",t),this.tieTxt.y=838,this.tieTxt.anchor.set(.5),this.addChild(this.tieTxt),this.bankerTxt.x=this.playerTxt.x=this.tieTxt.x=28,this.init()};var u,d=p;function p(){var t=u.call(this)||this;return t.initUI(),t}t.StatisticsPanel=d;f=BacShare.PokerPanel,__extends(m,f),m.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(this.addChild(t),this.bankerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BWin"),this.addChild(this.bankerWin),this.playerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PWin"),this.addChild(this.playerWin),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang));this.addChild(e);for(var i=1;i<=6;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac_PokerBG","b"+String(i));this.addChild(n)}this.addChild(this.poker1),this.addChild(this.poker2),this.addChild(this.poker3),this.addChild(this.poker4),this.addChild(this.poker5),this.poker5.rotation=Math.PI/180*-90,this.addChild(this.poker6),this.poker6.rotation=Math.PI/180*90,this.poker2.x=269,this.poker4.x=319,this.poker1.x=113,this.poker3.x=163,this.poker1.y=this.poker2.y=this.poker3.y=this.poker4.y=616,this.poker5.x=42,this.poker5.y=674,this.poker6.x=430,this.poker6.y=634,this.poker1.scale=this.poker2.scale=this.poker3.scale=this.poker4.scale=this.poker5.scale=this.poker6.scale=new o(.54,.53);var a={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"};this.bankerPoint=new r("",a),this.bankerPoint.x=t.position.x+t.texture.width+20,this.bankerPoint.y=580,this.addChild(this.bankerPoint),this.playerPoint=new r("",a),this.playerPoint.x=e.position.x+e.texture.width+20,this.playerPoint.y=580,this.addChild(this.playerPoint),this.reset()};var f,_=m;function m(t){return f.call(this,t)||this}t.Poker=_;g=BlockChainShare.Panel,__extends(P,g),P.prototype.setPanel=function(t){this.init(t)},P.prototype.setMaintain=function(t){this._mt=t},P.prototype.setisBC=function(){this._isBC=!0},P.prototype.setGameCode=function(t){this._gameCode=t},P.prototype.chooseLayout=function(t){var e=new H5Event.H5BaseEvent("changeLayout");e.data=t.data,this.event.dispatchEvent(e),this.checkPanel()},P.prototype.setTools=function(t){var i=this;this._tool=t,this.closeBtn.on("pointerdown",function(){var t,e;"1"!=i._mt&&(i._tool.setBtnStatus("tip",!0),i._tool.setBtnStatus("pingIcon",!0),(t=new Object).GameType="3001",t.GameCode=i._gameCode,t.Visible=!0,(e=new window.Event("VIDEO_BTN_VISIBLE")).data=t,window.dispatchEvent(e))})},P.prototype.checkPanel=function(){var t,e;this.visible&&(this.visible=!1,this._isBC||"1"==this._mt||(this._tool.setBtnStatus("tip",!0),this._tool.setBtnStatus("pingIcon",!0),(t=new Object).GameType="3001",t.GameCode=this._gameCode,t.Visible=!0,(e=new window.Event("VIDEO_BTN_VISIBLE")).data=t,window.dispatchEvent(e)))},P.prototype.init=function(t){var e=new Array,i=new Array,n=["Classic","DragonTiger","DragonBonus","Natural","SuperP","OddEven"],a=["Classic","Classic","DragonBonus","Classic","SuperP","OddEven"],o=(this.setTitle(IPL.DictManager.getDict("LAYOUT_PLAY"),15),new y);o.x=-34,o.y=-54,this.addChild(o);for(var r=0;r<t.length;r++)t[r]==String(1)?e[0]=String(1):t[r]==String(2)?e[2]=String(2):t[r]==String(3)?e[5]=String(3):t[r]==String(4)?e[3]=String(4):t[r]==String(5)?e[1]=String(5):t[r]==String(6)&&(e[4]=String(6));for(r=0;r<e.length;r++)""!=e[r]&&(e[r]==String(1)?i.push("Classic"):e[r]==String(2)?i.push("DragonTiger"):e[r]==String(3)?i.push("DragonBonus"):e[r]==String(4)?i.push("Natural"):e[r]==String(5)?i.push("SuperP"):e[r]==String(6)&&i.push("OddEven"));for(var s=0,r=0;r<i.length;r++){var h=void 0,h="Classic"==i[r]||"DragonTiger"==i[r]||"Natural"==i[r]?(l=0,"DragonTiger"==i[r]?l=1:"Natural"==i[r]&&(l=2),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_Classic_LayoutArea",l)):PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_"+i[r]+"_LayoutArea"),l=("Classic"==a[r]?(h.position=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_Classic_LayoutArea",s).position,s++):h.position=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_"+a[r]+"_LayoutArea").position,o.addChild(h),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_Layout"+i[r]+"Txt_"+IPL.UrlParameter.lang));l.position=PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_Layout"+n[r]+"Txt_"+IPL.UrlParameter.lang).position,o.addChild(l)}for(var c=[],r=0;r<i.length;r++){var u=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_LayoutSelect",r);null!=u&&(c[r]=new ShareUI.betSprBlock(u),c[r].name=i[r],o.addChild(c[r]))}this._betAreaPanel=new b(c),this._betAreaPanel&&this._betAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.LayoutSensorEvent)},P.prototype.initbetArealight=function(t){this._betAreaPanel.initbetArealight(t)};var g,v=P;function P(){var e=g.call(this)||this;return e._isBC=!1,e._mt="0",e._gameCode="",e.LayoutSensorEvent=function(t){e.chooseLayout(t)},e.initPanelUI(),e}t.BaclayoutPanelPanel=v;S=H5EventdispatcherCore.EventDispatcher,__extends(I,S),I.prototype.initAddListen=function(){for(var e=this,t=0;t<this._betArr.length;t++)null!=this._betArr[t]&&(DeviceAndEnvironment.Device.isMobile()?(this._betArr[t].on("touchstart",function(t){e.star(t)}),this._betArr[t].on("touchend",function(t){e.end(t)}),this._betArr[t].on("touchendoutside",function(){e.out()})):(this._betArr[t].on("mousedown",function(t){e.star(t)}),this._betArr[t].on("mouseup",function(t){e.end(t)}),this._betArr[t].on("mouseupoutside",function(){e.out()})))},I.prototype.initbetArealight=function(t){for(var e=0;e<this._betArr.length;e++)this._betArr[e].name==t&&(this._betArr[e].setResultAlpha(1),this._betArr[e].setMouseStatus(!1))},I.prototype.initReBetBlock=function(t){for(var e=this,i=0;i<t.length;i++)DeviceAndEnvironment.Device.isMobile()?(t[i].on("touchstart",function(t){e.star(t)}),t[i].on("touchend",function(t){e.end(t)}),t[i].on("touchendoutside",function(){e.out()})):(t[i].on("mousedown",function(t){e.star(t)}),t[i].on("mouseup",function(t){e.end(t)}),t[i].on("mouseupoutside",function(){e.out()}))},I.prototype.star=function(t){this.starPos=t.data.getLocalPosition(t.currentTarget.parent)},I.prototype.end=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(t.currentTarget.parent),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<15)&&i<15&&this.clicked(t),this.starPos=null},I.prototype.out=function(){this.starPos=null},I.prototype.clicked=function(t){var e=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK);e.data=t.currentTarget,this.dispatchEvent(e);for(var i=0;i<this._betArr.length;i++)this._betArr[i].setResultAlpha(0),this._betArr[i].setMouseStatus(!0),t.currentTarget.name==this._betArr[i].name&&(this._betArr[i].setResultAlpha(1),this._betArr[i].setMouseStatus(!1))};var S,b=I;function I(t){var e=S.call(this)||this;return e._betArr=t,e.initAddListen(),e.endEvent=function(t){e.end(t)},e.starEvent=function(t){e.star(t)},e.outEvent=function(){e.out()},e}t.LayoutSensorPanel=b}(BacMultiGames=BacMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BacMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BacMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){}e.getResultArea=function(t){var e=[],t=this.setDataResult(t);return 1==t[0]&&(e.push(1),e.push(2)),1==t[1]&&(e.push(4),e.push(5)),1==t[2]&&(e.push(7),e.push(8)),e},e.setDataResult=function(t){var e=[],i=(12&t)/4,n=(48&t)/16;return e.push(3&t),e.push(i),e.push(n),e},t.BullResultArea=e}(BullLogicShare=BullLogicShare||{}),!function(t){var a,o=PIXI.Text,e=(a=Composite.EventContainer,__extends(i,a),i.prototype.initUI=function(){},i.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();for(var i,n,a=!1,o=!1,r=!1,s=!1,h=t.split(","),l=h.length,c=0;c<l;c++)switch((n=""==h[c]||"X"==h[c]?"back":h[c]).split("."),0==c?"header":c<6?"banker":c<11?"player1":c<16?"player2":"player3"){case"header":this.headerPoker.setPoker(n),this.headerPoker.visible=1==e;break;case"banker":this.bankerPoker[i=c-1].setPoker(n),this.bankerPoker[i].visible=1==e,a=5==c&&"back"!=n;break;case"player1":this.player1Poker[i=c-6].setPoker(n),this.player1Poker[i].visible=1==e,o=10==c&&"back"!=n;break;case"player2":this.player2Poker[i=c-11].setPoker(n),this.player2Poker[i].visible=1==e,r=15==c&&"back"!=n;break;case"player3":this.player3Poker[i=c-16].setPoker(n),this.player3Poker[i].visible=1==e,s=20==c&&"back"!=n}this.bankerLv=0,this.player1Lv=0,this.player2Lv=0;var u,d,t=this.player3Lv=0,p=0,f=0,_=0;1==a&&(d=(u=new m).getPokerType(h[1],h[2],h[3],h[4],h[5]),this.bankerLv=u.getPokerLevel(),t=u.getMaxCard(),this._shortTxt?this.bankerType.text=this.checkResult(this.bankerLv):this.bankerType.text=IPL.DictManager.getDict(d),null!=this.bankerResult)&&(this.bankerResult.visible=!0),1==o&&(d=(u=new m).getPokerType(h[6],h[7],h[8],h[9],h[10]),this.player1Lv=u.getPokerLevel(),p=u.getMaxCard(),this._shortTxt?this.player1Type.text=this.checkResult(this.player1Lv):this.player1Type.text=IPL.DictManager.getDict(d),null!=this.player1Result)&&(this.player1Result.visible=!0),1==r&&(d=(u=new m).getPokerType(h[11],h[12],h[13],h[14],h[15]),this.player2Lv=u.getPokerLevel(),f=u.getMaxCard(),this._shortTxt?this.player2Type.text=this.checkResult(this.player2Lv):this.player2Type.text=IPL.DictManager.getDict(d),null!=this.player2Result)&&(this.player2Result.visible=!0),1==s&&(d=(u=new m).getPokerType(h[16],h[17],h[18],h[19],h[20]),this.player3Lv=u.getPokerLevel(),_=u.getMaxCard(),this._shortTxt?this.player3Type.text=this.checkResult(this.player3Lv):this.player3Type.text=IPL.DictManager.getDict(d),null!=this.player3Result)&&(this.player3Result.visible=!0),a&&o&&r&&s&&this.setWinLight(this.getLvWin(this.bankerLv,this.player1Lv,t,p),this.getLvWin(this.bankerLv,this.player2Lv,t,f),this.getLvWin(this.bankerLv,this.player3Lv,t,_))},i.prototype.checkResult=function(t){return 0==t?"N":10==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"牛牛":"BB":11==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"5公":"5P":String(t)},i.prototype.setWinLight=function(t,e,i){this.player1Win.visible=t,this.player2Win.visible=e,this.player3Win.visible=i},i.prototype.getLvWin=function(t,e,i,n){return!(e<t)&&(t<e||(t==e?!(n<i):void 0))},i.prototype.getMultipleStr=function(t){var e=new m;return"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"("+e.getMultiple(t)+IPL.DictManager.getDict("BULL_MULTIPLE")+")":"(X"+e.getMultiple(t)+")"},i.prototype.reset=function(){this.headerPoker.visible=!1;for(var t=0;t<5;++t)this.bankerPoker[t].visible=!1,this.player1Poker[t].visible=!1,this.player2Poker[t].visible=!1,this.player3Poker[t].visible=!1;this.bankerType.text="",this.player1Type.text="",this.player2Type.text="",this.player3Type.text="",null!=this.bankerResult&&(this.bankerResult.visible=!1),null!=this.player1Result&&(this.player1Result.visible=!1),null!=this.player2Result&&(this.player2Result.visible=!1),null!=this.player3Result&&(this.player3Result.visible=!1),this.player1Win.visible=!1,this.player2Win.visible=!1,this.player3Win.visible=!1},i);function i(t,e){void 0===e&&(e=!1);var i=a.call(this)||this;i.bankerPoker=[],i.player1Poker=[],i.player2Poker=[],i.player3Poker=[],i._shortTxt=e,i.headerPoker=new ShareUI.PokerUI(t);for(var n=0;n<5;++n)i.bankerPoker.push(new ShareUI.PokerUI(t)),i.player1Poker.push(new ShareUI.PokerUI(t)),i.player2Poker.push(new ShareUI.PokerUI(t)),i.player3Poker.push(new ShareUI.PokerUI(t));return i.bankerType=new o(""),i.player1Type=new o(""),i.player2Type=new o(""),i.player3Type=new o(""),i.initUI(),i}t.PokerPanel=e;n.prototype.getPokerType=function(t,e,i,n,a){var o="";if(""!=t&&""!=e&&""!=i&&""!=n&&""!=a&&"X"!=a){for(var r,s=this.transPoint(t),h=this.transPoint(e),l=this.transPoint(i),c=this.transPoint(n),u=this.transPoint(a),d=(this.checkMaxPoker(t,e,i,n,a),[[s,h,l],[s,h,c],[s,h,u],[s,l,c],[s,l,u],[s,c,u],[h,l,c],[h,l,u],[h,c,u],[l,c,u]]),t=[[c,u],[l,u],[l,c],[h,u],[h,c],[h,l],[s,u],[s,c],[s,l],[s,h]],p=-1,f=0,f=0;f<d.length&&0!=(p=((r=d[f])[0]+r[1]+r[2])%10);f++);e=0,i=0,a=(0==p&&(i=((n=t[f])[0]+n[e=1])%10),500==s+h+l+c+u&&(e=5),String(i)+"-"+String(e)),o=this.getPointName(a)}return o},n.prototype.checkMaxPoker=function(t,e,i,n,a){t=[this.transPoker(t),this.transPoker(e),this.transPoker(i),this.transPoker(n),this.transPoker(a)];t.sort(function(t,e){return t-e}),this._mxCard=t[t.length-1]},n.prototype.transPoker=function(t){var t=t.split("."),e=this.getTypePoint(t[0]);return 10*Number(t[1])+e},n.prototype.getTypePoint=function(t){var e=0;return"S"==t?e=4:"H"==t?e=3:"C"==t?e=2:"D"==t&&(e=1),e},n.prototype.getMaxCard=function(){return this._mxCard},n.prototype.getPokerLevel=function(){return this._level},n.prototype.transPoint=function(t){t=t.split("."),t=Number(t[1]);return 10==t?0:11==t||12==t||13==t?100:t},n.prototype.getPointName=function(t){var e;switch(t){case"0-5":e="CARD_FIVEPICTURES",this._level=11;break;case"0-1":e="CARD_BULLBULL",this._level=10;break;case"9-1":e="CARD_NINEBULL",this._level=9;break;case"8-1":e="CARD_NIGHTBULL",this._level=8;break;case"7-1":e="CARD_SEVENBULL",this._level=7;break;case"6-1":e="CARD_SIXBULL",this._level=6;break;case"5-1":e="CARD_FIVEBULL",this._level=5;break;case"4-1":e="CARD_FOUREBULL",this._level=4;break;case"3-1":e="CARD_THREEBULL",this._level=3;break;case"2-1":e="CARD_TWOBULL",this._level=2;break;case"1-1":e="CARD_ONEBULL",this._level=1;break;case"0-0":e="CARD_NOBULL",this._level=0}return e},n.prototype.getMultiple=function(t){var e;return 0<=t&&t<7?e=1:7<=t&&t<10?e=2:10==t?e=3:11==t&&(e=4),e};var m=n;function n(){}t.PokerTypeMode=m}(BullShare=BullShare||{}),!function(t){var e,i=PIXI.Container,n=PIXI.Text,i=(__extends(a,e=i),a.prototype.init=function(){null!=this.player1Title&&(this.player1Title.text=IPL.DictManager.getDict("NIU_PLAYER")+"1"),null!=this.player2Title&&(this.player2Title.text=IPL.DictManager.getDict("NIU_PLAYER")+"2"),null!=this.player3Title&&(this.player3Title.text=IPL.DictManager.getDict("NIU_PLAYER")+"3")},a.prototype.setStatisticsInfo=function(t,e){var i=t.p1Num,n=t.p2Num,a=t.p3Num,t=t.totalNum,o="0",r="0",s="0";0!=t&&(o=(new ShareLogic.DigitalLogic).numtoFix4(i/t),r=(new ShareLogic.DigitalLogic).numtoFix4(n/t),s=(new ShareLogic.DigitalLogic).numtoFix4(a/t)),e&&(o+="%",r+="%",s+="%"),this.player1Txt.text=String(i),this.player2Txt.text=String(n),this.player3Txt.text=String(a),e&&(this.player1Txt.text=this.player1Txt.text+"/"+o,this.player2Txt.text=this.player2Txt.text+"/"+r,this.player3Txt.text=this.player3Txt.text+"/"+s),null!=this.player1&&(this.player1.scale.x=i/t),null!=this.player2&&(this.player2.scale.x=n/t),null!=this.player3&&(this.player3.scale.x=a/t)},a);function a(){var t=e.call(this)||this;return t.player1Title=new n,t.player2Title=new n,t.player3Title=new n,t.player1Txt=new n,t.player2Txt=new n,t.player3Txt=new n,t}t.StatisticsPanel=i}(BullShare=BullShare||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","EQIAL","DOUBLE"],this.titleArr=["NIU_MIN_BET","NIU_EQIAL_BET","NIU_DOUBLE_BET"],this.limitNameArr=["roundBetMin","roundBetMax","roundDoubleMax"]):(this.keyArr=["EQIAL","DOUBLE"],this.titleArr=["NIU_EQIAL_BET","NIU_DOUBLE_BET"],this.limitNameArr=["roundBetMax","roundDoubleMax"],this.limitMinArr=["roundBetMin","roundBetMin"],this.ratioArr=["1:0.95","1:0.95"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(BullLogicShare=BullLogicShare||{}),!function(t){var i,n=PIXI.Container,a=PIXI.Sprite,o=PIXI.Point,e=(i=ShareMultiGames.ViewModel,__extends(r,i),r.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo(),this._headerPoker=new ShareUI.PokerUI("SimplePoker"),this._headerPoker.scale.set(.84,.79),this._headerPoker.x=19,this._headerPoker.y=734,this.addChild(this._headerPoker)},r.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new h("SimplePoker"),this._pokerPanel.x=-20,this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},r.prototype.initBetArea=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_BetArea");this.addChild(t);for(var e=0;e<3;++e){var i=PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_BetDouble_"+IPL.UrlParameter.lang,e),i=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_BetEqual_"+IPL.UrlParameter.lang,e));this.addChild(i)}for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_BetP1_"+IPL.UrlParameter.lang),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_BetP2_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_BetP3_"+IPL.UrlParameter.lang)),n=(this.addChild(t),[]),e=1;e<=9;e++){var a=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bull_BetWin","b"+String(e));null!=a&&(n[e]=new ShareUI.betSprBlock(a),n[e].name="b"+String(e),this.addChild(n[e]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(n)},r.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=9;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Bull_ChipPos","mb"+String(t)),null==this._chipPos[t]&&(this._chipPos[t]=new o(0,-100));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.BullBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},r.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapBull,this._roadmapPanel.x=8,this._roadmapPanel.y=709;var t=new n,e=(null==Tools.TextureStore.repository.Fram1x1&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:1,gridW:89,gridH:142,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x1"}),new a(Tools.TextureStore.repository.Fram1x1)),e=(t.addChild(e),null==Tools.TextureStore.repository.Fram4x1&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:1,gridW:59,gridH:34,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram4x1"}),new a(Tools.TextureStore.repository.Fram4x1)),e=(e.position=new o(91,0),t.addChild(e),null==Tools.TextureStore.repository.Fram4x8&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:8,gridW:36,gridH:34,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram4x8"}),new a(Tools.TextureStore.repository.Fram4x8)),e=(e.position=new o(152,0),t.addChild(e),{}),t=(e.posX=0,e.posY=0,e.background=t,this._roadmapPanel.initRoadBg(e),{fontFamily:"微軟正黑體",fontSize:"24px",fill:"#EDE3B2"}),e={};e.titleStyle=t,e.bankerStyle=t,e.titleX=121,e.originalX=171,e.originalY=18,e.gapX=38,e.gapY=36,e.scale=1,e.roundNum=8,e.winBack="Multiple_Bull_win0000",e.winX=170,e.winY=17,e.BBStyle={fontFamily:"微軟正黑體",fontSize:"16px",fontWeight:"bold ",fill:"#FF9900"},e["5PStyle"]={fontFamily:"微軟正黑體",fontSize:"18px",fontWeight:"bold ",fill:"#FF0000"},e.style={fontFamily:"微軟正黑體",fontSize:"18px",fontWeight:"bold ",fill:"#FFFFFF"},e.sumNum=10,e.txtShort=!0,this._roadmapPanel.initCell(e),this.addChild(this._roadmapPanel)},r.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},r.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status||"waiting"==this._status?this._pokerPanel.visible=!0:"rollDice"==this._status&&(this._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_NEW_GAME"),!1),this._pokerPanel.visible=!0),this._roadmapPanel.setStatus(this._status)},r.prototype.setPoker=function(){var t=this._poker.split(",");this._headerPoker.setPoker(t[0]),this._headerPoker.visible=""!=t[0],",,,,,,,,,,,,,,,,,,,,"==this._poker?this._pokerPanel.reset():this._pokerPanel.setPoker(this._poker)},r.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},r.prototype.setResult=function(){var t=BullLogicShare.BullResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},r.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new BullLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},r.prototype.onAddBet=function(t){var e;this._betType=t.betType,0==this._chipValue?Tools.AlertPanel.showAlert(IPL.DictManager.getDict("PLEASE_SELECT_CHIP"),3e3,"",!0,!1):((t=this.vModel.getGameDefine().getBetManager()).addBet(this._betType,this._chipValue),e=4*this._chipValue,2==this._betType?t.addBet(3,e):5==this._betType?t.addBet(6,e):8==this._betType&&t.addBet(9,e),this.vModel.addBetSet(t))},r);function r(){return i.call(this)||this}t.ViewModel=e;s=BullShare.PokerPanel,__extends(l,s),l.prototype.initUI=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(t.x+=20,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_BANKER")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_1")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_2")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bull_3")),e=(this.addChild(t),[]),i=2;i<=21;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bull_PokerBG","b"+String(i));this.addChild(n),e.push(n.position)}for(i=0;i<5;++i)this.bankerPoker[i].position=e[i],this.bankerPoker[i].scale=new o(.31,.28),this.addChild(this.bankerPoker[i]),this.player1Poker[i].position=e[i+5],this.player1Poker[i].scale=new o(.31,.28),this.addChild(this.player1Poker[i]),this.player2Poker[i].position=e[i+10],this.player2Poker[i].scale=new o(.31,.28),this.addChild(this.player2Poker[i]),this.player3Poker[i].position=e[i+15],this.player3Poker[i].scale=new o(.31,.28),this.addChild(this.player3Poker[i]);this.player1Win=new a,this.player2Win=new a,this.player3Win=new a,this.reset()};var s,h=l;function l(t){return s.call(this,t,!0)||this}t.Poker=h}(BullMultiGames=BullMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BullMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BullMain=i}(MultiGames=MultiGames||{}),!function(t){i=Composite.EventContainer,__extends(n,i),n.prototype.initUI=function(){},n.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();for(var i,n,a=[0,0],o=t.split(","),r=o.length,s=0;s<r;s++)""!=o[s]&&"X"!=o[s]&&(n=(i=o[s]).split("."),n=parseInt(n[1]),this.pokerMcArr[s].setPoker(i),1==e&&(this.pokerMcArr[s].visible=!0),a[s]=n);0!=a[0]&&(this.dragonPoint.text=String(a[0])),0!=a[1]&&(this.tigerPoint.text=String(a[1])),null!=this.dragonTxt&&(this.dragonTxt.text=IPL.DictManager.getDict("DTF_DRAGON")),null!=this.tigerTxt&&(this.tigerTxt.text=IPL.DictManager.getDict("DTF_TIGER")),""!=o[1]&&this.setWinLight()},n.prototype.setWinLight=function(){parseInt(this.dragonPoint.text)>parseInt(this.tigerPoint.text)&&null!=this.dragonWin?this.dragonWin.visible=!0:parseInt(this.dragonPoint.text)<parseInt(this.tigerPoint.text)&&null!=this.tigerWin&&(this.tigerWin.visible=!0)},n.prototype.reset=function(){null!=this.dragonPoint&&(this.dragonPoint.text=""),null!=this.tigerPoint&&(this.tigerPoint.text=""),null!=this.dragonWin&&(this.dragonWin.visible=!1),null!=this.tigerWin&&(this.tigerWin.visible=!1);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this.pokerMcArr[t].visible=!1};var i,e=n;function n(t){var e=i.call(this)||this;return e.tmpPoker="",e.dragonPoker=new ShareUI.PokerUI(t),e.tigerPoker=new ShareUI.PokerUI(t),e.pokerMcArr=[e.dragonPoker,e.tigerPoker],e}t.PokerPanel=e}(DtfShare=DtfShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){null!=this.dragonTitle&&(this.dragonTitle.text=IPL.DictManager.getDict("DTF_DRAGON")),null!=this.tigerTitle&&(this.tigerTitle.text=IPL.DictManager.getDict("DTF_TIGER")),null!=this.tieTitle&&(this.tieTitle.text=IPL.DictManager.getDict("DTF_TIE"))},n.prototype.setStatisticsInfo=function(t,e){var i=t.PlayerNum,n=t.BankerNum,a=t.TieNum,t=t.PlayerNum+t.BankerNum+t.TieNum,o="0",r="0",s="0";e&&(o+="%",r+="%",s+="%"),0!=t&&(o=(new ShareLogic.DigitalLogic).numtoFix4(i/t)+"%",r=(new ShareLogic.DigitalLogic).numtoFix4(n/t)+"%",s=(new ShareLogic.DigitalLogic).numtoFix4(a/t)+"%"),this.dragonTxt.text=String(i),this.tigerTxt.text=String(n),this.tieTxt.text=String(a),e&&(this.dragonTxt.text=this.dragonTxt.text+"/"+o,this.tigerTxt.text=this.tigerTxt.text+"/"+r,this.tieTxt.text=this.tieTxt.text+"/"+s),null!=this.dragon&&(this.dragon.scale.x=i/t),null!=this.tiger&&(this.tiger.scale.x=n/t),null!=this.tie&&(this.tie.scale.x=a/t)},n);function n(){return e.call(this)||this}t.StatisticsPanel=i}(DtfShare=DtfShare||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX","TIE"],this.titleArr=["MIN_BET","DTF_MAX_BET","MAX_TIE_BET"],this.limitNameArr=["roundBetMin","roundBetMax","tie"]):(this.keyArr=["DRAGON","TIGER","TIE","ODD","EVEN","BLACKRED"],this.titleArr=["DTF_DRAGON","DTF_TIGER","DTF_TIE","EVEN_STR","ODD_STR","REDBLACK"],this.limitNameArr=["roundBetMax","roundBetMax","tie","roundBetMax","roundBetMax","roundBetMax"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:1","1:1","1:8","1:0.75","1:1.05","1:0.9"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(DtfLogicShare=DtfLogicShare||{}),!function(t){var i,o=PIXI.Container,n=PIXI.Graphics,a=PIXI.Sprite,r=PIXI.Point,s=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(h,i),h.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this._statisticsPanel=new p,this.addChild(this._statisticsPanel),this.initRoadInfo()},h.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new m("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},h.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetDragon_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetDragonB_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetDragonE_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetDragonO_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetDragonR_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetTie_"+IPL.UrlParameter.lang)),t=(this.addChild(t),t.x=235,t.anchor.set(.5,0),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetTiger_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetTigerB_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetTigerE_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetTigerO_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BetTigerR_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),i=1;i<=11;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_DTF_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e),this._closeBetCon=new o,this.addChild(this._closeBetCon),this._closeBetCon.interactive=!0,this._closeBetCon.visible=!1;for(i=4;i<=11;i++){var a=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_DTF_BetNO","b"+String(i));this._closeBetCon.addChild(a)}},h.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=11;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_DTF_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.DtfLight(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},h.prototype.initRoadInfo=function(){this._roadmapPanel=new c,this._roadmapPanel.x=56,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x17&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x17"});var t=new a(Tools.TextureStore.repository.Fram6x17),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new n),t=(e.beginFill(13421772),e.drawRect(0,0,390,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3003",e.cellB="Multiple_cellYellow0000",e.cellP="Multiple_cellRed0000",e.cellT="Multiple_tieLine0000",e.gridRow=6,e.gridCol=17,e.gapX=24,e.gapY=24,e.startPosX=2,e.startPosY=2,e.scale=1,e.cellT1=-2,e.cellT2=1,e.cellT3=4,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.gameType="3003",t.cellB="Multiple_Hall_DTF_Btiger0000",t.cellP="Multiple_Hall_DTF_Bdragon0000",t.cellT="Multiple_Hall_DTF_Btie0000",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=2,t.startPosY=2,t.scale=1.125,t.tStyle={fontFamily:"Arial",fontSize:"18px",fill:"#000000",fontWeight:"bold"},this._roadmapPanel.initRoadB(t),{}),t=(e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=34,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=17,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{});e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=17,e.gapX=12,e.gapY=12,e.startPosX=203,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),this._roadmapPanel.addRoadmap(["map2A"]),this._roadmapPanel.setNowRoadmap("roadmap2A"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},h.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},h.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"!=this._status&&"waiting"!=this._status||(this._pokerPanel.visible=!0)},h.prototype.checkCloseBet=function(){for(var t=!1,e=4;e<=11;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(t=!0);if(25<Number(this._roundNum.split("-")[1])&&t&&this._betButton.setRebetUnlocked(!t),25<Number(this._roundNum.split("-")[1]))for(e=4;e<=11;e++)this._betAreaPanel.setSingleBetMouseStatus(e,!1)},h.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this),25<Number(this._roundNum.split("-")[1])?this._closeBetCon.visible=!0:this._closeBetCon.visible=!1},h.prototype.setPoker=function(){this._pokerPanel.setPoker(this._poker)},h.prototype.setRoadmap=function(){var t=new DtfLogicShare.DtfTransRoadmap(this._roadMap).GetNewRoad();this._roadmapPanel.setData(t,this._roadMap)},h.prototype.setResult=function(){var t=DtfLogicShare.DTFResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},h.prototype.setToolBarBtnStatus=function(){"3003"==this.vModel.getGameType()&&"7"==this.vModel.getGameCode()&&this._toolBarPanel.setBtnStatus("videoSwitch",!1)},h.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new DtfLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},h);function h(){var e=i.call(this)||this;return e.commandEvent=function(t){e.handleCommand2(t)},e}t.ViewModel=e;l=SharePanel.RoadmapBac,__extends(u,l),u.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.roadmapB),this._nowRamp="roadmapB"):"roadmapB"==this._nowRamp?(this.removeMc(this.roadmapB),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp&&(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A")};var l,c=u;function u(){return l.call(this)||this}t.Roadmap=c;d=DtfShare.StatisticsPanel,__extends(f,d),f.prototype.initUI=function(){var t=new n,t=(t.beginFill(0,1),t.drawRect(8,709,46,142),t.endFill(),t.cacheAsBitmap=!0,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_DTTTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"});this.dragonTxt=new s("",t),this.dragonTxt.y=742,this.dragonTxt.anchor.set(.5),this.addChild(this.dragonTxt),this.tigerTxt=new s("",t),this.tigerTxt.y=790,this.tigerTxt.anchor.set(.5),this.addChild(this.tigerTxt),this.tieTxt=new s("",t),this.tieTxt.y=838,this.tieTxt.anchor.set(.5),this.addChild(this.tieTxt),this.dragonTxt.x=this.tigerTxt.x=this.tieTxt.x=28,this.init()};var d,p=f;function f(){var t=d.call(this)||this;return t.initUI(),t}t.StatisticsPanel=p;_=DtfShare.PokerPanel,__extends(g,_),g.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");this.addChild(t),this.dragonWin=PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_BWin"),this.addChild(this.dragonWin),this.tigerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_DTF_TWin"),this.addChild(this.tigerWin);for(var e=1;e<=2;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_DTF_PokerBG","b"+String(e));this.addChild(i)}this.addChild(this.dragonPoker),this.addChild(this.tigerPoker),this.dragonPoker.x=123,this.tigerPoker.x=306,this.dragonPoker.y=this.tigerPoker.y=615,this.dragonPoker.scale=this.tigerPoker.scale=new r(.54,.53);t={fontFamily:"微軟正黑體",fontSize:"20px",fill:"#ffffff"};this.dragonTxt=new s(IPL.DictManager.getDict("DTF_DRAGON"),t),this.dragonTxt.x=133,this.dragonTxt.y=580,this.dragonTxt.anchor.set(1,0),this.addChild(this.dragonTxt),this.tigerTxt=new s(IPL.DictManager.getDict("DTF_TIGER"),t),this.tigerTxt.x=317,this.tigerTxt.y=580,this.tigerTxt.anchor.set(1,0),this.addChild(this.tigerTxt),this.tigerPoint=new s("",t),this.tigerPoint.x=327,this.tigerPoint.y=580,this.addChild(this.tigerPoint),this.dragonPoint=new s("",t),this.dragonPoint.x=143,this.dragonPoint.y=580,this.addChild(this.dragonPoint),this.reset()};var _,m=g;function g(t){t=_.call(this,t)||this;return t.initUI(),t}t.Poker=m}(DtfMultiGames=DtfMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new DtfMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.DtfMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){}function i(){}function n(){}e.getResultArea=function(t){var e;switch(t){case 1:e="101010";break;case 2:e="101001";break;case 3:e="100110";break;case 4:e="100101";break;case 5:e="011010";break;case 6:e="011001";break;case 7:e="010110";break;case 8:e="010101"}for(var i=[],n=63..toString(2).split(""),a=e.split(""),o=0;o<a.length;o++)a[o]==n[o]&&i.push(o+1);return i},t.PaiResultArea=e,i.prototype.getPokerType=function(t,e,i){new Array,new Array;var n,a=t.split("."),o=e.split("."),a=parseInt(a[1])-1,o=parseInt(o[1])-1;return"cn"==i?(n=new Array(["2","8","至尊","0","1","2","3","4","5","6","7","8"],["8","双地","5","6","7","8","地九","地杠","1","2","3","4"],["至尊","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","双鹅","9","0","1","2","3","4","5","6"],["1","7","8","9","双杂五","1","2","3","4","5","6","7"],["2","8","9","0","1","双长三","3","4","5","6","7","8"],["3","地九","0","1","2","3","双高脚七","5","6","7","8","天九"],["4","地杠","1","2","3","4","5","双人","7","8","9","天杠"],["5","1","2","3","4","5","6","7","双杂九","9","0","天九王"],["6","2","3","4","5","6","7","8","9","双梅","1","2"],["7","3","4","5","6","7","8","9","0","1","双斧头","3"],["8","4","5","6","7","8","天九","天杠","天九王","2","3","双天"]),a==o&&("C.4"!=t&&"S.4"!=t&&"H.4"!=t&&"D.4"!=t||(n[a][o]="C.4"==t&&"S.4"==e||"S.4"==t&&"C.4"==e?"双板凳":"H.4"==t&&"D.4"==e||"D.4"==t&&"H.4"==e?"双鹅":"8"),"C.6"!=t&&"S.6"!=t&&"H.6"!=t&&"D.6"!=t||(n[a][o]="C.6"==t&&"S.6"==e||"S.6"==t&&"C.6"==e?"双长三":"H.6"==t&&"D.6"==e||"D.6"==t&&"H.6"==e?"双零霖六":"2"),"C.7"!=t&&"S.7"!=t&&"H.7"!=t&&"D.7"!=t||(n[a][o]="C.7"==t&&"S.7"==e||"S.7"==t&&"C.7"==e?"双杂七":"H.7"==t&&"D.7"==e||"D.7"==t&&"H.7"==e?"双高脚七":"4"),"C.8"!=t&&"S.8"!=t&&"H.8"!=t&&"D.8"!=t||(n[a][o]="C.8"==t&&"S.8"==e||"S.8"==t&&"C.8"==e?"双杂八":"H.8"==t&&"D.8"==e||"D.8"==t&&"H.8"==e?"双人":"6"),"C.10"!=t&&"S.10"!=t&&"H.10"!=t&&"D.10"!=t||(n[a][o]="C.10"==t&&"S.10"==e||"S.10"==t&&"C.10"==e?"双梅":"H.10"==t&&"D.10"==e||"D.10"==t&&"H.10"==e?"双紅头十":"0"))):"tw"==i?(n=new Array(["2","8","至尊","0","1","2","3","4","5","6","7","8"],["8","雙地","5","6","7","8","地九","地杠","1","2","3","4"],["至尊","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","雙鹅","9","0","1","2","3","4","5","6"],["1","7","8","9","雙雜五","1","2","3","4","5","6","7"],["2","8","9","0","1","雙長三","3","4","5","6","7","8"],["3","地九","0","1","2","3","雙高腳七","5","6","7","8","天九"],["4","地杠","1","2","3","4","5","雙人","7","8","9","天杠"],["5","1","2","3","4","5","6","7","雙雜九","9","0","天九王"],["6","2","3","4","5","6","7","8","9","雙梅","1","2"],["7","3","4","5","6","7","8","9","0","1","雙斧頭","3"],["8","4","5","6","7","8","天九","天杠","天九王","2","3","雙天"]),a==o&&("C.4"!=t&&"S.4"!=t&&"H.4"!=t&&"D.4"!=t||(n[a][o]="C.4"==t&&"S.4"==e||"S.4"==t&&"C.4"==e?"雙板凳":"H.4"==t&&"D.4"==e||"D.4"==t&&"H.4"==e?"雙鵝":"8"),"C.6"!=t&&"S.6"!=t&&"H.6"!=t&&"D.6"!=t||(n[a][o]="C.6"==t&&"S.6"==e||"S.6"==t&&"C.6"==e?"雙長三":"H.6"==t&&"D.6"==e||"D.6"==t&&"H.6"==e?"雙零霖六":"2"),"C.7"!=t&&"S.7"!=t&&"H.7"!=t&&"D.7"!=t||(n[a][o]="C.7"==t&&"S.7"==e||"S.7"==t&&"C.7"==e?"雙雜七":"H.7"==t&&"D.7"==e||"D.7"==t&&"H.7"==e?"雙高腳七":"4"),"C.8"!=t&&"S.8"!=t&&"H.8"!=t&&"D.8"!=t||(n[a][o]="C.8"==t&&"S.8"==e||"S.8"==t&&"C.8"==e?"雙雜八":"H.8"==t&&"D.8"==e||"D.8"==t&&"H.8"==e?"雙人":"6"),"C.10"!=t&&"S.10"!=t&&"H.10"!=t&&"D.10"!=t||(n[a][o]="C.10"==t&&"S.10"==e||"S.10"==t&&"C.10"==e?"雙梅":"H.10"==t&&"D.10"==e||"D.10"==t&&"H.10"==e?"雙紅頭十":"0"))):"kr"==i?(n=new Array(["2","8","지존","0","1","2","3","4","5","6","7","8"],["8","쌍지","5","6","7","8","천9","지강","1","2","3","4"],["지존","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","쌍거위","9","0","1","2","3","4","5","6"],["1","7","8","9","쌍잡5","1","2","3","4","5","6","7"],["2","8","9","0","1","쌍장3","3","4","5","6","7","8"],["3","지9","0","1","2","3","쌍고각7","5","6","7","8","지9"],["4","지강","1","2","3","4","5","쌍인","7","8","9","천강"],["5","1","2","3","4","5","6","7","쌍잡9","9","0","천9왕"],["6","2","3","4","5","6","7","8","9","쌍매화","1","2"],["7","3","4","5","6","7","8","9","0","1","쌍도끼","3"],["8","4","5","6","7","8","천9","천강","천9왕","2","3","쌍천"]),a==o&&("C.4"!=t&&"S.4"!=t&&"H.4"!=t&&"D.4"!=t||(n[a][o]="C.4"==t&&"S.4"==e||"S.4"==t&&"C.4"==e?"쌍의자":"H.4"==t&&"D.4"==e||"D.4"==t&&"H.4"==e?"쌍거위":"8"),"C.6"!=t&&"S.6"!=t&&"H.6"!=t&&"D.6"!=t||(n[a][o]="C.6"==t&&"S.6"==e||"S.6"==t&&"C.6"==e?"쌍장3":"H.6"==t&&"D.6"==e||"D.6"==t&&"H.6"==e?"쌍영림6":"2"),"C.7"!=t&&"S.7"!=t&&"H.7"!=t&&"D.7"!=t||(n[a][o]="C.7"==t&&"S.7"==e||"S.7"==t&&"C.7"==e?"쌍잡7":"H.7"==t&&"D.7"==e||"D.7"==t&&"H.7"==e?"쌍고각7":"4"),"C.8"!=t&&"S.8"!=t&&"H.8"!=t&&"D.8"!=t||(n[a][o]="C.8"==t&&"S.8"==e||"S.8"==t&&"C.8"==e?"쌍잡8":"H.8"==t&&"D.8"==e||"D.8"==t&&"H.8"==e?"쌍인":"6"),"C.10"!=t&&"S.10"!=t&&"H.10"!=t&&"D.10"!=t||(n[a][o]="C.10"==t&&"S.10"==e||"S.10"==t&&"C.10"==e?"쌍매화":"H.10"==t&&"D.10"==e||"D.10"==t&&"H.10"==e?"쌍홍두10":"0"))):"th"==i?(n=new Array(["2","8","เกียรติ","0","1","2","3","4","5","6","7","8"],["8","ดินคู่","5","6","7","8","9 ดิน","บาร์ดิน","1","2","3","4"],["เกียรติ","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","ห่านคู่","9","0","1","2","3","4","5","6"],["1","7","8","9","5 เบ็ดเตล็ดคู่","1","2","3","4","5","6","7"],["2","8","9","0","1","สามยาวคุ่","3","4","5","6","7","8"],["3","9 ดิน","0","1","2","3","7 ขาสูงคู่","5","6","7","8","9 ฟ้า"],["4","บาร์ดิน","1","2","3","4","5","คนคู่","7","8","9","บาร์ฟ้า"],["5","1","2","3","4","5","6","7","9 เบ็ดเตล็ดคู่","9","0","กษัตริย์ 9 ฟ้า"],["6","2","3","4","5","6","7","8","9","บ๊วยคู่","1","2"],["7","3","4","5","6","7","8","9","0","1","ขวานคู่","3"],["8","4","5","6","7","8","9 ฟ้า","บาร์ฟ้า","กษัตริย์ 9 ฟ้า","2","3","ฟ้าคู่"]),a==o&&("C.4"!=t&&"S.4"!=t&&"H.4"!=t&&"D.4"!=t||(n[a][o]="C.4"==t&&"S.4"==e||"S.4"==t&&"C.4"==e?"ม้านั่งคู่":"H.4"==t&&"D.4"==e||"D.4"==t&&"H.4"==e?"ห่านคู่":"8"),"C.6"!=t&&"S.6"!=t&&"H.6"!=t&&"D.6"!=t||(n[a][o]="C.6"==t&&"S.6"==e||"S.6"==t&&"C.6"==e?"สามยาวคุ่":"H.6"==t&&"D.6"==e||"D.6"==t&&"H.6"==e?"6 หลิงหลินคู่":"2"),"C.7"!=t&&"S.7"!=t&&"H.7"!=t&&"D.7"!=t||(n[a][o]="C.7"==t&&"S.7"==e||"S.7"==t&&"C.7"==e?"7 เบ็ดเตล็ดคู่":"H.7"==t&&"D.7"==e||"D.7"==t&&"H.7"==e?"7 ขาสูงคู่":"4"),"C.8"!=t&&"S.8"!=t&&"H.8"!=t&&"D.8"!=t||(n[a][o]="C.8"==t&&"S.8"==e||"S.8"==t&&"C.8"==e?"8 เบ็ดเตล็ดคู่":"H.8"==t&&"D.8"==e||"D.8"==t&&"H.8"==e?"คนคู่":"6"),"C.10"!=t&&"S.10"!=t&&"H.10"!=t&&"D.10"!=t||(n[a][o]="C.10"==t&&"S.10"==e||"S.10"==t&&"C.10"==e?"บ๊วยคู่":"H.10"==t&&"D.10"==e||"D.10"==t&&"H.10"==e?"สิบหัวแดงคู่":"0"))):"vi"==i?(n=new Array(["2","8","Chí tôn","0","1","2","3","4","5","6","7","8"],["8","Song địa","5","6","7","8","Địa cửu","Địa giang","1","2","3","4"],["Chí tôn","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","Song Nga","9","0","1","2","3","4","5","6"],["1","7","8","9","Song tạp ngũ","1","2","3","4","5","6","7"],["2","8","9","0","1","Song Trường san","3","4","5","6","7","8"],["3","Địa cửu","0","1","2","3","Song Cao Cước thất","5","6","7","8","Thiên cửu"],["4","Địa giang","1","2","3","4","5","Song Mai","7","8","9","Thiên giang"],["5","1","2","3","4","5","6","7","Song tạp cửu","9","0","Thiên cửu vương"],["6","2","3","4","5","6","7","8","9","Song Trường san","1","2"],["7","3","4","5","6","7","8","9","0","1","Song phủ đầu","3"],["8","4","5","6","7","8","Thiên cửu","Thiên giang","Thiên cửu vương","2","3","Song thiên"]),a==o&&("C.4"!=t&&"S.4"!=t&&"H.4"!=t&&"D.4"!=t||(n[a][o]="C.4"==t&&"S.4"==e||"S.4"==t&&"C.4"==e?"Song Bản Đắng":"H.4"==t&&"D.4"==e||"D.4"==t&&"H.4"==e?"Song Nga":"8"),"C.6"!=t&&"S.6"!=t&&"H.6"!=t&&"D.6"!=t||(n[a][o]="C.6"==t&&"S.6"==e||"S.6"==t&&"C.6"==e?"Song Trường san":"H.6"==t&&"D.6"==e||"D.6"==t&&"H.6"==e?"Song Linh lâm lục":"2"),"C.7"!=t&&"S.7"!=t&&"H.7"!=t&&"D.7"!=t||(n[a][o]="C.7"==t&&"S.7"==e||"S.7"==t&&"C.7"==e?"Song tạp thất":"H.7"==t&&"D.7"==e||"D.7"==t&&"H.7"==e?"Song Cao Cước thất":"4"),"C.8"!=t&&"S.8"!=t&&"H.8"!=t&&"D.8"!=t||(n[a][o]="C.8"==t&&"S.8"==e||"S.8"==t&&"C.8"==e?"Song tạp bát":"H.8"==t&&"D.8"==e||"D.8"==t&&"H.8"==e?"Song Mai":"6"),"C.10"!=t&&"S.10"!=t&&"H.10"!=t&&"D.10"!=t||(n[a][o]="C.10"==t&&"S.10"==e||"S.10"==t&&"C.10"==e?"Song Trường san":"H.10"==t&&"D.10"==e||"D.10"==t&&"H.10"==e?"Song hồng đầu thập":"0"))):"id"==i?(n=new Array(["2","8","Ekstrim","0","1","2","3","4","5","6","7","8"],["8","Tanah ganda","5","6","7","8","Tanah sembilan","Batang tanah","1","2","3","4"],["Ekstrim","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","Angsa ganda","9","0","1","2","3","4","5","6"],["1","7","8","9","Aneka lima ganda","1","2","3","4","5","6","7"],["2","8","9","0","1","Panjang tiga ganda","3","4","5","6","7","8"],["3","Tanah sembilan","0","1","2","3","Kaki tinggi tujuh ganda","5","6","7","8","Batang tanah"],["4","Batang tanah","1","2","3","4","5","Orang ganda","7","8","9","Batang langit"],["5","1","2","3","4","5","6","7","Aneka sembilan ganda","9","0","Raja langit sembilan"],["6","2","3","4","5","6","7","8","9","Mei ganda","1","2"],["7","3","4","5","6","7","8","9","0","1","Kapak ganda","3"],["8","4","5","6","7","8","Batang tanah","Batang langit","Raja langit sembilan","2","3","Langit ganda"]),a==o&&("C.4"!=t&&"S.4"!=t&&"H.4"!=t&&"D.4"!=t||(n[a][o]="C.4"==t&&"S.4"==e||"S.4"==t&&"C.4"==e?"Bangku kayu ganda":"H.4"==t&&"D.4"==e||"D.4"==t&&"H.4"==e?"Angsa ganda":"8"),"C.6"!=t&&"S.6"!=t&&"H.6"!=t&&"D.6"!=t||(n[a][o]="C.6"==t&&"S.6"==e||"S.6"==t&&"C.6"==e?"Panjang tiga ganda":"H.6"==t&&"D.6"==e||"D.6"==t&&"H.6"==e?"Nol Lin Enam ganda":"2"),"C.7"!=t&&"S.7"!=t&&"H.7"!=t&&"D.7"!=t||(n[a][o]="C.7"==t&&"S.7"==e||"S.7"==t&&"C.7"==e?"Aneka tujuh ganda":"H.7"==t&&"D.7"==e||"D.7"==t&&"H.7"==e?"Kaki tinggi tujuh ganda":"4"),"C.8"!=t&&"S.8"!=t&&"H.8"!=t&&"D.8"!=t||(n[a][o]="C.8"==t&&"S.8"==e||"S.8"==t&&"C.8"==e?"Aneka sembilan ganda":"H.8"==t&&"D.8"==e||"D.8"==t&&"H.8"==e?"Orang ganda":"6"),"C.10"!=t&&"S.10"!=t&&"H.10"!=t&&"D.10"!=t||(n[a][o]="C.10"==t&&"S.10"==e||"S.10"==t&&"C.10"==e?"Mei ganda":"H.10"==t&&"D.10"==e||"D.10"==t&&"H.10"==e?"Kepala merah sepuluh ganda":"0"))):(n=new Array(["2","8","Gee Joon","0","1","2","3","4","5","6","7","8"],["8","Paired Day","5","6","7","8","Day High Nine","Day Gong","1","2","3","4"],["Gee Joon","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","Paired Gor","9","0","1","2","3","4","5","6"],["1","7","8","9","Paired Chop Ng","1","2","3","4","5","6","7"],["2","8","9","0","1","Paired Chong","3","4","5","6","7","8"],["3","Day High Nine","0","1","2","3","Paired Tit","5","6","7","8","Teen High Nine"],["4","Day Gong","1","2","3","4","5","Paired Yun","7","8","9","Teen Gong"],["5","1","2","3","4","5","6","7","Paired Chop Gow","9","0","Teen Wong"],["6","2","3","4","5","6","7","8","9","Paired Mooy","1","2"],["7","3","4","5","6","7","8","9","0","1","Paired Foo","3"],["8","4","5","6","7","8","Teen High Nine","Teen Gong","Teen Wong","2","3","Paired Teen"]),a==o&&("C.4"!=t&&"S.4"!=t&&"H.4"!=t&&"D.4"!=t||(n[a][o]="C.4"==t&&"S.4"==e||"S.4"==t&&"C.4"==e?"Paired Bon":"H.4"==t&&"D.4"==e||"D.4"==t&&"H.4"==e?"Paired Gor":"8"),"C.6"!=t&&"S.6"!=t&&"H.6"!=t&&"D.6"!=t||(n[a][o]="C.6"==t&&"S.6"==e||"S.6"==t&&"C.6"==e?"Paired Chong":"H.6"==t&&"D.6"==e||"D.6"==t&&"H.6"==e?"Paired Look":"2"),"C.7"!=t&&"S.7"!=t&&"H.7"!=t&&"D.7"!=t||(n[a][o]="C.7"==t&&"S.7"==e||"S.7"==t&&"C.7"==e?"Paired Chop Chit":"H.7"==t&&"D.7"==e||"D.7"==t&&"H.7"==e?"Paired Tit":"4"),"C.8"!=t&&"S.8"!=t&&"H.8"!=t&&"D.8"!=t||(n[a][o]="C.8"==t&&"S.8"==e||"S.8"==t&&"C.8"==e?"Paired Chop Bot":"H.8"==t&&"D.8"==e||"D.8"==t&&"H.8"==e?"Paired Yun":"6"),"C.10"!=t&&"S.10"!=t&&"H.10"!=t&&"D.10"!=t||(n[a][o]="C.10"==t&&"S.10"==e||"S.10"==t&&"C.10"==e?"Paired Mooy":"H.10"==t&&"D.10"==e||"D.10"==t&&"H.10"==e?"Paired Ping":"0"))),n[a][o]},t.PaiPoker=i,n.prototype.getPokerType=function(t,e){new Array,new Array;var i=t.split(""),n=e.split(""),a=Number(i[0])+Number(i[1])-1,o=Number(n[0])+Number(n[1])-1;return"2"==i[0]&&"4"==i[1]&&(a=0),"2"==n[0]&&"4"==n[1]&&(o=0),i=new Array(["2","8","PAI_GEE_JOON","0","1","2","3","4","5","6","7","8"],["8","PAI_PAIRED_DAY","5","6","7","8","PAI_DAY_HIGH_NINE","PAI_DAY_GONG","1","2","3","4"],["PAI_GEE_JOON","5","6","7","8","9","0","1","2","3","4","5"],["0","6","7","PAI_PAIRED_GOR","9","0","1","2","3","4","5","6"],["1","7","8","9","PAI_PAIRED_CHOP_NG","1","2","3","4","5","6","7"],["2","8","9","0","1","PAI_PAIRED_CHONG","3","4","5","6","7","8"],["3","PAI_DAY_HIGH_NINE","0","1","2","3","PAI_PAIRED_TIT","5","6","7","8","PAI_TEEN_HIGH_NINE"],["4","PAI_DAY_GONG","1","2","3","4","5","PAI_PAIRED_YUN","7","8","9","PAI_TWEEN_GONG"],["5","1","2","3","4","5","6","7","PAI_PAIRED_CHOP_GOW","9","0","PAI_TEEN_WONG"],["6","2","3","4","5","6","7","8","9","PAI_PAIRED_MOOY","1","2"],["7","3","4","5","6","7","8","9","0","1","PAI_PAIRED_FOO","3"],["8","4","5","6","7","8","PAI_TEEN_HIGH_NINE","PAI_TWEEN_GONG","PAI_TEEN_WONG","2","3","PAI_PAIRED_TEEN"]),a==o&&("22"!=t&&"31"!=t||(i[a][o]="22"==t&&"22"==e?"PAI_PAIRED_BON":"31"==t&&"31"==e?"PAI_PAIRED_GOR":"8"),"33"!=t&&"15"!=t||(i[a][o]="33"==t&&"33"==e?"PAI_PAIRED_CHONG":"15"==t&&"15"==e?"PAI_PAIRED_LOOK":"2"),"34"!=t&&"25"!=t&&"16"!=t||(i[a][o]="34"==t&&"25"==e||"25"==t&&"34"==e?"PAI_PAIRED_CHOP_CHIT":"16"==t&&"16"==e?"PAI_PAIRED_TIT":"4"),"35"!=t&&"26"!=t&&"44"!=t||(i[a][o]="35"==t&&"26"==e||"26"==t&&"35"==e?"PAI_PAIRED_CHOP_BOT":"44"==t&&"44"==e?"PAI_PAIRED_YUN":"6"),"55"!=t&&"46"!=t||(i[a][o]="55"==t&&"55"==e?"PAI_PAIRED_MOOY":"46"==t&&"46"==e?"PAI_PAIRED_PING":"0")),IPL.DictManager.getDict(i[a][o])},t.PaiTianjiu=n}(PaiLogicShare=PaiLogicShare||{}),!function(t){var n,a=PIXI.Text,o=PIXI.Sprite,e=(n=Composite.EventContainer,__extends(i,n),i.prototype.initUI=function(){},i.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();for(var i=!1,n=!1,a=!1,o=!1,r=t.split(","),s=r.length,h=0;h<s;h++)if(""!=r[h]&&"X"!=r[h]){var l=r[h],c=l.split(".");parseInt(c[1]);switch(h<2?"banker":h<4?"player1":h<6?"player2":"player3"){case"banker":this.allPoker[h].setPoker(l),this.allPoker[h].visible=1==e,i=1==h;break;case"player1":this.allPoker[h].setPoker(l),this.allPoker[h].visible=1==e,n=3==h;break;case"player2":this.allPoker[h].setPoker(l),this.allPoker[h].visible=1==e,a=5==h;break;case"player3":this.allPoker[h].setPoker(l),this.allPoker[h].visible=1==e,o=7==h}}t=new PaiLogicShare.PaiPoker;1==i&&(this.bankerType.text=t.getPokerType(r[0],r[1],IPL.UrlParameter.lang),this.bankerResult.visible=!0),1==n&&(this.player1Type.text=t.getPokerType(r[2],r[3],IPL.UrlParameter.lang),this.player1Result.visible=!0),1==a&&(this.player2Type.text=t.getPokerType(r[4],r[5],IPL.UrlParameter.lang),this.player2Result.visible=!0),1==o&&(this.player3Type.text=t.getPokerType(r[6],r[7],IPL.UrlParameter.lang),this.player3Result.visible=!0)},i.prototype.reset=function(){for(var t=0;t<8;++t)this.allPoker[t].visible=!1;this.bankerType.text="",this.player1Type.text="",this.player2Type.text="",this.player3Type.text="",this.bankerResult.visible=!1,this.player1Result.visible=!1,this.player2Result.visible=!1,this.player3Result.visible=!1},i);function i(t){var e=n.call(this)||this;e.allPoker=[];for(var i=0;i<8;++i)e.allPoker.push(new ShareUI.PokerUI(t));return e.bankerType=new a(""),e.player1Type=new a(""),e.player2Type=new a(""),e.player3Type=new a(""),e.bankerType.anchor.set(.5,0),e.player1Type.anchor.set(.5,0),e.player2Type.anchor.set(.5,0),e.player3Type.anchor.set(.5,0),e.bankerResult=new o,e.player1Result=new o,e.player2Result=new o,e.player3Result=new o,e.bankerResult.addChild(e.bankerType),e.player1Result.addChild(e.player1Type),e.player2Result.addChild(e.player2Type),e.player3Result.addChild(e.player3Type),e}t.PokerPanel=e}(PaiShare=PaiShare||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX"],this.titleArr=["MIN_BET","MAX_BET"],this.limitNameArr=["roundBetMin","roundBetMax"]):(this.keyArr=["LOSE","WIN"],this.titleArr=["TT_LOSE","TT_WIN"],this.limitNameArr=["roundBetMax","roundBetMax"],this.limitMinArr=["roundBetMin","roundBetMin"],this.ratioArr=["1:0.93","1:0.99"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(PaiLogicShare=PaiLogicShare||{}),!function(t){var i,n=PIXI.Sprite,a=PIXI.Point,e=(i=ShareMultiGames.ViewModel,__extends(o,i),o.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},o.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new s("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},o.prototype.initBetArea=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_BetP1_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_BetP2_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_BetP3_"+IPL.UrlParameter.lang));this.addChild(t);for(var e=0;e<3;e++){var i=PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_BetWin_"+IPL.UrlParameter.lang,e),i=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_BetLose_"+IPL.UrlParameter.lang,e));this.addChild(i)}for(var n=[],a=1;a<=6;a++){var o=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_PaiGow_BetWin","b"+String(a));null!=o&&(n[a]=new ShareUI.betSprBlock(o),n[a].name="b"+String(a),this.addChild(n[a]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(n),this._closeBetConArr=[];for(var r=2;r<=6;r+=2){var s=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_PaiGow_BetNO","b"+String(r));s.interactive=!1,s.visible=!0,this.addChild(s),this._closeBetConArr[r]=s}},o.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=6;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_PaiGow_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.PaiBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},o.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapPai,this._roadmapPanel.x=8,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram2x4&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:4,gridW:112,gridH:52,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram2x4"});var t=new n(Tools.TextureStore.repository.Fram2x4),e={posX:0,posY:36},e=(this._roadmapPanel.initRoadBg(e,t),new n(Tools.TextureStore.repository.Fram2x4)),t={posX:0,posY:90},t=(this._roadmapPanel.initRoadBg(t,e),new n(Tools.TextureStore.repository.Fram2x4)),e=(t.height=34,{}),e=(e.posX=0,e.posY=0,this._roadmapPanel.initRoadBg(e,t),{}),t=(e.titleStyle={fontFamily:"Arial",fontSize:"18px",fill:"#FFFFFF"},e.bankerStyle={fontFamily:"Arial",fontSize:"18px",fill:"#FFD277"},e.gapX=114,{}),i=(t.pokerName="SimplePoker",t.gapX=30,t.gapX2=55,t.scalePoker=new a(.4,.4),{});i.straight=!0,i.gridRow=2,i.titleNumX=1,i.titleSet=e,i.titleX=56,i.titleY=17,i.pokerSet=t,i.originalX=24,i.originalY=38,i.gapY=55,this._roadmapPanel.initCell(i),this.addChild(this._roadmapPanel)},o.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"rollDice"==this._status?(this._messageTxt.onMessage(IPL.DictManager.getDict("PLEASE_BET")+"  0",!1),this._pokerPanel.visible=!0):"dealing"!=this._status&&"waiting"!=this._status||(this._pokerPanel.visible=!0)},o.prototype.checkCloseBet=function(){for(var t=[],e=2;e<=6;e+=2)this._closeBetConArr[e].visible=!1,this._closeBetConArr[e].interactive=!1;for(t=0!=this.vModel.getCommitInfo().getAmount(2)||0!=this.vModel.getAddBetInfo().getAmount(2)?[4,6]:0!=this.vModel.getCommitInfo().getAmount(4)||0!=this.vModel.getAddBetInfo().getAmount(4)?[2,6]:0!=this.vModel.getCommitInfo().getAmount(6)||0!=this.vModel.getAddBetInfo().getAmount(6)?[2,4]:[],e=0;e<t.length;e++)this._closeBetConArr[t[e]].visible=!0,this._closeBetConArr[t[e]].interactive=!0},o.prototype.setPoker=function(){this._pokerPanel.setPoker(this._poker)},o.prototype.setRoadmap=function(){this._overGameCode==this._tmpGameCode&&this._roadmapPanel.setData(this._roadMap)},o.prototype.setResult=function(){var t=PaiLogicShare.PaiResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},o.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new PaiLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},o.prototype.checkAddBet=function(){for(var t=!0,e=2;e<=6;e+=2)0!=Number(this.vModel.getAddBetInfo().getAmount(e))&&this._closeBetConArr[e].visible&&(t=!1);return t},o.prototype.onBetInfo=function(t){null!=t.status?Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.status),3e3,"",!0,!0):this.checkAddBet()?this.vModel.getNoComm()?this._chipStackPanel.setNoCommDataAdd(this.vModel.getAddBetInfo(),this._betType):this._chipStackPanel.setDataAdd(this.vModel.getAddBetInfo(),this._betType):this.vModel.undoBet(),0<this.vModel.getAddBetInfo().getTotal()?this._hasAddBet=!0:this._hasAddBet=!1,"betting"==this._status||"betingAnte"==this._status?(this._betButton.unlocked(!0),this.checkAddBet()&&this.checkCloseBet()):this._betButton.unlocked(!1)},o);function o(){return i.call(this)||this}t.ViewModel=e;r=PaiShare.PokerPanel,__extends(h,r),h.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_BANKER")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_3")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_2")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_PaiGow_1"));this.addChild(t);for(var e=0;e<8;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_PaiGow_PokerBG","b"+String(e+1));this.addChild(i),this.allPoker[e].x=i.x,this.allPoker[e].y=i.y,this.allPoker[e].scale=new a(.53,.53),this.addChild(this.allPoker[e])}this.reset()};var r,s=h;function h(t){t=r.call(this,t)||this;return t.initUI(),t}t.Poker=s}(PaiGowMultiGames=PaiGowMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new PaiGowMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.PaiGowMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){}e.getResultArea=function(t){for(var e=[],i=65535..toString(2).split(""),n=t.toString(2).split("").reverse(),a=n.length,o=0;o<a;o++)n[o]==i[o]&&e.push(o+1);return e},t.TrifaceResultArea=e}(TrifaceLogicShare=TrifaceLogicShare||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();for(var i=t.split(","),n=0;n<i.length;n++)""!=i[n]?(this.pokerUI[n].setPoker(i[n]),this.pokerUI[n].visible=!0):this.pokerUI[n].visible=!1;this.pokerPoint=[[i[1],i[2],i[3]],[i[4],i[5],i[6]],[i[7],i[8],i[9]],[i[10],i[11],i[12]]],this.setResultTxt()},n.prototype.setResultTxt=function(){for(var t=0;t<4;t++)""!=this.pokerPoint[t][0]&&""!=this.pokerPoint[t][1]&&""!=this.pokerPoint[t][2]&&(this.ResultTxt[t].text=this.getpokerText(this.pokerPoint[t][0],this.pokerPoint[t][1],this.pokerPoint[t][2]))},n.prototype.getpokerText=function(t,e,i){this.bua=0;t=(this.transPoint(t)+this.transPoint(e)+this.transPoint(i))%10;return 0==this.bua?String(t):1==this.bua?"P"+String(t):2==this.bua?String(this.bua)+"P"+String(t):String(this.bua)+"P"},n.prototype.transPoint=function(t){var t=t.split("."),t=parseInt(t[1]),e=0;return 10==t?e=0:11==t||12==t||13==t?(e=0,this.bua++):e=t,e},n.prototype.reset=function(){for(var t=0;t<13;t++)this.pokerUI[t]&&(this.pokerUI[t].visible=!1);for(t=0;t<4;t++)this.ResultTxt[t].text=""};var e,i=n;function n(){return e.call(this)||this}t.PokerPanel=i}(TrifaceShare=TrifaceShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){for(var t=0;t<3;t++)null!=this.playerTitleList[t]&&(this.playerTitleList[t].text=this.getString()+String(t+1))},n.prototype.setStatisticsInfo=function(t,e){for(var i=t.totalNum,n=[t.p1Num,t.p2Num,t.p3Num],a=0,a=0;a<3;a++)this.playerTxtList[a].text=String(n[a]);if(0!=i)for(a=0;a<3;a++){var o=(new ShareLogic.DigitalLogic).numtoFix4(n[a]/i)+"%";this.playerTxtList[a].text+="/"+o,this.playerLineList[a].scale.x=n[a]/i}else for(a=0;a<3;a++)this.playerTxtList[a].text+="0%",this.playerLineList[a].scale.x=0},n.prototype.getString=function(){var t=IPL.UrlParameter.noChangeLang,t="tw"==t?"閒":"cn"==t?"闲":"P";return t},n);function n(){return e.call(this)||this}t.StatisticsPanel=i}(TrifaceShare=TrifaceShare||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX","TIE","TRIFACE","PAIR"],this.titleArr=["MIN_BET","FACE_MAX_BET","MAX_TIE_BET","MAX_3P_BET","MAX_PAIR_PLUS_BET"],this.limitNameArr=["roundBetMin","roundBetMax","MaxTie","Max3Face","MaxPair"]):(this.keyArr=["WINLOSE","TIE","TRIFACE","PAIR"],this.titleArr=["","MAX_TIE_BET","MAX_3P_BET","MAX_PAIR_PLUS_BET"],this.limitNameArr=["roundBetMax","MaxTie","Max3Face","MaxPair"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:1","1:8","1:16",""]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},"WINLOSE"==this.keyArr[t]?this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict("TT_WIN")+"/"+IPL.DictManager.getDict("TT_LOSE"):this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(TrifaceLogicShare=TrifaceLogicShare||{}),!function(t){var i,n=PIXI.Sprite,o=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(a,i),a.prototype.initUI=function(){this.initRoadInfo(),this.initHeaderPoker(),this.initBetArea(),this.initChipPosition()},a.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new s,this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},a.prototype.initBetArea=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BetArea");this.addChild(t);for(var e=0;e<3;e++){var i=PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_Bet3Face_"+IPL.UrlParameter.lang,e),i=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BetLose_"+IPL.UrlParameter.lang,e)),i=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BetTie_"+IPL.UrlParameter.lang,e)),i=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BetWin_"+IPL.UrlParameter.lang,e));this.addChild(i)}for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BetP1_"+IPL.UrlParameter.lang),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BetP2_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BetP3_"+IPL.UrlParameter.lang)),n=(this.addChild(t),[]),e=1;e<=14;e++){var a=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_3Face_BetWin","b"+String(e));null!=a&&(n[e]=new ShareUI.betSprBlock(a),n[e].name="b"+String(e),this.addChild(n[e]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(n)},a.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=14;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_3Face_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.BacBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},a.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapTriface,this._roadmapPanel.x=8,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram3x8&&SharePanel.sameFrameLine.createTexture({gridRow:3,gridCol:8,gridW:36,gridH:46,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram3x8"});var t=new n(Tools.TextureStore.repository.Fram3x8),e={posX:152,posY:0},t=(this._roadmapPanel.initRoadBg(e,t),null==Tools.TextureStore.repository.Fram3x1&&SharePanel.sameFrameLine.createTexture({gridRow:3,gridCol:1,gridW:59,gridH:46,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram3x1"}),new n(Tools.TextureStore.repository.Fram3x1)),e={posX:91,posY:0},t=(this._roadmapPanel.initRoadBg(e,t),null==Tools.TextureStore.repository.Fram1x1&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:1,gridW:89,gridH:142,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x1"}),new n(Tools.TextureStore.repository.Fram1x1)),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{styleTitle:{fontFamily:"微軟正黑體",fontSize:"21px",fontWeight:"bold",fill:"#FFFFFF"},titleX:120,originalX:170,originalY:22,gapX:38,gapY:48,styleB:{fontFamily:"微軟正黑體",fontSize:"20px",fontWeight:"normal",fill:"#DA564A"},styleP:{fontFamily:"微軟正黑體",fontSize:"20px",fontWeight:"normal",fill:"#62C0CC"},styleT:{fontFamily:"微軟正黑體",fontSize:"20px",fontWeight:"normal",fill:"#33CC33"},roundNum:8,sumNum:10,txtShort:!0});this._roadmapPanel.initCell(e),this.addChild(this._roadmapPanel)},a.prototype.initHeaderPoker=function(){this._headerPoker=new ShareUI.PokerUI("SimplePoker"),this._headerPoker.visible=!1,this._headerPoker.scale.set(.84,.79),this._headerPoker.x=19,this._headerPoker.y=734,this.addChild(this._headerPoker)},a.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status||"waiting"==this._status?this._pokerPanel.visible=!0:"rollDice"==this._status&&(this._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_NEW_GAME"),!1),this._pokerPanel.visible=!0),this._roadmapPanel.setStatus(this._status)},a.prototype.setPoker=function(){var t;",,,,,,,,,,,,"==this._poker?(this._pokerPanel.reset(),this._headerPoker.visible=!1):(this._pokerPanel.setPoker(this._poker),""!=(t=this._poker.split(","))[0]&&(this._headerPoker.setPoker(t[0]),this._headerPoker.visible=!0))},a.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},a.prototype.setResult=function(){var t=TrifaceLogicShare.TrifaceResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},a.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new TrifaceLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["WINLOSE","TIE","TRIFACE"]),t.gameType=this.vModel.getGameType(),t.list[0].title=IPL.DictManager.getDict("TT_WIN")+IPL.DictManager.getDict("TT_LOSE"),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},a);function a(){return i.call(this)||this}t.ViewModel=e;r=TrifaceShare.PokerPanel,__extends(h,r),h.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_1")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_2")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_3")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BANKER"));this.addChild(t),this.pokerUI=[];for(var e=0;e<13;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_3Face_PokerBG","b"+String(e+1));this.addChild(i),this.pokerUI[e]=new ShareUI.PokerUI("SimplePoker"),this.pokerUI[e].visible=!1,this.pokerUI[e].scale.x=.35,this.pokerUI[e].scale.y=.33,this.pokerUI[e].x=i.x,this.pokerUI[e].y=i.y,this.addChild(this.pokerUI[e])}var n={fontFamily:"微軟正黑體",fontSize:"14px",fontWeight:"normal",fill:"#FFFFFF"};this.ResultTxt=[];for(var a=0;a<4;a++)this.ResultTxt[a]=new o("",n);this.reset()};var r,s=h;function h(){var t=r.call(this)||this;return t.initUI(),t}t.Poker=s}(TrifaceMultiGames=TrifaceMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new TrifaceMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.TrifaceMain=i}(MultiGames=MultiGames||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX","4R4W","3and1"],this.titleArr=["MIN_BET","ODDEVEN"],this.limitNameArr=["roundBetMin","roundBetMax","Max4R4W","Max3and1"]):(this.keyArr=["ODDEVEN","HIGHLOW","4R4W","3and1"],this.titleArr=["ODDEVEN","HIGHLOW"],this.limitNameArr=["roundBetMax","roundBetMax","Max4R4W","Max3and1"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:0.96","1:0.92","1:12","1:2.6"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(SedieLogicShare=SedieLogicShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.initUI=function(){},n.prototype.initTxt=function(){null!=this.limitTitleTxt&&(this.limitTitleTxt.text=IPL.DictManager.getDict("LIMITBTN")),null!=this.roundBetMinTxt&&(this.roundBetMinTxt.text=IPL.DictManager.getDict("MIN_BET")),null!=this.oddEvenMaxTxt&&(this.oddEvenMaxTxt.text=IPL.DictManager.getDict("ODDEVEN"))},n.prototype.setData=function(t){null!=this.roundBetMin&&(this.roundBetMin.text=String(t.getLimit("roundBetMin"))),null!=this.oddEvenMax&&(this.oddEvenMax.text=String(t.getLimit("roundBetMax"))),null!=this.max4R4W&&(this.max4R4W.text=String(t.getLimit("Max4R4W"))),null!=this.max3and1&&(this.max3and1.text=String(t.getLimit("Max3and1")))},n);function n(){var t=e.call(this)||this;return t.initUI(),t.initTxt(),t}t.LimitPanel=i}(SedieShare=SedieShare||{}),!function(t){var i,n=PIXI.Container,e=(__extends(a,i=n),a.prototype.initUI=function(t){for(var e=0;e<4;e++){var i=PIXI.Sprite.fromFrame(t.redName),n=PIXI.Sprite.fromFrame(t.whiteName);this.redAry.push(i),this.whiteAry.push(n),this.buttonCon.addChild(i),this.buttonCon.addChild(n),i.x=n.x=e*t.posX}null!=t.initPosX&&(this.buttonCon.x=t.initPosX),null!=t.initPosY&&(this.buttonCon.y=t.initPosY),this.clearPoker()},a.prototype.setPoker=function(t){this.clearPoker();for(var e=(t="1222"==t?"2221":t).split(""),i=0;i<e.length;i++)this.whiteAry[i].visible="1"==e[i],this.redAry[i].visible="2"==e[i]},a.prototype.clearPoker=function(){for(var t=this.redAry.length,e=0;e<t;e++)this.redAry[e].visible=!1,this.whiteAry[e].visible=!1},a);function a(t){var e=i.call(this)||this;return e.redAry=[],e.whiteAry=[],e.buttonCon=new n,e.addChild(e.buttonCon),e.initUI(t),e}t.PokerPanel=e}(SedieShare=SedieShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){null!=this.oddTitle&&(this.oddTitle.text=IPL.DictManager.getDict("EVEN_STR")),null!=this.evenTitle&&(this.evenTitle.text=IPL.DictManager.getDict("ODD_STR"))},n.prototype.setStatisticsInfo=function(t,e){var i=t.OddNum,n=t.EvenNum,a=t.OddNum+t.EvenNum,o=t.OneNum,r=t.TwoNum,s=t.ThreeNum,t=t.FourNum,h="0",l="0",c="0",u="0",d="0",p="0";e&&(h+="%",l+="%",c+="%",u+="%",d+="%",p+="%"),0!=a&&(h=(new ShareLogic.DigitalLogic).numtoFix4(i/a)+"%",l=(new ShareLogic.DigitalLogic).numtoFix4(n/a)+"%",c=(new ShareLogic.DigitalLogic).numtoFix4(o/a)+"%",u=(new ShareLogic.DigitalLogic).numtoFix4(r/a)+"%",d=(new ShareLogic.DigitalLogic).numtoFix4(s/a)+"%",p=(new ShareLogic.DigitalLogic).numtoFix4(t/a)+"%"),this.oddTxt.text=String(i),this.evenTxt.text=String(n),null!=this.zeroTxt&&(this.zeroTxt.text=String(o)),null!=this.oneTxt&&(this.oneTxt.text=String(r)),null!=this.threeTxt&&(this.threeTxt.text=String(s)),null!=this.fourTxt&&(this.fourTxt.text=String(t)),e&&(this.oddTxt.text=this.oddTxt.text+"/"+h,this.evenTxt.text=this.evenTxt.text+"/"+l,null!=this.zeroTxt&&(this.zeroTxt.text=this.zeroTxt.text+"\n"+c),null!=this.oneTxt&&(this.oneTxt.text=this.oneTxt.text+"\n"+u),null!=this.threeTxt&&(this.threeTxt.text=this.threeTxt.text+"\n"+d),null!=this.fourTxt)&&(this.fourTxt.text=this.fourTxt.text+"\n"+p),0==a?(null!=this.odd&&(this.odd.scale.x=0),null!=this.even&&(this.even.scale.x=0)):(null!=this.odd&&(this.odd.scale.x=i/a),null!=this.even&&(this.even.scale.x=n/a))},n);function n(){return e.call(this)||this}t.StatisticsPanel=i}(SedieShare=SedieShare||{}),!function(t){var i,n=PIXI.Graphics,a=PIXI.Sprite,o=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(r,i),r.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},r.prototype.initShareUI=function(){i.prototype.initShareUI.call(this);var t=JSON.parse('{"redName":"Multiple_SeDie_PokerIcon0000","whiteName":"Multiple_SeDie_PokerIcon0001","posX":85,"initPosX":77,"initPosY":580}');this._pokerPanel=new u(t),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},r.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_NewSeDie_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewSeDie_BetEven_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewSeDie_BetOdd_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewSeDie_BetHigh_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewSeDie_BetLow_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),i=1;i<=8;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewSeDie_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e);for(var a=[],i=0;i<=4;i++)2!=i&&(a[i]=PIXILayoutTool.DisplayObject.createImage("Multiple_NewSeDie_Bet"+String(i)),this.addChild(a[i]))},r.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=8;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewSeDie_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.SedieBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},r.prototype.initRoadInfo=function(){this._roadmapPanel=new h,this._roadmapPanel.x=8,this._roadmapPanel.y=709;var t="",t="tw"==IPL.UrlParameter.lang?"0":"cn"==IPL.UrlParameter.lang?"1":"2",e=(null==Tools.TextureStore.repository.Fram6x19&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:19,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x19"}),new a(Tools.TextureStore.repository.Fram6x19)),i={posX:0,posY:0},i=(this._roadmapPanel.initRoadBg(i,e),new n),e=(i.beginFill(13421772),i.drawRect(0,0,450,137),i.endFill(),{}),i=(e.posX=0,e.posY=0,e.maskMc=i,this._roadmapPanel.initMouseMask(e),{}),e=(i.cellName="Multiple_cellNormal",i.gridRow=6,i.gridCol=19,i.gapX=24,i.gapY=24,i.startPosX=3,i.startPosY=3,i.scale=1,this._roadmapPanel.initRoadNormal(i),{}),i=(e.gameType="3011",e.cellB="Multiple_Sedie_Big000"+t,e.cellP="Multiple_Sedie_Small000"+t,e.cellT="Multiple_Bac_Btie0000",e.gridRow=6,e.gridCol=19,e.gapX=24,e.gapY=24,e.originalX=1,e.originalY=1,e.style={font:"15px roadTxt",align:"center",tint:"0x000000"},this._roadmapPanel.initRoadBS(e),{});i.gameType="3011",i.cellB="Multiple_Sedie_Odd000"+t,i.cellP="Multiple_Sedie_Even000"+t,i.gridRow=6,i.gridCol=19,i.gapX=24,i.gapY=24,i.originalX=1.6,i.originalY=1.6,i.scale=.3,this._roadmapPanel.initRoadOE(i),this._roadmapPanel.addRoadmap(["mapOE"]),this._roadmapPanel.setNowRoadmap("mapBS"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},r.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},r.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status?(this._pokerPanel.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("OPEN_BOWL"),!1)):"waiting"==this._status&&(this._pokerPanel.visible=!0)},r.prototype.setPoker=function(){""==this._poker?this._pokerPanel.clearPoker():this._pokerPanel.setPoker(this._poker)},r.prototype.setRoadmap=function(){var t=new AceyDeuceyLogicShare.AceyDeuceyTransRoadmap(SedieLogicShare.SedieTransRoadmap.STR_TIE),e=SedieLogicShare.SedieTransRoadmap.getOddEven(this._roadMap),t=(this._roadmapPanel.setData(this._roadMap,""),t.getRoadmapNew2A(e,19));this._roadmapPanel.showResult(t)},r.prototype.setResult=function(){var t=SedieLogicShare.SedieResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},r.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new SedieLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["ODDEVEN","HIGHLOW","4R4W","3and1"]),t.gameType=this.vModel.getGameType(),t.list[2].titleIcon="Multiple_LimitSeDie_0400000000",t.list[3].titleIcon="Multiple_LimitSeDie_1300000000",this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},r);function r(){return i.call(this)||this}t.ViewModel=e;s=SharePanel.RoadmapSedieNew,__extends(l,s),l.prototype.initRoadBS=function(t){this.roadmapBS=new ShareRoad.RoadmapNewSedie(t)},l.prototype.setRoundNum=function(t){var e=t.split(","),i=0,n=0,a=0,o=0,r=0,s=0,t={};t.gameKey=this.gameKey;for(var h=0;h<e.length;h++){var l=Number(e[h]);if("3011"==this.gameType)switch(l){case 1:i++,r++;break;case 2:n++,s++;break;case 3:r++;break;case 4:a++,s++;break;case 5:o++,r++}else"3015"==this.gameType&&(1==l?(i++,r++):2==l?(n++,s++):3==l?(a++,r++):4==l&&(o++,s++))}t.OddNum=s,t.EvenNum=r,t.OneNum=i,t.TwoNum=n,t.ThreeNum=a,t.FourNum=o,this.roundObj={};var c=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP);c.data=t,this.roundObj=t,this.event.dispatchEvent(c)},l.prototype.onChangeRoadB=function(){"normalRoad"==this._nowRamp?(this.removeMc(this.roadmapBS),this.addMc(this.normalRoad),this._nowRamp="mapOE"):"mapOE"==this._nowRamp?(this.removeMc(this.normalRoad),this.addMc(this.roadmapOE),this._nowRamp="mapBS"):"mapBS"==this._nowRamp&&(this.removeMc(this.roadmapOE),this.addMc(this.roadmapBS),this._nowRamp="normalRoad")};var s,h=l;function l(){return s.call(this)||this}t.Roadmap=h;c=SedieShare.PokerPanel,__extends(d,c),d.prototype.setPoker=function(t){if(c.prototype.setPoker.call(this,t),this.resultText){for(var e=t.split(""),t=void 0,i=void 0,i="cn"==IPL.UrlParameter.lang?(t=["单","双"],["大","小"]):"tw"==IPL.UrlParameter.lang?(t=["單","雙"],["大","小"]):(t=["Odd","Even"],["Big","Small"]),n=0,a=0;a<e.length;a++)"1"==e[a]&&n++;this.resultText.text=0==n?t[1]+"/"+i[0]:4==n?t[1]+"/"+i[1]:1==n?t[0]+"/"+i[0]:3==n?t[0]+"/"+i[1]:2==n?t[1]:""}},d.prototype.clearPoker=function(){c.prototype.clearPoker.call(this),this.resultText&&(this.resultText.text="")};var c,u=d;function d(t){var e=c.call(this,t)||this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");e.addChildAt(t,0);for(var i=1;i<=4;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SeDie_PokerBG","b"+String(i));e.addChildAt(n,1),n.y-=20}return e.resultText=new o("",{fontFamily:"Arial",fontSize:"30px",fill:"#ffffff"}),e.resultText.anchor.x=.5,e.resultText.x=230,e.resultText.y=650,e.addChild(e.resultText),e}t.Poker=u}(SeDieMultiGames=SeDieMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new SeDieMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.SeDieMain=i}(MultiGames=MultiGames||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){var t=this;this.tripleSensor.alpha=0,this.tripleSensor.on("mouseover",function(){t.tripleSp.visible=!0,null!=t.tripleTxt&&(t.tripleTxt.visible=!0)}),this.tripleSensor.on("mouseout",function(){t.tripleSp.visible=!1,null!=t.tripleTxt&&(t.tripleTxt.visible=!1)}),this.strFluSensor.alpha=0,this.strFluSensor.on("mouseover",function(){t.strFluSp.visible=!0,null!=t.strFluTxt&&(t.strFluTxt.visible=!0)}),this.strFluSensor.on("mouseout",function(){t.strFluSp.visible=!1,null!=t.strFluTxt&&(t.strFluTxt.visible=!1)}),this.tripleSp.visible=!1,null!=this.tripleTxt&&(this.tripleTxt.visible=!1),this.strFluSp.visible=!1,null!=this.strFluTxt&&(this.strFluTxt.visible=!1),this.tripleSensor.interactive=!0,this.strFluSensor.interactive=!0},n.prototype.setNum=function(t,e){999<Number(t)?this.tripleNumTxt.text="999+":this.tripleNumTxt.text=t,999<Number(e)?this.strFluNumTxt.text="999+":this.strFluNumTxt.text=e},n);function n(){return e.call(this)||this}t.HintPanel=i}(ThreeCardShare=ThreeCardShare||{}),!function(t){function e(){this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},this.keyArr=["DRAGON/PHOENIX","DRAGON","PHOENIX","PAIR9","STRAIGHT","FLUSH","SFLISH","TRIPLE"],this.titleArr=["DRAGON/PHOENIX","THREE_DRAGON","THREE_PHOENIX","THREE_PAIR9","THREE_STRAIGHT","THREE_FLUSH","THREE_SFLISH","THREE_TRIPLE"],this.limitNameArr=["roundBetMax","roundBetMax","roundBetMax","pair9Max","straightMax","flushMax","straightFlushMax","anyTripleMax"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:0.97","1:0.97","1:0.97","1:2","1:7","1:8","1:100","1:120"],this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},"DRAGON/PHOENIX"==this.titleArr[t]?this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict("THREE_DRAGON")+"/"+IPL.DictManager.getDict("THREE_PHOENIX"):this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t,e){void 0===e&&(e=!0);for(var i=0;i<this.keyArr.length;i++)this.infoObj[this.keyArr[i]].limit=String(t.getLimit(this.limitNameArr[i])),null!=this.limitMinArr[i]&&(this.infoObj[this.keyArr[i]].limitMin=String(t.getLimit(this.limitMinArr[i]))),null!=this.ratioArr[i]&&e&&(this.infoObj[this.keyArr[i]].ratio=this.ratioArr[i])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(ThreeCardLogicShare=ThreeCardLogicShare||{}),!function(t){a=Composite.EventContainer,__extends(i,a),i.prototype.setPoker=function(t){var e=t.split(",");if(""==t||",,,,,"==t||6!=e.length)this.reset();else for(var i=0;i<3;i++)""!=e[2*i]&&null!=e[2*i]&&(this.dragonPoker[i].setPoker(e[2*i]),this.dragonPoker[i].visible=!0),""!=e[2*i+1]&&null!=e[2*i+1]&&(this.phoenixPoker[i].setPoker(e[2*i+1]),this.phoenixPoker[i].visible=!0)},i.prototype.showResult=function(t,e){var i=t.split(","),n=[],a=[];if(""!=t&&",,,,,"!=t&&6==i.length)for(var o=0;o<3;o++)""!=i[2*o]&&null!=i[2*o]&&n.push(i[2*o]),""!=i[2*o+1]&&null!=i[2*o+1]&&a.push(i[2*o+1])},i.prototype.setTypeTxt=function(t){if(null!=t&&",,"!=t){for(var e=t.split(","),i=0;i<2;i++){var n=e[i].split("-"),a=n[0],n=n[1],o="",o=IPL.DictManager.getDict(this.pokerTypeStr[Number(a)]);"N"!=n&&(o+=" "+n),0==i?this.dragonTxt.text=o:this.phoenixTxt.text=o}this.lightResult(e[2])}else this.dragonTxt.text="",this.phoenixTxt.text=""},i.prototype.lightResult=function(t){this.dragonWin.visible=!0,this.phoenixWin.visible=!0,"3"==t?(this.phoenixWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Tie0000"),this.dragonWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Tie0000")):"1"==t?(this.dragonWinBG.visible=!0,this.phoenixWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Phoenix0000"),this.dragonWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Dragon0000")):"2"==t&&(this.phoenixWinBG.visible=!0,this.phoenixWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Phoenix0000"),this.dragonWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Dragon0000"))},i.prototype.reset=function(){this.dragonTxt.text="",this.phoenixTxt.text="";for(var t=0;t<3;t++)this.dragonPoker[t].visible=!1,this.phoenixPoker[t].visible=!1;this.dragonWin.visible=!1,this.phoenixWin.visible=!1,this.dragonWinBG.visible=!1,this.phoenixWinBG.visible=!1};var a,e=i;function i(t,e){var i=a.call(this)||this;i.pokerTypeStr=[null,"THREE_TRIPLE_KILL","THREE_HIGH_CARD","THREE_PAIR","THREE_STRAIGHT","THREE_FLUSH","THREE_SFLISH","THREE_TRIPLE"],i.dragonPoker=[],i.phoenixPoker=[];for(var n=0;n<3;n++)i.dragonPoker[n]=new ShareUI.PokerUI(t),i.phoenixPoker[n]=new ShareUI.PokerUI(t);return i.resultTextureName=e,i}t.PokerPanel=e}(ThreeCardShare=ThreeCardShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){null!=this.dragonTitle&&(this.dragonTitle.text=IPL.DictManager.getDict("THREE_DRAGON")),null!=this.phoenixTitle&&(this.phoenixTitle.text=IPL.DictManager.getDict("THREE_PHOENIX")),null!=this.tieTitle&&(this.tieTitle.text=IPL.DictManager.getDict("DTF_TIE"))},n.prototype.setStatisticsInfo=function(t,e){var i=t.PlayerNum,n=t.BankerNum,a=t.TieNum,t=t.PlayerNum+t.BankerNum+t.TieNum,o="0",r="0",s="0";e&&(o+="%",r+="%",s+="%"),0!=t?(o=(new ShareLogic.DigitalLogic).numtoFix4(i/t)+"%",r=(new ShareLogic.DigitalLogic).numtoFix4(n/t)+"%",s=(new ShareLogic.DigitalLogic).numtoFix4(a/t)+"%",null!=this.dragon&&(this.dragon.scale.x=i/t),null!=this.phoenix&&(this.phoenix.scale.x=n/t),null!=this.tie&&(this.tie.scale.x=a/t)):(null!=this.dragon&&(this.dragon.scale.x=0),null!=this.phoenix&&(this.phoenix.scale.x=0),null!=this.tie&&(this.tie.scale.x=0)),this.dragonTxt.text=String(i),this.phoenixTxt.text=String(n),this.tieTxt.text=String(a),e&&(this.dragonTxt.text=this.dragonTxt.text+"/"+o,this.phoenixTxt.text=this.phoenixTxt.text+"/"+r,this.tieTxt.text=this.tieTxt.text+"/"+s)},n);function n(){return e.call(this)||this}t.StatisticsPanel=i}(ThreeCardShare=ThreeCardShare||{}),!function(t){var i,n=PIXI.Graphics,a=PIXI.Sprite,o=PIXI.Point,r=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(s,i),s.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this._statisticsPanel=new d,this.addChild(this._statisticsPanel),this.initRoadInfo()},s.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new v("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},s.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetRanking_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetStraight_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetRanking_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetPhoenix_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetPair9P_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetFlush_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetSFlush_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetDragon_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetContains_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_BetAnyT_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),i=1;i<=64;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_3Card_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e)},s.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=64;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_3Card_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.ThreeCardBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7),this._hintPanel=new _,this.addChild(this._hintPanel)},s.prototype.initRoadInfo=function(){this._roadmapPanel=new l,this._roadmapPanel.x=56,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x17&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x17"});var t=new a(Tools.TextureStore.repository.Fram6x17),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new n),t=(e.beginFill(13421772),e.drawRect(0,0,390,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3018",e.cellB="Multiple_cellRed0000",e.cellP="Multiple_cellBlue0000",e.cellT="Multiple_tieLine0000",e.gridRow=6,e.gridCol=17,e.gapX=24,e.gapY=24,e.startPosX=2,e.startPosY=2,e.scale=1,e.cellT1=-2,e.cellT2=1,e.cellT3=4,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.gameType="3018",t.cellB="Multiple_Hall_3Card_BPhoenix0000",t.cellP="Multiple_Hall_3Card_BDragon0000",t.cellT="Multiple_Hall_3Card_Btie0000",t.cellBP="Multiple_Bac_BpairBanker0000",t.cellPP="Multiple_Bac_BpairPlayer0000",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=2,t.startPosY=2,t.scale=1,t.tStyle={fontFamily:"微軟正黑體",fontSize:"18px",fill:"#000000",fontWeight:"bold"},this._roadmapPanel.initRoadB(t),{}),t=(e.gameType="3018",e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=34,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.gameType="3018",t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=17,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{}),t=(e.gameType="3018",e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=17,e.gapX=12,e.gapY=12,e.startPosX=203,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),{});t.gameType="3018",t.cellB="Multiple_Bac_BSCell0000",t.cellP="Multiple_Bac_BSCell0001",t.cellBE="Multiple_Bac_BSCell0002",t.cellPE="Multiple_Bac_BSCell0003",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=3,t.startPosY=3,t.scale=1,this._roadmapPanel.initRoadD(t),this._roadmapPanel.addRoadmap(["map2A"]),this._roadmapPanel.setNowRoadmap("roadmap2A"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},s.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},s.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"!=this._status&&"waiting"!=this._status||(this._pokerPanel.visible=!0)},s.prototype.onRoundInfo=function(){var t;i.prototype.onRoundInfo.call(this),this._hint!=this.vModel.getGameInfo().getnotOp()&&(this._hint=this.vModel.getGameInfo().getnotOp(),t=this._hint.split("-"),this._hintPanel.setNum(t[1],t[0]))},s.prototype.setPoker=function(){",,,,,"==this._poker?this._pokerPanel.reset():this._pokerPanel.setPoker(this._poker)},s.prototype.setRoadmap=function(){var t=new ThreeCardLogicShare.ThreeCardTransRoadMap(this._roadMap).GetNewRoad();this._roadmapPanel.setData(t,this._roadMap)},s.prototype.setResult=function(){var t=(new ThreeCardLogicShare.ThreeCardResultArea).getResultArea(this._result),t=(this._betAreaPanel.showResult(t),this.vModel.getGameInfo().getCardsResult());this._pokerPanel.setTypeTxt(t)},s.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new ThreeCardLogicShare.LimitPanel,this._limitInfo.setData(t),{}),t=(t.list=this._limitInfo.getLimitInfo(["DRAGON","PHOENIX","PAIR9","STRAIGHT","FLUSH","SFLISH","TRIPLE"]),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),this.vModel.getGameInfo().getnotOp().split("-"));this._hintPanel.setNum(t[1],t[0]),i.prototype.onUserInfo.call(this)},s);function s(){return i.call(this)||this}t.ViewModel=e;h=SharePanel.RoadmapBac,__extends(c,h),c.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.roadmapB),this._nowRamp="roadmapB"):"roadmapB"==this._nowRamp?(this.removeMc(this.roadmapB),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp&&(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A")};var h,l=c;function c(){return h.call(this)||this}t.Roadmap=l;u=ThreeCardShare.StatisticsPanel,__extends(p,u),p.prototype.initUI=function(){var t=new n,t=(t.beginFill(0,1),t.drawRect(8,709,46,142),t.endFill(),t.cacheAsBitmap=!0,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_DPTTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),{fontFamily:"微軟正黑體",fontSize:"18px",fill:"#ffffff"});this.dragonTxt=new r(" ",t),this.dragonTxt.y=742,this.dragonTxt.anchor.set(.5),this.addChild(this.dragonTxt),this.phoenixTxt=new r(" ",t),this.phoenixTxt.y=790,this.phoenixTxt.anchor.set(.5),this.addChild(this.phoenixTxt),this.tieTxt=new r(" ",t),this.tieTxt.y=838,this.tieTxt.anchor.set(.5),this.addChild(this.tieTxt),this.dragonTxt.x=this.phoenixTxt.x=this.tieTxt.x=28,this.init()};var u,d=p;function p(){var t=u.call(this)||this;return t.initUI(),t}t.StatisticsPanel=d;f=ThreeCardShare.HintPanel,__extends(m,f),m.prototype.initUI=function(){var t={fontFamily:"微軟正黑體",fontSize:"14px",fill:"#ffffff"};this.tripleNumTxt=new r(" ",t),this.tripleNumTxt.anchor.set(.5),this.tripleNumTxt.x=98,this.strFluNumTxt=new r(" ",t),this.strFluNumTxt.anchor.set(.5),this.strFluNumTxt.x=215,this.tripleNumTxt.y=this.strFluNumTxt.y=486,this.addChild(this.tripleNumTxt),this.addChild(this.strFluNumTxt),this.tripleSensor=new PIXI.Sprite,this.strFluSensor=new PIXI.Sprite,this.tripleSensor.height=this.strFluSensor.height=15,this.tripleSensor.width=this.strFluSensor.width=40,this.strFluSensor.x=195,this.strFluSensor.y=480,this.tripleSensor.x=80,this.tripleSensor.y=480,this.addChild(this.tripleSensor),this.addChild(this.strFluSensor),this.tripleTxt=new r(IPL.DictManager.getDict("THREE_NO_TRIPLE"),t),this.tripleTxt.x=5,this.strFluTxt=new r(IPL.DictManager.getDict("THREE_NO_SFLUSH"),t),this.strFluTxt.x=5,this.tripleTxt.y=this.strFluTxt.y=3,this.tripleSp=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChild(this.tripleSp),this.tripleSp.height9=this.tripleTxt.height+3,this.tripleSp.width9=this.tripleTxt.width+10,"us"==IPL.UrlParameter.lang?this.tripleSp.x=10:this.tripleSp.x=80,this.tripleSp.y=495,this.strFluSp=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChild(this.strFluSp),this.strFluSp.height9=this.strFluTxt.height+3,this.strFluSp.width9=this.strFluTxt.width+10,"us"==IPL.UrlParameter.lang?this.strFluSp.x=100:this.strFluSp.x=195,this.strFluSp.y=495,this.tripleSp.addChild(this.tripleTxt),this.strFluSp.addChild(this.strFluTxt)};var f,_=m;function m(){var t=f.call(this)||this;return t.initUI(),t.init(),t}t.Hint=_;g=ThreeCardShare.PokerPanel,__extends(y,g),y.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");this.addChild(t);for(var e=1;e<=6;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_3Card_PokerBG","b"+String(e),!1);this.addChild(i)}t={fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"};this.dragonWinBG=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PWin"),this.addChild(this.dragonWinBG),this.phoenixWinBG=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BWin"),this.addChild(this.phoenixWinBG);for(var n=0;n<3;n++)this.addChild(this.dragonPoker[n]),this.addChild(this.phoenixPoker[n]),this.dragonPoker[n].scale=this.phoenixPoker[n].scale=new o(.54,.53),this.dragonPoker[n].y=this.phoenixPoker[n].y=605,this.dragonPoker[n].x=50*n+63,this.phoenixPoker[n].x=50*n+269;this.dragonWin=PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_WinDragon"),this.addChild(this.dragonWin),this.phoenixWin=PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_WinPhoenix"),this.addChild(this.phoenixWin);var a=PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_PokerDragonTxt_"+IPL.UrlParameter.lang),a=(this.addChild(a),PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_PokerPhoenixTxt_"+IPL.UrlParameter.lang));this.addChild(a),this.dragonTxt=new r(" ",t),this.dragonTxt.x=132.7,this.dragonTxt.anchor.set(.5),this.addChild(this.dragonTxt),this.phoenixTxt=new r(" ",t),this.phoenixTxt.x=338.7,this.phoenixTxt.anchor.set(.5),this.dragonTxt.y=this.phoenixTxt.y=658,this.addChild(this.phoenixTxt),this.reset()};var g,v=y;function y(t){t=g.call(this,t,"Multiple_3Card_Win")||this;return t.initUI(),t}t.Poker=v}(ThreeCardMultiGames=ThreeCardMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new ThreeCardMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.ThreeCardMain=i}(MultiGames=MultiGames||{}),!function(t){var i,e=PIXI.Container,n=(i=H5EventdispatcherCore.EventDispatcher,__extends(a,i),a.prototype.initAddListen=function(){for(var e=this,t=0;t<this._betArr.length;t++)null!=this._betArr[t]&&(DeviceAndEnvironment.Device.isMobile()?(this._betArr[t].on("touchstart",function(t){e.star(t)}),this._betArr[t].on("touchend",function(t){e.end(t)}),this._betArr[t].on("touchendoutside",function(){e.out()})):(this._betArr[t].on("mousedown",function(t){e.star(t)}),this._betArr[t].on("mouseup",function(t){e.end(t)}),this._betArr[t].on("mouseupoutside",function(){e.out()})))},a.prototype.star=function(t){this.starPos=t.data.getLocalPosition(t.currentTarget.parent)},a.prototype.end=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(t.currentTarget.parent),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<15)&&i<15&&this.clicked(t),this.starPos=null},a.prototype.out=function(){this.starPos=null},a.prototype.clicked=function(t){var e,i=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK),t=t.currentTarget.name,t=parseInt(t.split("b")[1]);160<=t&&t<=196&&(e=new H5Event.H5BaseEvent("frenceNumBet"),this.dispatchEvent(e)),i.betType=t,this.dispatchEvent(i)},a.prototype.resetBetBlock=function(t){for(var e=0;e<t.length;e++)null!=t[e]&&(this._betArr[e]=t[e])},a.prototype.showResult=function(t){var e,i=this;if(null!=t&&null==this._storeLight)this._storeLight=t;else if(null==t||this._storeLight.toString()==t.toString())return;this._storeLight=t,this._lightArr=new Array;for(var n=0;n<this._storeLight.length;n++)e=t[n],null!=(e=this._betArr[e])&&(this._lightArr.push(e),e.setResultAlpha(1));clearInterval(this._showTimer),this.setBetMouseStatus(!1),this._showTimer=setInterval(function(){i.onResult()},370)},a.prototype.setBetMouseStatus=function(t){for(var e=0;e<this._betArr.length;e++)null!=this._betArr[e]&&(this._betArr[e].setMouseStatus(t),this._betArr[e].setBetAlpha(0),this._betArr[e].setResultAlpha(0))},a.prototype.onResult=function(){for(var t=0;t<this._lightArr.length;t++)1==this._lightArr[t].getResultAlpha()?this._lightArr[t].setResultAlpha(0):this._lightArr[t].setResultAlpha(1)},a.prototype.reset=function(){this._storeLight=null,this.setBetMouseStatus(!0),null!=this._showTimer&&clearInterval(this._showTimer)},a.prototype.eventBetBlock=function(){for(var e=this,t=0;t<this._betArr.length;t++)null!=this._betArr[t]&&(DeviceAndEnvironment.Device.isMobile()?(this._betArr[t].on("touchstart",function(t){e.onButonOver(t)}),this._betArr[t].on("touchend",function(t){e.onButonOut(t)})):(this._betArr[t].on("mouseover",function(t){e.onButonOver(t)}),this._betArr[t].on("mouseout",function(t){e.onButonOut(t)})))},a.prototype.onButonOver=function(t){t=t.currentTarget.name.split("b")[1];this.overNum!=t&&0<this.lightArr.length?(this.resetBtn(),this.btnOverOut="OUT"):this.btnOverOut="OVER",this.overNum=t,this.lightArr=this.rouLogic.getList(t),this.lightFArr=this.rouLogic.getFList(t),145<=this.overNum&&this.overNum<=156&&this.lightArr.push(this.overNum),this.lightBtn()},a.prototype.onButonOut=function(t){t=t.currentTarget.name.split("b")[1];"OVER"==this.btnOverOut?(this.resetBtn(),this.btnOverOut="OUT"):this.btnOverOut="OVER",this.outNum=t},a.prototype.resetBtn=function(){var t;if(this.lightArr)for(var e=0;e<this.lightArr.length;e++)null!=(t=this._betArr[this.lightArr[e]])&&(t.setBetAlpha(0),t.setResultAlpha(0));if(this.lightFArr)for(e=0;e<this.lightFArr.length;e++)null!=(t=this._betArr[this.lightFArr[e]])&&(t.setBetAlpha(0),t.setResultAlpha(0));this.lightArr=[],this.lightFArr=[]},a.prototype.lightBtn=function(){var t;if(this.lightArr)for(var e=0;e<this.lightArr.length;e++)null!=(t=this._betArr[this.lightArr[e]])&&(t.setBetAlpha(1),t.setResultAlpha(1));if(this.lightFArr)for(e=0;e<this.lightFArr.length;e++)null!=(t=this._betArr[this.lightFArr[e]])&&(t.setBetAlpha(1),t.setResultAlpha(1))},a);function a(t){var e=i.call(this)||this;return e.rouLogic=new RouLogicShare.RouOverBtnList,e._betArr=t,e._storeLight=null,e.initAddListen(),e.endEvent=function(t){e.end(t)},e.starEvent=function(t){e.star(t)},e.outEvent=function(){e.out()},e.eventBetBlock(),e.lightArr=[],e.lightFArr=[],e.btnOverOut="OUT",e.overNum=-1,e.outNum=-2,e}t.BlockBetSensorPanel=n;__extends(r,o=n),r.prototype.setNum=function(t){this.rouLogic.setNum(t)},r.prototype.BetBlock=function(t){-1!=this.btnNumOver&&1!=f.isTouch||(this.btnNumOver=t.split("b")[1]),this.resetBtn(),this.overNum=this.btnNumOver,this.lightArr=this.rouLogic.getList(this.btnNumOver),this.lightFArr=this.rouLogic.getFList(this.btnNumOver),145<=this.overNum&&this.overNum<=156&&this.lightArr.push(this.overNum),this.lightBtn()},r.prototype.onButonOver=function(t){this.btnNumOver=t.currentTarget.name.split("b")[1],this.overNum!=this.btnNumOver&&0<this.lightArr.length?(this.resetBtn(),this.btnOverOut="OUT"):this.btnOverOut="OVER",this.overNum=this.btnNumOver,this.lightArr=this.rouLogic.getList(this.btnNumOver),this.lightFArr=this.rouLogic.getFList(this.btnNumOver),145<=this.overNum&&this.overNum<=156&&this.lightArr.push(this.overNum),this.lightBtn()},r.prototype.lightBtn=function(){var t;if(this.lightArr)for(var e=0;e<this.lightArr.length;e++)null!=(t=this._betArr[this.lightArr[e]])&&t.setBetAlpha(1);if(this.lightFArr)for(e=0;e<this.lightFArr.length;e++)null!=(t=this._betArr[this.lightFArr[e]])&&t.setBetAlpha(1)},r.prototype.clicked=function(t){var e,i=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK),t=t.currentTarget.name,t=parseInt(t.split("b")[1]);160<=(t=t!=this.btnNumOver?this.btnNumOver:t)&&t<=196&&(e=new H5Event.H5BaseEvent("frenceNumBet"),this.dispatchEvent(e)),i.betType=t,this.dispatchEvent(i)};var o,n=r;function r(t){t=o.call(this,t)||this;return t.btnNumOver=-1,t}t.NormalBlockBetSensor=n;__extends(h,s=e),h.prototype.init=function(){this.bet.alpha=0,this.frame.alpha=0,this.sensor.alpha=0,this.sensor.buttonMode=!0,this.sensor.interactive=!0,this.sensor.interactiveChildren=!0,this.buttonMode=!0,this.interactive=!0,this.interactiveChildren=!0},h.prototype.setMouseStatus=function(t){this.buttonMode=t,this.interactive=t,this.sensor.buttonMode=t,this.sensor.interactive=t},h.prototype.setResultAlpha=function(t){this.frame.alpha=t},h.prototype.getResultAlpha=function(){return this.frame.alpha},h.prototype.setBetAlpha=function(t){this.bet.alpha=t},h.prototype.getBetAlpha=function(){return this.bet.alpha};var s,n=h;function h(t,e){void 0===t&&(t=""),void 0===e&&(e="");var i=s.call(this)||this;return""!=t&&(i.bet=PIXI.Sprite.fromImage(t),i.addChild(i.bet),i.bet.alpha=0,i.frame=""!=e?PIXI.Sprite.fromImage(e):PIXI.Sprite.fromImage(t),i.addChild(i.frame),i.frame.alpha=0,i.sensor=PIXI.Sprite.fromImage(t),i.addChild(i.sensor),i.init()),i}t.betBlock=n;__extends(c,l=n);var l,e=c;function c(t,e){void 0===e&&(e=null);var i=l.call(this)||this;return i.bet=t,i.addChild(i.bet),null!=e?(i.frame=e,i.addChild(i.frame)):i.frame=t,i.sensor=t,i.init(),i}t.betSprBlock=e;__extends(d,u=e),d.prototype.initAddListen=function(){var e=this;this.sensor.on("mousemove",function(t){e.onButtonMove(t)})},d.prototype.getPixelData=function(){return this.sensorPixel},d.prototype.setPixelBet=function(t,e,i){void 0===i&&(i=null),this.sensorName=e;e=new VideoLoaderCore.GameLoadingProgress(document.getElementById("MyRenderer")).getJsonData(t),this._getPixel=null!=i?i:new ShareUI.GetPixelColor(this.sensor.texture.baseTexture.source),t=JSON.parse(e).frames[this.sensorName].frame;this.sensorPixel=this._getPixel.createTextureData(t)},d.prototype.onButtonMove=function(t){var t=t.data.getLocalPosition(this.sensor);!(0<t.x&&t.x<this.sensor.width&&0<t.y&&t.y<this.sensor.height)||(t=Math.floor(4*(Math.floor(t.y)*this.sensor.width+Math.floor(t.x))-1),0==this.sensorPixel[t])?this.bet.interactive=!1:(this.bet.alpha=1,this.bet.interactive=!0)},d.prototype.onTexture=function(t){t=Math.floor(4*(Math.floor(t.y)*this.sensor.width+Math.floor(t.x))-1);return 0!=this.sensorPixel[t]};var u,n=d;function d(t,e){void 0===e&&(e=null);var i=u.call(this,t)||this;return i.bet=t,i.addChild(i.bet),null!=e?(i.frame=e,i.addChild(i.frame)):i.frame=t,i.sensor=t,i.initAddListen(),i}t.betPixelBlock=n;__extends(_,p=e),_.prototype.initAddListen=function(){var e=this;this.sensor.on("mousemove",function(t){e.onButtonMove(t)})},_.prototype.loadJson=function(){this.assets=new VideoLoaderCore.GameLoadingProgress(document.getElementById("MyRenderer"))},_.prototype.getPixelData=function(){return this.sensorPixel},_.prototype.setPixelBet=function(t,e,i){void 0===i&&(i=null),this.sensorName=e;e=this.assets.getJsonData(t),this._getPixel=null!=i?i:new ShareUI.GetPixelColor(this.sensor.texture.baseTexture.source),t=JSON.parse(e).frames[this.sensorName].frame;this.sensorPixel=this._getPixel.createTextureData(t)},_.prototype.onButtonMove=function(t){var t=t.data.getLocalPosition(this.sensor);0<t.x&&t.x<this.sensor.width&&0<t.y&&t.y<this.sensor.height&&(t=Math.floor(4*(Math.floor(t.y)*this.sensor.width+Math.floor(t.x))-1),0==this.sensorPixel[t]?_.isTouch=!1:_.isTouch=!0,t=this.bet.parent.name,this.evt.emit("CHANGEBUTTON",t))};var p,f=_;function _(t,e){void 0===e&&(e=null);var i=p.call(this,t)||this;return i.evt=new PIXI.utils.EventEmitter,i.bet=t,i.addChild(i.bet),null!=e?(i.frame=e,i.addChild(i.frame)):i.frame=t,i.sensor=t,i.initAddListen(),i.loadJson(),i}t.NormalBetPixelBlock=f}(RouShare=RouShare||{}),!function(t){function e(){this.ratioArr=[],this.infoObj={},this.keyArr=["SINGLE","SPLIT","STREET","CORNER","FOURNUM","LINE","COLUMN","DOZENS","REDBLACK","ODDEVEN","HIGHLOW","TRIPLE","MIN","MAX"],this.ratioArr=["1:35","1:17","1:11","1:8","1:8","1:5","1:2","1:2","1:1","1:1","1:1","1:11","",""],this.initTxt()}e.prototype.initTxt=function(){for(var t=["SINGLE","SPLIT","STREET","CORNER","FOURNUM","LINE","COLUMN","DOZENS","REDBLACK","ODDEVEN","HIGHLOW","TRIPLE","ROUNDBETMIN","ROUNDBETMAX"],e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]]={},this.infoObj[this.keyArr[e]].title=IPL.DictManager.getDict(t[e])},e.prototype.setData=function(t){for(var e=["singleMax","splitMax","rowMax","cornerMax","topLineMax","lineMax","columnMax","dozensMax","redBlackMax","oddEvenMax","highLowMax","tripleMax","roundBetMin","roundBetMax"],i=["singleMin","splitMin","rowMin","cornerMin","topLineMin","lineMin","columnMin","dozensMin","redBlackMin","oddEvenMin","highLowMin","tripleMin"],n=0;n<this.keyArr.length;n++)this.infoObj[this.keyArr[n]].limit=String(t.getLimit(e[n])),null!=i[n]&&(this.infoObj[this.keyArr[n]].limitMin=String(t.getLimit(i[n]))),null!=this.ratioArr[n]&&(this.infoObj[this.keyArr[n]].ratio=this.ratioArr[n])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(RouLogicShare=RouLogicShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.initUI=function(){},n.prototype.initTxt=function(){null!=this.limitTitleTxt&&(this.limitTitleTxt.text=IPL.DictManager.getDict("LIMITBTN")),null!=this.roundBetMinTxt&&(this.roundBetMinTxt.text=IPL.DictManager.getDict("ROUNDBETMIN")),null!=this.roundBetMaxTxt&&(this.roundBetMaxTxt.text=IPL.DictManager.getDict("ROUNDBETMAX")),null!=this.singleTxt&&(this.singleTxt.text=IPL.DictManager.getDict("SINGLE")),null!=this.splitTxt&&(this.splitTxt.text=IPL.DictManager.getDict("SPLIT")),null!=this.rowTxt&&(this.rowTxt.text=IPL.DictManager.getDict("STREET")),null!=this.cornerTxt&&(this.cornerTxt.text=IPL.DictManager.getDict("CORNER")),null!=this.topLineTxt&&(this.topLineTxt.text=IPL.DictManager.getDict("FOURNUM")),null!=this.lineTxt&&(this.lineTxt.text=IPL.DictManager.getDict("LINE")),null!=this.columnTxt&&(this.columnTxt.text=IPL.DictManager.getDict("COLUMN")),null!=this.dozensTxt&&(this.dozensTxt.text=IPL.DictManager.getDict("DOZENS")),null!=this.redBlackTxt&&(this.redBlackTxt.text=IPL.DictManager.getDict("REDBLACK")),null!=this.oddEvenTxt&&(this.oddEvenTxt.text=IPL.DictManager.getDict("ODDEVEN")),null!=this.highLowTxt&&(this.highLowTxt.text=IPL.DictManager.getDict("HIGHLOW")),null!=this.tripleTxt&&(this.tripleTxt.text=IPL.DictManager.getDict("TRIPLE"))},n.prototype.setData=function(t){null!=this.roundBetMin&&(this.roundBetMin.text=String(t.getLimit("roundBetMin"))),null!=this.roundBetMax&&(this.roundBetMax.text=String(t.getLimit("roundBetMax"))),null!=this.singleMin&&(this.singleMin.text=String(t.getLimit("singleMin"))),null!=this.splitMin&&(this.splitMin.text=String(t.getLimit("splitMin"))),null!=this.rowMin&&(this.rowMin.text=String(t.getLimit("rowMin"))),null!=this.cornerMin&&(this.cornerMin.text=String(t.getLimit("cornerMin"))),null!=this.topLineMin&&(this.topLineMin.text=String(t.getLimit("topLineMin"))),null!=this.lineMin&&(this.lineMin.text=String(t.getLimit("lineMin"))),null!=this.columnMin&&(this.columnMin.text=String(t.getLimit("columnMin"))),null!=this.dozensMin&&(this.dozensMin.text=String(t.getLimit("dozensMin"))),null!=this.redBlackMin&&(this.redBlackMin.text=String(t.getLimit("redBlackMin"))),null!=this.oddEvenMin&&(this.oddEvenMin.text=String(t.getLimit("oddEvenMin"))),null!=this.highLowMin&&(this.highLowMin.text=String(t.getLimit("highLowMin"))),null!=this.tripleMin&&(this.tripleMin.text=String(t.getLimit("tripleMin"))),null!=this.singleMax&&(this.singleMax.text=String(t.getLimit("singleMax"))),null!=this.splitMax&&(this.splitMax.text=String(t.getLimit("splitMax"))),null!=this.rowMax&&(this.rowMax.text=String(t.getLimit("rowMax"))),null!=this.cornerMax&&(this.cornerMax.text=String(t.getLimit("cornerMax"))),null!=this.topLineMax&&(this.topLineMax.text=String(t.getLimit("topLineMax"))),null!=this.lineMax&&(this.lineMax.text=String(t.getLimit("lineMax"))),null!=this.columnMax&&(this.columnMax.text=String(t.getLimit("columnMax"))),null!=this.dozensMax&&(this.dozensMax.text=String(t.getLimit("dozensMax"))),null!=this.redBlackMax&&(this.redBlackMax.text=String(t.getLimit("redBlackMax"))),null!=this.oddEvenMax&&(this.oddEvenMax.text=String(t.getLimit("oddEvenMax"))),null!=this.highLowMax&&(this.highLowMax.text=String(t.getLimit("highLowMax"))),null!=this.tripleMax&&(this.tripleMax.text=String(t.getLimit("tripleMax")))},n);function n(){var t=e.call(this)||this;return t.initUI(),t.initTxt(),t}t.LimitPanel=i}(RouShare=RouShare||{}),!function(t){i=Composite.EventContainer,__extends(n,i),n.prototype.setPoker=function(t){this.reset(),this.ball&&""!=t&&(this.ball.texture=PIXI.Texture.fromFrame(this.ballTextureName+this.getColordStr(Number(t))+"0000"),this.ball.visible=!0),this.ballNumTxt&&(this.ballNumTxt.text=t),this.oddEvenTxt&&(this.oddEvenTxt.text=this.getOddEvenStr(Number(t))),this.dozenTxt&&(this.dozenTxt.text=this.getDozenStr(Number(t))),this.bigSmallTxt&&(this.bigSmallTxt.text=this.getBigSmallStr(Number(t)))},n.prototype.reset=function(){this.ball&&(this.ball.visible=!1),this.ballNumTxt&&(this.ballNumTxt.text=""),this.oddEvenTxt&&(this.oddEvenTxt.text=""),this.dozenTxt&&(this.dozenTxt.text=""),this.bigSmallTxt&&(this.bigSmallTxt.text="")},n.prototype.getColordStr=function(t){var e="B";if(0==t)e="G";else for(var i=0;i<this.redarr.length;i++)if(t==this.redarr[i]){e="R";break}return e},n.prototype.getBigSmallStr=function(t){var e="";return 18<t?e=this.getString("HIGH")+"  19-36":t<19&&0<t&&(e=this.getString("LOW")+"  1-18"),e},n.prototype.getOddEvenStr=function(t){var e="";return 0!=t&&(1==(t=t%2)?e=this.getString("ODD"):0==t&&(e=this.getString("EVEN"))),e},n.prototype.getString=function(t){var e=IPL.UrlParameter.noChangeLang,e="tw"==e?"ODD"==t?"單":"EVEN"==t?"雙":"HIGH"==t?"大":"小":"cn"==e?"ODD"==t?"单":"EVEN"==t?"双":"HIGH"==t?"大":"小":"HIGH"==t?"HIGH":"LOW"==t?"LOW":t;return e},n.prototype.getDozenStr=function(t){var e="";return 24<t?e="3 rd 12":13<=t&&t<=24?e="2 nd 12":t<13&&0<t&&(e="1 st 12"),e};var i,e=n;function n(t){var e=i.call(this)||this;return e.redarr=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],e.blackarr=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],e.ballTextureName=t,e}t.PokerPanel=e}(RouShare=RouShare||{}),!function(t){var e,n=PIXI.Sprite,i=PIXI.Container,r=PIXI.Text,a=(e=SharePanel.RoadmapRou,__extends(o,e),o.prototype.initList=function(t){this.setObj=t,this.listArr=[];for(var e=this.setObj.roundNum/this.setObj.colNum,i=0;i<this.setObj.colNum;i++)for(var n=0;n<e;n++){var a=n+i*e;this.listArr[a]=new h(this.setObj.ballTextureName,this.setObj.listSet),this.addChild(this.listArr[a]),this.listArr[a].x=this.setObj.originalX+i*this.setObj.gapX,this.listArr[a].y=this.setObj.originalY+n*this.setObj.gapY}},o.prototype.setStatus=function(t){if("dealing"==t&&this.showData.length==this.setObj.roundNum){this.showData.shift(),this.resetRoadmap();for(var e=0;e<this.showData.length;e++)this.listArr[e].setData(this.showData[e]),this.listArr[e].visible=!0}},o.prototype.drawRoadList=function(t){for(t.reverse();t.length>this.setObj.roundNum;)t.shift();for(var e=0;e<this.setObj.roundNum;e++)null!=t[e]&&(this.listArr[e].setData(t[e]),this.listArr[e].visible=!0);this.showData=t},o.prototype.resetRoadmap=function(){for(var t=0;t<this.listArr.length;t++)this.listArr[t].visible=!1},o);function o(){return e.call(this)||this}t.RouRoadmap=a;__extends(l,s=i),l.prototype.setData=function(t){10<=t.rouNum?this.ball.texture=PIXI.Texture.fromFrame(this.ballTextureName+"00"+t.rouNum):t.rouNum<=9&&0<=t.rouNum&&(this.ball.texture=PIXI.Texture.fromFrame(this.ballTextureName+"000"+t.rouNum));var e=IPL.UrlParameter.noChangeLang;"tw"==e||"cn"==e?(this.oddEvenTxt.text=t.oddEven,this.BSStrTxt.text=t.BSStr):("ODD"==t.oddEven?this.oddEvenTxt.text="O":"EVEN"==t.oddEven?this.oddEvenTxt.text="E":this.oddEvenTxt.text="","HIGH"==t.BSStr?this.BSStrTxt.text="H":"LOW"==t.BSStr?this.BSStrTxt.text="L":this.BSStrTxt.text=""),this.BSNumDozenTxt.text=t.dozen};var s,h=l;function l(t,e){var i=s.call(this)||this;return i.setObj=e,i.ballTextureName=t,i.ball=new n,i.ball.anchor.set(.5,.5),i.ball.x=i.setObj.ballX,i.ball.y=i.setObj.Y,i.addChild(i.ball),i.oddEvenTxt=new r("oddEvenTxt",i.setObj.style),i.oddEvenTxt.anchor.set(.5,.5),i.oddEvenTxt.x=i.setObj.EvenOddTxtX,i.oddEvenTxt.y=i.setObj.Y,i.addChild(i.oddEvenTxt),i.BSStrTxt=new r("BSStrTxt",i.setObj.style),i.BSStrTxt.anchor.set(.5,.5),i.BSStrTxt.x=i.setObj.BSStrTxtX,i.BSStrTxt.y=i.setObj.Y,i.addChild(i.BSStrTxt),i.BSNumDozenTxt=new r("BSNumDozenTxt",i.setObj.style),i.BSNumDozenTxt.anchor.set(.5,.5),i.BSNumDozenTxt.x=i.setObj.BSNumDozenTxtX,i.BSNumDozenTxt.y=i.setObj.Y,i.addChild(i.BSNumDozenTxt),i}t.roadmapList=h;c=SharePanel.RoadmapRou,__extends(u,c),u.prototype.initList=function(t){this.setObj=t,this.listArr=[];var e=this.setObj.colNum,i=this.setObj.roundNum/e;null!=this.setObj.background&&(t=PIXILayoutTool.DisplayObject.createImage(this.setObj.background),this.addChild(t));for(var n=0;n<e;n++)for(var a=0;a<i;a++){var o=n+a*e;this.listArr[o]=new r("",this.setObj.styleB),this.addChild(this.listArr[o]),this.listArr[o].anchor=this.setObj.textAnchor,this.listArr[o].x=this.setObj.originalX+n*this.setObj.gapX,this.listArr[o].y=this.setObj.originalY+a*this.setObj.gapY}},u.prototype.drawRoadList=function(t){for(;t.length>this.setObj.roundNum;)t.shift();for(var e=0;e<this.setObj.roundNum;e++)null!=t[e]&&(this.listArr[e].text=t[e].rouNum,this.listArr[e].style=this.setTextStr(t[e].rouNum)),this.listArr[e].visible=!0;this.showData=t},u.prototype.setTextStr=function(t){return 0==t?this.setObj.styleG:-1!=this.redarr.indexOf(t)?this.setObj.styleR:this.setObj.styleB},u.prototype.resetRoadmap=function(){for(var t=this.listArr.length,e=0;e<t;e++)this.listArr[e].text=""};var c,a=u;function u(){return c.call(this)||this}t.RouRoadmapSimple=a}(RouShare=RouShare||{}),!function(t){var e,i=PIXI.Container,n=PIXI.Text,i=(__extends(a,e=i),a.prototype.initTitle=function(){var t={fontFamily:"Arial",fontSize:"14px",fill:"#d3ceab"};this._txt118=new n("0%",t),this._txt118.anchor.set(1,.5),this._txt1936=new n("0%",t),this._txt1936.anchor.set(1,.5),this._txtRed=new n("0%",t),this._txtRed.anchor.set(1,.5),this._txtBlack=new n("0%",t),this._txtBlack.anchor.set(1,.5),this._txtEven=new n("0%",t),this._txtEven.anchor.set(1,.5),this._txtOdd=new n("0%",t),this._txtOdd.anchor.set(1,.5),this._txt0=new n("0%",t),this._txt0.anchor.set(1,.5),this._txtTiers=new n("0%",t),this._txtTiers.anchor.set(1,.5),this._txtOrphelins=new n("0%",t),this._txtOrphelins.anchor.set(1,.5),this._txtVoisins=new n("0%",t),this._txtVoisins.anchor.set(1,.5),this._txtZero=new n("0%",t),this._txtZero.anchor.set(1,.5)},a.prototype.setStatisticsInfo=function(t){},a);function a(){return e.call(this)||this}t.StatisticsPanel=i}(RouShare=RouShare||{}),!function(t){var i,P=PIXI.Container,n=PIXI.Sprite,a=PIXI.Point,s=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(o,i),o.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},o.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new u("MuiltF_Rou_ElecCard_"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel),this._quickBetPanel=new g,this._quickBetPanel.position.set(34,200),this.addChild(this._quickBetPanel),this._rouStatisticPanel=new f,this._rouStatisticPanel.position.set(34,54),this.addChild(this._rouStatisticPanel)},o.prototype.initBetArea=function(){var e=this,t=(this._staticBtn=new ShareUI.Button("Multiple_Rou_StatisticsBtn"),this._staticBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_StatisticsBtn",""),this.addChild(this._staticBtn),this._staticBtn.name="StaticBtn",this._staticBtn.on("pointerdown",function(t){e.setBtnEvent(t)}),this._quickBetBtn=new ShareUI.Button("Multiple_Rou_QuickBetBtn"),this._quickBetBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_QuickBetBtn",""),this.addChild(this._quickBetBtn),this._quickBetBtn.name="QuickBetBtn",this._quickBetBtn.on("pointerdown",function(t){e.setBtnEvent(t)}),this._frenchRouFBtn=new ShareUI.Button("Multiple_Rou_FRRouFBtn"),this._frenchRouFBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_FRRouBtn",""),this.addChild(this._frenchRouFBtn),this._frenchRouFBtn.name="FrenchRouFBtn",this._frenchRouFBtn.on("pointerdown",function(t){e.setBtnEvent(t)}),this._frenchRouTBtn=new ShareUI.Button("Multiple_Rou_FRRouTBtn"),this._frenchRouTBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_FRRouBtn",""),this.addChild(this._frenchRouTBtn),this._frenchRouTBtn.name="FrenchRouTBtn",this._frenchRouTBtn.visible=!1,this._frenchRouTBtn.on("pointerdown",function(t){e.setBtnEvent(t)}),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetAreaS")),t=(this.addChild(t),this._rouCon=new P,this.addChild(this._rouCon),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetAreaB")),t=(this._rouCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetD3")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetD2")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetD1")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetOdd_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetEven_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetHigh_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BetLow_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_Bet19to36")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_Bet1to18"));this.addChild(t),this._coldList=new Array,this._hotList=new Array,this._coldList.Rou=[],this._hotList.Rou=[];for(var i=0;i<=36;i++)(a=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_ColdIcon")).position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_ColdIcon","c"+String(i)),a.visible=!1,this._coldList.Rou[i]=a,this._rouCon.addChild(this._coldList.Rou[i]),(o=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_HotIcon")).position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_HotIcon","h"+String(i)),o.visible=!1,this._hotList.Rou[i]=o,this._rouCon.addChild(this._hotList.Rou[i]);for(var n=[],i=0;i<=156;i++)null!=(r=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Rou_BetWin","b"+String(i)))&&(n[i]=new RouShare.betSprBlock(r,r),n[i].name="b"+String(i),(i<=150?this._rouCon:this).addChild(n[i]));this._frenchRouCon=new P,this.addChild(this._frenchRouCon);t=PIXILayoutTool.DisplayObject.createImage("Multiple_FRRou_BetArea"),this._frenchRouCon.addChild(t),t=PIXILayoutTool.DisplayObject.createImage("Multiple_FRRou_zero_"+IPL.UrlParameter.lang),this._frenchRouCon.addChild(t),t=PIXILayoutTool.DisplayObject.createImage("Multiple_FRRou_voisins_"+IPL.UrlParameter.lang),this._frenchRouCon.addChild(t),t=PIXILayoutTool.DisplayObject.createImage("Multiple_FRRou_orphelins_"+IPL.UrlParameter.lang),this._frenchRouCon.addChild(t),t=PIXILayoutTool.DisplayObject.createImage("Multiple_FRRou_tiers_"+IPL.UrlParameter.lang);this._frenchRouCon.addChild(t),this._coldList.fRou=[],this._hotList.fRou=[];for(var a,o,i=0;i<=36;i++)(a=PIXILayoutTool.DisplayObject.createImage("Multiple_FRou_ColdIcon")).position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FRou_ColdIcon","c"+String(i)),a.visible=!1,this._coldList.fRou[i]=a,this._frenchRouCon.addChild(this._coldList.fRou[i]),(o=PIXILayoutTool.DisplayObject.createImage("Multiple_FRou_HotIcon")).position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FRou_HotIcon","h"+String(i)),o.visible=!1,this._hotList.fRou[i]=o,this._frenchRouCon.addChild(this._hotList.fRou[i]);for(var r,i=160;i<=200;i++)null!=(r=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Rou_BetWin","b"+String(i)))&&(n[i]=new RouShare.betSprBlock(r,r),n[i].name="b"+String(i),this._frenchRouCon.addChild(n[i]));this._betAreaPanel=new B(n);t=PIXILayoutTool.DisplayObject.createImage("Multiple_FRRou_AddBG"),this._frenchRouCon.addChild(t),t.interactive=!0,t=new ShareUI.Button("Multiple_FRRou_MinusBtn"),t.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FRRou_MinusBtn",""),this._frenchRouCon.addChild(t),t.name="MinusBtn",t.on("pointerdown",function(t){e.setBtnEvent(t)}),t=new ShareUI.Button("Multiple_FRRou_PlusBtn");t.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FRRou_PlusBtn",""),this._frenchRouCon.addChild(t),t.name="PlusBtn",t.on("pointerdown",function(t){e.setBtnEvent(t)});this._fRouNum=new s("2",{fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"}),this._fRouNum.position.set(230,485),this._frenchRouCon.addChild(this._fRouNum),this._frenchRouCon.visible=!1},o.prototype.setToolBar=function(t){i.prototype.setToolBar.call(this,t),this.setlayoutToolBar()},o.prototype.setlayoutToolBar=function(){this._rouStatisticPanel.setTools(this._toolBarPanel),this._quickBetPanel.setTools(this._toolBarPanel)},o.prototype.setQuickBet=function(t){var t=t.data.name,e=new RouLogicShare.RouOverBtnList,i=[],n=null;t<=9?(i=e.getFBList("straightBet",String(t)),n=t):10==t?(i=e.getFBList("special","redSnake"),n=20):11==t&&(i=e.getFBList("special","blackSnake"),n=21),this.quickBetAddBet(i,n)},o.prototype.setBtnEvent=function(t){switch(this._nowchip=[],t.target.name){case"StaticBtn":this._rouStatisticPanel.openPanel(),this.setToolBarBtn();break;case"QuickBetBtn":this._quickBetPanel.openPanel(),this.setToolBarBtn(),"FRou"==this._nowBetArea&&(this.rouBetAreaVisible(!0,"Rou",0,150),this.reCommittedInfo());break;case"FrenchRouFBtn":this.rouBetAreaVisible(!1,"FRou",197,200);break;case"FrenchRouTBtn":this.rouBetAreaVisible(!0,"Rou",0,150);break;case"PlusBtn":Number(this._fRouNum.text)<=8&&(this._fRouNum.text=String(Number(this._fRouNum.text)+1),this._betAreaPanel.setNum(Number(this._fRouNum.text)));break;case"MinusBtn":2<=Number(this._fRouNum.text)&&(this._fRouNum.text=String(Number(this._fRouNum.text)-1),this._betAreaPanel.setNum(Number(this._fRouNum.text)))}},o.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=0;t<=156;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_ChipPos","mb"+String(t));for(t=197;t<=200;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Rou_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.RouBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},o.prototype.checkBet=function(t){for(var e=[],i=0;i<this._chipPos.length;i++)null!=this._chipPos[i]&&(156<i||i<151)&&e.push(i);this._chipStackPanel.reset(),this.reCommittedInfo(),this._chipStackPanel.setChipVisible(e,!1),this._chipStackPanel.setChipVisible(t,!0)},o.prototype.setToolBarBtn=function(){this._toolBarPanel.setBtnStatus("tip",!1),this._toolBarPanel.setBtnStatus("pingIcon",!1);var t=new Object,e=(t.GameType=this.vModel.getGameType(),t.GameCode=this._tmpGameCode,t.Visible=!1,new window.Event("VIDEO_BTN_VISIBLE"));e.data=t,window.dispatchEvent(e)},o.prototype.reCommittedInfo=function(){this._betButton.setRebetUnlocked(!1),this._checkbet=!1,this.vModel.cancelBet(),null!=this.vModel.getCommitInfo()&&(this._betTotal=(new ShareLogic.DigitalLogic).numtoFix2(this.vModel.getCommitInfo().getTotal())),this.vModel.getNoComm()?this._chipStackPanel&&this._chipStackPanel.setNoCommDataCommit(this.vModel.getCommitInfo()):this._chipStackPanel&&this._chipStackPanel.setDataCommit(this.vModel.getCommitInfo())},o.prototype.handleCommand2=function(t){i.prototype.handleCommand2.call(this,t),t.type===VideoShare.VideoGameEvent.COMMIT&&(this._checkbet=!0)},o.prototype.onAddBet=function(t){var e,i;0==this._chipValue?Tools.AlertPanel.showAlert(IPL.DictManager.getDict("PLEASE_SELECT_CHIP"),3e3,"",!0,!1):156<t.betType&&t.betType<=200?(e=Number(this._fRouNum.text),this._betType=t.betType,(i=new RouLogicShare.RouOverBtnList).setNum(e),i=i.getList(this._betType),this._betType<197?this.vModel.addFastBet(66+e,this._chipValue*i.length):200==this._betType?this.vModel.addFastBet(63,this._chipValue*i.length):197==this._betType?this.vModel.addFastBet(64,this._chipValue*i.length):198==this._betType?this.vModel.addFastBet(65,this._chipValue*i.length):199==this._betType&&this.vModel.addFastBet(66,this._chipValue*i.length),this.vModel.addBet(this._betType,this._chipValue,e)):(this._betType=t.betType,this.vModel.addFastBet(),this.vModel.addBet(this._betType,this._chipValue,Number(this._fRouNum.text)))},o.prototype.quickBetAddBet=function(t,e){for(var i=this.vModel.getGameDefine().getBetManager(),n=0,a=0;a<t.length;a++)i.addBet(t[a],this._chipValue),n+=this._chipValue;this.vModel.addFastBet(e,n),this.vModel.addBetSet(i)},o.prototype.initRoadInfo=function(){this._roadmapPanel=new h,this._roadmapPanel.x=12,this._roadmapPanel.y=804,null==Tools.TextureStore.repository.Fram1x16x46&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:16,gridW:26,gridH:46,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x16x46"});var t=new n(Tools.TextureStore.repository.Fram1x16x46),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{roundNum:16,colNum:16,originalX:14,originalY:1,gapX:28,styleB:{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff",align:"center"},styleG:{fontFamily:"Arial",fontSize:"18px",fill:"#00FF00",align:"center"},styleR:{fontFamily:"Arial",fontSize:"18px",fill:"#FF0000",align:"center"}});e.textAnchor=new a(.5,.5),this._roadmapPanel.initList(e),this.addChild(this._roadmapPanel)},o.prototype.rouBetAreaVisible=function(t,e,i,n){this._frenchRouFBtn.visible=t,this._frenchRouTBtn.visible=!t;for(var a=i;a<=n;a++)null!=this._chipPos[a]&&this._nowchip.push(a);this.checkBet(this._nowchip),this._nowBetArea=e,this._rouCon.visible=t,this._frenchRouCon.visible=!t},o.prototype.configureCostumeListener=function(){var t=this;i.prototype.configureCostumeListener.call(this),this._quickBetPanel.event.addEventListener("QuickBet",this._quickBetEvent),this._quickBetPanel.setGameCode(this.vModel.getGameCode()),this._rouStatisticPanel.setGameCode(this.vModel.getGameCode()),this._betAreaPanel.addEventListener("frenceNumBet",function(){t._nowchip=[],t.rouBetAreaVisible(!0,"Rou",0,150),t.reCommittedInfo()})},o.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._quickBetPanel.event.removeEventListener("QuickBet",this._quickBetEvent),this._quickBetPanel.visible=!1,this._rouStatisticPanel.visible=!1},o.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},o.prototype.setMaintainInfo=function(t){this._quickBetPanel.setMaintain(t),this._rouStatisticPanel.setMaintain(t),i.prototype.setMaintainInfo.call(this,t)},o.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this);var t=this.vModel.getGameInfo();this._coldhotNum!=t.getColdHot()&&(this._coldhotNum=t.getColdHot(),this.setColdHot())},o.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?(this._pokerPanel.visible=!1,this._pokerPanel.reset()):"dealing"==this._status?(this._pokerPanel.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("THROWING"),!1)):"waiting"==this._status&&(this._pokerPanel.visible=!0),this._quickBetPanel.onStatusChanged(this._status),this._roadmapPanel.setStatus(this._status)},o.prototype.setPoker=function(){""!=this._poker&&this._pokerPanel.setPoker(this._poker)},o.prototype.setColdHot=function(){this.resetColdHot();var t=this._coldhotNum.split("*")[0];if(""!=t)for(var e=t.split(","),i=0;i<e.length;i++)this._coldList.Rou[Number(e[i])].visible=!0,this._coldList.fRou[Number(e[i])].visible=!0;t=this._coldhotNum.split("*")[1];if(""!=t)for(var n=t.split(","),i=0;i<n.length;i++)this._hotList.Rou[Number(n[i])].visible=!0,this._hotList.fRou[Number(n[i])].visible=!0},o.prototype.resetColdHot=function(){for(var t=0;t<this._coldList.Rou.length;t++)this._coldList.Rou[t].visible=!1,this._coldList.fRou[t].visible=!1,this._hotList.Rou[t].visible=!1,this._hotList.fRou[t].visible=!1},o.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap,"");var t=(new RouLogicShare.rouStatistics).getStatisticsObj(this._roadMap),e=this.vModel.getColdHot().split("*");t.coldNum=e[0].split(",").map(function(t){return parseFloat(t)}).filter(function(t){return!isNaN(t)}),t.hotNum=e[1].split(",").map(function(t){return parseFloat(t)}).filter(function(t){return!isNaN(t)}),this._rouStatisticPanel.setData(t)},o.prototype.setResult=function(){999==this._result&&(this._result=0);var t=new RouLogicShare.RouOverBtnList,e=t.getList(this._result),t=t.getResultList(this._result),e=e.concat(t);this._betAreaPanel.showResult(e)},o.prototype.setToolBarBtnStatus=function(){("3007"==this.vModel.getGameType()&&6==Number(this.vModel.getGameCode())||"3007"==this.vModel.getGameType()&&7==Number(this.vModel.getGameCode()))&&this._toolBarPanel.setBtnStatus("videoSwitch",!1)},o.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new RouLogicShare.LimitPanel,this._limitInfo.setData(t),{});if(t.list=this._limitInfo.getLimitInfo(["SINGLE","DOZENS","REDBLACK","ODDEVEN","HIGHLOW","MIN","MAX"]),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),this._nowchip=[],"Rou"==this._nowBetArea)for(var e=0;e<=150;e++)null!=this._chipPos[e]&&this._nowchip.push(e);else for(e=196;e<=200;e++)null!=this._chipPos[e]&&this._nowchip.push(e);this.checkBet(this._nowchip),i.prototype.onUserInfo.call(this)},o);function o(){var e=i.call(this)||this;return e._checkbet=!0,e._nowBetArea="Rou",e._quickBetEvent=function(t){e.setQuickBet(t)},e}t.ViewModel=e;r=RouShare.RouRoadmapSimple,__extends(l,r),l.prototype.setStatus=function(t){if("dealing"==t&&this.showData.length==this.setObj.roundNum){this.showData.shift(),this.resetRoadmap();for(var e=0;e<this.showData.length;e++)this.listArr[e].text=this.showData[e].rouNum,this.listArr[e].style=this.setTextStr(this.showData[e].rouNum),this.setPos(),this.listArr[e].visible=!0}},l.prototype.drawRoadList=function(t){t=t.reverse(),r.prototype.drawRoadList.call(this,t),this.setPos()},l.prototype.setPos=function(){for(var t=0;t<this.listArr.length;t++)this.listArr[t].style.fill==this.setObj.styleB.fill?this.listArr[t].y=34:this.listArr[t].style.fill==this.setObj.styleR.fill?this.listArr[t].y=12:this.listArr[t].y=23};var r,h=l;function l(){return r.call(this)||this}t.Roadmap=h;c=RouShare.PokerPanel,__extends(d,c),d.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_PokerBG")),t=(this.addChild(t),this.ball=PIXI.Sprite.fromImage("Multiple_Rou_PokerBG0000"),this.addChild(this.ball),this.ball.x=117,this.ball.y=576,{fontFamily:"微軟正黑體",fontSize:"30px",fill:"#ffffff"});this.ballNumTxt=new s("",{fontFamily:"微軟正黑體",fontSize:"45px",fill:"#ffffff"}),this.ballNumTxt.x=173,this.ballNumTxt.y=632,this.ballNumTxt.anchor.set(.5,.5),this.addChild(this.ballNumTxt),this.oddEvenTxt=new s("",t),this.oddEvenTxt.x=250,this.oddEvenTxt.y=586,this.addChild(this.oddEvenTxt),this.dozenTxt=new s("",t),this.dozenTxt.x=250,this.dozenTxt.y=616,this.addChild(this.dozenTxt),this.bigSmallTxt=new s("",t),this.bigSmallTxt.x=250,this.bigSmallTxt.y=646,this.addChild(this.bigSmallTxt),this.reset()};var c,u=d;function d(t){t=c.call(this,t)||this;return t.initUI(),t}t.Poker=u;p=BlockChainShare.Panel,__extends(_,p),_.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("STATISTICS"),15);var t=new P,e=(t.position.set(-32,-54),this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_Statistics")),i=(t.addChild(e),[IPL.DictManager.getDict("ROU_ZERO"),IPL.DictManager.getDict("ROU_VOISINS"),IPL.DictManager.getDict("ROU_ORPHELINS"),IPL.DictManager.getDict("ROU_TIERS")]),n=["R","B","G"],a=["Grey","B","G"],o={fontFamily:"微軟正黑體",fontSize:"18px",fill:"#FFCD86"},r={fontFamily:"Arial",fontSize:"17px",fill:"#ffffff"};this._ratioAry=new Array,this._nameAry=new Array,this._blackRedRatio=new Array,this._oddEvenRatio=new Array,this._bigSmallRatio=new Array,this._sectorGraphic=new Array;for(var s=0;s<3;s++){var h=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_StatisticsBG",s),l=(t.addChild(h),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_StatisticsLine"+n[s])),l=(this._blackRedRatio[s]=l,this._blackRedRatio[s].position.set(53,633),t.addChild(this._blackRedRatio[s]),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_StatisticsLine"+a[s])),l=(this._oddEvenRatio[s]=l,this._oddEvenRatio[s].position.set(53,698),t.addChild(this._oddEvenRatio[s]),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_StatisticsLine"+a[s]));if(this._bigSmallRatio[s]=l,this._bigSmallRatio[s].position.set(53,762),t.addChild(this._bigSmallRatio[s]),2==s){for(var c=0;c<4;c++){var u=new PIXI.Text(i[c],o);u.style.fontSize=Tools.AdjustText.adjustFontSize(u,18,180),u.style.wordWrapWidth=165,u.style.wordWrap=!0,u.position.set(14+c%2*165,14),1<c&&(u.y=90),h.addChild(u)}for(c=0;c<4;c++){var d=new PIXI.Text("0%",r);d.position.set(16+c%2*165,49),1<c&&(d.y=125),this._ratioAry[c]=d,h.addChild(this._ratioAry[c])}this._blackRedRatio[s].anchor.x=this._oddEvenRatio[s].anchor.x=this._bigSmallRatio[s].anchor.x=.5}l=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_SColdIcon"),l=(t.addChild(l),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_SHotIcon"));t.addChild(l)}for(var p=[IPL.DictManager.getDict("RED_STR"),IPL.DictManager.getDict("EVEN_STR"),"1-18"],f=[IPL.DictManager.getDict("BLACK_STR"),IPL.DictManager.getDict("ODD_STR"),"19-36"],s=0;s<3;s++){var _=new PIXI.Text("0%",r),_=((this._ratioAry[s+4]=_).position.set(65,647+65*s),t.addChild(this._ratioAry[s+4]),new PIXI.Text("0%",r)),_=((this._ratioAry[s+7]=_).position.set(400,647+65*s),_.anchor.x=1,t.addChild(this._ratioAry[s+7]),new PIXI.Text(p[s],r)),_=((this._nameAry[s]=_).position.set(65,647+65*s),t.addChild(this._nameAry[s]),new PIXI.Text(f[s],r));this._nameAry[s+3]=_,this._nameAry[s+3].position.set(400,647+65*s),t.addChild(this._nameAry[s+3])}this._hotNumAry=new Array,this._coldNumAry=new Array;for(s=0;s<4;s++){var m=new PIXI.Text("0",r),g=((this._hotNumAry[s]=m).position.set(72,200+40*s),t.addChild(this._hotNumAry[s]),new PIXI.Text("0",r));(this._coldNumAry[s]=g).position.set(395,200+40*s),t.addChild(this._coldNumAry[s]),m.anchor.x=g.anchor.x=.5}for(var v=[3,26,0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35],s=0;s<37;s++){var y=new PIXI.Graphics;this._sectorGraphic[s]=y,this._sectorGraphic[s].name=String(v[s]),t.addChild(this._sectorGraphic[s])}},_.prototype.setData=function(t){for(var e=["ZeroRatio","VoisinsRatio","OrphelinsRatio","TiersRatio","redRatio","oddRatio","smallRatio","BlackRatio","EvenRatio","bigRatio"],i=0;i<10;i++)this._ratioAry[i].text=t[e[i]];var n,a=[],o=[],r=0;for(n in t)if("AllRatioPercent"==n)for(i=0;i<37;i++)a.push(Number(t[n][i].split("%")[0])),Number(t[n][i].split("%")[0])>r&&(r=Number(t[n][i].split("%")[0]));else"coldNum"!=n&&"hotNum"!=n&&o.push(Number(t[n].split("%")[0]));for(var s=270.5,h=269+360/37,l=180/Math.PI,c=103/r,i=0;i<37;i++){360<=(h=269+360/37*(i+1))&&(h-=360);for(var u=0,d=0;d<37;d++)if(d==Number(this._sectorGraphic[i].name)){u=a[d];break}this._sectorGraphic[i].clear(),this._sectorGraphic[i].beginFill(16777215),this._sectorGraphic[i].moveTo(233,267),this._sectorGraphic[i].arc(233,267,u*c,s/l,h/l),this._sectorGraphic[i].lineTo(233,267),this._sectorGraphic[i].endFill(),this._sectorGraphic[i].tint=3158064,s=h+1}for(var p=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],i=0;i<4;i++){if(this._hotNumAry[i].text=" ",this._coldNumAry[i].text=" ",void 0!==t.hotNum[i]&&null!==t.hotNum[i]){this._hotNumAry[i].text=t.hotNum[i];for(d=0;d<p.length;d++)t.hotNum[i]==p[d]&&(this._hotNumAry[i].tint=16711685);0==t.hotNum[i]&&(this._hotNumAry[i].tint=2069532);for(d=0;d<37;d++)if(Number(t.hotNum[i])==Number(this._sectorGraphic[d].name)){this._sectorGraphic[d].tint=16711685;break}}if(void 0!==t.coldNum[i]&&null!==t.coldNum[i]){this._coldNumAry[i].text=t.coldNum[i];for(d=0;d<p.length;d++)t.coldNum[i]==p[d]&&(this._coldNumAry[i].tint=16711685);0==t.coldNum[i]&&(this._coldNumAry[i].tint=2069532);for(d=0;d<37;d++)if(Number(t.coldNum[i])==Number(this._sectorGraphic[d].name)){this._sectorGraphic[d].tint=60159;break}}}for(var f=[6,5,9],i=0;i<3;i++){for(d=0;d<3;d++)0==o[f[d]]?o[f[d]]=50:o[f[d]]<=30?o[f[d]]=30:70<=o[f[d]]&&(o[f[d]]=70);0==i?(this._blackRedRatio[i].width9=3.6*o[6],this._bigSmallRatio[i].width9=3.6*o[5],this._oddEvenRatio[i].width9=3.6*o[9]):1==i?(this._blackRedRatio[i].width9=3.6*(100-o[6]),this._bigSmallRatio[i].width9=3.6*(100-o[5]),this._oddEvenRatio[i].width9=3.6*(100-o[9]),this._blackRedRatio[i].x=3.6*o[6]+53,this._bigSmallRatio[i].x=3.6*o[5]+53,this._oddEvenRatio[i].x=3.6*o[9]+53):2==i&&(this._blackRedRatio[i].x=3.6*o[6]+43,this._bigSmallRatio[i].x=3.6*o[5]+43,this._oddEvenRatio[i].x=3.6*o[9]+43)}for(var _=[this._blackRedRatio[0].width9,this._oddEvenRatio[0].width9,this._bigSmallRatio[0].width9],i=0;i<3;i++)this._ratioAry[i+4].x=_[i],this._nameAry[i+3].x=_[i]+73},_.prototype.setTools=function(t){var i=this;this._tool=t,this.closeBtn.on("pointerdown",function(){var t,e;"1"!=i._mt&&(i._tool.setBtnStatus("tip",!0),i._tool.setBtnStatus("pingIcon",!0),(t=new Object).GameType="3007",t.GameCode=i._gameCode,t.Visible=!0,(e=new window.Event("VIDEO_BTN_VISIBLE")).data=t,window.dispatchEvent(e))})},_.prototype.setMaintain=function(t){this._mt=t},_.prototype.setisBC=function(){this._isBC=!0},_.prototype.setGameCode=function(t){this._gameCode=t};var p,f=_;function _(){var t=p.call(this)||this;return t._isBC=!1,t._mt="0",t._gameCode="",t.initPanelUI(),t.init(),t}t.StatisticPanel=f;m=BlockChainShare.Panel,__extends(v,m),v.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("ROU_QUICK_BET"),15);for(var t=new P,e=(t.position.set(-34,-47),this.addChild(t),{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"}),i=0;i<2;i++){var n=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_QuickBetBG",i);t.addChild(n)}var a=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_StraightupTxt_"+IPL.UrlParameter.lang),a=(t.addChild(a),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_SpecialTxt_"+IPL.UrlParameter.lang));t.addChild(a),this._aryLayout=[];for(i=0;i<12;i++){var o,r=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_QuickBet",i);this._aryLayout[i]=r,t.addChild(r),0<=i-2&&((o=new PIXI.Text(String(i-2),e)).anchor.set(.5),o.position.set(32,25),r.addChild(o))}for(var a=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_RsnakeTxt_"+IPL.UrlParameter.lang),a=(this._aryLayout[12]=a,t.addChild(a),PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_BsnakeTxt_"+IPL.UrlParameter.lang)),s=(this._aryLayout[13]=a,t.addChild(a),[]),i=0;i<12;i++){var h=PIXILayoutTool.DisplayObject.createImage("Multiple_Rou_LayoutSelect",i);null!=h&&(s[i]=new ShareUI.betSprBlock(h),s[i].name=i,t.addChild(s[i]))}this._betAreaPanel=new S(s),this._betAreaPanel&&this._betAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.LayoutSensorEvent)},v.prototype.setMaintain=function(t){this._mt=t},v.prototype.setisBC=function(){this._isBC=!0},v.prototype.setGameCode=function(t){this._gameCode=t},v.prototype.setTools=function(t){var i=this;this._tool=t,this.closeBtn.on("pointerdown",function(){var t,e;"1"!=i._mt&&(i._tool.setBtnStatus("tip",!0),i._tool.setBtnStatus("pingIcon",!0),(t=new Object).GameType="3007",t.GameCode=i._gameCode,t.Visible=!0,(e=new window.Event("VIDEO_BTN_VISIBLE")).data=t,window.dispatchEvent(e))})},v.prototype.chooseLayout=function(t){var e=new H5Event.H5BaseEvent("QuickBet");e.data=t.data,this.event.dispatchEvent(e),this.checkPanel()},v.prototype.checkPanel=function(){var t,e;this.visible&&(this.visible=!1,this._isBC||"1"==this._mt||(this._tool.setBtnStatus("tip",!0),this._tool.setBtnStatus("pingIcon",!0),(t=new Object).GameType="3007",t.GameCode=this._gameCode,t.Visible=!0,(e=new window.Event("VIDEO_BTN_VISIBLE")).data=t,window.dispatchEvent(e)))},v.prototype.onStatusChanged=function(t){for(var e=0;e<this._aryLayout.length;e++)this._aryLayout[e].alpha=.3;if(this._betAreaPanel.setMouseStatus(!1),"betting"==t){for(e=0;e<this._aryLayout.length;e++)this._aryLayout[e].alpha=1;this._betAreaPanel.setMouseStatus(!0)}};var m,g=v;function v(){var e=m.call(this)||this;return e._isBC=!1,e._mt="0",e._gameCode="",e.LayoutSensorEvent=function(t){e.chooseLayout(t)},e.initPanelUI(402,450),e.init(),e}t.QuickBetPanel=g;y=H5EventdispatcherCore.EventDispatcher,__extends(b,y),b.prototype.initAddListen=function(){for(var e=this,t=0;t<this._betArr.length;t++)null!=this._betArr[t]&&(DeviceAndEnvironment.Device.isMobile()?(this._betArr[t].on("touchstart",function(t){e.star(t)}),this._betArr[t].on("touchend",function(t){e.end(t)}),this._betArr[t].on("touchendoutside",function(){e.out()})):(this._betArr[t].on("mousedown",function(t){e.star(t)}),this._betArr[t].on("mouseup",function(t){e.end(t)}),this._betArr[t].on("mouseupoutside",function(){e.out()})))},b.prototype.setMouseStatus=function(t){for(var e=0;e<this._betArr.length;e++)null!=this._betArr[e]&&(this._betArr[e].setMouseStatus(t),this._betArr[e].setBetAlpha(0),this._betArr[e].setResultAlpha(0))},b.prototype.initbetArealight=function(t){for(var e=0;e<this._betArr.length;e++)this._betArr[e].name==t&&(this._betArr[e].setResultAlpha(1),this._betArr[e].setMouseStatus(!1))},b.prototype.initReBetBlock=function(t){for(var e=this,i=0;i<t.length;i++)DeviceAndEnvironment.Device.isMobile()?(t[i].on("touchstart",function(t){e.star(t)}),t[i].on("touchend",function(t){e.end(t)}),t[i].on("touchendoutside",function(){e.out()})):(t[i].on("mousedown",function(t){e.star(t)}),t[i].on("mouseup",function(t){e.end(t)}),t[i].on("mouseupoutside",function(){e.out()}))},b.prototype.star=function(t){this.starPos=t.data.getLocalPosition(t.currentTarget.parent)},b.prototype.end=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(t.currentTarget.parent),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<15)&&i<15&&this.clicked(t),this.starPos=null},b.prototype.out=function(){this.starPos=null},b.prototype.clicked=function(t){var e=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK);e.data=t.currentTarget,this.dispatchEvent(e)};var y,S=b;function b(t){var e=y.call(this)||this;return e._betArr=t,e.initAddListen(),e.endEvent=function(t){e.end(t)},e.starEvent=function(t){e.star(t)},e.outEvent=function(){e.out()},e}t.LayoutSensorPanel=S;I=RouShare.NormalBlockBetSensor,__extends(C,I),C.prototype.setNum=function(t){this.rouLogic.setNum(t)};var I,B=C;function C(t){return I.call(this,t)||this}t.MultiBlockBetSensor=B}(RouMultiGames=RouMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new RouMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.RouMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){this.infoObj={},this.keyArr=["SICVN_BIGSMALL","ODDEVEN","BIGSMALL","SIC_SINGLE","SIC_TWODICES","SIC_DOUBLEDICES","ALLTRIPLE","TRIPLEDICES","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","MIN","MAX"],this.initTxt()}e.prototype.initTxt=function(){for(var t=["SICVN_BIGSMALL","ODDEVEN","BIGSMALL","SIC_SINGLE","SIC_TWODICES","SIC_DOUBLEDICES","ALLTRIPLE","TRIPLEDICES","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","ROUNDBETMIN","ROUNDBETMAX"],e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]]={},this.infoObj[this.keyArr[e]].title=IPL.DictManager.getDict(t[e])},e.prototype.setData=function(t){for(var e=["highLowMax","highLowMax","highLowMax","singleMax","twoDicesMax","doubleDicesMax","allTripleMax","tripleDicesMax","fourMax","fiveMax","sixMax","sevenMax","eightMax","nineMax","roundBetMin","roundBetMax"],i=["highLowMin","highLowMin","highLowMin","singleMin","twoDicesMin","doubleDicesMin","allTripleMin","tripleDicesMin","fourMin","fiveMin","sixMin","sevenMin","eightMin","nineMin"],n=["1:1","1:1","1:1",null,"1:5","1:10","1:30","1:180","1:60","1:30","1:17","1:12","1:8","1:6"],a=0;a<this.keyArr.length;a++)this.infoObj[this.keyArr[a]].limit=String(t.getLimit(e[a])),null!=i[a]&&(this.infoObj[this.keyArr[a]].limitMin=String(t.getLimit(i[a]))),null!=n[a]&&(this.infoObj[this.keyArr[a]].ratio=n[a])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(SicLogicShare=SicLogicShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.initUI=function(){},n.prototype.initTxt=function(){null!=this.limitTitleTxt&&(this.limitTitleTxt.text=IPL.DictManager.getDict("LIMITBTN")),null!=this.roundBetMinTxt&&(this.roundBetMinTxt.text=IPL.DictManager.getDict("ROUNDBETMIN")),null!=this.roundBetMaxTxt&&(this.roundBetMaxTxt.text=IPL.DictManager.getDict("ROUNDBETMAX")),null!=this.oddEvenTxt&&(this.oddEvenTxt.text=IPL.DictManager.getDict("ODDEVEN")),null!=this.highLowTxt&&(this.highLowTxt.text=IPL.DictManager.getDict("BIGSMALL")),null!=this.singleTxt&&(this.singleTxt.text=IPL.DictManager.getDict("SIC_SINGLE")),null!=this.twoDicesTxt&&(this.twoDicesTxt.text=IPL.DictManager.getDict("TWODICES")),null!=this.doubleDicesTxt&&(this.doubleDicesTxt.text=IPL.DictManager.getDict("DOUBLEDICES")),null!=this.allTripleTxt&&(this.allTripleTxt.text=IPL.DictManager.getDict("ALLTRIPLE")),null!=this.tripleDicesTxt&&(this.tripleDicesTxt.text=IPL.DictManager.getDict("TRIPLEDICES")),null!=this.fourTxt&&(this.fourTxt.text=IPL.DictManager.getDict("FOUR")),null!=this.fiveTxt&&(this.fiveTxt.text=IPL.DictManager.getDict("FIVE")),null!=this.sixTxt&&(this.sixTxt.text=IPL.DictManager.getDict("SIX")),null!=this.sevenTxt&&(this.sevenTxt.text=IPL.DictManager.getDict("SEVEN")),null!=this.eightTxt&&(this.eightTxt.text=IPL.DictManager.getDict("EIGHT")),null!=this.nineTxt&&(this.nineTxt.text=IPL.DictManager.getDict("NINE"))},n.prototype.setData=function(t){null!=this.roundBetMin&&(this.roundBetMin.text=String(t.getLimit("roundBetMin"))),null!=this.roundBetMax&&(this.roundBetMax.text=String(t.getLimit("roundBetMax"))),null!=this.oddEvenMin&&(this.highLowMin.text=String(t.getLimit("highLowMin"))),null!=this.highLowMin&&(this.highLowMin.text=String(t.getLimit("highLowMin"))),null!=this.singleMin&&(this.singleMin.text=String(t.getLimit("singleMin"))),null!=this.twoDicesMin&&(this.twoDicesMin.text=String(t.getLimit("twoDicesMin"))),null!=this.doubleDicesMin&&(this.doubleDicesMin.text=String(t.getLimit("doubleDicesMin"))),null!=this.allTripleMin&&(this.allTripleMin.text=String(t.getLimit("allTripleMin"))),null!=this.tripleDicesMin&&(this.tripleDicesMin.text=String(t.getLimit("tripleDicesMin"))),null!=this.oddEvenMax&&(this.highLowMax.text=String(t.getLimit("highLowMax"))),null!=this.highLowMax&&(this.highLowMax.text=String(t.getLimit("highLowMax"))),null!=this.singleMax&&(this.singleMax.text=String(t.getLimit("singleMax"))),null!=this.twoDicesMax&&(this.twoDicesMax.text=String(t.getLimit("twoDicesMax"))),null!=this.doubleDicesMax&&(this.doubleDicesMax.text=String(t.getLimit("doubleDicesMax"))),null!=this.allTripleMax&&(this.allTripleMax.text=String(t.getLimit("allTripleMax"))),null!=this.tripleDicesMax&&(this.tripleDicesMax.text=String(t.getLimit("tripleDicesMax"))),null!=this.fourMin&&(this.fourMin.text=String(t.getLimit("fourMin"))),null!=this.fiveMin&&(this.fiveMin.text=String(t.getLimit("fiveMin"))),null!=this.sixMin&&(this.sixMin.text=String(t.getLimit("sixMin"))),null!=this.sevenMin&&(this.sevenMin.text=String(t.getLimit("sevenMin"))),null!=this.eightMin&&(this.eightMin.text=String(t.getLimit("eightMin"))),null!=this.nineMin&&(this.nineMin.text=String(t.getLimit("nineMin"))),null!=this.fourMax&&(this.fourMax.text=String(t.getLimit("fourMax"))),null!=this.fiveMax&&(this.fiveMax.text=String(t.getLimit("fiveMax"))),null!=this.sixMax&&(this.sixMax.text=String(t.getLimit("sixMax"))),null!=this.sevenMax&&(this.sevenMax.text=String(t.getLimit("sevenMax"))),null!=this.eightMax&&(this.eightMax.text=String(t.getLimit("eightMax"))),null!=this.nineMax&&(this.nineMax.text=String(t.getLimit("nineMax")))},n);function n(){var t=e.call(this)||this;return t.initUI(),t.initTxt(),t}t.LimitPanel=i}(SicShare=SicShare||{}),!function(t){a=PIXI.Container,__extends(i,a),i.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset(),this._pointArr=[0,0,0];var i=t.split(",");if(""!=i[0])for(var n=0;n<i.length;n++)this._pointArr[n]=parseInt(i[n]),this.diceOnPanel[n].visible=!0,this.diceOnPanel[n].texture=PIXI.Texture.fromImage(this._diceName+"000"+String(this._pointArr[n]-1));(this._diceNum=0)!=this._pointArr[0]?(this._diceNum=this.getDiceSum(this._pointArr),10<=this._diceNum?this.sumPoint.text=String(this._diceNum):this.sumPoint.text="0"+String(this._diceNum)):this.sumPoint.text="",this._pointArr[0]==this._pointArr[1]&&this._pointArr[0]==this._pointArr[2]?this.sumPoint.style.fill=16765559:this.sumPoint.style.fill=16777215},i.prototype.getDiceSum=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e},i.prototype.reset=function(){null!=this.sumPoint&&(this.sumPoint.text="");for(var t=0;t<this.diceOnPanel.length;t++)this.diceOnPanel[t].visible=!1};var a,e=i;function i(t){var e=a.call(this)||this;e._diceName=t,e.diceOnPanel=[];for(var i=0;i<3;i++){var n=PIXI.Sprite.fromImage(t+"0000");e.diceOnPanel.push(n)}return e.reset(),e}t.PokerPanel=e}(SicShare=SicShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){null!=this.bigTitle&&(this.bigTitle.text=IPL.DictManager.getDict("SIC_BIG")),null!=this.smallTitle&&(this.smallTitle.text=IPL.DictManager.getDict("SIC_SMALL")),null!=this.oddTitle&&(this.oddTitle.text=IPL.DictManager.getDict("EVEN_STR")),null!=this.evenTitle&&(this.evenTitle.text=IPL.DictManager.getDict("ODD_STR"))},n.prototype.setStatisticsInfo=function(t,e){for(var i=0,n=t.bigNum,a=t.smallNum,o=n+a,r=t.oddNum,s=t.evenNum,h=r+s,l=0,c=[t.oneNum,t.twoNum,t.threeNum,t.fourNum,t.fiveNum,t.sixNum],i=0;i<6;i++)l+=c[i];var t="0%",u="0%",d="0%",p="0%",f=["0%","0%","0%","0%","0%","0%","0%"];if(0!=o?(t=(new ShareLogic.DigitalLogic).numtoFix4(n/o)+"%",u=(new ShareLogic.DigitalLogic).numtoFix4(a/o)+"%",this.bigLine.scale.x=n/o,this.smallLine.scale.x=a/o):(this.bigLine.scale.x=0,this.smallLine.scale.x=0),0!=h?(d=(new ShareLogic.DigitalLogic).numtoFix4(r/h)+"%",p=(new ShareLogic.DigitalLogic).numtoFix4(s/h)+"%",this.oddLine.scale.x=r/h,this.evenLine.scale.x=s/h):(this.oddLine.scale.x=0,this.evenLine.scale.x=0),0!=l)for(i=0;i<6;i++)f[i]=(new ShareLogic.DigitalLogic).numtoFix4(c[i]/l)+"%",this.faceLineList[i].scale.x=c[i]/l;else for(i=0;i<6;i++)this.faceLineList[i].scale.x=0;for(this.bigTxt.text=String(n)+"/"+t,this.smallTxt.text=String(a)+"/"+u,this.oddTxt.text=String(r)+"/"+d,this.evenTxt.text=String(s)+"/"+p,i=0;i<6;i++)this.faceTXTList[i].text=String(c[i])+"/"+f[i]},n);function n(){var t=e.call(this)||this;return t.faceIconList=[],t.faceTXTList=[],t.faceLineList=[],t}t.StatisticsPanel=i}(SicShare=SicShare||{}),!function(t){var i,n=PIXI.Sprite,a=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(o,i),o.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},o.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new s("Multiple_SicBo_Poker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},o.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetAreaB"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetAreaS")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetHigh_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetLow_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetEven_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetOdd_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_Bet410")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_Bet1117")),e=(this.addChild(t),[]),i=[],n=[],a=[],o=[],r=[],s=0;s<=6;s++)e[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_Bet6","b"+String(s)),this.addChild(e[s]),i[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_Bet5","b"+String(s)),this.addChild(i[s]),n[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_Bet4","b"+String(s)),this.addChild(n[s]),a[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_Bet3","b"+String(s)),this.addChild(a[s]),o[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_Bet2","b"+String(s)),this.addChild(o[s]),r[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_Bet1","b"+String(s)),this.addChild(r[s]);for(var h=[],s=1;s<=53;s++){var l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_BetWin","b"+String(s));null!=l&&(h[s]=new ShareUI.betSprBlock(l),h[s].name="b"+String(s),this.addChild(h[s]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(h)},o.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=53;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_SicBo_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.SicboBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.5),this._chipStackPanel.resetChipSize(.6)},o.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapSicbo,this._roadmapPanel.x=13,this._roadmapPanel.y=745,null==Tools.TextureStore.repository.Fram1x16&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:16,gridW:26,gridH:104,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x16"});var t=new n(Tools.TextureStore.repository.Fram1x16),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{fontFamily:"Arial",fontSize:"30px",fill:"#ffffff",align:"center"}),t={roundNum:16,direction:"right",listDir:"Hor",modNum:16,startPosX:4,startPosY:5,gapX:28,gapY:10,diceSet:{diceName:"Multiple_Hall_SicBo_Dice",diceScale:.85,diceDisY:20}};t.diceSumSet={diceSumStyle:e,posX:0,posY:62},t.BSSet={BSStyle:e,posX:2,posY:78},t.smallCol="#00FF00",t.bigCol="#FF0000",t.triSameCol="#FFFF00",this._roadmapPanel.initList(t),this.addChild(this._roadmapPanel)},o.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},o.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status?(this._pokerPanel.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("DICING"),!1)):"waiting"==this._status&&(this._pokerPanel.visible=!0),this._roadmapPanel.setStatus(this._status)},o.prototype.setPoker=function(){",,"==this._poker?this._pokerPanel.reset():this._pokerPanel.setPoker(this._poker)},o.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},o.prototype.setResult=function(){var t=SicLogicShare.SicResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},o.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new SicLogicShare.LimitPanel,this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["ODDEVEN","BIGSMALL","SIC_SINGLE","ALLTRIPLE","TRIPLEDICES","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","MIN","MAX"]),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},o);function o(){return i.call(this)||this}t.ViewModel=e;r=SicShare.PokerPanel,__extends(h,r),h.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");this.addChild(t);for(var e=1;e<=3;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Sicbo_PokerBG","b"+String(e),!1);this.addChild(i)}for(var n=0;n<3;n++)this.diceOnPanel[n].x=86+115*n,this.diceOnPanel[n].y=585,this.addChild(this.diceOnPanel[n]);this.sumPoint=new a("",{fontFamily:"Arial",fontSize:"24px",fill:"#ffffff"}),this.sumPoint.x=236,this.sumPoint.y=680,this.sumPoint.anchor.set(.5),this.addChild(this.sumPoint),this.reset()},h.prototype.setPoker=function(t,e){r.prototype.setPoker.call(this,t,e=void 0===e?!0:e);e=t.split(",");e[0]==e[1]&&e[1]==e[2]?this.sumPoint.style.fill="#FFFF00":11<=this._diceNum?this.sumPoint.style.fill="#FF0000":this.sumPoint.style.fill="#00FF00"};var r,s=h;function h(t){t=r.call(this,t)||this;return t.initUI(),t}t.Poker=s}(SicBoMultiGames=SicBoMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new SicBoMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.SicBoMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){this.infoObj={},this.keyArr=["ODDEVEN","BIGSMALL","SIC_SINGLE","ALLTRIPLE","TRIPLEDICES","ANYCOLOR","SINGLECOLOR","DOUBLECOLOR","TRIPLECOLOR","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","MIN","MAX"],this.initTxt()}e.prototype.initTxt=function(){for(var t=["ODDEVEN","BIGSMALL","SIC_SINGLE","ALLTRIPLE","TRIPLEDICES",null,null,null,null,"FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","ROUNDBETMIN","ROUNDBETMAX"],e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]]={},this.infoObj[this.keyArr[e]].title=IPL.DictManager.getDict(t[e])},e.prototype.setData=function(t){for(var e=["highLowMax","highLowMax","singleMax","allTripleMax","tripleDicesMax","anyColorMax","singleColorMax","doubleColorMax","tripleColorMax","fourMax","fiveMax","sixMax","sevenMax","eightMax","nineMax","roundBetMin","roundBetMax"],i=["highLowMin","highLowMin","singleMin","allTripleMin","tripleDicesMin","anyColorMin","singleColorMin","doubleColorMin","tripleColorMin","fourMin","fiveMin","sixMin","sevenMin","eightMin","nineMin"],n=["1:1","1:1",null,"1:30","1:180","1:7","1:1","1:3","1:20","1:60","1:30","1:17","1:12","1:8","1:6"],a=0;a<this.keyArr.length;a++)this.infoObj[this.keyArr[a]].limit=String(t.getLimit(e[a])),null!=i[a]&&(this.infoObj[this.keyArr[a]].limitMin=String(t.getLimit(i[a]))),null!=n[a]&&(this.infoObj[this.keyArr[a]].ratio=n[a])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(FishSCLogicShare=FishSCLogicShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.initUI=function(){},n.prototype.initTxt=function(){null!=this.limitTitleTxt&&(this.limitTitleTxt.text=IPL.DictManager.getDict("LIMITBTN")),null!=this.roundBetMinTxt&&(this.roundBetMinTxt.text=IPL.DictManager.getDict("ROUNDBETMIN")),null!=this.roundBetMaxTxt&&(this.roundBetMaxTxt.text=IPL.DictManager.getDict("ROUNDBETMAX")),null!=this.oddEvenTxt&&(this.oddEvenTxt.text=IPL.DictManager.getDict("ODDEVEN")),null!=this.highLowTxt&&(this.highLowTxt.text=IPL.DictManager.getDict("BIGSMALL")),null!=this.singleTxt&&(this.singleTxt.text=IPL.DictManager.getDict("SIC_SINGLE")),null!=this.allTripleTxt&&(this.allTripleTxt.text=IPL.DictManager.getDict("ALLTRIPLE")),null!=this.tripleDicesTxt&&(this.tripleDicesTxt.text=IPL.DictManager.getDict("TRIPLEDICES")),null!=this.fourTxt&&(this.fourTxt.text=IPL.DictManager.getDict("FOUR")),null!=this.fiveTxt&&(this.fiveTxt.text=IPL.DictManager.getDict("FIVE")),null!=this.sixTxt&&(this.sixTxt.text=IPL.DictManager.getDict("SIX")),null!=this.sevenTxt&&(this.sevenTxt.text=IPL.DictManager.getDict("SEVEN")),null!=this.eightTxt&&(this.eightTxt.text=IPL.DictManager.getDict("EIGHT")),null!=this.nineTxt&&(this.nineTxt.text=IPL.DictManager.getDict("NINE"))},n.prototype.setData=function(t){null!=this.roundBetMin&&(this.roundBetMin.text=String(t.getLimit("roundBetMin"))),null!=this.roundBetMax&&(this.roundBetMax.text=String(t.getLimit("roundBetMax"))),null!=this.oddEvenMin&&(this.highLowMin.text=String(t.getLimit("highLowMin"))),null!=this.highLowMin&&(this.highLowMin.text=String(t.getLimit("highLowMin"))),null!=this.singleMin&&(this.singleMin.text=String(t.getLimit("singleMin"))),null!=this.allTripleMin&&(this.allTripleMin.text=String(t.getLimit("allTripleMin"))),null!=this.tripleDicesMin&&(this.tripleDicesMin.text=String(t.getLimit("tripleDicesMin"))),null!=this.anyColorMin&&(this.anyColorMin.text=String(t.getLimit("anyColorMin"))),null!=this.singleColorMin&&(this.singleColorMin.text=String(t.getLimit("singleColorMin"))),null!=this.doubleColorMin&&(this.doubleColorMin.text=String(t.getLimit("doubleColorMin"))),null!=this.tripleColorMin&&(this.tripleColorMin.text=String(t.getLimit("tripleColorMin"))),null!=this.oddEvenMax&&(this.highLowMax.text=String(t.getLimit("highLowMax"))),null!=this.highLowMax&&(this.highLowMax.text=String(t.getLimit("highLowMax"))),null!=this.singleMax&&(this.singleMax.text=String(t.getLimit("singleMax"))),null!=this.allTripleMax&&(this.allTripleMax.text=String(t.getLimit("allTripleMax"))),null!=this.tripleDicesMax&&(this.tripleDicesMax.text=String(t.getLimit("tripleDicesMax"))),null!=this.anyColorMax&&(this.anyColorMax.text=String(t.getLimit("anyColorMax"))),null!=this.singleColorMax&&(this.singleColorMax.text=String(t.getLimit("singleColorMax"))),null!=this.doubleColorMax&&(this.doubleColorMax.text=String(t.getLimit("doubleColorMax"))),null!=this.tripleColorMax&&(this.tripleColorMax.text=String(t.getLimit("tripleColorMax"))),null!=this.fourMin&&(this.fourMin.text=String(t.getLimit("fourMin"))),null!=this.fiveMin&&(this.fiveMin.text=String(t.getLimit("fiveMin"))),null!=this.sixMin&&(this.sixMin.text=String(t.getLimit("sixMin"))),null!=this.sevenMin&&(this.sevenMin.text=String(t.getLimit("sevenMin"))),null!=this.eightMin&&(this.eightMin.text=String(t.getLimit("eightMin"))),null!=this.nineMin&&(this.nineMin.text=String(t.getLimit("nineMin"))),null!=this.fourMax&&(this.fourMax.text=String(t.getLimit("fourMax"))),null!=this.fiveMax&&(this.fiveMax.text=String(t.getLimit("fiveMax"))),null!=this.sixMax&&(this.sixMax.text=String(t.getLimit("sixMax"))),null!=this.sevenMax&&(this.sevenMax.text=String(t.getLimit("sevenMax"))),null!=this.eightMax&&(this.eightMax.text=String(t.getLimit("eightMax"))),null!=this.nineMax&&(this.nineMax.text=String(t.getLimit("nineMax")))},n);function n(){var t=e.call(this)||this;return t.initUI(),t.initTxt(),t}t.LimitPanel=i}(FishSCShare=FishSCShare||{}),!function(t){function e(){}e.getResultArea=function(t){var e=[[]];return e[1]=[26,27,28,34,35],e[2]=[1,4,18,23,35,36,42],e[3]=[1,5,19,23,35,37,41],e[4]=[1,6,19,23,35,38,42],e[5]=[1,7,18,23,35,39,41],e[6]=[1,8,26,27,35,40,42],e[7]=[1,5,20,21,35,36,41],e[8]=[1,6,18,19,20,35,36,37,42],e[9]=[1,7,18,19,20,35,36,38,41],e[10]=[1,8,20,21,35,36,39,42],e[11]=[1,9,18,23,35,36,40,41],e[12]=[1,7,20,22,35,37,41],e[13]=[1,8,20,22,35,37,38,42],e[14]=[1,9,18,19,20,35,37,39,41],e[15]=[1,10,19,23,35,37,40,42],e[16]=[1,9,20,22,35,38,41],e[17]=[1,10,18,19,20,35,38,39,42],e[18]=[2,11,19,23,35,38,40,41],e[19]=[2,11,20,21,35,39,41],e[20]=[2,12,18,23,35,39,40,42],e[21]=[2,13,26,27,35,40,41],e[22]=[6,24,27,29,34,36],e[23]=[1,7,19,21,36,37,41],e[24]=[1,8,19,21,36,38,42],e[25]=[1,9,24,27,36,39,41],e[26]=[1,10,20,21,36,40,42],e[27]=[1,8,18,22,36,37,42],e[28]=[1,9,18,22,36,37,38,41],e[29]=[1,10,19,21,36,37,39,42],e[30]=[2,11,18,19,20,36,37,40,41],e[31]=[1,10,18,22,36,38,42],e[32]=[2,11,19,21,36,38,39,41],e[33]=[2,12,18,19,20,36,38,40,42],e[34]=[2,12,24,27,36,39,42],e[35]=[2,13,20,21,36,39,40,41],e[36]=[2,14,18,23,36,40,42],e[37]=[9,25,27,30,34,37],e[38]=[1,10,25,27,37,38,42],e[39]=[2,11,18,22,37,39,41],e[40]=[2,12,20,22,37,40,42],e[41]=[2,11,25,27,37,38,41],e[42]=[2,12,18,22,37,38,39,42],e[43]=[2,13,20,22,37,38,40,41],e[44]=[2,13,19,21,37,39,41],e[45]=[2,14,18,19,20,37,39,40,42],e[46]=[2,15,19,23,37,40,41],e[47]=[12,25,27,31,34,38],e[48]=[2,13,18,22,38,39,41],e[49]=[2,14,20,22,38,40,42],e[50]=[2,14,19,21,38,39,42],e[51]=[2,15,18,19,20,38,39,40,41],e[52]=[2,16,19,23,38,40,42],e[53]=[15,24,27,32,34,39],e[54]=[2,16,20,21,39,40,42],e[55]=[2,17,18,23,39,40,41],e[56]=[26,27,33,34,40],e[t]},t.FishSCResultArea=e}(FishSCLogicShare=FishSCLogicShare||{}),!function(t){var o,e=PIXI.Container,e=(__extends(i,o=e),i.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset(),this.sumPoint.text=" ";var i,n=0,a=t.split(",");if(",,"!==t&&" , , "!==t&&""!==t){for(var o=0;o<3;o++)0<(i=parseInt(a[o]))&&(this.diceOnPanel[o][i-1].visible=!0),n+=i;0<n&&(this.sumPoint.text=n.toString())}a[0]==a[1]&&a[0]==a[2]?this.sumPoint.style.fill=16765559:this.sumPoint.style.fill=16777215},i.prototype.reset=function(){null!=this.sumPoint&&(this.sumPoint.text="");for(var t=0;t<this.diceOnPanel.length;t++)for(var e=this.diceOnPanel[t].length,i=0;i<e;i++)this.diceOnPanel[t][i].visible=!1},i);function i(t){var e=o.call(this)||this;e.diceOnPanel=[];for(var i=0;i<3;i++){for(var n=[],a=0;a<6;a++)n.push(PIXI.Sprite.fromImage(t+"000"+a.toString())),n[a].visible=!1;e.diceOnPanel.push(n)}return e.reset(),e}t.PokerPanel=e}(FishSCShare=FishSCShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){null!=this.bigTitle&&(this.bigTitle.text=IPL.DictManager.getDict("SIC_BIG")),null!=this.smallTitle&&(this.smallTitle.text=IPL.DictManager.getDict("SIC_SMALL")),null!=this.oddTitle&&(this.oddTitle.text=IPL.DictManager.getDict("EVEN_STR")),null!=this.evenTitle&&(this.evenTitle.text=IPL.DictManager.getDict("ODD_STR"))},n.prototype.setStatisticsInfo=function(t,e){for(var i=0,n=t.bigNum,a=t.smallNum,o=n+a,r=t.oddNum,s=t.evenNum,h=r+s,l=0,c=[t.oneNum,t.twoNum,t.threeNum,t.fourNum,t.fiveNum,t.sixNum],i=0;i<6;i++)l+=c[i];var t="0%",u="0%",d="0%",p="0%",f=["0%","0%","0%","0%","0%","0%","0%"];if(0!=o?(t=(new ShareLogic.DigitalLogic).numtoFix4(n/o)+"%",u=(new ShareLogic.DigitalLogic).numtoFix4(a/o)+"%",this.bigLine.scale.x=n/o,this.smallLine.scale.x=a/o):(this.bigLine.scale.x=0,this.smallLine.scale.x=0),0!=h?(d=(new ShareLogic.DigitalLogic).numtoFix4(r/h)+"%",p=(new ShareLogic.DigitalLogic).numtoFix4(s/h)+"%",this.oddLine.scale.x=r/h,this.evenLine.scale.x=s/h):(this.oddLine.scale.x=0,this.evenLine.scale.x=0),0!=l)for(i=0;i<6;i++)f[i]=(new ShareLogic.DigitalLogic).numtoFix4(c[i]/l)+"%",this.faceLineList[i].scale.x=c[i]/l;else for(i=0;i<6;i++)this.faceLineList[i].scale.x=0;for(this.bigTxt.text=String(n)+"/"+t,this.smallTxt.text=String(a)+"/"+u,this.oddTxt.text=String(r)+"/"+d,this.evenTxt.text=String(s)+"/"+p,i=0;i<6;i++)this.faceTXTList[i].text=String(c[i])+"/"+f[i]},n);function n(){return e.call(this)||this}t.StatisticsPanel=i}(FishSCShare=FishSCShare||{}),!function(t){var i,n=PIXI.Sprite,o=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(a,i),a.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},a.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new s("Multiple_FishSC_Poker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},a.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetAreaB"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetAreaS")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetHigh_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetLow_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetEven_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_BetOdd_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_Bet410")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_SicBo_Bet1117")),e=(this.addChild(t),[]),i=[],n=[],a=[],o=[],r=[],s=0;s<=6;s++)e[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSC_BetFish","b"+String(s)),this.addChild(e[s]),i[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSC_BetPrawn","b"+String(s)),this.addChild(i[s]),n[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSC_BetGourd","b"+String(s)),this.addChild(n[s]),a[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSC_BetCoin","b"+String(s)),this.addChild(a[s]),o[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSC_BetCrab","b"+String(s)),this.addChild(o[s]),r[s]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSC_BetCock","b"+String(s)),this.addChild(r[s]);if("3039"==IPL.UrlParameter.gameType)for(s=0;s<=6;s++)a[s].texture=PIXI.Texture.fromFrame("Multiple_FishSC_BetDeer0000");else if("3040"==IPL.UrlParameter.gameType)for(s=0;s<=6;s++)a[s].texture=PIXI.Texture.fromFrame("Multiple_FishSC_BetTiger0000");for(var h,l=[],s=1;s<=42;s++)null!=(h=28<=s&&s<=42?PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSC_BetWin","b"+String(s)):PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SicBo_BetWin","b"+String(s)))&&(l[s]=new ShareUI.betSprBlock(h),l[s].name="b"+String(s),this.addChild(l[s]));this._betAreaPanel=new SharePanel.BlockBetSensorPanel(l)},a.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=42;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FishSC_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.FishSC(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.5),this._chipStackPanel.resetChipSize(.6)},a.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapSicbo,this._roadmapPanel.x=13,this._roadmapPanel.y=745,null==Tools.TextureStore.repository.Fram1x16&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:16,gridW:26,gridH:104,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x16"});var t=new n(Tools.TextureStore.repository.Fram1x16),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{fontFamily:"Arial",fontSize:"32px",fill:"#ffffff",align:"center"}),t={roundNum:16,direction:"right",listDir:"Hor",modNum:16,startPosX:-3,startPosY:-5,gapX:28,gapY:10,diceSet:{diceName:"Multiple_Hall_FishCS_Dice",diceScale:1,diceDisY:22}};"3039"==IPL.UrlParameter.gameType?t.diceSet={diceName:"Multiple_Hall_FishCS_Dice_vi",diceScale:1,diceDisY:22}:"3040"==IPL.UrlParameter.gameType&&(t.diceSet={diceName:"Multiple_Hall_FishCS_Dice_th",diceScale:1,diceDisY:22}),t.diceSumSet={diceSumStyle:e,posX:8,posY:72},t.BSSet={diceSumStyle:e,posX:10,posY:90},t.smallCol="#FFFFFF",t.bigCol="#FFFFFF",t.triSameCol="#FFFF00",this._roadmapPanel.initList(t),this.addChild(this._roadmapPanel)},a.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status?(this._pokerPanel.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("DICING"),!1)):"waiting"==this._status&&(this._pokerPanel.visible=!0),this._roadmapPanel.setStatus(this._status)},a.prototype.setPoker=function(){",,"==this._poker?this._pokerPanel.reset():this._pokerPanel.setPoker(this._poker)},a.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},a.prototype.setResult=function(){var t=FishSCLogicShare.FishSCResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},a.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new FishSCLogicShare.LimitPanel,this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["ODDEVEN","BIGSMALL","SIC_SINGLE","ALLTRIPLE","TRIPLEDICES","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","MIN","MAX"]),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},a);function a(){return i.call(this)||this}t.ViewModel=e;r=FishSCShare.PokerPanel,__extends(h,r),h.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");this.addChild(t);for(var e=1;e<=3;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Sicbo_PokerBG","b"+String(e),!1);this.addChild(i)}for(var n=0;n<3;n++)for(var a=0;a<6;a++)this.diceOnPanel[n][a].x=86+115*n,this.diceOnPanel[n][a].y=585,this.addChild(this.diceOnPanel[n][a]);this.sumPoint=new o("",{fontFamily:"Arial",fontSize:"24px",fill:"#ffffff"}),this.sumPoint.x=236,this.sumPoint.y=680,this.sumPoint.anchor.set(.5),this.addChild(this.sumPoint),this.reset()},h.prototype.setPoker=function(t,e){r.prototype.setPoker.call(this,t,e=void 0===e?!0:e);e=t.split(",");e[0]==e[1]&&e[1]==e[2]?this.sumPoint.style.fill="#FFFF00":this.sumPoint.style.fill="#ffffff"};var r,s=h;function h(t){t=r.call(this,t)||this;return t.initUI(),t}t.Poker=s}(FishSCMultiGames=FishSCMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new FishSCMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.FishSCMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){this.infoObj={},this.keyArr=["MAX","MIN","SIC_SINGLE","SIC_TWODICE_PLAY"],this.initTxt()}e.prototype.initTxt=function(){for(var t=["ROUNDBETMAX","ROUNDBETMIN","SIC_SINGLE","SIC_TWODICE_PLAY"],e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]]={},this.infoObj[this.keyArr[e]].title=IPL.DictManager.getDict(t[e])},e.prototype.setData=function(t,e){var i=["roundBetMax","roundBetMin","singleMax","twoDiceMax"],n=[null,null,"singleMin","twoDiceMin"],a=[null,null,null,null];"1"!=(e=void 0===e?"1":e)&&(a=[null,null,"1:1","1:5"]);for(var o=0;o<this.keyArr.length;o++)this.infoObj[this.keyArr[o]].limit=String(t.getLimit(i[o])),null!=n[o]&&(this.infoObj[this.keyArr[o]].limitMin=String(t.getLimit(n[o]))),null!=a[o]&&(this.infoObj[this.keyArr[o]].ratio=a[o])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(FishSCThLogicShare=FishSCThLogicShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.initUI=function(){},n.prototype.initTxt=function(){null!=this.limitTitleTxt&&(this.limitTitleTxt.text=IPL.DictManager.getDict("LIMITBTN")),null!=this.roundBetMinTxt&&(this.roundBetMinTxt.text=IPL.DictManager.getDict("ROUNDBETMIN")),null!=this.roundBetMaxTxt&&(this.roundBetMaxTxt.text=IPL.DictManager.getDict("ROUNDBETMAX")),null!=this.singleTxt&&(this.singleTxt.text=IPL.DictManager.getDict("SIC_SINGLE")),null!=this.twoDiceTxt&&(this.twoDiceTxt.text=IPL.DictManager.getDict("SIC_TWODICE_PLAY"))},n.prototype.setData=function(t){null!=this.roundBetMin&&(this.roundBetMin.text=String(t.getLimit("roundBetMin"))),null!=this.roundBetMax&&(this.roundBetMax.text=String(t.getLimit("roundBetMax"))),null!=this.singleMin&&(this.singleMin.text=String(t.getLimit("singleMin"))),null!=this.twoDiceMin&&(this.twoDiceMin.text=String(t.getLimit("twoDiceMin"))),null!=this.singleMax&&(this.singleMax.text=String(t.getLimit("singleMax"))),null!=this.twoDiceMax&&(this.twoDiceMax.text=String(t.getLimit("twoDiceMax")))},n);function n(){var t=e.call(this)||this;return t.initUI(),t.initTxt(),t}t.LimitPanel=i}(FishSCThShare=FishSCThShare||{}),!function(t){function e(){}e.getResultArea=function(t){var e=[[]];return e[1]=[1],e[2]=[1,2,19],e[3]=[1,3,12],e[4]=[1,4,18],e[5]=[1,5,9],e[6]=[1,6,10],e[7]=[1,2,19],e[8]=[1,2,3,12,13,19],e[9]=[1,2,4,16,18,19],e[10]=[1,2,5,9,14,19],e[11]=[1,2,6,10,11,19],e[12]=[1,3,12],e[13]=[1,3,4,12,18,17],e[14]=[1,3,5,9,12,15],e[15]=[1,3,6,10,12,20],e[16]=[1,4,18],e[17]=[1,4,5,7,9,18],e[18]=[1,4,6,8,10,18],e[19]=[1,5,9],e[20]=[1,5,6,9,10,21],e[21]=[1,6,10],e[22]=[2],e[23]=[2,3,13],e[24]=[2,4,16],e[25]=[2,5,14],e[26]=[2,6,11],e[27]=[2,3,13],e[28]=[2,3,4,13,16,17],e[29]=[2,3,5,13,14,15],e[30]=[2,3,6,11,13,20],e[31]=[2,4,16],e[32]=[2,4,5,7,14,16],e[33]=[2,4,6,8,11,16],e[34]=[2,5,14],e[35]=[2,5,6,11,14,21],e[36]=[2,6,11],e[37]=[3],e[38]=[3,4,17],e[39]=[3,5,15],e[40]=[3,6,20],e[41]=[3,4,17],e[42]=[3,4,5,7,15,17],e[43]=[3,4,6,8,17,20],e[44]=[3,5,15],e[45]=[3,5,6,15,20,21],e[46]=[3,6,20],e[47]=[4],e[48]=[4,5,7],e[49]=[4,6,8],e[50]=[4,5,7],e[51]=[4,5,6,7,8,21],e[52]=[4,6,8],e[53]=[5],e[54]=[5,6,21],e[55]=[5,6,21],e[56]=[6],e[t]},t.FishSCResultArea=e}(FishSCThLogicShare=FishSCThLogicShare||{}),!function(t){var o,e=PIXI.Container,e=(__extends(i,o=e),i.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();var i,n=t.split(",");if(",,"!==t&&" , , "!==t&&""!==t)for(var a=0;a<3;a++)0<(i=parseInt(n[a]))&&(this.diceOnPanel[a][i-1].visible=!0),0},i.prototype.reset=function(){for(var t=0;t<this.diceOnPanel.length;t++)for(var e=this.diceOnPanel[t].length,i=0;i<e;i++)this.diceOnPanel[t][i].visible=!1},i);function i(t){var e=o.call(this)||this;e.diceOnPanel=[];for(var i=0;i<3;i++){for(var n=[],a=0;a<6;a++)n.push(PIXI.Sprite.fromImage(t+"000"+a.toString())),n[a].visible=!1;e.diceOnPanel.push(n)}return e.reset(),e}t.PokerPanel=e}(FishSCThShare=FishSCThShare||{}),!function(t){var i,n=PIXI.Sprite,a=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(o,i),o.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},o.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new s("Multiple_FishSCTh_Poker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},o.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_FishSCth_BetArea"),e=(this.addChild(t),[]),i=1;i<=21;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FishSCth_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e),t=new a(IPL.DictManager.getDict("SIC_TWODICE_PLAY")+"  1:5/1:7",{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"}),this.addChild(t),t.x=235-t.width/2,t.y=335,(t=new a(IPL.DictManager.getDict("SINGLE_DICE")+"  1:1  "+IPL.DictManager.getDict("TWO_DICE")+"  1:2  "+IPL.DictManager.getDict("THREE_DICE")+"  1:12  ",{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"})).style.fontSize=Tools.AdjustText.adjustFontSize(t,13,240),this.addChild(t),t.x=235-t.width/2,t.y=530+t.height/2},o.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=42;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FishSCth_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.FishSCTh(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.5),this._chipStackPanel.resetChipSize(.6)},o.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapSicbo,this._roadmapPanel.x=13,this._roadmapPanel.y=715,null==Tools.TextureStore.repository.Fram1x44&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:16,gridW:26,gridH:130,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x44"});var t=new n(Tools.TextureStore.repository.Fram1x44),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{fontFamily:"Arial",fontSize:"1px",fill:"#000000",align:"center"}),t={roundNum:16,direction:"right",listDir:"Hor",modNum:16,startPosX:-5,startPosY:5,gapX:28,gapY:10,diceSet:{diceName:"Multiple_Hall_FishCS_Dice_th",diceScale:1.1,diceDisY:30}};t.diceSumSet={diceSumStyle:e,posX:10,posY:72},t.BSSet={diceSumStyle:e,posX:10,posY:90},t.smallCol="#000000",t.bigCol="#000000",t.triSameCol="#FFFF00",this._roadmapPanel.initList(t),this.addChild(this._roadmapPanel)},o.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},o.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status?(this._pokerPanel.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("DICING"),!1)):"waiting"==this._status&&(this._pokerPanel.visible=!0),this._roadmapPanel.setStatus(this._status)},o.prototype.setPoker=function(){",,"==this._poker?this._pokerPanel.reset():this._pokerPanel.setPoker(this._poker)},o.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},o.prototype.setResult=function(){var t=FishSCThLogicShare.FishSCResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},o.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new FishSCThLogicShare.LimitPanel,this._limitInfo.setData(t,"2"),{});t.list=this._limitInfo.getLimitInfo(),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},o);function o(){return i.call(this)||this}t.ViewModelTH=e;r=FishSCThShare.PokerPanel,__extends(h,r),h.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");this.addChild(t);for(var e=1;e<=3;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Sicbo_PokerBG","b"+String(e),!1);this.addChild(i)}for(var n=0;n<3;n++)for(var a=0;a<6;a++)this.diceOnPanel[n][a].x=86+115*n,this.diceOnPanel[n][a].y=585,this.addChild(this.diceOnPanel[n][a]);this.reset()};var r,s=h;function h(t){t=r.call(this,t)||this;return t.initUI(),t}t.Pokerth=s}(FishSCMultiGames=FishSCMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new FishSCMultiGames.ViewModelTH,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.FishSCTHMain=i}(MultiGames=MultiGames||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["RMAX","MIN","MAX","FAN","NIM","KWOK","NGA","SSH"],this.titleArr=["ROUNDBETMAX","ROUNDBETMIN","FANTAN_ODDEVEN_BET","FANTAN_FAN_BET","FANTAN_NIM_BET","FANTAN_KWOK_BET","FANTAN_NGA_BET","FANTAN_SSH_BET"],this.limitNameArr=["roundBetMax","roundBetMin","MaxOE","MaxFan","MaxNim","MaxKwok","MaxNga","MaxSsh"],this.limitMinArr=[null,null,"MinOE","MinFan","MinNim","MinKwok","MinNga","MinSsh"]):(this.keyArr=["ODDEVEN","FAN","NIM","KWOK","NGA","SSH","ROUNDBETMIN","ROUNDBETMAX"],this.titleArr=["ODDEVEN","FANTAN_FAN_BET","FANTAN_NIM_BET","FANTAN_KWOK_BET","FANTAN_NGA_BET","FANTAN_SSH_BET","ROUNDBETMIN","ROUNDBETMAX"],this.limitNameArr=["MaxOE","MaxFan","MaxNim","MaxKwok","MaxNga","MaxSsh","roundBetMin","roundBetMax"],this.limitMinArr=["MinOE","MinFan","MinNim","MinKwok","MinNga","MinSsh"],this.ratioArr=["1:0.95","1:2.85","1:1.9","1:0.95","1:0.47","1:0.31","",""]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(FantanLogicShare=FantanLogicShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.initUI=function(){},n.prototype.initTxt=function(){null!=this.limitTitleTxt&&(this.limitTitleTxt.text=IPL.DictManager.getDict("LIMITBTN")),null!=this.roundBetMinTxt&&(this.roundBetMinTxt.text=IPL.DictManager.getDict("MIN_BET")),null!=this.roundBetMaxTxt&&(this.roundBetMaxTxt.text=IPL.DictManager.getDict("FANTAN_ODDEVEN_BET")),null!=this.fanMaxTxt&&(this.fanMaxTxt.text=IPL.DictManager.getDict("FANTAN_FAN_BET")),null!=this.nimMaxTxt&&(this.nimMaxTxt.text=IPL.DictManager.getDict("FANTAN_NIM_BET")),null!=this.kwokMaxTxt&&(this.kwokMaxTxt.text=IPL.DictManager.getDict("FANTAN_KWOK_BET")),null!=this.ngaMaxTxt&&(this.ngaMaxTxt.text=IPL.DictManager.getDict("FANTAN_NGA_BET")),null!=this.sshMaxTxt&&(this.sshMaxTxt.text=IPL.DictManager.getDict("FANTAN_SSH_BET"))},n.prototype.setData=function(t){null!=this.roundBetMin&&(this.roundBetMin.text=String(t.getLimit("roundBetMin"))),null!=this.roundBetMax&&(this.roundBetMax.text=String(t.getLimit("roundBetMax"))),null!=this.fanMax&&(this.fanMax.text=String(t.getLimit("MaxFan"))),null!=this.nimMax&&(this.nimMax.text=String(t.getLimit("MaxNim"))),null!=this.kwokMax&&(this.kwokMax.text=String(t.getLimit("MaxKwok"))),null!=this.ngaMax&&(this.ngaMax.text=String(t.getLimit("MaxNga"))),null!=this.sshMax&&(this.sshMax.text=String(t.getLimit("MaxSsh")))},n);function n(){var t=e.call(this)||this;return t.initUI(),t.initTxt(),t}t.LimitPanel=i}(FantanShare=FantanShare||{}),!function(t){function e(){}e.getResultArea=function(t){var e=[];return e[1]=[1,5,6,7,17,20,24,25,27,28,30,31,34,35,36,37],e[2]=[2,8,9,10,17,18,21,22,27,29,30,32,33,35,36,38],e[3]=[3,11,12,13,18,19,21,23,24,26,31,32,33,34,36,37],e[4]=[4,14,15,16,19,20,22,23,25,26,28,29,33,34,35,38],e[t]},t.FanTanResultArea=e}(FantanLogicShare=FantanLogicShare||{}),!function(t){var i,n=PIXI.Container,e=(__extends(a,i=n),a.prototype.initUI=function(t){for(var e=0;e<4;e++){var i=PIXI.Sprite.fromImage(t.whiteName);this.whiteAry.push(i),this.buttonCon.addChild(i),i.x=e*t.posX,null!=t.scale&&i.scale.set(t.scale,t.scale)}null!=t.initPosX&&(this.buttonCon.x=t.initPosX),null!=t.initPosY&&(this.buttonCon.y=t.initPosY),this.clearPoker()},a.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.clearPoker();for(var i=0;i<Number(t);i++)null!=this.whiteAry[i]&&(this.whiteAry[i].visible=!0)},a.prototype.clearPoker=function(){for(var t=this.whiteAry.length,e=0;e<t;e++)null!=this.whiteAry[e]&&(this.whiteAry[e].visible=!1)},a);function a(t){var e=i.call(this)||this;return e.whiteAry=[],e.buttonCon=new n,e.addChild(e.buttonCon),e.initUI(t),e}t.PokerPanel=e}(FantanShare=FantanShare||{}),!function(t){var e,i=PIXI.Container,i=(__extends(n,e=i),n.prototype.init=function(){},n.prototype.setStatisticsInfo=function(t,e){this.hasPer=e,this.reset();for(var i=[t.OneNum,t.TwoNum,t.ThreeNum,t.FourNum],n=0,a=0;a<i.length;a++)n+=i[a];if(0!=n)for(var o,a=0;a<i.length;a++)this.allTxt[a].text=String(i[a]),this.hasPer&&(o=(new ShareLogic.DigitalLogic).numtoFix4(i[a]/n)+"%",this.allTxt[a].text+="/"+o),null!=this.allBar[a]&&(this.allBar[a].scale.x=i[a]/n)},n.prototype.reset=function(){for(var t=0;t<this.allTxt.length;t++)this.allTxt[t].text="0",this.hasPer&&(this.allTxt[t].text+="/0%"),null!=this.allBar[t]&&(this.allBar[t].scale.x=0)},n);function n(){var t=e.call(this)||this;return t.allTitleIcon=[],t.allBar=[],t.allTxt=[],t}t.StatisticsPanel=i}(FantanShare=FantanShare||{}),!function(t){var i,n=PIXI.Graphics,a=PIXI.Sprite,e=(i=ShareMultiGames.ViewModel,__extends(o,i),o.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},o.prototype.initShareUI=function(){i.prototype.initShareUI.call(this);var t={whiteName:"Multiple_SeDie_PokerIcon0001",posX:85,initPosX:77,initPosY:600};this._pokerPanel=new p(t),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},o.prototype.initBetArea=function(){for(var i=this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_FanTan_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FanTan_Bet1Fan_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FanTan_Bet2Fan_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FanTan_Bet3Fan_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FanTan_Bet4Fan_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FanTan_BetEven_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FanTan_BetOdd_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),n=0;n<=3;n++)e[n]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FanTan_BetKwok_"+IPL.UrlParameter.lang,"b"+String(n),!1),this.addChild(e[n]);for(var a=[],n=0;n<=11;n++)a[n]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FanTan_BetNim_"+IPL.UrlParameter.lang,"b"+String(n),!1),this.addChild(a[n]);for(var o=[],n=1;n<=38;n++){var r,s=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FanTan_BetWin","b"+String(n));null!=s&&(n<5?(r=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FanTan_Sensor","b"+String(n)),o[n]=new g(r),o[n].setPixelBet("MultiGames_element","Multiple_FanTan_Sensor_b"+String(n)+"0000")):o[n]=new ShareUI.betSprBlock(s),o[n].name="b"+String(n),this.addChild(o[n]))}this.fantan1to4=[];for(var h=this,n=1;n<=4;n++)!function(e){h.fantan1to4[e]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_FanTan_BetWin","b"+String(e)),h.addChild(h.fantan1to4[e]),h.fantan1to4[e].alpha=0,o[e]._eve.on("TEST",function(t){i.setFanTan1to4(e,t)})}(n);this._betAreaPanel=new SharePanel.BlockBetSensorPanel(o)},o.prototype.setFanTan1to4=function(t,e){this.fantan1to4[t].alpha=e},o.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=38;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FanTan_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.FanTanBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.4),this._chipStackPanel.resetChipSize(.6)},o.prototype.initRoadInfo=function(){this._roadmapPanel=new s,this._roadmapPanel.x=8,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x19&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:19,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x19"});var t=new a(Tools.TextureStore.repository.Fram6x19),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new n),t=(e.beginFill(13421772),e.drawRect(0,0,450,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3015",e.cellName="Multiple_Hall_Sedie_roadEmpty",e.gridRow=6,e.gridCol=19,e.gapX=24,e.gapY=24,e.startPosX=3,e.startPosY=3,e.scale=1,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.cellName="Multiple_cellNormal",t.gridRow=6,t.gridCol=19,t.gapX=24,t.gapY=24,t.startPosX=3,t.startPosY=3,t.scale=1,this._roadmapPanel.initRoadNormal(t),{}),t=(e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=38,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=19,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{});e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=19,e.gapX=12,e.gapY=12,e.startPosX=227,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),this._roadmapPanel.addRoadmap(["map2A"]),this._roadmapPanel.setNowRoadmap("roadmap2A"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},o.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},o.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status?(this._pokerPanel.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_THE_RESULT"),!1)):"waiting"==this._status&&(this._pokerPanel.visible=!0)},o.prototype.setPoker=function(){""==this._poker?this._pokerPanel.clearPoker():this._pokerPanel.setPoker(this._poker)},o.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap,"")},o.prototype.setResult=function(){var t=FantanLogicShare.FanTanResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t)},o.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new FantanLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["ODDEVEN","FAN","NIM","NGA","KWOK","SSH","ROUNDBETMIN","ROUNDBETMAX"]),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},o);function o(){return i.call(this)||this}t.ViewModel=e;r=SharePanel.RoadmapSedie,__extends(h,r),h.prototype.initRoadNormal=function(t){this.normalRoad=new c(t)},h.prototype.setRoundNum=function(t){for(var e=t.split(","),i=0,n=0,a=0,o=0,r=0,s=0,h={},l=0;l<e.length;l++){var c=Number(e[l]);if(h.gameKey=this.gameKey,"3011"==this.gameType)switch(c){case 1:i++,r++;break;case 2:n++,s++;break;case 3:r++;break;case 4:a++,s++;break;case 5:o++,r++}else"3015"==this.gameType&&(1==c?(i++,r++):2==c?(n++,s++):3==c?(a++,r++):4==c&&(o++,s++))}h.OddNum=s,h.EvenNum=r,h.OneNum=i,h.TwoNum=n,h.ThreeNum=a,h.FourNum=o,this.roundObj={};t=new VideoShare.RoadmapEvent(VideoShare.RoadmapEvent.SUMROADMAP);t.data=h,this.roundObj=h,this.event.dispatchEvent(t)},h.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.normalRoad),this._nowRamp="normalRoad"):"normalRoad"==this._nowRamp?(this.removeMc(this.normalRoad),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp&&(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A")};var r,s=h;function h(){return r.call(this)||this}t.Roadmap=s;l=ShareRoad.roadmapPanelNormal,__extends(u,l),u.prototype.redraw=function(t){for(var e=[],i=0;i<t.length;i++)e.push(String(Number(t[i])+1));l.prototype.redraw.call(this,e)},u.prototype.setRoadmapData=function(t){l.prototype.setRoadmapData.call(this,t),""!=t&&null!=t||this.resetCell()};var l,c=u;function u(t){return l.call(this,t)||this}t.NormalRoad=c;d=FantanShare.PokerPanel,__extends(f,d);var d,p=f;function f(t){var e=d.call(this,t)||this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");e.addChildAt(t,0);for(var i=1;i<=4;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_SeDie_PokerBG","b"+String(i));e.addChildAt(n,1)}return e}t.Poker=p;var _,m=PIXI.utils.EventEmitter,g=(_=ShareUI.betPixelBlock,__extends(v,_),v.prototype.onButtonMove=function(t){_.prototype.onButtonMove.call(this,t),this._eve.emit("TEST",this.bet.alpha)},v.prototype.onButtonOver=function(){_.prototype.onButtonOver.call(this),this._eve.emit("TEST",this.bet.alpha)},v.prototype.onButtonOut=function(){_.prototype.onButtonOut.call(this),this._eve.emit("TEST",this.bet.alpha)},v.prototype.setBetAlpha=function(t){_.prototype.setBetAlpha.call(this,t),this._eve.emit("TEST",this.bet.alpha)},v.prototype.setResultAlpha=function(t){_.prototype.setResultAlpha.call(this,t),this._eve.emit("TEST",this.frame.alpha)},v);function v(t){t=_.call(this,t)||this;return t._eve=new m,t.bet=new a,t.frame=new a,t}t.betPixel=g}(FanTanMultiGames=FanTanMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new FanTanMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.FanTanMain=i}(MultiGames=MultiGames||{}),!function(t){i=Composite.EventContainer,__extends(n,i),n.prototype.initUI=function(){},n.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();var i,n,e=t.split(",");"P.7"==e[0]&&null!=this.sevenPoker&&(this.sevenPoker.visible=!0,null!=this.lightBg)&&(this.sevenPoker.y=this.endY,this.sevenPoker.alpha=1,this.nowIndex=this.pointArr.indexOf("7")),""==e[0]||"X"==e[0]||""!=e[1]&&"X"!=e[1]?""!=e[0]&&"X"!=e[0]&&""!=e[1]&&"X"!=e[1]&&(null==this.loadTimer&&(this.sevenPoker.visible=!1),t=e[0].split("."),t=this.pointArr.indexOf(t[1]),this.prePoker.setPoker(e[0]),this.prePoker.alpha=1,null!=this.lightBg&&(i=this.posArr[t],null!=this.pokerPosArr&&(i=this.pokerPosArr[t]),this.prePoker.position=i,-1==this.nowIndex)&&(this.lightBg.position=this.posArr[t],this.nowIndex=t),i=e[1].split("."),t=this.pointArr.indexOf(i[1]),this.goal=t,this.nowPoker.setPoker(e[1]),null!=this.lightBg?(n=this.posArr[t],null!=this.pokerPosArr&&(n=this.pokerPosArr[t]),this.nowPoker.position=n,null==this.loadTimer&&(this.lightBg.position=this.posArr[t],this.nowPoker.alpha=1,this.prePoker.alpha=0)):this.nowPoker.alpha=1):(i=e[0].split("."),t=this.pointArr.indexOf(i[1]),null!=this.sevenPoker&&this.sevenPoker.visible?this.prePoker.alpha=0:(this.prePoker.setPoker(e[0]),this.prePoker.alpha=1),null!=this.lightBg&&(n=this.posArr[t],null!=this.pokerPosArr&&(n=this.pokerPosArr[t]),this.prePoker.position=n,this.lightBg.position=this.posArr[t],this.nowIndex=t))},n.prototype.startLight=function(){var t=this;null!=this.lightBg&&(null!=this.loadTimer&&(clearInterval(this.loadTimer),this.loadTimer=null),this.loadTimer=setInterval(function(){t.onInterval()},120))},n.prototype.endLight=function(){null!=this.lightBg&&(this.forceEndLight(),this.startChange())},n.prototype.forceEndLight=function(){null!=this.loadTimer&&(clearInterval(this.loadTimer),this.loadTimer=null)},n.prototype.onInterval=function(){0==this.nowIndex?this.dir="right":11==this.nowIndex&&(this.dir="left"),"right"==this.dir?this.nowIndex++:"left"==this.dir&&this.nowIndex--,this.lightBg.position=this.posArr[this.nowIndex],this.nowIndex==this.goal&&this.endLight()},n.prototype.startChange=function(){var t=this;null!=this.lightBg&&(null!=this.changeTimer&&(clearInterval(this.changeTimer),this.changeTimer=null),this.nowPoker.y=this.startY,this.pokerAlpha=0,this.nowPoker.alpha=this.pokerAlpha,this.changeTimer=setInterval(function(){t.onChange()},150))},n.prototype.endChange=function(){null!=this.lightBg&&(null!=this.changeTimer&&(clearInterval(this.changeTimer),this.changeTimer=null),null!=this.sevenPoker)&&(this.sevenPoker.visible=!1)},n.prototype.onChange=function(){var t;this.nowPoker.y>=this.endY?(this.goal=-1,this.endChange()):(this.pokerAlpha=this.pokerAlpha+.2,t=1-this.pokerAlpha,null!=this.sevenPoker&&this.sevenPoker.visible?(this.prePoker.alpha=0,this.sevenPoker.y-=this.stepY,this.sevenPoker.alpha=t):(this.prePoker.y-=this.stepY,this.prePoker.alpha=t),this.nowPoker.y+=this.stepY,this.nowPoker.alpha=this.pokerAlpha)},n.prototype.reset=function(){this.goal=-1,this.sevenPoker.visible=!1,this.prePoker.alpha=0,this.nowPoker.alpha=0},n.prototype.resetAnimate=function(){null!=this.loadTimer&&(clearInterval(this.loadTimer),this.loadTimer=null)};var i,e=n;function n(t){var e=i.call(this)||this;return e.loadTimer=null,e.dir="right",e.nowIndex=-1,e.goal=-1,e.changeTimer=null,e.prePoker=new ShareUI.PokerUI(t),e.nowPoker=new ShareUI.PokerUI(t),e.posArr=[],e.pointArr=["2","3","4","5","6","7","8","9","11","12","13","1"],e}t.PokerPanel=e}(HiloShare=HiloShare||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX","SAME","ODDEVEN","BLACKRED","POINT"],this.titleArr=["MIN_BET","MAX_BET","HILO_MAX_SAME_BET","FANTAN_ODDEVEN_BET","HILO_MAX_RED_BLACK_BET","HILO_MAX_POINT_BET"],this.limitNameArr=["roundBetMin","roundBetMax","maxSame","maxOE","maxRB","maxPoint"]):(this.keyArr=["HEIGHER","LOWER","POINT","SAME","BLACKRED","ODDEVEN"],this.titleArr=["HILO_HEIGHER","HILO_LOWER","2/3/4/5 6/7/8/9 J/Q/K/A","HILO_SAME","REDBLACK","ODDEVEN"],this.limitNameArr=["roundBetMax","roundBetMax","maxPoint","maxSame","maxRB","maxOE"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(HiloLogicShare=HiloLogicShare||{}),!function(t){var i,n=PIXI.Sprite,a=PIXI.Point,o=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(r,i),r.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo(),this._runOdds=""},r.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new u("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},r.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_Bet2345Txt")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_Bet6789Txt")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetJQKATxt")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetRedTxt")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetBlackTxt")),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetEvenTxt_"+IPL.UrlParameter.lang)),e=PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetOddTxt_"+IPL.UrlParameter.lang),t=(this.addChild(t),this.addChild(e),PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetHightTxt_"+IPL.UrlParameter.lang)),e=PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetSnapTxt_"+IPL.UrlParameter.lang),i=PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_BetLowerTxt_"+IPL.UrlParameter.lang),n=(this.addChild(t),this.addChild(e),this.addChild(i),this._oddsPanel=new h,this.addChild(this._oddsPanel),[]),a=1;a<=10;a++){var o=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Hilo_BetWin","b"+String(a));null!=o&&(n[a]=new ShareUI.betSprBlock(o),n[a].name="b"+String(a),this.addChild(n[a]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(n),this._closeBetAry=[];for(var r=1;r<=10;r++)this._closeBetAry[r]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Hilo_BetAreaNO","b"+String(r),!1),this.addChild(this._closeBetAry[r]),this._closeBetAry[r].interactive=!0,this._closeBetAry[r].visible=!1},r.prototype.init=function(){this._runOdds="",i.prototype.init.call(this)},r.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=10;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Hilo_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.HiloBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},r.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapHiLo,this._roadmapPanel.x=12,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram1x16x142H&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:16,gridW:26,gridH:142,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x16x142H"});var t=new n(Tools.TextureStore.repository.Fram1x16x142H),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),{fontFamily:"微軟正黑體",fontSize:"25px",fill:"#FFFFFF",align:"center",fontWeight:"bold"}),t={listDir:"Hor",roundNum:16,direction:"right",modNum:16,startPosX:2,startPosY:30,gapX:28,gapY:25,pokerSet:{pokerName:"SimplePoker",pokerScale:.3}};t.HLSet={HLStyle:e,posX:11,posY:50,anchor:{x:.5,y:.5}},t.OESet={OEStyle:e,posX:11,posY:74,anchor:{x:.5,y:.5}},t.highCol="#FF0000",t.SameCol="#00FF00",t.lowCol="#00BFFF",this._roadmapPanel.initList(t),this.addChild(this._roadmapPanel)},r.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},r.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"!=this._status&&"waiting"!=this._status||(this._pokerPanel.visible=!0),this._roadmapPanel.setStatus(this._status)},r.prototype.setPoker=function(){this._pokerPanel.setPoker(this._poker),this._pokerPanel.setPoint(this._poker)},r.prototype.checkCloseBet=function(){if(""!=this._runOdds){this._betButton.unlocked(!0);for(var t=1;t<this._closeBetAry.length;t++)this._oddsPanel.getClose(this._runOdds)==t?this._closeBetAry[t].visible=!0:this._closeBetAry[t].visible=!1;for(t=1;t<this._closeBetAry.length;t++)this._closeBetAry[t].visible&&0!=this.vModel.getLastCommitInfo().getAmount(t)&&this._betButton.setRebetUnlocked(!1)}},r.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this),this._runOdds!=this.vModel.getGameInfo().getRunOdds()&&(this._runOdds=this.vModel.getGameInfo().getRunOdds(),this._oddsPanel.setOddsNum(this._runOdds),this.checkCloseBet())},r.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},r.prototype.setResult=function(){var t=[];(t=t.concat(this._pokerPanel.setShow(this._poker))).push(this._result),this._betAreaPanel.showResult(t)},r.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new HiloLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["HEIGHER","LOWER","SAME","ODDEVEN","BLACKRED","POINT"]),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},r);function r(){return i.call(this)||this}t.ViewModel=e;s=PIXI.Container,__extends(l,s),l.prototype.init=function(){var t={fontFamily:"微軟正黑體",fontSize:"20px",fill:"#FFFFFF",align:"center",fontWeight:"bold"};this.Oddtxt=[];for(var e=0;e<10;e++)this.Oddtxt[e]=new o(" ",t),this.Oddtxt[e].x=130,this.Oddtxt[e].y=30*e,this.addChild(this.Oddtxt[e]),this.Oddtxt[e].anchor.set(.5);this.Oddtxt[0].x=this.Oddtxt[5].x=390,this.Oddtxt[1].x=this.Oddtxt[4].x=235,this.Oddtxt[2].x=this.Oddtxt[3].x=80,this.Oddtxt[6].x=60,this.Oddtxt[7].x=177,this.Oddtxt[8].x=294,this.Oddtxt[9].x=411,this.Oddtxt[0].y=this.Oddtxt[1].y=this.Oddtxt[2].y=465,this.Oddtxt[3].y=this.Oddtxt[4].y=this.Oddtxt[5].y=385,this.Oddtxt[6].y=this.Oddtxt[7].y=this.Oddtxt[8].y=this.Oddtxt[9].y=545},l.prototype.setOddsNum=function(t){for(var e=t.split(","),i=0;i<e.length;i++)"0"==e[i]?this.Oddtxt[i].text=" ":this.Oddtxt[i].text="1:"+e[i]},l.prototype.getClose=function(t){for(var e=t.split(","),i=0,n=0;n<e.length;n++)"0"==e[n]&&(i=n+1);return i};var s,h=l;function l(){var t=s.call(this)||this;return t.init(),t}t.InPlayOdds=h;c=HiloShare.PokerPanel,__extends(d,c),d.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");this.addChild(t);for(var e=1;e<=2;e++){var i=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Hilo_PokerBG","b"+String(e),!1);this.addChild(i)}var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_PokerCurrent_"+IPL.UrlParameter.lang),n=PIXILayoutTool.DisplayObject.createImage("Multiple_Hilo_PokerPrevious_"+IPL.UrlParameter.lang),t=(this.addChild(t),this.addChild(n),this.prePoker.x=123,this.prePoker.y=616,this.nowPoker.x=306,this.nowPoker.y=616,this.prePoker.scale=this.nowPoker.scale=new a(.54,.53),this.addChild(this.prePoker),this.addChild(this.nowPoker),{fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"});this.nowPoint=new o(" ",t),this.nowPoint.x=340,this.nowPoint.y=580,this.addChild(this.nowPoint),this.prePoint=new o(" ",t),this.prePoint.x=155,this.prePoint.y=580,this.addChild(this.prePoint),this.sevenPoker=PIXI.Sprite.fromImage("Multiple_Hilo_Seven0000"),this.addChild(this.sevenPoker),this.sevenPoker.x=123,this.sevenPoker.y=616},d.prototype.setPoint=function(t){var e,t=t.split(",");1<t.length&&(e=t[0].split("."),t=t[1].split("."),this.prePoint.text=1<e.length?e[1]:"",this.nowPoint.text=1<e.length?t[1]:"")},d.prototype.setShow=function(t){var e=t.split(",")[1].split(".")[0],t=Number(t.split(",")[1].split(".")[1]),i=[];return i.push("S"==e||"C"==e?8:7),i.push(2<=t&&t<=5?4:6<=t&&t<=9?5:6),i.push(t%2==0?10:9),i};var c,u=d;function d(t){t=c.call(this,t)||this;return t.initUI(),t}t.Poker=u}(HiloMultiGames=HiloMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new HiloMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.HiloMain=i}(MultiGames=MultiGames||{}),!function(t){var n,s=PIXI.Container,i=PIXI.Graphics,a=PIXI.Sprite,o=PIXI.Point,h=PIXI.Text,e=(n=ShareMultiGames.ViewModel,__extends(r,n),r.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initInsUI(),this._statisticsPanel=new p,this.addChild(this._statisticsPanel),this.initRoadInfo()},r.prototype.initShareUI=function(){n.prototype.initShareUI.call(this),this._pokerPanel=new y("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel),this._removeType=0,this._betButton.setRebetShow(!1),this._betButton.setUndoShow(!1)},r.prototype.initInsUI=function(){this._aryClose=[],this._aryClose[0]=PIXILayoutTool.DisplayObject.createImage("Normal_InsBac_FrameB"),this._aryClose[0].interactive=!0,this._aryClose[1]=PIXILayoutTool.DisplayObject.createImage("Normal_InsBac_FrameP"),this._aryClose[1].interactive=!0,this._aryClose[2]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_InsBac_BetWin","b17"),this._aryClose[3]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_InsBac_BetWin","b16");for(var t=0;t<this._aryClose.length;t++)this.addChild(this._aryClose[t]),this._aryClose[t].visible=!1;this._InsBetPanel=new m("SimplePoker"),this.addChild(this._InsBetPanel),this._InsBetPanel.visible=!1,this._InsBetPanel.interactive=!0},r.prototype.removeHandle=function(){n.prototype.removeHandle.call(this),this._InsBetPanel.event.removeEventListener(VideoShare.VideoGameEvent.COMMIT,this.insbetEvent)},r.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetBigTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetPlayerPTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),i=(this.addChild(e),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetSmallTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetTieTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetBankerTxt_"+IPL.UrlParameter.lang)),i=(this.addChild(e),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetBankerPTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetBIns_"+IPL.UrlParameter.lang)),e=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetPIns_"+IPL.UrlParameter.lang)),n=(this.addChild(e),[]),a=1;a<=17;a++){var o=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_InsBac_BetWin","b"+String(a));null!=o&&(n[a]=new ShareUI.betSprBlock(o),n[a].name="b"+String(a),this.addChild(n[a]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(n),this._closeBetCon=new s,this.addChild(this._closeBetCon),this._closeBetCon.interactive=!0,this._closeBetCon.visible=!1;for(a=6;a<=7;a++){var r=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_InsBac_BetNO","b"+String(a));this._closeBetCon.addChild(r)}i={fontFamily:"Arial",fontSize:"15px",fill:16777215};this._closePairBetCon=new s,this.addChild(this._closePairBetCon),this._closePairBetCon.interactive=!0,this._closePairBetCon.visible=!1;for(a=4;a<=5;a++){r=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_InsBac_BetNO","b"+String(a));this._closePairBetCon.addChild(r)}this.oddPTxt=new h("",i),this.addChild(this.oddPTxt),this.oddPTxt.x=116,this.oddPTxt.anchor.set(.5),this.oddBTxt=new h("",i),this.addChild(this.oddBTxt),this.oddBTxt.anchor.set(.5),this.oddBTxt.x=350,this.oddBTxt.y=this.oddPTxt.y=370},r.prototype.configureCostumeListener=function(){n.prototype.configureCostumeListener.call(this),this._InsBetPanel.event.addEventListener(VideoShare.VideoGameEvent.COMMIT,this.insbetEvent)},r.prototype.initChipPosition=function(){n.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=17;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_InsBac_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.InsurBacBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},r.prototype.initRoadInfo=function(){this._roadmapPanel=new c,this._roadmapPanel.x=56,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x17&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x17"});var t=new a(Tools.TextureStore.repository.Fram6x17),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new i),t=(e.beginFill(13421772),e.drawRect(0,0,390,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3001",e.cellB="Multiple_cellRed0000",e.cellP="Multiple_cellBlue0000",e.cellT="Multiple_tieLine0000",e.gridRow=6,e.gridCol=17,e.gapX=24,e.gapY=24,e.startPosX=2,e.startPosY=2,e.scale=1,e.cellT1=-2,e.cellT2=1,e.cellT3=4,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.gameType="3001",t.cellB="Multiple_Bac_Bbanker0000",t.cellP="Multiple_Bac_Bplayer0000",t.cellT="Multiple_Bac_Btie0000",t.cellBP="Multiple_Bac_BpairBanker0000",t.cellPP="Multiple_Bac_BpairPlayer0000",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=2,t.startPosY=2,t.scale=1,t.tStyle={fontFamily:"Arial",fontSize:"18px",fill:"#000000",fontWeight:"bold"},this._roadmapPanel.initRoadB(t),{}),t=(e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=34,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=17,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{}),t=(e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=17,e.gapX=12,e.gapY=12,e.startPosX=203,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),{});t.cellB="Multiple_Bac_BSCell0000",t.cellP="Multiple_Bac_BSCell0001",t.cellBE="Multiple_Bac_BSCell0002",t.cellPE="Multiple_Bac_BSCell0003",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=3,t.startPosY=3,t.scale=1,this._roadmapPanel.initRoadD(t),this._roadmapPanel.addRoadmap(["map2A"]),this._roadmapPanel.setNowRoadmap("roadmap2A"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},r.prototype.configureModelListener=function(){n.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},r.prototype.onStatusChanged=function(t){n.prototype.onStatusChanged.call(this,t=void 0===t?null:t),this._betAreaPanel.setSingleBetMouseStatus(16,!1),this._betAreaPanel.setSingleBetMouseStatus(17,!1);for(var e=0;e<this._aryClose.length;e++)this._aryClose[e].visible=!1;this._InsBetPanel.visible=!1,"betting"==this._status?(this._pokerPanel.visible=!1,this._removeType=0):"dealing"==this._status?this._pokerPanel.visible=!0:"PlayerInsBet"==this._status?(this._removeType+=16,this._aryClose[0].visible=!0,this._aryClose[2].visible=!0,this._pokerPanel.visible=!1):"BankerInsBet"==this._status?(this._removeType+=17,this._aryClose[1].visible=!0,this._aryClose[3].visible=!0,this._pokerPanel.visible=!1):"waiting"==this._status&&(this._pokerPanel.visible=!0)},r.prototype.onBetInfo=function(t){n.prototype.onBetInfo.call(this,t),"BankerInsBet"!=this._status&&"PlayerInsBet"!=this._status||this._InsBetPanel.visible&&(this._betButton.unlocked(!0),this.checkCloseBet())},r.prototype.onAddBet=function(t){var e,i;"BankerInsBet"==this._status||"PlayerInsBet"==this._status?(e="",i=this._chipValue,"BankerInsBet"==this._status?(this._betType=16,Number(this.vModel.getAddBetInfo().getAmount(16))+i>this._InsBetPanel.getMax()&&(e=IPL.DictManager.getDict("INSBAC_BANKER")+" ， "+IPL.DictManager.getDict("OVER_MAX"))):"PlayerInsBet"==this._status&&(this._betType=17,Number(this.vModel.getAddBetInfo().getAmount(17))+i>this._InsBetPanel.getMax())&&(e=IPL.DictManager.getDict("INSBAC_PLAYER")+" ， "+IPL.DictManager.getDict("OVER_MAX")),""==e?this.vModel.addBet(this._betType,i):Tools.AlertPanel.showAlert(IPL.DictManager.getDict(e),3e3,"",!0,!0)):n.prototype.onAddBet.call(this,t)},r.prototype.onBetInfoCommitted=function(t){n.prototype.onBetInfoCommitted.call(this,t),"TOTAL_BET"!=t.status||"BankerInsBet"!=this._status&&"PlayerInsBet"!=this._status?null==t.status||"TOTAL_BET"==t.status||"BankerInsBet"!=this._status&&"PlayerInsBet"!=this._status||this._InsBetPanel.visible&&(this._betButton.unlocked(!0),this.checkCloseBet()):this._InsBetPanel.visible&&(this._InsBetPanel.visible=!1)},r.prototype.checkCloseBet=function(){for(var t=!1,e=6;e<=7;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(t=!0);20<Number(this._roundNum.split("-")[1])&&t&&this._betButton.setRebetUnlocked(!t),20<Number(this._roundNum.split("-")[1])?this._closeBetCon.visible=!0:this._closeBetCon.visible=!1;for(var i=!1,e=4;e<=5;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(i=!0);55<Number(this._roundNum.split("-")[1])&&i&&this._betButton.setRebetUnlocked(!i),55<Number(this._roundNum.split("-")[1])?this._closePairBetCon.visible=!0:this._closePairBetCon.visible=!1},r.prototype.onAddInsBet=function(t){var e="",t=t.data.betAmount;"BankerInsBet"==this._status?(this._betType=16,Number(this.vModel.getAddBetInfo().getAmount(16))+t>this._InsBetPanel.getMax()&&(e=IPL.DictManager.getDict("INSBAC_BANKER")+" ， "+IPL.DictManager.getDict("OVER_MAX"))):"PlayerInsBet"==this._status&&(this._betType=17,Number(this.vModel.getAddBetInfo().getAmount(17))+t>this._InsBetPanel.getMax())&&(e=IPL.DictManager.getDict("INSBAC_PLAYER")+" ， "+IPL.DictManager.getDict("OVER_MAX")),""==e?this.vModel.addBet(this._betType,t):Tools.AlertPanel.showAlert(IPL.DictManager.getDict(e),3e3,"",!0,!0)},r.prototype.checkInsPanel=function(){"PlayerInsBet"==this._status?(this._countDownMc.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("INSBAC_BET_WAIT")+"  "+this.vModel.getGameInfo().getCountdown(),!1),0<this.vModel.getCommitInfo().getAmount(2)&&(this._InsBetPanel.setData(this._InsOdd,this.vModel.getCommitInfo().getAmount(2),this._limitMin),this.vModel.getLimiter().setInsMin(this._status,this._InsBetPanel.getMin()),0<this.vModel.getCommitInfo().getAmount(17)?(this._InsBetPanel.visible=!1,this._betAreaPanel.setSingleBetMouseStatus(17,!1)):(this._InsBetPanel.setPoker(this._poker),this._betAreaPanel.setSingleBetMouseStatus(17,!0),this._InsBetPanel.visible=!0)),this._pokerPanel.visible=!this._InsBetPanel.visible):"BankerInsBet"==this._status&&(this._countDownMc.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("INSBAC_BET_WAIT")+"  "+this.vModel.getGameInfo().getCountdown(),!1),0<this.vModel.getCommitInfo().getAmount(1)&&(this._InsBetPanel.setData(this._InsOdd,this.vModel.getCommitInfo().getAmount(1),this._limitMin),this.vModel.getLimiter().setInsMin(this._status,this._InsBetPanel.getMin()),0<this.vModel.getCommitInfo().getAmount(16)?(this._InsBetPanel.visible=!1,this._betAreaPanel.setSingleBetMouseStatus(16,!1)):(this._InsBetPanel.visible=!0,this._InsBetPanel.setPoker(this._poker),this._betAreaPanel.setSingleBetMouseStatus(16,!0))),this._pokerPanel.visible=!this._InsBetPanel.visible)},r.prototype.onRoundInfo=function(){n.prototype.onRoundInfo.call(this),this._InsOdd!=this.vModel.getGameInfo().getInsOdds()&&(this._InsOdd=this.vModel.getGameInfo().getInsOdds()),null!=this._InsOdd&&"0"!=this._InsOdd&&this.checkInsPanel()},r.prototype.setPoker=function(){",,,,,"==this._poker?this._pokerPanel.reset():(this._pokerPanel.setPoker(this._poker),this._pokerPanel.setStatus(this._status))},r.prototype.setRoadmap=function(){var t=new BacLogicShare.BacTransRoadmap(this._roadMap).GetNewRoad();this._roadmapPanel.setData(t,this._roadMap)},r.prototype.setResult=function(){var t=new BacLogicShare.BacResultArea,e=t.getResultArea(this._result),i=(this._pokerPanel.checkBankerIsSix()||(e=t.notSuperSix(e)),{});i.spCase=this._pokerPanel.checkSprcialCase(this._poker),i.removeType=this._removeType,e=t.setInsBet(e,i),this._betAreaPanel.showResult(e)},r.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new BacLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","PAIR","HIGHT","LOW"]),t.gameType=this.vModel.getGameType(),t.list[6]={titleIcon:"Multiple_InsBTxt_"+IPL.UrlParameter.lang+"0000",limit:""},t.list[7]={title:"\t\t\t\t"+IPL.DictManager.getDict("BANKER_POINT")+" / "+IPL.DictManager.getDict("PLAYER_POINT"),limit:"\t\t\t\t4\t\t\t\t\t\t\t\t/\t\t\t\t\t0-3\n\t\t\t\t5\t\t\t\t\t\t\t\t/\t\t\t\t\t0-4\n\t\t\t\t6\t\t\t\t\t\t\t\t/\t\t\t\t\t0-5\n\t\t\t\t7\t\t\t\t\t\t\t\t/\t\t\t\t\t0-5",ratio:"1:1.2\n1:1.5\n1:2.5\n1:4"},t.list[8]={titleIcon:"Multiple_InsBAfTxt_"+IPL.UrlParameter.lang+"0000",limit:""},t.list[9]={title:"\n\t\t\t\t"+IPL.DictManager.getDict("BANKER_POINT")+" / "+IPL.DictManager.getDict("PLAYER_POINT"),limit:"\n\t\t\t\t1\t\t\t\t\t\t\t\t/\t\t\t\t\t1\n\t\t\t\t1-3\t\t\t\t\t/\t\t\t\t\t0",ratio:"\n1:5\n1:9"},t.list[10]={titleIcon:"Multiple_InsPTxt_"+IPL.UrlParameter.lang+"0000",limit:""},t.list[11]={title:"\n\n\t\t\t\t"+IPL.DictManager.getDict("BANKER_POINT")+" / "+IPL.DictManager.getDict("PLAYER_POINT"),limit:"\n\n\t\t\t\t0-5\t\t\t\t\t/\t\t\t\t\t6\n\t\t\t\t0-5\t\t\t\t\t/\t\t\t\t\t7",ratio:"\n\n1:2.5\n1:4"},t.list[12]={titleIcon:"Multiple_InsPAfTxt_"+IPL.UrlParameter.lang+"0000",limit:""},t.list[13]={title:"\n\t\t\t\t"+IPL.DictManager.getDict("BANKER_POINT")+" / "+IPL.DictManager.getDict("PLAYER_POINT"),limit:"\n\t\t\t\t0-3\t\t\t\t\t/\t\t\t\t\t4\n\t\t\t\t0-4\t\t\t\t\t/\t\t\t\t\t5\n\t\t\t\t0-5\t\t\t\t\t/\t\t\t\t\t6\n\t\t\t\t0-6\t\t\t\t\t/\t\t\t\t\t7\n\t\t\t\t0-6\t\t\t\t\t/\t\t\t\t\t8\n\t\t\t\t0-6\t\t\t\t\t/\t\t\t\t\t9",ratio:"\n1:1\n1:1.5\n1:2.5\n1:4\n1:8\n1:9"},this._toolBarPanel.setLimitPanel(t),n.prototype.onUserInfo.call(this)},r.prototype.setMaintainInfo=function(t){n.prototype.setMaintainInfo.call(this,t),"1"==t&&(this._InsBetPanel.visible=!1)},r);function r(){var e=n.call(this)||this;return e.insbetEvent=function(t){e.onAddInsBet(t)},e}t.ViewModel=e;l=SharePanel.RoadmapBac,__extends(u,l),u.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.roadmapB),this._nowRamp="roadmapB"):"roadmapB"==this._nowRamp?(this.removeMc(this.roadmapB),this.addMc(this.roadmapD),this._nowRamp="roadmapD"):"roadmapD"==this._nowRamp?(this.removeMc(this.roadmapD),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp&&(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A")};var l,c=u;function u(){return l.call(this)||this}t.Roadmap=c;d=BacShare.StatisticsPanel,__extends(f,d),f.prototype.initUI=function(){var t=new i,t=(t.beginFill(0,1),t.drawRect(8,709,46,142),t.endFill(),t.cacheAsBitmap=!0,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BPTTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"});this.bankerTxt=new h("",t),this.bankerTxt.y=742,this.bankerTxt.anchor.set(.5),this.addChild(this.bankerTxt),this.playerTxt=new h("",t),this.playerTxt.y=790,this.playerTxt.anchor.set(.5),this.addChild(this.playerTxt),this.tieTxt=new h("",t),this.tieTxt.y=838,this.tieTxt.anchor.set(.5),this.addChild(this.tieTxt),this.bankerTxt.x=this.playerTxt.x=this.tieTxt.x=30,this.init()};var d,p=f;function f(){var t=d.call(this)||this;return t.initUI(),t}t.StatisticsPanel=p;_=BacShare.PokerPanel,__extends(g,_),g.prototype.initUI=function(){this.bankerWin=new a,this.playerWin=new a;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetBankerTxt_"+IPL.UrlParameter.lang),e=(this.addChild(t),t.scale.set(.55),t.x=230,PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(e),e.scale.set(.55),e.x=150,t.y=e.y=390,this.addChild(this.poker1),this.addChild(this.poker2),this.addChild(this.poker3),this.addChild(this.poker4),this.addChild(this.poker5),this.poker5.rotation=Math.PI/180*-90,this.addChild(this.poker6),this.poker6.rotation=Math.PI/180*90,this.poker1.x=170,this.poker3.x=200,this.poker2.x=243,this.poker4.x=273,this.poker1.y=this.poker2.y=this.poker3.y=this.poker4.y=415,this.poker5.x=127,this.poker5.y=455,this.poker6.x=342,this.poker6.y=428,this.poker1.scale=this.poker2.scale=this.poker3.scale=this.poker4.scale=this.poker5.scale=this.poker6.scale=new o(.37,.35),{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"});this.bankerPoint=new h("",t),this.bankerPoint.x=285,this.addChild(this.bankerPoint),this.playerPoint=new h("",t),this.playerPoint.x=205,this.addChild(this.playerPoint),this.bankerPoint.y=this.playerPoint.y=389,this.reset()},g.prototype.initIns=function(){var t={fontFamily:"Arial",fontSize:"18px",fill:16777215},e=PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_InsBetBG"),e=(this.addChildAt(e,0),PIXILayoutTool.DisplayObject.createImage("Multiple_InsLine")),e=(this.addChild(e),new h(IPL.DictManager.getDict("INSPBAC_LIMIT"),t)),e=(this.addChild(e),e.anchor.x=.5,e.x=236,e.y=465,new h("~",t)),e=(this.addChild(e),e.anchor.x=.5,e.x=236,e.y=486,this._btnSmall=new ShareUI.Button("Multiple_InsChip"),this.addChild(this._btnSmall),this._btnSmall.name="ins_Small",this._btnSmall.x=30,this._btnSmall.y=510,this._btnBig=new ShareUI.Button("Multiple_InsChip"),this.addChild(this._btnBig),this._btnBig.name="ins_Big",this._btnBig.x=240,this._btnBig.y=510,PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetChip")),i=(e.scale.set(.7,.65),this._btnSmall.addChild(e),PIXILayoutTool.DisplayObject.createImage("Multiple_InsBac_BetChip"));i.scale.set(.7,.65),this._btnBig.addChild(i),e.x=i.x=15,e.y=i.y=5,this.chipSmallTxt=new h("",t),this._btnSmall.addChild(this.chipSmallTxt),this.chipBigTxt=new h("",t),this._btnBig.addChild(this.chipBigTxt),this.chipSmallTxt.y=this.chipBigTxt.y=10,this.chipSmallTxt.x=this.chipBigTxt.x=120,this.chipSmallTxt.anchor.x=this.chipBigTxt.anchor.x=.5,this.minNumTxt=new h("",t),this.addChild(this.minNumTxt),this.maxNumTxt=new h("",t),this.addChild(this.maxNumTxt),this.minNumTxt.anchor.x=1,this.minNumTxt.y=this.maxNumTxt.y=486,this.minNumTxt.x=200,this.maxNumTxt.x=268,this.initAddListen()},g.prototype.getMax=function(){return Number(this.maxNumTxt.text)},g.prototype.initAddListen=function(){var e=this;this.betEvent=function(t){e.handleClick(t)},this._btnBig.on("click",this.betEvent),this._btnSmall.on("click",this.betEvent)},g.prototype.handleClick=function(t){var e;switch(t.currentTarget.name){case"ins_Small":(e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.COMMIT)).data={betAmount:Number(this.chipSmallTxt.text.replace(",",""))},this.event.dispatchEvent(e);break;case"ins_Big":(e=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.COMMIT)).data={betAmount:Number(this.chipBigTxt.text.replace(",",""))},this.event.dispatchEvent(e)}},g.prototype.setData=function(t,e,i){this._ratio=Number(t);t=Math.floor(i/this._ratio),i=Math.floor(e/this._ratio)-1,i<t&&(i=t),e=Math.floor(i/2);this._btnSmall.visible=(e=e<t?t:e)!=i,this._min=t,this._max=i,this.minNumTxt.text=(new ShareLogic.DigitalLogic).addCommas(String(this._min)),this.chipBigTxt.text=this.maxNumTxt.text=(new ShareLogic.DigitalLogic).addCommas(String(this._max)),this.chipSmallTxt.text=(new ShareLogic.DigitalLogic).addCommas(String(e))},g.prototype.getMin=function(){return this._min};var _,m=g;function g(t){t=_.call(this,t)||this;return t.initIns(),t}t.InsPanel=m;v=BacShare.PokerPanel,__extends(P,v),P.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(this.addChild(t),this.bankerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BWin"),this.addChild(this.bankerWin),this.playerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PWin"),this.addChild(this.playerWin),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang));this.addChild(e);for(var i=1;i<=6;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac_PokerBG","b"+String(i));this.addChild(n)}this.addChild(this.poker1),this.addChild(this.poker2),this.addChild(this.poker3),this.addChild(this.poker4),this.addChild(this.poker5),this.poker5.rotation=Math.PI/180*-90,this.addChild(this.poker6),this.poker6.rotation=Math.PI/180*90,this.poker1.x=113,this.poker2.x=269,this.poker3.x=163,this.poker4.x=319,this.poker1.y=this.poker2.y=this.poker3.y=this.poker4.y=616,this.poker5.x=42,this.poker5.y=674,this.poker6.x=430,this.poker6.y=634,this.poker1.scale=this.poker2.scale=this.poker3.scale=this.poker4.scale=this.poker5.scale=this.poker6.scale=new o(.54,.53);var a={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"};this.bankerPoint=new h("",a),this.bankerPoint.x=t.position.x+t.texture.width+20,this.bankerPoint.y=580,this.addChild(this.bankerPoint),this.playerPoint=new h("",a),this.playerPoint.x=e.position.x+e.texture.width+20,this.playerPoint.y=580,this.addChild(this.playerPoint),this.reset()};var v,y=P;function P(t){return v.call(this,t)||this}t.Poker=y}(InsBacMultiGames=InsBacMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new InsBacMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.InsBacMain=i}(MultiGames=MultiGames||{}),!function(t){function i(){}i.fadeInOut=function(t,e,i){TweenMax.fromTo(t,e,{alpha:0},{alpha:1}),TweenMax.delayedCall(i,function(){TweenMax.fromTo(t,e,{alpha:1},{alpha:0})})},i.fadeIn=function(t,e){TweenMax.fromTo(t,e,{alpha:0},{alpha:1})},i.fadeOut=function(t,e){TweenMax.fromTo(t,e,{alpha:1},{alpha:0})},i.numCount=function(t,e,i,n){void 0===i&&(i=1),void 0===n&&(n=2);var a={count:0};TweenMax.to(a,i,{count:e,onUpdate:function(){t.text=(e<0?"-":"+")+String(Math.abs(Number(parseFloat(String(a.count)).toFixed(n))))},onComplete:function(){t.text=(e<0?"-":"+")+String(Math.abs(e))}})},i.setAnimateListener=function(){var t,e;null===i.visibilityChangeEvent&&(t=void 0,document.hidden,t="visibilitychange",e="visibilityState",i.visibilityChangeEvent=function(t){"visible"===document[e]?(TweenMax.ticker.useRAF(!0),TweenMax.ticker.lagSmoothing(500,16)):"hidden"===document[e]&&(TweenMax.ticker.useRAF(!1),TweenMax.ticker.fps(60),TweenMax.ticker.lagSmoothing(0))},document.addEventListener(t,i.visibilityChangeEvent,!1))},i.visibilityChangeEvent=null,t.Animate=i}(Tools=Tools||{}),!function(t){var o,e=PIXI.Container,r=PIXI.Text,e=(__extends(i,o=e),i.prototype.initUI=function(t,e,i,n){this.seatBGArr=[];for(var a=0;a<7;a++)this.seatBGArr[a]=PIXILayoutTool.DisplayObject.createImageTargetName(e,"n"+String(a)),this.addChild(this.seatBGArr[a]);for(this.seatNumArr=[],a=0;a<7;a++){var o=PIXILayoutTool.DisplayObject.createImageTargetName(n,"n"+String(a));null!=o&&(this.seatNumArr[a]=o,this.addChild(this.seatNumArr[a]))}for(this.seatIconArr=[],a=0;a<7;a++)this.seatIconArr[a]=PIXILayoutTool.DisplayObject.createImageTargetName(i,"n"+String(a)),this.addChild(this.seatIconArr[a]),this.seatIconArr[a].visible=!1;for(this.seatTxtArr=[],a=0;a<7;a++)this.seatTxtArr[a]=new r("",t),this.seatTxtArr[a].anchor.set(.5),this.seatTxtArr[a].x=this.seatIconArr[a].x+this.seatIconArr[a].width/2,this.seatTxtArr[a].y=this.seatIconArr[a].y+this.seatIconArr[a].height/2,this.addChild(this.seatTxtArr[a]),this.seatTxtArr[a].visible=!1},i.prototype.setSeatData=function(t,e){"-"==(e=void 0===e?"":e)?(this.seatIconArr[t].visible=!1,this.seatTxtArr[t].visible=!1,this.seatTxtArr[t].text=e):""!=e?(this.seatIconArr[t].visible=!1,this.seatTxtArr[t].visible=!0,this.seatTxtArr[t].text=e.slice(0,3)+"***"):(this.seatIconArr[t].visible=!0,this.seatTxtArr[t].visible=!1,this.seatTxtArr[t].text=e)},i.prototype.reset=function(){for(var t=0;t<7;t++)this.seatIconArr[t].visible=!1;for(t=0;t<7;t++)this.seatTxtArr[t].text="",this.seatTxtArr[t].visible=!1},i);function i(t,e,i,n){var a=o.call(this)||this;return a.initUI(t,e,i,n),a}t.CustomSeatPanel=e}(SharePanel=SharePanel||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.initUI=function(){},n.prototype.setLimit=function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];this._rateAnte[i]=n.ante,this._minBalance[i]=n.minBalance}},n.prototype.setRates=function(t){this._rateBanker=t.banker,this._ratePlayer=t.player,this._rateBanker.unshift(0)},n.prototype.setCredit=function(t){this._credit=t},n.prototype.setStatus=function(t,e,i,n){if(i)switch(t){case"rollDice":break;case"newRound":this.titleTxt&&(0!=this._ante?this.titleTxt.text=IPL.DictManager.getDict("BULL_AUTO_TABLE"):this.titleTxt.text=IPL.DictManager.getDict("PLEASE_SELECT_ANTE")),this.stopMatchBtn&&(this.stopMatchBtn.visible=!0),this.limitCon.visible=!0;break;case"createTable":this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("BULL_WAIT_MATCHING")),this.limitCon.visible=!1;break;case"joinDraw":this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("BULL_BET_BANKER")),this.rateBankerCon.visible=!0;break;case"drawLots":this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("BULL_DRAW_BANKER")),this.rateBankerCon.visible=!1;break;case"bettingPlayer":e?this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("BULL_WAIT_BET")):(this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("BULL_BET_PLAYER")),this.ratePlayerCon.visible=!0),this.limitCon.visible=!1,this.rateBankerCon.visible=!1;break;case"waitingDeal":this.ratePlayerCon.visible=!1;break;case"dealing":break;case"waiting":this.reset()}else n||(this.reset(),this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("PLEASE_SELECT_ANTE")),this.limitCon.visible=!0)},n.prototype.setBankerRate=function(t){this.bRate=t},n.prototype.checkLimit=function(t){return!(this._credit<t)},n.prototype.checkBankerRate=function(t){var e=this._ratePlayer.length-1,t=this._ante*t*4*this._ratePlayer[e]*3;return!(this._credit<t)},n.prototype.checkPlayerRate=function(t){t=this._ante*this.bRate*4*t;return!(this._credit<t)},n.prototype.onLimitBtnCLK=function(t){var t=t.currentTarget,e=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK),t=t.name,t=parseInt(t.split("A")[1]);this._ante=this._rateAnte[t],e.data={type:"Ante",rate:t,num:this._ante},this.event.dispatchEvent(e)},n.prototype.onBankerBtnCLK=function(t){var t=t.currentTarget,e=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK),t=t.name;e.data={type:"Banker",rate:parseInt(t.split("B")[1])},this.event.dispatchEvent(e),this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("BULL_WAIT_BET"))},n.prototype.onPlayerBtnCLK=function(t){var t=t.currentTarget,e=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK),t=t.name;e.data={type:"Player",rate:parseInt(t.split("P")[1])},this.event.dispatchEvent(e),this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("BULL_WAIT_BET"))},n.prototype.onStopMatch=function(t){t.currentTarget.visible=!1,this.forceInit(),this.event.dispatchEvent(new H5Event.H5BaseEvent("STOP_MATCH"))},n.prototype.forceInit=function(){this._ante=0,this.bRate=1,this.reset(),this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("PLEASE_SELECT_ANTE")),this.limitCon.visible=!0},n.prototype.reset=function(){this.titleTxt&&(this.titleTxt.text=""),this.stopMatchBtn&&(this.stopMatchBtn.visible=!1),this.limitCon.visible=!1,this.rateBankerCon.visible=!1,this.ratePlayerCon.visible=!1};var e,i=n;function n(){var t=e.call(this)||this;return t._rateBanker=[],t._ratePlayer=[],t._rateAnte=[],t._minBalance=[],t.bRate=1,t._ante=0,t._credit=0,t.arrBankerBtn=[],t.arrPlayerBtn=[],t.arrLimitBtn=[],t.initUI(),t}t.BetPanel=i;a=Composite.EventContainer,__extends(o,a),o.prototype.initUI=function(){},o.prototype.setBtnStatus=function(t){};var a,i=o;function o(){var t=a.call(this)||this;return t.initUI(),t}t.StopMatchBtn=i}(ChessBullShare=ChessBullShare||{}),!function(t){var s,n=PIXI.Container,a=PIXI.Sprite,h=PIXI.Text,e=PIXI.Texture,i=(s=ChessBullShare.BetPanel,__extends(o,s),o.prototype.getStopMatchBtn=function(){return this.btn2},o.prototype.initUI=function(){},o.prototype.updateTitleTxt=function(t,e){void 0===e&&(e=0),this.titleTxt.y=327,1==e?this.titleTxt.y+=100:2==e?this.titleTxt.y+=187.5:3==e&&(this.titleTxt.y+=25),null!=t&&(this.titleTxt.text=t,this.titleTxt.style.fontSize=Tools.AdjustText.adjustFontSize(this.titleTxt,30,440))},o.prototype.updateCount=function(t){this.countDown.text=t,"0"==this.countDown.text&&(this.countDown.visible=!1,this.titleTxt.text="",this.rateBankerCon.visible=!1,this.ratePlayerCon.visible=!1,this.setBtnStatus(this.arrBankerBtn,!1),this.setBtnStatus(this.arrPlayerBtn,!1))},o.prototype.setPoker=function(t){""==t?this._pokerPanel.reset():this._pokerPanel.setPoker(t)},o.prototype.setRates=function(t){for(var e=this,i=(s.prototype.setRates.call(this,t),{fontFamily:"微軟正黑體",fontSize:"21px",fill:"#000000"}),n=0;n<this._rateBanker.length;n++){this.arrBankerBtn[n]||(this.arrBankerBtn[n]=new ShareUI.Button("Multiple_FightBull_MultipleBtn"),o=(460-this.arrBankerBtn[n].width*this._rateBanker.length)/(this._rateBanker.length+1),this.arrBankerBtn[n].x=o+(this.arrBankerBtn[n-1]?this.arrBankerBtn[n-1].x+this.arrBankerBtn[n].width:0),this.arrBankerBtn[n].y=211,this.rateBankerCon.addChild(this.arrBankerBtn[n]),this.rateTxt[n]=new h("",i),this.rateTxt[n].anchor.set(.5),this.rateTxt[n].x=46,this.rateTxt[n].y=26,this.arrBankerBtn[n].addChild(this.rateTxt[n]),this.rateTxt[n].style.fontSize=Tools.AdjustText.adjustFontSize(this.rateTxt[n],21,90),DeviceAndEnvironment.Device.isMobile()?this.arrBankerBtn[n].on("tap",function(t){e.onBankerBtnCLK(t)}):(this.arrBankerBtn[n].on("click",function(t){e.onBankerBtnCLK(t)}),this.arrBankerBtn[n].on("tap",function(t){e.onBankerBtnCLK(t)})));var a=void 0,a="cn"!=IPL.UrlParameter.lang&&"tw"!=IPL.UrlParameter.lang?"x"+String(this._rateBanker[n]):String(this._rateBanker[n])+IPL.DictManager.getDict("BULL_MULTIPLE");0==n&&(a=IPL.DictManager.getDict("BULL_NO_SNATCH")),this.rateTxt[n].text=a,this.rateTxt[n].style.fontSize=Tools.AdjustText.adjustFontSize(this.rateTxt[n],21,90),this.arrBankerBtn[n].name="B"+String(this._rateBanker[n])}for(n=0;n<this._ratePlayer.length;n++){this.arrPlayerBtn[n]||(this.arrPlayerBtn[n]=new ShareUI.Button("Multiple_FightBull_MultipleBtn"),o=(460-this.arrPlayerBtn[n].width*this._ratePlayer.length)/(this._ratePlayer.length+1),this.arrPlayerBtn[n].x=o+(this.arrPlayerBtn[n-1]?this.arrPlayerBtn[n-1].x+this.arrPlayerBtn[n].width:0),this.arrPlayerBtn[n].y=211,this.arrPlayerBtn[n].name="P"+String(this._ratePlayer[n]),this.ratePlayerCon.addChild(this.arrPlayerBtn[n]),this.ratepTxt[n]=new h("",i),this.ratepTxt[n].anchor.set(.5),this.ratepTxt[n].x=46,this.ratepTxt[n].y=26,this.arrPlayerBtn[n].addChild(this.ratepTxt[n]),this.ratepTxt[n].style.fontSize=Tools.AdjustText.adjustFontSize(this.ratepTxt[n],21,90),DeviceAndEnvironment.Device.isMobile()?this.arrPlayerBtn[n].on("tap",function(t){e.onPlayerBtnCLK(t)}):(this.arrPlayerBtn[n].on("click",function(t){e.onPlayerBtnCLK(t)}),this.arrPlayerBtn[n].on("tap",function(t){e.onPlayerBtnCLK(t)})));var o,r=void 0,r="cn"!=IPL.UrlParameter.lang&&"tw"!=IPL.UrlParameter.lang?"x"+String(this._ratePlayer[n]):String(this._ratePlayer[n])+IPL.DictManager.getDict("BULL_MULTIPLE");this.ratepTxt[n].text=r,this.ratepTxt[n].style.fontSize=Tools.AdjustText.adjustFontSize(this.ratepTxt[n],21,90)}},o.prototype.setStatus=function(t,e,i,n){if(s.prototype.setStatus.call(this,t,e,i,n),this._status=t,this._isBanker=e,this._hasJoin=i,this.gameStart.visible=!1,i){switch(this._pokerPanel.visible=!1,this.updateTitleTxt(null,1),this._progressBar.visible=!1,this._progressBar.setProgress("reset"),this.countDown.visible=!1,t){case"rollDice":case"betting":case"newRound":this.updateTitleTxt(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),2),this.limitCon.visible=!1,this.bgB.visible=!1;break;case"createTable":this.updateTitleTxt("",2),this.limitCon.visible=!1,this.bgB.visible=!1,this.gameStart.visible=!0,Tools.Animate.fadeInOut(this.gameStart,.5,3);break;case"joinDraw":Tools.Animate.fadeIn(this.rateBankerCon,.5),this.updateTitleTxt(null,2),this.countDown.visible=!0;break;case"drawLots":Tools.Animate.fadeOut(this.rateBankerCon,.5),this.updateTitleTxt(null,2);break;case"bettingPlayer":e||Tools.Animate.fadeIn(this.ratePlayerCon,.5),this.updateTitleTxt(null,2),this.countDown.visible=!0;break;case"waitingDeal":Tools.Animate.fadeOut(this.ratePlayerCon,.5),this.updateTitleTxt(IPL.DictManager.getDict("BULL_WAIT_BET"),2)}Tools.AdjustText.adjustFontSize(this.titleTxt,30,370),"newRound"!=t&&"betting"!=t&&Tools.Animate.fadeIn(this.titleTxt,.5)}else this.countDown.visible=!1,"rollDice"==t&&(this._pokerPanel.visible=!1,this._progressBar.visible=!1),0!=this._ante?(this._progressBar.y=55,this._progressBar.visible=!0,this._progressBar.setProgress(t),this.bgB.visible=!0,n=IPL.DictManager.getDict("BULL_STARTED"),this.updateTitleTxt(n.replace("X-X","0"!==String(this._roundNum).split("-")[1]?String(this._roundNum):""),1),this.limitCon.visible=!1,"rollDice"==t||"betting"==t||"newRound"==t?(this._progressBar.visible=!1,this.bgB.visible=!1,this.updateTitleTxt(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),2),"rollDice"==t&&Tools.Animate.fadeIn(this.titleTxt,.5),Tools.AdjustText.adjustFontSize(this.titleTxt,30,370)):"createTable"==t?(this._progressBar.visible=!1,this.updateTitleTxt("",2),this.limitCon.visible=!1):"dealing"!=t&&"waiting"!=t||(this.updateTitleTxt(null,3),this._progressBar.y=0,this._pokerPanel.visible=!0)):(this.updateTitleTxt(IPL.DictManager.getDict("PLEASE_SELECT_ANTE"),3),this.limitCon.visible=!0,this.bgB.visible=!0,this.setBtnStatus(this.arrLimitBtn,!0),this.checkCrdit(this.arrLimitBtn,"limit"));"dealing"==t?this.btn2.setBtnStatus("ON"):"joinDraw"==t?(this.setBtnStatus(this.arrBankerBtn,!0),this.checkCrdit(this.arrBankerBtn,"banker")):"bettingPlayer"==t&&(this.setBtnStatus(this.arrPlayerBtn,!0),this.checkCrdit(this.arrPlayerBtn,"player"))},o.prototype.setTestBench=function(t){this._isTestBench=1===t},o.prototype.setCredit=function(t){s.prototype.setCredit.call(this,t),this._hasJoin?"joinDraw"==this._status?this.checkCrdit(this.arrBankerBtn,"banker"):"bettingPlayer"==this._status&&this.checkCrdit(this.arrPlayerBtn,"player"):this.checkCrdit(this.arrLimitBtn,"limit")},o.prototype.setRoundNum=function(t){this._roundNum=t},o.prototype.checkCrdit=function(t,e){var i,n=t.length;if(this._isTestBench)for(var a=1;a<n;a++)this.setSingleBtn(t[a],!1);else{0!=this._ante&&(i=this._rateAnte.indexOf(this._ante));for(a=0;a<n;a++)"limit"==e?i==a?(this.setSingleBtn(t[a],!1),t[a].setStatus("over"),t[a].alpha=1):this.setSingleBtn(t[a],this.checkLimit(this._minBalance[a])):"banker"==e?this.setSingleBtn(t[a],this.checkBankerRate(this._rateBanker[a])):"player"==e&&this.setSingleBtn(t[a],this.checkPlayerRate(this._ratePlayer[a]))}},o.prototype.setBtnStatus=function(t,e){for(var i=t.length,n=0;n<i;n++)this.setSingleBtn(t[n],e)},o.prototype.setSingleBtn=function(t,e){t.autoMouseStatus=e,(t.interactive=e)?(t.setStatus("up"),t.alpha=1):(t.setStatus("down"),t.alpha=.5)},o.prototype.onLimitBtnCLK=function(t){s.prototype.onLimitBtnCLK.call(this,t);t=t.currentTarget;this.setBtnStatus(this.arrLimitBtn,!1),t.setStatus("over"),t.alpha=1,this.setStatus(this._status,this._isBanker,this._hasJoin,!0)},o.prototype.onBankerBtnCLK=function(t){s.prototype.onBankerBtnCLK.call(this,t);var t=t.currentTarget,e=(this.setBtnStatus(this.arrBankerBtn,!1),t.setStatus("over"),t.alpha=1,this.updateTitleTxt(null,2),this.rateBankerCon.visible=!1,{});e.bRate=parseInt(t.name.split("B")[1]),this.mEve.emit("SET_RATE",e),Tools.AdjustText.adjustFontSize(this.titleTxt,30,370)},o.prototype.onPlayerBtnCLK=function(t){s.prototype.onPlayerBtnCLK.call(this,t);var t=t.currentTarget,e=(this.setBtnStatus(this.arrPlayerBtn,!1),t.setStatus("over"),t.alpha=1,this.updateTitleTxt(null,2),this.ratePlayerCon.visible=!1,{});e.pRate=parseInt(t.name.split("P")[1]),this.mEve.emit("SET_RATE",e),Tools.AdjustText.adjustFontSize(this.titleTxt,30,370)},o.prototype.onStopMatch=function(t){this._ante=0,this.bRate=1,this.btn2.setBtnStatus("OFF"),this.event.dispatchEvent(new H5Event.H5BaseEvent("STOP_MATCH"))},o.prototype.forceInit=function(){s.prototype.forceInit.call(this),this._progressBar.visible=!1,this._pokerPanel.visible=!1,this.countDown.visible=!1,this.gameStart.visible=!1,this.updateTitleTxt(null,3),this.bgB.visible=!0,this.setBtnStatus(this.arrLimitBtn,!0),this.checkCrdit(this.arrLimitBtn,"limit")},o);function o(){var t=s.call(this)||this;return t._first=!0,t.rateTxt=[],t.ratepTxt=[],t.mEve=new PIXI.utils.EventEmitter,t}t.ChessBullPanel=i;r=ChessBullShare.StopMatchBtn,__extends(l,r),l.prototype.initUI=function(){this.interactive=!0,this.btn=new ShareUI.Button("Multiple_FightBull_StopmatchingBtn",!1),this.addChild(this.btn),this.txt=new h(IPL.DictManager.getDict("BULL_STOP_PLAY"),{fontFamily:"微軟正黑體",fontSize:"20px",fill:"#FFD277",fontWeight:"bold"}),this.btn.addChild(this.txt),this.txt.anchor.set(.5),this.txt.x=150,this.txt.y=31,this.texON=e.fromImage("MuiltN_ChessBull_StopmatchingOn0000"),this.texOFF=e.fromImage("MuiltN_ChessBull_StopmatchingOff0000"),this.icon=new a(this.texOFF),this.btn.addChild(this.icon),this.icon.x=10,this.icon.y=15},l.prototype.setBtnStatus=function(t){"ON"==t?(this.interactive=!0,this.btn.autoMouseStatus=!0,this.btn.setStatus("up"),this.txt.text=IPL.DictManager.getDict("BULL_STOP_PLAY"),this.icon.texture=this.texOFF):"OFF"==t&&(this.interactive=!1,this.btn.autoMouseStatus=!1,this.btn.setStatus("down"),this.txt.text=IPL.DictManager.getDict("BULL_APPLICATION"),this.icon.texture=this.texON),this.txt.style.fontSize=Tools.AdjustText.adjustFontSize(this.txt,20,220)};var r,i=l;function l(){return r.call(this)||this}t.StopMatchBtn=i;__extends(u,c=n),u.prototype.setStatus=function(t){this.status=t},u.prototype.initUI=function(t){},u.prototype.setNumSeat=function(t){this.numSeat=t},u.prototype.setRateTxt=function(t){var e;switch(this.status){case"drawLots":if(this.isSelf&&1<this.RateTxt.text.length)return;case"joinDraw":this.bRate=t.bRate,e=0==t.bRate?IPL.DictManager.getDict("BULL_NO_SNATCH_BANKER"):"cn"!=IPL.UrlParameter.lang&&"tw"!=IPL.UrlParameter.lang?"x"+String(t.bRate)+" "+IPL.DictManager.getDict("BULL_MULTIPLE_SNATCH"):String(t.bRate)+IPL.DictManager.getDict("BULL_MULTIPLE_SNATCH"),this.RateTxt.text=e,this.BgBlue.visible=!1,this.BgRed.visible=!0;break;case"bettingPlayer":if(!this.isSelf)return;this.isBanker||this.resetRateTxt();case"dealing":this.isBanker||(e="cn"!=IPL.UrlParameter.lang&&"tw"!=IPL.UrlParameter.lang?"x"+String(t.pRate):String(t.pRate)+IPL.DictManager.getDict("BULL_MULTIPLE_BET"),this.RateTxt.text=e,this.BgRed.visible=!1,this.BgBlue.visible=!0)}},u.prototype.setInfo=function(t,e){t[this.numSeat].isBanker?(this.isBanker=!0,"joinDraw"!=this.status&&(this.setRateTxt(e),this.Frame.visible=!0)):(this.isBanker=!1,"joinDraw"!=this.status&&(this.Frame.visible=!1),"dealing"==this.status&&this.setRateTxt(e)),"drawLots"==this.status&&(this.BgRed.visible=!0,this.BgBlue.visible=!1,this.setRateTxt(e))},u.prototype.resetRateTxt=function(){this.isBanker||(this.RateTxt.text="",this.BgRed.visible=!1,this.BgBlue.visible=!1)},u.prototype.setTable=function(t,e){this.UserName.visible=!0,this.isSelf||(this.UserName.text=String(t[e].userName).slice(0,3)+"***"),this.BgON.visible=!0,this.IconP.visible=!0},u.prototype.reset=function(t){this.RateTxt.text="",this.BgBlue.visible=!1,this.BgRed.visible=!1,this.PayWay.text="",this.PayWay.visible=!1,this.Frame.visible=!1,this.IconID.visible=!1,this.numSeat=0,this.isBanker=!1,this.IconB.visible=!1};var c,i=u;function u(){var t=c.call(this)||this;return t.numSeat=0,t.isSelf=!1,t.isBanker=!1,t}t.UserBetCell=i;__extends(p,d=a),p.prototype.initUI=function(){this.arrPiece=[],this.arrArrow=[];for(var t=0;t<4;t++){var e=PIXILayoutTool.DisplayObject.createImage("Multiple_FightingBullBull_BetRoundG"+String(t+1));this.addChild(e),this.arrPiece[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_FightingBullBull_BetRoundY"+String(t+1)),this.addChild(this.arrPiece[t])}for(this.conArrow=new n,this.conArrow.y=this.arrPiece[0].y+1,this.addChild(this.conArrow),t=0;t<7;t++)this.arrArrow[t]=a.fromImage("Multiple_FightBull_Arrow0000"),this.conArrow.addChild(this.arrArrow[t]),this.arrArrow[t].x=14*t;for(t=0;t<4;t++){var i=new h(IPL.DictManager.getDict(this.arrLabel[t]),{fontFamily:"Arial",fontSize:"14px",fill:"#000000",wordWrap:!0,wordWrapWidth:80});for(this.addChild(i),i.anchor.set(.5),i.x=56.5+this.arrPiece[t].x,i.y=16+this.arrPiece[t].y,i.style.fontSize=Tools.AdjustText.adjustFontSize(i,14,100);32<i.height;)i.style.fontSize=13}this.setProgress("reset")},p.prototype.setProgress=function(t){var e=0,e="joinDraw"==t||"drawLots"==t?1:"bettingPlayer"==t||"waitingDeal"==t?2:"dealing"==t?3:4;if(this.statusIndex!=e){this.statusIndex=e;for(var i=0;i<4;i++)this.arrPiece[i].visible=!1,i<e&&(this.arrPiece[i].visible=!0);0<e&&e<=4&&(this.conArrow.x=this.arrPiece[e-1].x,this.setLight())}},p.prototype.setLight=function(){for(var t=this.arrArrow.length,e=0;e<t;e++)this.arrArrow[e].alpha=0;this.lightNum=0,this.lightTimer.restart()},p.prototype.onLightInterval=function(){for(var t=this.arrArrow.length,e=this.lightNum,i=0;i<t;i++)5<=e||i>this.lightNum?this.arrArrow[i].alpha=0:this.arrArrow[i].alpha=1-.2*e,e--;this.lightNum++,11==this.lightNum&&(this.lightNum=0)};var d,i=p;function p(){var t=d.call(this)||this;return t.arrLabel=["BULL_SNATCH","BULL_PLAYER_BET","SHOW","BULL_WAIT_NEW_GAME"],t.lightNum=0,t.lightTimer=new TimelineMax({repeat:-1,repeatDelay:.13,onRepeat:function(){t.onLightInterval()}}),t.lightTimer.pause(),t.initUI(),t}t.ProgressBar=i}(ChessMultiGames=ChessMultiGames||{}),!function(t){var h,i=PIXI.Container,n=PIXI.Graphics,l=PIXI.Sprite,c=PIXI.Point,r=PIXI.Text,a=PIXI.Texture,e=(h=ShareMultiGames.ViewModel,__extends(o,h),o.prototype.init=function(){h.prototype.init.call(this),this.lightArr=[],clearInterval(this.tBanker),this.tBanker=null,this.resetUserTxt()},o.prototype.initUI=function(){var e=this;this.arrUserTxt=[],this.arrPosTexUser=[],this.arrPosTexOther=[],this.initBetArea(),this.initRoadInfo(),this._pokerPanel=new u("SimplePoker"),this._pokerPanel.interactive=!0,this._pokerPanel.visible=!1,this.addChild(this._pokerPanel),this.chessBullPanel=new g,this.chessBullPanel.x=5,this.chessBullPanel.mEve.on("SET_RATE",function(t){e.arrUserTxt[0].setRateTxt(t),e.maxBanker=t.bRate}),this.stopMatchBtn=this.chessBullPanel.getStopMatchBtn(),this.addChild(this.stopMatchBtn),this.addChild(this.chessBullPanel),this._headerPoker=new ShareUI.PokerUI("SimplePoker"),this._headerPoker.scale.set(.84,.79),this._headerPoker.x=19,this._headerPoker.y=734,this.addChild(this._headerPoker),this._bankerWin=new PIXI.spine.Spine(VideoLoaderCore.AssetsLoaderManager.getInstance()._loader.resources.FightingBullBullWin.spineData),this._bankerWin.skeleton.setSkinByName("MuiltN_ChessBull_WinsallTxt_"+IPL.UrlParameter.lang),this._bankerWin.skeleton.setToSetupPose(),this.addChild(this._bankerWin),this._bankerWin.alpha=0,this._bankerLose=new PIXI.spine.Spine(VideoLoaderCore.AssetsLoaderManager.getInstance()._loader.resources.FightingBullBullLose.spineData),this._bankerLose.skeleton.setSkinByName("MuiltN_ChessBull_LosesallTxt_"+IPL.UrlParameter.lang),this._bankerLose.skeleton.setToSetupPose(),this.addChild(this._bankerLose),this._bankerLose.alpha=0,this.txtPayoff=new r("",{fontFamily:"微軟正黑體",fontSize:"26px",fill:"#FFD277",fontWeight:"bold"}),this.txtPayoff.anchor.set(.5),this.txtPayoff.x=235,this.txtPayoff.y=565,this.txtPayoff.alpha=0,this.txtPayoff.visible=!1,this.addChild(this.txtPayoff),this._bankerWin.x=this._bankerLose.x=230,this._bankerWin.y=this._bankerLose.y=515,this.resetUserTxt()},o.prototype.initShareUI=function(){this._countDownMc=new ShareUI.countUI(460,2,55552,16767232,16711680,1315860,"ver"),this._countDownMc.x=5,this._countDownMc.y=297,this.addChild(this._countDownMc),this._countDownMc.visible=!1,this._messageTxt=new ShareMultiGames.oneMessage;var t={fontFamily:"_sans",fontSize:"18px",fontWeight:"bold",fill:"#FFFFFF",stroke:"#000000",strokeThickness:2},e={},t=(e.background=new l,this._messageTxt.initMessageBg(e),this._messageTxt.initTxt(t),this._messageTxt.x=235,this._messageTxt.y=313,this.addChild(this._messageTxt),this._wlMessageTxt=new SharePanel.MessagePanel,{fontFamily:"_sans",fontSize:"18px",fontWeight:"bold",fill:"#FFD277",stroke:"#000000",strokeThickness:2});(e={}).background=PIXILayoutTool.DisplayObject.createImage("Multiple_MessageTxtBG"),this._wlMessageTxt.initMessageBg(e),this._wlMessageTxt.initTxt(t),this._wlMessageTxt.x=235,this._wlMessageTxt.y=346,this.addChild(this._wlMessageTxt)},o.prototype.initBetArea=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_BetBG"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_BetArea"));this.addChild(t),this.conAnte=new i,this.addChild(this.conAnte),this.conAnte.visible=!1,this.conAnte.x=17,this.conAnte.y=50,this.conBg=new n,this.conBg.beginFill(0,.3),this.conBg.drawRect(0,0,100,50),this.conBg.endFill(),this.conAnte.addChild(this.conBg),this.anteTxt=new r("",{fontFamily:"Arial",fontSize:"18px",fill:"#FFFFFF"}),this.conAnte.addChild(this.anteTxt),this.anteTxt.x=10,this.anteTxt.y=4,this.prepayTxt=new r("",{fontFamily:"Arial",fontSize:"18px",fill:"#FFFFFF"}),this.conAnte.addChild(this.prepayTxt),this.prepayTxt.x=10,this.prepayTxt.y=22;for(var e=0;e<4;e++)this.arrUserTxt[e]=new P,this.arrUserTxt[e].initUI(e),this.addChild(this.arrUserTxt[e]),0==e?(this.arrPosTexUser[e]=a.fromImage("Multiple_ChessBull_BankerIcon0000"),this.arrPosTexOther[e]=a.fromImage("Multiple_ChessBull_BankerIcon0000")):(this.arrPosTexUser[e]=a.fromImage("Multiple_ChessBull_P"+String(e)+"Icon_"+IPL.UrlParameter.lang+"0000"),this.arrPosTexOther[e]=a.fromImage("Multiple_ChessBull_OtherP"+String(e)+"Icon_"+IPL.UrlParameter.lang+"0000"))},o.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapChessBull,this._roadmapPanel.x=8,this._roadmapPanel.y=709;var t=new i,e=(null==Tools.TextureStore.repository.Fram1x1&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:1,gridW:89,gridH:142,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x1"}),new l(Tools.TextureStore.repository.Fram1x1)),e=(t.addChild(e),null==Tools.TextureStore.repository.Fram4x1&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:1,gridW:59,gridH:34,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram4x1"}),new l(Tools.TextureStore.repository.Fram4x1)),e=(e.position=new c(91,0),t.addChild(e),null==Tools.TextureStore.repository.Fram4x8&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:8,gridW:36,gridH:34,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram4x8"}),new l(Tools.TextureStore.repository.Fram4x8)),e=(e.position=new c(152,0),t.addChild(e),{}),t=(e.posX=0,e.posY=0,e.background=t,this._roadmapPanel.initRoadBg(e),{fontFamily:"微軟正黑體",fontSize:"24px",fill:"#EDE3B2"}),e={};e.titleStyle=t,e.bankerStyle=t,e.titleX=121,e.originalX=171,e.originalY=18,e.gapX=38,e.gapY=36,e.scale=1,e.roundNum=8,e.winBack="Multiple_Bull_win0000",e.winX=170,e.winY=17,e.BBStyle={fontFamily:"微軟正黑體",fontSize:"16px",fontWeight:"bold ",fill:"#FF9900"},e["5PStyle"]={fontFamily:"微軟正黑體",fontSize:"18px",fontWeight:"bold ",fill:"#FF0000"},e.style={fontFamily:"微軟正黑體",fontSize:"18px",fontWeight:"bold ",fill:"#FFFFFF"},e.sumNum=10,e.txtShort=!0,this._roadmapPanel.initCell(e),this.addChild(this._roadmapPanel)},o.prototype.configureGameModelListener=function(){var t=this;this.gModel.addEventListener(VideoShare.LiveGameEvent.CHANGE_CREDIT,function(){t.chessBullPanel.setCredit(t.vModel.getUserInfo().getCredit())})},o.prototype.configureModelListener=function(){h.prototype.configureModelListener.call(this),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_BET_RATE,this.liveGameEvent),this._roadmapPanel.setGameKey("3012-"+this._tmpGameCode)},o.prototype.configureCostumeListener=function(){this._roadmapPanel.event.addEventListener(VideoShare.RoadmapEvent.SUMROADMAP,this.roadEvent),this.chessBullPanel.event.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this.chessBullPanel.event.addEventListener("STOP_MATCH",this.stopMatchEvent)},o.prototype.setCustomSelectPanel=function(t){h.prototype.setCustomSelectPanel.call(this,t),this.removeChild(this._mixChipSelectPanel.getChipPanelTarget())},o.prototype.onBetRate=function(){this.chessBullPanel.setRates(this.vModel.getBetRate())},o.prototype.onStopMatch=function(){this.ante=-1,this.anteTxt.text="",this.prepayTxt.text="",this.hasJoin=!1,this.chessBullPanel.setStatus(this._status,this.isBanker,this.hasJoin,-1<this.ante),this.gModel.leaveVTable(this.vModel.getGameType()+"-"+this.vModel.getGameCode())},o.prototype.onStatusChanged=function(t){var e=this;h.prototype.onStatusChanged.call(this,t=void 0===t?null:t);for(var i=0;i<4;i++)this.arrUserTxt[i].setStatus(this._status);switch(this._countDownMc.visible=this.hasJoin,this._messageTxt.resetShowTxt(),this._status){case"rollDice":this.chessBullPanel.visible=!0,this.isBanker=!1,this.hasJoin&&0==this.hasReady&&(TweenMax.fromTo(this.arrUserTxt[0],.5,{x:-140},{x:0}),this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1)),this._countDownMc.visible=!1,this._pokerPanel.visible=!1,this.stopMatchBtn.visible=!1,this.resetUserTxt();break;case"betting":case"newRound":this._countDownMc.visible=!1,this.hasJoin&&this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1);break;case"createTable":-1!=this.ante&&(n={action:"joinVTable",choose:this.ante,game:this.vModel.getGameType()+"-"+this.vModel.getGameCode()},this.gModel.joinTable(n)),this._messageTxt.resetShowTxt();break;case"joinDraw":this.hasJoin&&this.onSeatData();break;case"drawLots":if(this.hasJoin){this.onSeatData(),this.lightArr=[];for(i=0;i<4;i++)this.arrUserTxt[i].bRate==this.maxBanker&&(this.arrUserTxt[i].IconB.visible=!0,this.lightArr.push(this.arrUserTxt[i].Frame));null!=this.tBanker&&(clearInterval(this.tBanker),this.tBanker=null);var n,a,o=0;1<this.lightArr.length?this.tBanker=setInterval(function(){for(var t=0;t<e.lightArr.length;t++)e.lightArr[t].visible=!1;e.lightArr[Math.floor(o%e.lightArr.length)].visible=!0,o++},90):(this.lightArr[0].visible=!0,n=this.lightArr[0].width,a=this.lightArr[0].height,TweenMax.fromTo(this.lightArr[0],.5,{width:1.3*n,height:1.3*a},{width:n,height:a}))}this._messageTxt.resetShowTxt();break;case"bettingPlayer":if(this.hasJoin){clearInterval(this.tBanker);for(i=0;i<4;i++)this.arrUserTxt[i].IconID.visible=!0,this.arrUserTxt[i].resetRateTxt();this.onSeatData()}break;case"dealing":this._countDownMc.visible=!1,this.hasJoin&&(this.onSeatData(),this._pokerPanel.setPos(this.posIndex),this._pokerPanel.visible=!0,TweenMax.fromTo(this.arrUserTxt[0],.5,{x:0},{x:-140}),this.chessBullPanel.visible=!1,this._messageTxt.onMessage(IPL.DictManager.getDict("SHOW"),!1));break;case"waiting":this._countDownMc.visible=!1,this.hasJoin&&(this._pokerPanel.visible=!0,this.stopMatchBtn.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_NEW_GAME"),!1),this.txtPayoff.visible=!1)}this._roadmapPanel.setStatus(this._status),this.chessBullPanel.setStatus(this._status,this.isBanker,this.hasJoin,-1<this.ante),this.chessBullPanel.setRoundNum(this._roundNum)},o.prototype.onEndGame=function(i){var n=this,t=(h.prototype.onEndGame.call(this,i),0),e=setInterval(function(){2==++t&&(n._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_NEW_GAME"),!1),clearInterval(e))},3e3);if(this.hasJoin&&null!=i.data.table)for(var a=i.data.table,o=i.data.res,r=0,s=(8==o?(r=2.2,this._bankerWin.alpha=1,this._bankerWin.state.setAnimation(0,"Win",!1),window.setTimeout(function(){n._bankerWin.alpha=0},1e3*r)):1==o&&(r=2.2,this._bankerLose.alpha=1,this._bankerLose.state.setAnimation(0,"Lost",!1),window.setTimeout(function(){n._bankerLose.alpha=0},1e3*r)),0);s<this.arrUserTxt.length;s++)!function(e){TweenMax.delayedCall(r,function(){-1!=o&&(n.arrUserTxt[e].PayWay.visible=!0,Tools.Animate.numCount(n.arrUserTxt[e].PayWay,Number(a[n.posIndex[e]])));var t=i.data.payoff;t&&(n.txtPayoff.visible=!0,0<t?(t=Number((new ShareLogic.DigitalLogic).numtoFix(t)),n.txtPayoff.text=IPL.DictManager.getDict("YOU_WIN")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(t))):t<0&&(t=(new ShareLogic.DigitalLogic).numtoFix(Math.abs(t)),n.txtPayoff.text=IPL.DictManager.getDict("YOU_LOSE")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(Number(t)))),Tools.Animate.fadeInOut(n.txtPayoff,.5,3))})}(s)},o.prototype.resetUserTxt=function(){for(var t=0;t<this.arrUserTxt.length;t++)this.arrUserTxt[t].reset(t);this.maxBanker=0,this.arrUserTxt[0].x=0,this._bankerWin.alpha=0,this._bankerLose.alpha=0,this.prepayTxt.text=IPL.DictManager.getDict("BULL_PREPAY_AMOUNT")+"："+this._currencyPic+"0.00",this.conBg.width=this.prepayTxt.width+20},o.prototype.onRoundInfo=function(){h.prototype.onRoundInfo.call(this);var t=this.vModel.getGameInfo();this._countDownMc.visible=this.hasJoin&&("joinDraw"==this._status||"bettingPlayer"==this._status),"betting"==this._status&&(this.hasJoin?this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1):this._messageTxt.resetShowTxt()),"joinDraw"!=this._status&&"bettingPlayer"!=this._status||(this.chessBullPanel.updateCount(this.vModel.getGameInfo().getCountdown()),this._roundCancelOpen&&this.hasJoin&&this._messageTxt.onMessage(t.getCountdown(),!1))},o.prototype.onJoinTable=function(t){null!=(t=void 0===t?null:t)&&(null!=t.data.runEor?(Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.data.runEor),3e3,"",!0,!0),this.forceLeaveTable()):t.data.event&&(this.hasJoin=!0,this.chessBullPanel.setStatus(this._status,this.isBanker,this.hasJoin,-1<this.ante)))},o.prototype.onSeatData=function(t){void 0===t&&(t=null);for(var e,i,n=this.vModel.getSeatData(),a=0,o=0;o<n.length;o++)if(n[o].userID==this._mainuser){i=o;break}for(o=0;o<n.length;o++){var r=n[o].vPlayer,s=o-i;if(s<0&&(s=4-i+a,a++),r.bRate>this.maxBanker&&(this.maxBanker=r.bRate),-1!=r.sorted){if(n[o].userID==this._mainuser?(e=0,this.prepayTxt.text=IPL.DictManager.getDict("BULL_PREPAY_AMOUNT")+" : "+this._currencyPic+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(n[o].amount)),this.conBg.width=this.prepayTxt.width+20,n[o].isBanker&&(this.isBanker=!0)):e=s,this.arrUserTxt[e].setNumSeat(o),this.arrUserTxt[e].setInfo(n,r),null!=this.tBanker){clearInterval(this.tBanker),this.tBanker=null;for(var h,l,c=0;c<this.lightArr.length;c++)this.lightArr[c].visible=!1;n[o].isBanker&&(h=this.arrUserTxt[e].Frame.width,l=this.arrUserTxt[e].Frame.height,TweenMax.fromTo(this.arrUserTxt[e].Frame,.5,{width:1.3*h,height:1.3*l},{width:h,height:l})),this.arrUserTxt[e].setInfo(n,r)}this.posIndex[e]=r.sorted,this.arrUserTxt[e].IconID.texture=(0==e?this.arrPosTexUser:this.arrPosTexOther)[r.sorted],n[o].isBanker&&this.chessBullPanel.setBankerRate(r.bRate)}n[o].userID!=this._mainuser?"drawLots"==this._status&&this.arrUserTxt[s].setRateTxt(r):"drawLots"==this._status&&this.arrUserTxt[0].setRateTxt(r),this.arrUserTxt[s].setTable(n,o)}},o.prototype.setPoker=function(){var t=this._poker.split(",");this._headerPoker.setPoker(t[0]),this._headerPoker.visible=""!=t[0],",,,,,,,,,,,,,,,,,,,,"==this._poker?(this._pokerPanel.reset(),this.chessBullPanel.setPoker("")):(this._pokerPanel.setPoker(this._poker),this.chessBullPanel.setPoker(this._poker))},o.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},o.prototype.onUserInfo=function(){h.prototype.onUserInfo.call(this),this.chessBullPanel.setTestBench(this.vModel.getUserInfo().getTestBench()),this.chessBullPanel.setCredit(this.vModel.getUserInfo().getCredit()),this.chessBullPanel.setLimit(this.vModel.getCreditLimit()),this.arrUserTxt[0].UserName.text=this.vModel.getUserInfo().getUsername(),this.arrUserTxt[0].isSelf=!0,Tools.AdjustText.adjustFontSize(this.arrUserTxt[0].UserName,16,90)},o.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("betLimitInfo",!1)},o.prototype.onBetInfoCommitted=function(t){null!=t.status&&"TOTAL_BET"!=t.status&&(Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.status),3e3,"",!0,!0),"NOT_ENOUGH_BALANCE"!=t.status||"joinDraw"!=this._status&&"drawLots"!=this._status)&&this.forceLeaveTable()},o.prototype.onAddBet=function(t){var e=t.data;switch(e.type){case"Ante":this.ante=e.rate,this.anteTxt.text=IPL.DictManager.getDict("BULL_ANTE")+"："+e.num,this.prepayTxt.text=IPL.DictManager.getDict("BULL_PREPAY_AMOUNT")+"："+this._currencyPic+"0.00",this.conBg.width=this.prepayTxt.width+20,this.conAnte.visible=!0;break;case"Banker":this.vModel.joinDrawBanker(e.rate,16);break;case"Player":this.vModel.bullBet(e.rate,16)}},o.prototype.forceLeaveTable=function(){this.onStopMatch(),this.chessBullPanel.forceInit(),this.chessBullPanel.visible=!0,this._pokerPanel.visible=!1,this.stopMatchBtn.visible=!1,this.resetUserTxt()},o.prototype.handleModel=function(t){h.prototype.handleModel.call(this,t),t.type===VideoShare.LiveGameEvent.ON_BET_RATE&&this.onBetRate()},o.prototype.removeHandle=function(){h.prototype.removeHandle.call(this),this.forceLeaveTable(),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_BET_RATE,this.liveGameEvent),this.chessBullPanel.event.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this.chessBullPanel.event.removeEventListener("STOP_MATCH",this.stopMatchEvent)},o);function o(){var t=h.call(this)||this;return t.ante=-1,t.isBanker=!1,t.hasJoin=!1,t.hasReady=!1,t.maxBanker=0,t.posIndex=[],Tools.Animate.setAnimateListener(),t.stopMatchEvent=function(){t.onStopMatch()},t}t.ViewModel=e;s=BullShare.PokerPanel,__extends(d,s),d.prototype.initUI=function(){this.pokerPos=[],this._pokerArr=[this.headerPoker,this.bankerPoker[0],this.bankerPoker[1],this.bankerPoker[2],this.bankerPoker[3],this.bankerPoker[4],this.player1Poker[0],this.player1Poker[1],this.player1Poker[2],this.player1Poker[3],this.player1Poker[4],this.player2Poker[0],this.player2Poker[1],this.player2Poker[2],this.player2Poker[3],this.player2Poker[4],this.player3Poker[0],this.player3Poker[1],this.player3Poker[2],this.player3Poker[3],this.player3Poker[4]];for(var t=0;t<20;t++)this.pokerPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_ChessBull_PokerBG","p"+String(t)),t<5?(this.pokerPos[t].x=this.pokerPos[t].x+23,this.pokerPos[t].y=this.pokerPos[t].y+36):(this.pokerPos[t].x=this.pokerPos[t].x+6,this.pokerPos[t].y=this.pokerPos[t].y+20),this._pokerArr[t+1].getChildAt(0).anchor.set(.3,.5);for(var e=0;e<5;++e)this.bankerPoker[e].scale=new c(.63,.6),this.addChild(this.bankerPoker[e]),this.player1Poker[e].scale=new c(.35,.32),this.addChild(this.player1Poker[e]),this.player2Poker[e].scale=new c(.35,.32),this.addChild(this.player2Poker[e]),this.player3Poker[e].scale=new c(.35,.32),this.addChild(this.player3Poker[e]);this._pokerW=this.player1Poker[0].width,this._pokerH=this.player1Poker[0].height,this._pokerMW=this.bankerPoker[0].width,this._pokerMH=this.bankerPoker[0].height,this.bankerResult=new l,this.player1Result=new l,this.player2Result=new l,this.player3Result=new l,this.bankerWin=new l,this.player1Win=new l,this.player2Win=new l,this.player3Win=new l,this.bankerWin.visible=!1;var i=[this.bankerWin,this.player1Win,this.player2Win,this.player3Win],n=[this.bankerType,this.player1Type,this.player2Type,this.player3Type],a=[this.bankerResult,this.player1Result,this.player2Result,this.player3Result];this.resultPos=[];for(var o=0;o<4;o++){var r=PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_PokerTypeBG"),s=PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_PokerWinBG");n[o].style.fontFamily="Arial",n[o].style.fontSize="14px",n[o].style.fill="#FFFFFF",n[o].anchor.set(.5),n[o].x=68.5,n[o].y=14.1,i[o].addChild(s),a[o].addChild(r),a[o].addChild(i[o]),a[o].addChild(n[o]),this.resultPos[o]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_ChessBull_PokerWinBGPos","p"+String(o)),this.addChild(a[o])}this.reset()},d.prototype.setPoker=function(t,e){for(var i=this,n=(s.prototype.setPoker.call(this,t,e=void 0===e?!0:e),t.split(",")),a=0;a<n.length;a++)if(""!=n[a]&&this._pokerStrArr[a]!=n[a]){a>=5*this.mainPoker+1&&a<=5*this.mainPoker+5?(TweenMax.fromTo(this._pokerArr[a],.2,{width:this._pokerMW,height:this._pokerMH},{width:0,height:this._pokerMH+15}),setTimeout(function(){i._pokerArr[a].setPoker(n[a]),TweenMax.fromTo(i._pokerArr[a],.2,{width:0,height:i._pokerMH+15},{width:i._pokerMW,height:i._pokerMH})},200)):(TweenMax.fromTo(this._pokerArr[a],.2,{width:this._pokerW,height:this._pokerH},{width:0,height:this._pokerH+15}),setTimeout(function(){i._pokerArr[a].setPoker(n[a]),TweenMax.fromTo(i._pokerArr[a],.2,{width:0,height:i._pokerH+15},{width:i._pokerW,height:i._pokerH})},200));break}this._pokerStrArr=t.split(","),this.bankerType.text+=this.getMultipleStr(this.bankerLv),this.player1Type.text+=this.getMultipleStr(this.player1Lv),this.player2Type.text+=this.getMultipleStr(this.player2Lv),this.player3Type.text+=this.getMultipleStr(this.player3Lv)},d.prototype.reset=function(){this.headerPoker.setPoker("back");for(var t=0;t<5;++t)this.bankerPoker[t].setPoker("back"),this.player1Poker[t].setPoker("back"),this.player2Poker[t].setPoker("back"),this.player3Poker[t].setPoker("back");this.bankerType.text="",this.player1Type.text="",this.player2Type.text="",this.player3Type.text="",this.bankerResult.visible=!1,this.player1Result.visible=!1,this.player2Result.visible=!1,this.player3Result.visible=!1,this.player1Win.visible=!1,this.player2Win.visible=!1,this.player3Win.visible=!1},d.prototype.setPos=function(t){for(var e=0;e<5;++e)this.bankerPoker[e].scale.set(.35,.32),this.player1Poker[e].scale.set(.35,.32),this.player2Poker[e].scale.set(.35,.32),this.player3Poker[e].scale.set(.35,.32),0==t.indexOf(0)&&this.bankerPoker[e].scale.set(.63,.6),0==t.indexOf(1)&&this.player1Poker[e].scale.set(.63,.6),0==t.indexOf(2)&&this.player2Poker[e].scale.set(.63,.6),0==t.indexOf(3)&&this.player3Poker[e].scale.set(.63,.6),this.bankerPoker[e].position=this.pokerPos[5*t.indexOf(0)+e],this.player1Poker[e].position=this.pokerPos[5*t.indexOf(1)+e],this.player2Poker[e].position=this.pokerPos[5*t.indexOf(2)+e],this.player3Poker[e].position=this.pokerPos[5*t.indexOf(3)+e];for(var i=0;i<4;i++)if(0==t.indexOf(i)){this.mainPoker=i;break}this.bankerResult.position=this.resultPos[t.indexOf(0)],this.player1Result.position=this.resultPos[t.indexOf(1)],this.player2Result.position=this.resultPos[t.indexOf(2)],this.player3Result.position=this.resultPos[t.indexOf(3)]};var s,u=d;function d(t){t=s.call(this,t,!1)||this;return t._pokerStrArr=["","","","","","","","","","","","","","","","","","","","",""],t}p=BullShare.PokerPanel,__extends(_,p),_.prototype.initUI=function(){this.headerPoker.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerBG","p99"),this.headerPoker.scale=new c(.45,.44),this.addChild(this.headerPoker);for(var t=0;t<5;++t)this.bankerPoker[t].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerBG","p"+String(t)),this.bankerPoker[t].scale=new c(.45,.44),this.addChild(this.bankerPoker[t]),this.player1Poker[t].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerBG","p"+String(t+5)),this.player1Poker[t].scale=new c(.45,.44),this.addChild(this.player1Poker[t]),this.player2Poker[t].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerBG","p"+String(t+10)),this.player2Poker[t].scale=new c(.45,.44),this.addChild(this.player2Poker[t]),this.player3Poker[t].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerBG","p"+String(t+15)),this.player3Poker[t].scale=new c(.45,.44),this.addChild(this.player3Poker[t]);this.bankerResult=new l,this.player1Result=new l,this.player2Result=new l,this.player3Result=new l,this.bankerWin=new l,this.player1Win=new l,this.player2Win=new l,this.player3Win=new l,this.bankerWin.visible=!1;for(var e=[this.bankerWin,this.player1Win,this.player2Win,this.player3Win],i=[this.bankerType,this.player1Type,this.player2Type,this.player3Type],n=[this.bankerResult,this.player1Result,this.player2Result,this.player3Result],a=0;a<4;a++){var o=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_PokerTypeBGS"),r=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_PokerWinBGS");i[a].style.fontFamily="Arial",i[a].style.fontSize="12px",i[a].style.fill="#FFFFFF",i[a].anchor.set(.5),i[a].x=57.5,i[a].y=7.5,e[a].addChild(r),n[a].addChild(o),n[a].addChild(e[a]),n[a].addChild(i[a]),n[a].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerWinBGSPos","p"+String(a)),this.addChild(n[a])}this.reset()},_.prototype.setPoker=function(t,e){p.prototype.setPoker.call(this,t,e=void 0===e?!0:e),this.bankerType.text+=this.getMultipleStr(this.bankerLv),this.player1Type.text+=this.getMultipleStr(this.player1Lv),this.player2Type.text+=this.getMultipleStr(this.player2Lv),this.player3Type.text+=this.getMultipleStr(this.player3Lv)},_.prototype.reset=function(){this.headerPoker.setPoker("back");for(var t=0;t<5;++t)this.bankerPoker[t].setPoker("back"),this.player1Poker[t].setPoker("back"),this.player2Poker[t].setPoker("back"),this.player3Poker[t].setPoker("back");this.bankerType.text="",this.player1Type.text="",this.player2Type.text="",this.player3Type.text="",this.bankerResult.visible=!1,this.player1Result.visible=!1,this.player2Result.visible=!1,this.player3Result.visible=!1,this.player1Win.visible=!1,this.player2Win.visible=!1,this.player3Win.visible=!1};var p,f=_;function _(t){return p.call(this,t,!1)||this}m=ChessMultiGames.ChessBullPanel,__extends(v,m),v.prototype.initUI=function(){var e=this,t=(this.bgB=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_BetAreaNO2"),this.addChild(this.bgB),this.bgB.alpha=.8,this.limitCon=new i,this.addChild(this.limitCon),this.btn2=new ChessMultiGames.StopMatchBtn,this.btn2.position=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_StopmatchingBtn").position,this.btn2.visible=!1,DeviceAndEnvironment.Device.isMobile()?this.btn2.on("tap",function(t){e.onStopMatch(t)}):(this.btn2.on("click",function(t){e.onStopMatch(t)}),this.btn2.on("tap",function(t){e.onStopMatch(t)})),this.rateBankerCon=new i,this.rateBankerCon.y=327,this.addChild(this.rateBankerCon),this.ratePlayerCon=new i,this.ratePlayerCon.y=327,this.addChild(this.ratePlayerCon),this.titleTxt=new r("",{fontFamily:"微軟正黑體",fontSize:"30px",fill:"#FFD277",fontWeight:"bold"}),this.titleTxt.anchor.set(.5),this.titleTxt.x=230,this.titleTxt.y=352,this.addChild(this.titleTxt),this.countDown=new r("0",{fontFamily:"微軟正黑體",fontSize:"60px",fill:"#FFFFFF",fontWeight:"bold"}),this.countDown.anchor.set(.5),this.countDown.x=230,this.countDown.y=457,this.addChild(this.countDown),this.countDown.visible=!1,this.gameStart=new l,this.addChild(this.gameStart),this.gameStart.alpha=0,PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_GamestartIcon")),t=(this.gameStart.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_GamestartTxt_"+IPL.UrlParameter.lang));this.gameStart.addChild(t),this.gameStart.visible=!1,this.rateBankerCon.visible=!1,this.ratePlayerCon.visible=!1,this._progressBar=new ChessMultiGames.ProgressBar,this.addChild(this._progressBar),this._progressBar.visible=!1,this._pokerPanel=new f("SimplePoker"),this.addChild(this._pokerPanel),this._pokerPanel.visible=!1},v.prototype.setLimit=function(t){var e=this;if(this._first){this._first=!1,m.prototype.setLimit.call(this,t);for(var i=t.length,n=0;n<i;n++){var a=t[n],o=(this.arrLimitBtn[n]=new ShareUI.Button("Multiple_FightBull_MinLimitBtn"),this.limitCon.addChild(this.arrLimitBtn[n]),this.arrLimitBtn[n].name="A"+String(n),this.arrLimitBtn[n].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_MinLimitBtn","p"+String(n)),i<4&&(this.updateTitleTxt(null,1),this.arrLimitBtn[n].position.y+=54),l.fromImage("Multiple_FightBull_MinLimitTxt_"+IPL.UrlParameter.lang+"0000")),o=(o.x=5,o.y=5,this.arrLimitBtn[n].addChild(o),new r((new ShareLogic.DigitalLogic).addCommas(String(a.ante)),{fontFamily:"微軟正黑體",fontSize:"36px",fill:"#FFD277",fontWeight:"bold"})),o=(o.anchor.set(.5),o.x=53,o.y=53,this.arrLimitBtn[n].addChild(o),new r("("+IPL.DictManager.getDict("BULL_MIN_LIMIT")+":"+(new ShareLogic.DigitalLogic).addCommas(String(a.minBalance))+")",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#FFFFFF"}));o.anchor.set(.5),o.x=53,o.y=90,this.arrLimitBtn[n].addChild(o),o.style.fontSize=Tools.AdjustText.adjustFontSize(o,16,100),DeviceAndEnvironment.Device.isMobile()?this.arrLimitBtn[n].on("tap",function(t){e.onLimitBtnCLK(t)}):(this.arrLimitBtn[n].on("click",function(t){e.onLimitBtnCLK(t)}),this.arrLimitBtn[n].on("tap",function(t){e.onLimitBtnCLK(t)}))}this.checkCrdit(this.arrLimitBtn,"limit")}},v.prototype.changePoker=function(t){this.removeChild(this._pokerPanel),this._pokerPanel=t,this._pokerPanel.visible=!1,this.addChild(this._pokerPanel)},v.prototype.setPos=function(t){this._pokerPanel.setPos(t)},v.prototype.setStatus=function(t,e,i,n){m.prototype.setStatus.call(this,t,e,i,n),i||0!=this._ante&&"ready"==t&&(this._pokerPanel.visible=!1)},v.prototype.setRates=function(t){for(var e=this,i=(m.prototype.setRates.call(this,t),this._ratePlayer.length),n={fontFamily:"微軟正黑體",fontSize:"21px",fill:"#000000"},a=0;a<i;a++){this.arrPlayerBtn[a]||(this.arrBankerBtn[a]=new ShareUI.Button("Multiple_FightBull_MultipleBtn"),this.rateBankerCon.addChild(this.arrBankerBtn[a]),this.rateTxt[a]=new r("",n),this.rateTxt[a].anchor.set(.5),this.rateTxt[a].x=46,this.rateTxt[a].y=26,this.arrBankerBtn[a].addChild(this.rateTxt[a]),this.rateTxt[a].style.fontSize=Tools.AdjustText.adjustFontSize(this.rateTxt[a],21,90),this.arrPlayerBtn[a]=new ShareUI.Button("Multiple_FightBull_MultipleBtn"),this.arrPlayerBtn[a].x=26+106*a,this.arrPlayerBtn[a].y=211,this.arrPlayerBtn[a].name="P"+String(this._ratePlayer[a]),this.ratePlayerCon.addChild(this.arrPlayerBtn[a]),this.ratepTxt[a]=new r("",n),this.ratepTxt[a].anchor.set(.5),this.ratepTxt[a].x=46,this.ratepTxt[a].y=26,this.arrPlayerBtn[a].addChild(this.ratepTxt[a]),this.ratepTxt[a].style.fontSize=Tools.AdjustText.adjustFontSize(this.ratepTxt[a],21,90),DeviceAndEnvironment.Device.isMobile()?(this.arrBankerBtn[a].on("tap",function(t){e.onBankerBtnCLK(t)}),this.arrPlayerBtn[a].on("tap",function(t){e.onPlayerBtnCLK(t)})):(this.arrBankerBtn[a].on("click",function(t){e.onBankerBtnCLK(t)}),this.arrPlayerBtn[a].on("click",function(t){e.onPlayerBtnCLK(t)}),this.arrBankerBtn[a].on("tap",function(t){e.onBankerBtnCLK(t)}),this.arrPlayerBtn[a].on("tap",function(t){e.onPlayerBtnCLK(t)})));var o=void 0,o="cn"!=IPL.UrlParameter.lang&&"tw"!=IPL.UrlParameter.lang?"x"+String(this._rateBanker[a]):String(this._rateBanker[a])+IPL.DictManager.getDict("BULL_MULTIPLE"),o=(0==a&&(o=IPL.DictManager.getDict("BULL_NO_SNATCH")),this.rateTxt[a].text=o,this.rateTxt[a].style.fontSize=Tools.AdjustText.adjustFontSize(this.rateTxt[a],21,90),this.arrBankerBtn[a].x=26+106*a,this.arrBankerBtn[a].y=211,this.arrBankerBtn[a].name="B"+String(this._rateBanker[a]),void 0),o="cn"!=IPL.UrlParameter.lang&&"tw"!=IPL.UrlParameter.lang?"x"+String(this._ratePlayer[a]):String(this._ratePlayer[a])+IPL.DictManager.getDict("BULL_MULTIPLE");this.ratepTxt[a].text=o,this.ratepTxt[a].style.fontSize=Tools.AdjustText.adjustFontSize(this.ratepTxt[a],21,90)}};var m,g=v;function v(){return m.call(this)||this}t.ChessBullPanel=g;y=ChessMultiGames.UserBetCell,__extends(S,y),S.prototype.initUI=function(t){var e="Multiple_ChessBull_OtherPlayerIcon",i=new c(120,102);0==t&&(e="Multiple_ChessBull_PlayerIcon",i.x=120,i.y=-45),this.BgON=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_ChessBull_Player","p"+String(t),!1),this.addChild(this.BgON),this.BgBlue=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_ChessBull_MultipleBG","p"+String(t),!1),this.addChild(this.BgBlue),this.BgRed=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_ChessBull_SnatchBG","p"+String(t),!1),this.addChild(this.BgRed),this.IconP=PIXILayoutTool.DisplayObject.createImage(e),this.addChild(this.IconP),this.IconB=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_ChessBull_BankerIconG","p"+String(t),!1),this.IconP.position=this.IconB.position,this.IconB.visible=!1,this.addChild(this.IconB),this.PayWay=new r("",{fontFamily:"微軟正黑體",fontSize:"22px",fill:"#FFCC22",dropShadow:!0,dropShadowAngle:.6,dropShadowDistance:1}),this.PayWay.anchor.set(1,.5),this.PayWay.position=this.BgBlue.position,this.PayWay.x+=i.x,this.PayWay.y+=i.y,this.addChild(this.PayWay),this.PayWay.visible=!1,this.RateTxt=new r("",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#FFFFFF"}),this.RateTxt.anchor.set(.5),this.RateTxt.x=this.BgBlue.x+73,this.RateTxt.y=this.BgBlue.y+12,this.addChild(this.RateTxt),this.UserName=new r("",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#FFFFFF"}),this.UserName.anchor.set(.5),this.UserName.x=this.RateTxt.x,this.UserName.y=this.RateTxt.y-27,this.addChild(this.UserName),this.Frame=PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_BankerIcon"),this.Frame.position=this.IconB.position,this.Frame.visible=!1,this.addChild(this.Frame),this.IconID=new l,this.IconID.position=this.IconB.position,this.addChild(this.IconID)},S.prototype.reset=function(t){y.prototype.reset.call(this,t),0!=t?(this.IconP.visible=!1,this.BgON.visible=!1,this.UserName.visible=!1,this.IconID.texture=a.fromImage("Multiple_ChessBull_OtherP"+String(t)+"Icon_"+IPL.UrlParameter.lang+"0000")):this.IconID.texture=a.fromImage("Multiple_ChessBull_BankerIcon0000")};var y,P=S;function S(){return y.call(this)||this}}(ChessBullMultiGames=ChessBullMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new ChessBullMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.ChessBullMain=i}(MultiGames=MultiGames||{}),this&&this.__extends||function(){var n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])});return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}()),pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,pixi_spine,ChessTripleFaceMultiGames,MultiGames,BlockchainBacMultiGames,MultiGames,BlockchainDtfMultiGames,MultiGames,BlockchainInsBacMultiGames,MultiGames,BlockChainRouShare,BlockchainRouMultiGames,MultiGames,BlockchainThreeCardMultiGames,MultiGames,BlockChainBullMultiGames,MultiGames,BlockChainTripleFaceMultiGames,MultiGames,BlockChainSicShare,BlockchainSicBoMultiGames,MultiGames,BlockchainFishSCMultiGames,MultiGames,BlockChainSeDieShare,BlockchainSeDieMultiGames,MultiGames,BlockChainHiloShare,BlockchainHiloMultiGames,MultiGames,BlockChainPaiShare,BlockChainPaiShare,BlockChainPaiGowMultiGames,MultiGames,BlockChainFanTanShare,_gsScope=(!function(t){var I=t.core||(t.core={});i.prototype.apply=function(t,e,i,n,a,o,r,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(i%=this.duration,0<e)&&(e%=this.duration);for(var h=this.timelines,l=0,c=h.length;l<c;l++)h[l].apply(t,e,i,a,o,r,s)},i.binarySearch=function(t,e,i){var n=0,a=t.length/(i=void 0===i?1:i)-2;if(0==a)return i;for(var o=a>>>1;;){if(t[(o+1)*i]<=e?n=o+1:a=o,n==a)return(n+1)*i;o=n+a>>>1}},i.linearSearch=function(t,e,i){for(var n=0,a=t.length-i;n<=a;n+=i)if(t[n]>e)return n;return-1};var B,d,e,C=i;function i(t,e,i){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=i}I.Animation=C,(t=B=I.MixPose||(I.MixPose={}))[t.setup=0]="setup",t[t.current=1]="current",t[t.currentLayered=2]="currentLayered",(t=d=I.MixDirection||(I.MixDirection={}))[t.in=0]="in",t[t.out=1]="out",(t=e=I.TimelineType||(I.TimelineType={}))[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor",v.prototype.getFrameCount=function(){return this.curves.length/v.BEZIER_SIZE+1},v.prototype.setLinear=function(t){this.curves[t*v.BEZIER_SIZE]=v.LINEAR},v.prototype.setStepped=function(t){this.curves[t*v.BEZIER_SIZE]=v.STEPPED},v.prototype.getCurveType=function(t){var t=t*v.BEZIER_SIZE;return t==this.curves.length||(t=this.curves[t])==v.LINEAR?v.LINEAR:t==v.STEPPED?v.STEPPED:v.BEZIER},v.prototype.setCurve=function(t,e,i,n,a){for(var o=.03*(2*-e+n),r=.03*(2*-i+a),s=.006*(3*(e-n)+1),h=.006*(3*(i-a)+1),l=2*o+s,c=2*r+h,u=.3*e+o+.16666667*s,d=.3*i+r+.16666667*h,p=t*v.BEZIER_SIZE,f=this.curves,_=(f[p++]=v.BEZIER,u),m=d,g=p+v.BEZIER_SIZE-1;p<g;p+=2)f[p]=_,f[p+1]=m,u+=l,d+=c,l+=s,c+=h,_+=u,m+=d},v.prototype.getCurvePercent=function(t,e){e=I.MathUtils.clamp(e,0,1);var i=this.curves,n=t*v.BEZIER_SIZE,t=i[n];if(t==v.LINEAR)return e;if(t==v.STEPPED)return 0;for(var a,o,r=0,s=++n,h=n+v.BEZIER_SIZE-1;n<h;n+=2)if(e<=(r=i[n]))return o=a=void 0,(o=n==s?a=0:(a=i[n-2],i[n-1]))+(i[n+1]-o)*(e-a)/(r-a);t=i[n-1];return t+(1-t)*(e-r)/(1-r)},v.LINEAR=0,v.STEPPED=1,v.BEZIER=2,v.BEZIER_SIZE=19;t=v;function v(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=I.Utils.newFloatArray((t-1)*v.BEZIER_SIZE)}I.CurveTimeline=t,__extends(p,n=t),p.prototype.getPropertyId=function(){return(e.rotate<<24)+this.boneIndex},p.prototype.setFrame=function(t,e,i){this.frames[t<<=1]=e,this.frames[t+p.ROTATION]=i},p.prototype.apply=function(t,e,i,n,a,o,r){var s,h,l=this.frames,c=t.bones[this.boneIndex];if(i<l[0])switch(o){case B.setup:return void(c.rotation=c.data.rotation);case B.current:var u=c.data.rotation-c.rotation;c.rotation+=(u-=360*(16384-(16384.499999999996-u/360|0)))*a}else i>=l[l.length-p.ENTRIES]?o==B.setup?c.rotation=c.data.rotation+l[l.length+p.PREV_ROTATION]*a:(t=c.data.rotation+l[l.length+p.PREV_ROTATION]-c.rotation,c.rotation+=(t-=360*(16384-(16384.499999999996-t/360|0)))*a):(s=l[(t=C.binarySearch(l,i,p.ENTRIES))+p.PREV_ROTATION],h=l[t],i=this.getCurvePercent((t>>1)-1,1-(i-h)/(l[t+p.PREV_TIME]-h)),h=l[t+p.ROTATION]-s,h=s+(h-=360*(16384-(16384.499999999996-h/360|0)))*i,o==B.setup?c.rotation=c.data.rotation+(h-=360*(16384-(16384.499999999996-h/360|0)))*a:(h=c.data.rotation+h-c.rotation,c.rotation+=(h-=360*(16384-(16384.499999999996-h/360|0)))*a))},p.ENTRIES=2,p.PREV_TIME=-2,p.PREV_ROTATION=-1,p.ROTATION=1;var n,a=p;function p(t){var e=n.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t<<1),e}I.RotateTimeline=p,__extends(f,o=t),f.prototype.getPropertyId=function(){return(e.translate<<24)+this.boneIndex},f.prototype.setFrame=function(t,e,i,n){this.frames[t*=f.ENTRIES]=e,this.frames[t+f.X]=i,this.frames[t+f.Y]=n},f.prototype.apply=function(t,e,i,n,a,o,r){var s=this.frames,h=t.bones[this.boneIndex];if(i<s[0])switch(o){case B.setup:return h.x=h.data.x,void(h.y=h.data.y);case B.current:h.x+=(h.data.x-h.x)*a,h.y+=(h.data.y-h.y)*a}else{var l,c,t=0,u=0;i>=s[s.length-f.ENTRIES]?(t=s[s.length+f.PREV_X],u=s[s.length+f.PREV_Y]):(t=s[(l=C.binarySearch(s,i,f.ENTRIES))+f.PREV_X],u=s[l+f.PREV_Y],c=s[l],i=this.getCurvePercent(l/f.ENTRIES-1,1-(i-c)/(s[l+f.PREV_TIME]-c)),t+=(s[l+f.X]-t)*i,u+=(s[l+f.Y]-u)*i),o==B.setup?(h.x=h.data.x+t*a,h.y=h.data.y+u*a):(h.x+=(h.data.x+t-h.x)*a,h.y+=(h.data.y+u-h.y)*a)}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2;var o,a=f;function f(t){var e=o.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t*f.ENTRIES),e}I.TranslateTimeline=a,__extends(_,r=a),_.prototype.getPropertyId=function(){return(e.scale<<24)+this.boneIndex},_.prototype.apply=function(t,e,i,n,a,o,r){var s=this.frames,h=t.bones[this.boneIndex];if(i<s[0])switch(o){case B.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case B.current:h.scaleX+=(h.data.scaleX-h.scaleX)*a,h.scaleY+=(h.data.scaleY-h.scaleY)*a}else{var l,c,t=0,u=0;u=i>=s[s.length-_.ENTRIES]?(t=s[s.length+_.PREV_X]*h.data.scaleX,s[s.length+_.PREV_Y]*h.data.scaleY):(t=s[(l=C.binarySearch(s,i,_.ENTRIES))+_.PREV_X],u=s[l+_.PREV_Y],c=s[l],i=this.getCurvePercent(l/_.ENTRIES-1,1-(i-c)/(s[l+_.PREV_TIME]-c)),t=(t+(s[l+_.X]-t)*i)*h.data.scaleX,(u+(s[l+_.Y]-u)*i)*h.data.scaleY),1==a?(h.scaleX=t,h.scaleY=u):(s=c=0,s=(o==B.setup?(c=h.data.scaleX,h.data):(c=h.scaleX,h)).scaleY,r==d.out?(t=Math.abs(t)*I.MathUtils.signum(c),u=Math.abs(u)*I.MathUtils.signum(s)):(c=Math.abs(c)*I.MathUtils.signum(t),s=Math.abs(s)*I.MathUtils.signum(u)),h.scaleX=c+(t-c)*a,h.scaleY=s+(u-s)*a)}};var r,s=_;function _(t){return r.call(this,t)||this}I.ScaleTimeline=_,__extends(m,h=a),m.prototype.getPropertyId=function(){return(e.shear<<24)+this.boneIndex},m.prototype.apply=function(t,e,i,n,a,o,r){var s=this.frames,h=t.bones[this.boneIndex];if(i<s[0])switch(o){case B.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case B.current:h.shearX+=(h.data.shearX-h.shearX)*a,h.shearY+=(h.data.shearY-h.shearY)*a}else{var l,c,t=0,u=0;i>=s[s.length-m.ENTRIES]?(t=s[s.length+m.PREV_X],u=s[s.length+m.PREV_Y]):(t=s[(l=C.binarySearch(s,i,m.ENTRIES))+m.PREV_X],u=s[l+m.PREV_Y],c=s[l],i=this.getCurvePercent(l/m.ENTRIES-1,1-(i-c)/(s[l+m.PREV_TIME]-c)),t+=(s[l+m.X]-t)*i,u+=(s[l+m.Y]-u)*i),o==B.setup?(h.shearX=h.data.shearX+t*a,h.shearY=h.data.shearY+u*a):(h.shearX+=(h.data.shearX+t-h.shearX)*a,h.shearY+=(h.data.shearY+u-h.shearY)*a)}};var h,s=m;function m(t){return h.call(this,t)||this}I.ShearTimeline=m,__extends(g,l=t),g.prototype.getPropertyId=function(){return(e.color<<24)+this.slotIndex},g.prototype.setFrame=function(t,e,i,n,a,o){this.frames[t*=g.ENTRIES]=e,this.frames[t+g.R]=i,this.frames[t+g.G]=n,this.frames[t+g.B]=a,this.frames[t+g.A]=o},g.prototype.apply=function(t,e,i,n,a,o,r){var s=t.slots[this.slotIndex],t=this.frames;if(i<t[0])switch(o){case B.setup:return void s.color.setFromColor(s.data.color);case B.current:var h=s.color,l=s.data.color;h.add((l.r-h.r)*a,(l.g-h.g)*a,(l.b-h.b)*a,(l.a-h.a)*a)}else{var c,u,d=0,p=0,f=0,_=0;i>=t[t.length-g.ENTRIES]?(d=t[(c=t.length)+g.PREV_R],p=t[c+g.PREV_G],f=t[c+g.PREV_B],_=t[c+g.PREV_A]):(d=t[(c=C.binarySearch(t,i,g.ENTRIES))+g.PREV_R],p=t[c+g.PREV_G],f=t[c+g.PREV_B],_=t[c+g.PREV_A],u=t[c],i=this.getCurvePercent(c/g.ENTRIES-1,1-(i-u)/(t[c+g.PREV_TIME]-u)),d+=(t[c+g.R]-d)*i,p+=(t[c+g.G]-p)*i,f+=(t[c+g.B]-f)*i,_+=(t[c+g.A]-_)*i),1==a?s.color.set(d,p,f,_):(h=s.color,o==B.setup&&h.setFromColor(s.data.color),h.add((d-h.r)*a,(p-h.g)*a,(f-h.b)*a,(_-h.a)*a))}},g.ENTRIES=5,g.PREV_TIME=-5,g.PREV_R=-4,g.PREV_G=-3,g.PREV_B=-2,g.PREV_A=-1,g.R=1,g.G=2,g.B=3,g.A=4;var l,a=g;function g(t){var e=l.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t*g.ENTRIES),e}I.ColorTimeline=g,__extends(S,c=t),S.prototype.getPropertyId=function(){return(e.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(t,e,i,n,a,o,r,s,h){this.frames[t*=S.ENTRIES]=e,this.frames[t+S.R]=i,this.frames[t+S.G]=n,this.frames[t+S.B]=a,this.frames[t+S.A]=o,this.frames[t+S.R2]=r,this.frames[t+S.G2]=s,this.frames[t+S.B2]=h},S.prototype.apply=function(t,e,i,n,a,o,r){var s=t.slots[this.slotIndex],t=this.frames;if(i<t[0])switch(o){case B.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case B.current:var h=s.color,l=s.darkColor,c=s.data.color,u=s.data.darkColor;h.add((c.r-h.r)*a,(c.g-h.g)*a,(c.b-h.b)*a,(c.a-h.a)*a),l.add((u.r-l.r)*a,(u.g-l.g)*a,(u.b-l.b)*a,0)}else{var d,p,f=0,_=0,m=0,g=0,v=0,y=0,P=0;i>=t[t.length-S.ENTRIES]?(f=t[(d=t.length)+S.PREV_R],_=t[d+S.PREV_G],m=t[d+S.PREV_B],g=t[d+S.PREV_A],v=t[d+S.PREV_R2],y=t[d+S.PREV_G2],P=t[d+S.PREV_B2]):(f=t[(d=C.binarySearch(t,i,S.ENTRIES))+S.PREV_R],_=t[d+S.PREV_G],m=t[d+S.PREV_B],g=t[d+S.PREV_A],v=t[d+S.PREV_R2],y=t[d+S.PREV_G2],P=t[d+S.PREV_B2],p=t[d],i=this.getCurvePercent(d/S.ENTRIES-1,1-(i-p)/(t[d+S.PREV_TIME]-p)),f+=(t[d+S.R]-f)*i,_+=(t[d+S.G]-_)*i,m+=(t[d+S.B]-m)*i,g+=(t[d+S.A]-g)*i,v+=(t[d+S.R2]-v)*i,y+=(t[d+S.G2]-y)*i,P+=(t[d+S.B2]-P)*i),1==a?(s.color.set(f,_,m,g),s.darkColor.set(v,y,P,1)):(h=s.color,l=s.darkColor,o==B.setup&&(h.setFromColor(s.data.color),l.setFromColor(s.data.darkColor)),h.add((f-h.r)*a,(_-h.g)*a,(m-h.b)*a,(g-h.a)*a),l.add((v-l.r)*a,(y-l.g)*a,(P-l.b)*a,0))}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7;var c,s=S;function S(t){var e=c.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t*S.ENTRIES),e}function u(t){this.frames=I.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}I.TwoColorTimeline=S,u.prototype.getPropertyId=function(){return(e.attachment<<24)+this.slotIndex},u.prototype.getFrameCount=function(){return this.frames.length},u.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},u.prototype.apply=function(t,e,i,n,a,o,r){var s=t.slots[this.slotIndex];r==d.out&&o==B.setup?(r=s.data.attachmentName,s.setAttachment(null==r?null:t.getAttachment(this.slotIndex,r))):i<(r=this.frames)[0]?o==B.setup&&(o=s.data.attachmentName,s.setAttachment(null==o?null:t.getAttachment(this.slotIndex,o))):(s=0,s=i>=r[r.length-1]?r.length-1:C.binarySearch(r,i,1)-1,o=this.attachmentNames[s],t.slots[this.slotIndex].setAttachment(null==o?null:t.getAttachment(this.slotIndex,o)))},I.AttachmentTimeline=u;var y,P=null,a=(__extends(b,y=t),b.prototype.getPropertyId=function(){return(e.deform<<27)+ +this.attachment.id+this.slotIndex},b.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.frameVertices[t]=i},b.prototype.apply=function(t,e,i,n,a,o,r){var t=t.slots[this.slotIndex],s=t.getAttachment();if(s instanceof I.VertexAttachment&&s.applyDeform(this.attachment)){var h=t.attachmentVertices,t=(0==h.length&&(a=1),this.frameVertices),l=t[0].length,c=this.frames;if(i<c[0]){var u=s;switch(o){case B.setup:return void(h.length=0);case B.current:if(1==a)h.length=0;else{var d=I.Utils.setArraySize(h,l);if(null==u.bones)for(var p=u.vertices,f=0;f<l;f++)d[f]+=(p[f]-d[f])*a;else{a=1-a;for(f=0;f<l;f++)d[f]*=a}}}}else{var _=I.Utils.setArraySize(h,l);if(i>=c[c.length-1]){var m=t[c.length-1];if(1==a)I.Utils.arrayCopy(m,0,_,0,l);else if(o==B.setup)if(null==(u=s).bones)for(p=u.vertices,f=0;f<l;f++){var g=p[f];_[f]=g+(m[f]-g)*a}else for(f=0;f<l;f++)_[f]=m[f]*a;else for(f=0;f<l;f++)_[f]+=(m[f]-_[f])*a}else{var v=C.binarySearch(c,i),y=t[v-1],P=t[v],t=c[v],S=this.getCurvePercent(v-1,1-(i-t)/(c[v-1]-t));if(1==a)for(f=0;f<l;f++){var b=y[f];_[f]=b+(P[f]-b)*S}else if(o==B.setup)if(null==(u=s).bones)for(p=u.vertices,f=0;f<l;f++){b=y[f],g=p[f];_[f]=g+(b+(P[f]-b)*S-g)*a}else for(f=0;f<l;f++){b=y[f];_[f]=(b+(P[f]-b)*S)*a}else for(f=0;f<l;f++){b=y[f];_[f]+=(b+(P[f]-b)*S-_[f])*a}}}}},b);function b(t){var e=y.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==P&&(P=I.Utils.newFloatArray(64)),e}function k(t){this.frames=I.Utils.newFloatArray(t),this.events=new Array(t)}function T(t){this.frames=I.Utils.newFloatArray(t),this.drawOrders=new Array(t)}I.DeformTimeline=a,k.prototype.getPropertyId=function(){return e.event<<24},k.prototype.getFrameCount=function(){return this.frames.length},k.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},k.prototype.apply=function(t,e,i,n,a,o,r){if(null!=n){var s=this.frames,h=this.frames.length;if(i<e)this.apply(t,e,Number.MAX_VALUE,n,a,o,r),e=-1;else if(e>=s[h-1])return;if(!(i<s[0])){var l=0;if(e<s[0])l=0;else for(var c=s[l=C.binarySearch(s,e)];0<l&&s[l-1]==c;)l--;for(;l<h&&i>=s[l];l++)n.push(this.events[l])}}},I.EventTimeline=k,T.prototype.getPropertyId=function(){return e.drawOrder<<24},T.prototype.getFrameCount=function(){return this.frames.length},T.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.drawOrders[t]=i},T.prototype.apply=function(t,e,i,n,a,o,r){var s=t.drawOrder,h=t.slots;if(r==d.out&&o==B.setup)I.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{r=this.frames;if(i<r[0])o==B.setup&&I.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var o=0,o=i>=r[r.length-1]?r.length-1:C.binarySearch(r,i)-1,l=this.drawOrders[o];if(null==l)I.Utils.arrayCopy(h,0,s,0,h.length);else for(var c=0,u=l.length;c<u;c++)s[c]=h[l[c]]}}},I.DrawOrderTimeline=T,__extends(M,x=t),M.prototype.getPropertyId=function(){return(e.ikConstraint<<24)+this.ikConstraintIndex},M.prototype.setFrame=function(t,e,i,n){this.frames[t*=M.ENTRIES]=e,this.frames[t+M.MIX]=i,this.frames[t+M.BEND_DIRECTION]=n},M.prototype.apply=function(t,e,i,n,a,o,r){var s,h,l=this.frames,c=t.ikConstraints[this.ikConstraintIndex];if(i<l[0])switch(o){case B.setup:return c.mix=c.data.mix,void(c.bendDirection=c.data.bendDirection);case B.current:c.mix+=(c.data.mix-c.mix)*a,c.bendDirection=c.data.bendDirection}else i>=l[l.length-M.ENTRIES]?o==B.setup?(c.mix=c.data.mix+(l[l.length+M.PREV_MIX]-c.data.mix)*a,c.bendDirection=r==d.out?c.data.bendDirection:l[l.length+M.PREV_BEND_DIRECTION]):(c.mix+=(l[l.length+M.PREV_MIX]-c.mix)*a,r==d.in&&(c.bendDirection=l[l.length+M.PREV_BEND_DIRECTION])):(s=l[(t=C.binarySearch(l,i,M.ENTRIES))+M.PREV_MIX],h=l[t],i=this.getCurvePercent(t/M.ENTRIES-1,1-(i-h)/(l[t+M.PREV_TIME]-h)),o==B.setup?(c.mix=c.data.mix+(s+(l[t+M.MIX]-s)*i-c.data.mix)*a,c.bendDirection=r==d.out?c.data.bendDirection:l[t+M.PREV_BEND_DIRECTION]):(c.mix+=(s+(l[t+M.MIX]-s)*i-c.mix)*a,r==d.in&&(c.bendDirection=l[t+M.PREV_BEND_DIRECTION])))},M.ENTRIES=3,M.PREV_TIME=-3,M.PREV_MIX=-2,M.PREV_BEND_DIRECTION=-1,M.MIX=1,M.BEND_DIRECTION=2;var x,s=M;function M(t){var e=x.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t*M.ENTRIES),e}I.IkConstraintTimeline=M,__extends(L,w=t),L.prototype.getPropertyId=function(){return(e.transformConstraint<<24)+this.transformConstraintIndex},L.prototype.setFrame=function(t,e,i,n,a,o){this.frames[t*=L.ENTRIES]=e,this.frames[t+L.ROTATE]=i,this.frames[t+L.TRANSLATE]=n,this.frames[t+L.SCALE]=a,this.frames[t+L.SHEAR]=o},L.prototype.apply=function(t,e,i,n,a,o,r){var s=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(i<s[0]){var l=h.data;switch(o){case B.setup:return h.rotateMix=l.rotateMix,h.translateMix=l.translateMix,h.scaleMix=l.scaleMix,void(h.shearMix=l.shearMix);case B.current:h.rotateMix+=(l.rotateMix-h.rotateMix)*a,h.translateMix+=(l.translateMix-h.translateMix)*a,h.scaleMix+=(l.scaleMix-h.scaleMix)*a,h.shearMix+=(l.shearMix-h.shearMix)*a}}else{var c,u,t=0,d=0,p=0,f=0;i>=s[s.length-L.ENTRIES]?(t=s[(c=s.length)+L.PREV_ROTATE],d=s[c+L.PREV_TRANSLATE],p=s[c+L.PREV_SCALE],f=s[c+L.PREV_SHEAR]):(t=s[(c=C.binarySearch(s,i,L.ENTRIES))+L.PREV_ROTATE],d=s[c+L.PREV_TRANSLATE],p=s[c+L.PREV_SCALE],f=s[c+L.PREV_SHEAR],u=s[c],i=this.getCurvePercent(c/L.ENTRIES-1,1-(i-u)/(s[c+L.PREV_TIME]-u)),t+=(s[c+L.ROTATE]-t)*i,d+=(s[c+L.TRANSLATE]-d)*i,p+=(s[c+L.SCALE]-p)*i,f+=(s[c+L.SHEAR]-f)*i),o==B.setup?(l=h.data,h.rotateMix=l.rotateMix+(t-l.rotateMix)*a,h.translateMix=l.translateMix+(d-l.translateMix)*a,h.scaleMix=l.scaleMix+(p-l.scaleMix)*a,h.shearMix=l.shearMix+(f-l.shearMix)*a):(h.rotateMix+=(t-h.rotateMix)*a,h.translateMix+=(d-h.translateMix)*a,h.scaleMix+=(p-h.scaleMix)*a,h.shearMix+=(f-h.shearMix)*a)}},L.ENTRIES=5,L.PREV_TIME=-5,L.PREV_ROTATE=-4,L.PREV_TRANSLATE=-3,L.PREV_SCALE=-2,L.PREV_SHEAR=-1,L.ROTATE=1,L.TRANSLATE=2,L.SCALE=3,L.SHEAR=4;var w,a=L;function L(t){var e=w.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t*L.ENTRIES),e}I.TransformConstraintTimeline=L,__extends(A,E=t),A.prototype.getPropertyId=function(){return(e.pathConstraintPosition<<24)+this.pathConstraintIndex},A.prototype.setFrame=function(t,e,i){this.frames[t*=A.ENTRIES]=e,this.frames[t+A.VALUE]=i},A.prototype.apply=function(t,e,i,n,a,o,r){var s=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(i<s[0])switch(o){case B.setup:return void(h.position=h.data.position);case B.current:h.position+=(h.data.position-h.position)*a}else{var l,c,t=0;i>=s[s.length-A.ENTRIES]?t=s[s.length+A.PREV_VALUE]:(t=s[(l=C.binarySearch(s,i,A.ENTRIES))+A.PREV_VALUE],c=s[l],i=this.getCurvePercent(l/A.ENTRIES-1,1-(i-c)/(s[l+A.PREV_TIME]-c)),t+=(s[l+A.VALUE]-t)*i),o==B.setup?h.position=h.data.position+(t-h.data.position)*a:h.position+=(t-h.position)*a}},A.ENTRIES=2,A.PREV_TIME=-2,A.PREV_VALUE=-1,A.VALUE=1;var E,s=A;function A(t){var e=E.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t*A.ENTRIES),e}I.PathConstraintPositionTimeline=s,__extends(D,N=s),D.prototype.getPropertyId=function(){return(e.pathConstraintSpacing<<24)+this.pathConstraintIndex},D.prototype.apply=function(t,e,i,n,a,o,r){var s=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(i<s[0])switch(o){case B.setup:return void(h.spacing=h.data.spacing);case B.current:h.spacing+=(h.data.spacing-h.spacing)*a}else{var l,c,t=0;i>=s[s.length-D.ENTRIES]?t=s[s.length+D.PREV_VALUE]:(t=s[(l=C.binarySearch(s,i,D.ENTRIES))+D.PREV_VALUE],c=s[l],i=this.getCurvePercent(l/D.ENTRIES-1,1-(i-c)/(s[l+D.PREV_TIME]-c)),t+=(s[l+D.VALUE]-t)*i),o==B.setup?h.spacing=h.data.spacing+(t-h.data.spacing)*a:h.spacing+=(t-h.spacing)*a}};var N,a=D;function D(t){return N.call(this,t)||this}I.PathConstraintSpacingTimeline=D,__extends(R,O=t),R.prototype.getPropertyId=function(){return(e.pathConstraintMix<<24)+this.pathConstraintIndex},R.prototype.setFrame=function(t,e,i,n){this.frames[t*=R.ENTRIES]=e,this.frames[t+R.ROTATE]=i,this.frames[t+R.TRANSLATE]=n},R.prototype.apply=function(t,e,i,n,a,o,r){var s=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(i<s[0])switch(o){case B.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case B.current:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*a,h.translateMix+=(h.data.translateMix-h.translateMix)*a}else{var l,c,t=0,u=0;i>=s[s.length-R.ENTRIES]?(t=s[s.length+R.PREV_ROTATE],u=s[s.length+R.PREV_TRANSLATE]):(t=s[(l=C.binarySearch(s,i,R.ENTRIES))+R.PREV_ROTATE],u=s[l+R.PREV_TRANSLATE],c=s[l],i=this.getCurvePercent(l/R.ENTRIES-1,1-(i-c)/(s[l+R.PREV_TIME]-c)),t+=(s[l+R.ROTATE]-t)*i,u+=(s[l+R.TRANSLATE]-u)*i),o==B.setup?(h.rotateMix=h.data.rotateMix+(t-h.data.rotateMix)*a,h.translateMix=h.data.translateMix+(u-h.data.translateMix)*a):(h.rotateMix+=(t-h.rotateMix)*a,h.translateMix+=(u-h.translateMix)*a)}},R.ENTRIES=3,R.PREV_TIME=-3,R.PREV_ROTATE=-2,R.PREV_TRANSLATE=-1,R.ROTATE=1,R.TRANSLATE=2;var O,s=R;function R(t){var e=O.call(this,t)||this;return e.frames=I.Utils.newFloatArray(t*R.ENTRIES),e}I.PathConstraintMixTimeline=R}(pixi_spine=pixi_spine||{}),!function(t){var I=t.core||(t.core={}),f=(B.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,i=0,n=e.length;i<n;i++){var a=e[i];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=t*a.timeScale;if(0<a.delay){if(a.delay-=o,0<a.delay)continue;o=-a.delay,a.delay=0}var r=a.next;if(null!=r){var s=a.trackLast-r.delay;if(0<=s){for(r.delay=0,r.trackTime=s+t*r.timeScale,a.trackTime+=o,this.setCurrent(i,r,!0);null!=r.mixingFrom;)r.mixTime+=o,r=r.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){e[i]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,t)){var h=a.mixingFrom;for(a.mixingFrom=null;null!=h;)this.queue.end(h),h=h.mixingFrom}a.trackTime+=o}}this.queue.drain()},B.prototype.updateMixingFrom=function(t,e){var i,n=t.mixingFrom;return null==n||(i=this.updateMixingFrom(n,e),0<t.mixTime&&(t.mixTime>=t.mixDuration||0==t.timeScale)?(0==n.totalAlpha&&(t.mixingFrom=n.mixingFrom,t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,n.trackTime+=e*n.timeScale,t.mixTime+=e*t.timeScale,!1))},B.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,i=this.tracks,n=!1,a=0,o=i.length;a<o;a++){var r=i[a];if(!(null==r||0<r.delay)){var n=!0,s=0==a?I.MixPose.current:I.MixPose.currentLayered,h=r.alpha,l=(null!=r.mixingFrom?h*=this.applyMixingFrom(r,t,s):r.trackTime>=r.trackEnd&&null==r.next&&(h=0),r.animationLast),c=r.getAnimationTime(),u=r.animation.timelines.length,d=r.animation.timelines;if(1==h)for(var p=0;p<u;p++)d[p].apply(t,l,c,e,1,I.MixPose.setup,I.MixDirection.in);else for(var f=r.timelineData,_=0==r.timelinesRotation.length,m=(_&&I.Utils.setArraySize(r.timelinesRotation,u<<1,null),r.timelinesRotation),p=0;p<u;p++){var g=d[p],v=f[p]>=B.FIRST?I.MixPose.setup:s;g instanceof I.RotateTimeline?this.applyRotateTimeline(g,t,c,h,v,m,p<<1,_):(I.Utils.webkit602BugfixHelper(h,v),g.apply(t,l,c,e,h,v,I.MixDirection.in))}this.queueEvents(r,c),e.length=0,r.nextAnimationLast=c,r.nextTrackLast=r.trackTime}}return this.queue.drain(),n},B.prototype.applyMixingFrom=function(t,e,i){for(var n=t.mixingFrom,a=(null!=n.mixingFrom&&this.applyMixingFrom(n,e,i),0),o=(0==t.mixDuration?(a=1,i=I.MixPose.setup):1<(a=t.mixTime/t.mixDuration)&&(a=1),a<n.eventThreshold?this.events:null),r=a<n.attachmentThreshold,s=a<n.drawOrderThreshold,h=n.animationLast,l=n.getAnimationTime(),c=n.animation.timelines.length,u=n.animation.timelines,d=n.timelineData,p=n.timelineDipMix,f=0==n.timelinesRotation.length,_=(f&&I.Utils.setArraySize(n.timelinesRotation,c<<1,null),n.timelinesRotation),m=n.alpha*t.interruptAlpha,g=m*(1-a),v=0,y=n.totalAlpha=0;y<c;y++){var P=u[y];switch(d[y]){case B.SUBSEQUENT:if(!r&&P instanceof I.AttachmentTimeline)continue;if(!s&&P instanceof I.DrawOrderTimeline)continue;S=i,v=g;break;case B.FIRST:S=I.MixPose.setup,v=g;break;case B.DIP:S=I.MixPose.setup,v=m;break;default:var S=I.MixPose.setup,v=m,b=p[y];v*=Math.max(0,1-b.mixTime/b.mixDuration)}n.totalAlpha+=v,P instanceof I.RotateTimeline?this.applyRotateTimeline(P,e,l,v,S,_,y<<1,f):P.apply(e,h,l,o,v,S,I.MixDirection.out)}return 0<t.mixDuration&&this.queueEvents(n,l),this.events.length=0,n.nextAnimationLast=l,n.nextTrackLast=n.trackTime,a},B.prototype.applyRotateTimeline=function(t,e,i,n,a,o,r,s){var h,l,c,u,d;s&&(o[r]=0),1==n?t.apply(e,0,i,null,1,a,I.MixDirection.in):(l=(t=t).frames,e=e.bones[t.boneIndex],i<l[0]?a==I.MixPose.setup&&(e.rotation=e.data.rotation):(d=0,i>=l[l.length-I.RotateTimeline.ENTRIES]?d=e.data.rotation+l[l.length+I.RotateTimeline.PREV_ROTATION]:(u=l[(c=I.Animation.binarySearch(l,i,I.RotateTimeline.ENTRIES))+I.RotateTimeline.PREV_ROTATION],h=l[c],t=t.getCurvePercent((c>>1)-1,1-(i-h)/(l[c+I.RotateTimeline.PREV_TIME]-h)),d=l[c+I.RotateTimeline.ROTATION]-u,d=u+(d-=360*(16384-(16384.499999999996-d/360|0)))*t+e.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0))),(i=0)==(l=d-(h=(a==I.MixPose.setup?e.data:e).rotation))?i=o[r]:(l-=360*(16384-(16384.499999999996-l/360|0)),u=c=0,u=s?(c=0,l):(c=o[r],o[r+1]),t=0<l,d=0<=c,I.MathUtils.signum(u)!=I.MathUtils.signum(l)&&Math.abs(u)<=90&&(180<Math.abs(c)&&(c+=360*I.MathUtils.signum(c)),d=t),i=l+c-c%360,d!=t&&(i+=360*I.MathUtils.signum(c)),o[r]=i),o[r+1]=l,e.rotation=(h+=i*n)-360*(16384-(16384.499999999996-h/360|0))))},B.prototype.queueEvents=function(t,e){for(var i=t.animationStart,n=t.animationEnd,a=n-i,o=t.trackLast%a,r=this.events,s=0,h=r.length;s<h;s++){var l=r[s];if(l.time<o)break;l.time>n||this.queue.event(t,l)}for((t.loop?o>t.trackTime%a:n<=e&&t.animationLast<n)&&this.queue.complete(t);s<h;s++)r[s].time<i||this.queue.event(t,r[s])},B.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,i=this.tracks.length;e<i;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},B.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){t=this.tracks[t];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var e=t;;){var i=e.mixingFrom;if(null==i)break;this.queue.end(i),e.mixingFrom=null,e=i}this.tracks[t.trackIndex]=null,this.queue.drain()}}},B.prototype.setCurrent=function(t,e,i){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(i&&this.queue.interrupt(n),e.mixingFrom=n,e.mixTime=0,null!=n.mixingFrom&&0<n.mixDuration&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},B.prototype.setAnimation=function(t,e,i){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,i)},B.prototype.setAnimationWith=function(t,e,i){if(null==e)throw new Error("animation cannot be null.");var n=!0,a=this.expandToIndex(t),e=(null!=a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,n=!1):this.disposeNext(a)),this.trackEntry(t,e,i,a));return this.setCurrent(t,e,n),this.queue.drain(),e},B.prototype.addAnimation=function(t,e,i,n){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,i,n)},B.prototype.addAnimationWith=function(t,e,i,n){if(null==e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(null!=a)for(;null!=a.next;)a=a.next;i=this.trackEntry(t,e,i,a);return null==a?(this.setCurrent(t,i,!0),this.queue.drain()):(a.next=i,n<=0&&(0!=(t=a.animationEnd-a.animationStart)?(a.loop?n+=t*(1+(a.trackTime/t|0)):n+=t,n-=this.data.getMix(a.animation,e)):n=0)),i.delay=n,i},B.prototype.setEmptyAnimation=function(t,e){t=this.setAnimationWith(t,B.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t},B.prototype.addEmptyAnimation=function(t,e,i){i<=0&&(i-=e);t=this.addAnimationWith(t,B.emptyAnimation,!1,i);return t.mixDuration=e,t.trackEnd=e,t},B.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var i=0,n=this.tracks.length;i<n;i++){var a=this.tracks[i];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},B.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(I.Utils.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},B.prototype.trackEntry=function(t,e,i,n){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=i,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==n?0:this.data.getMix(n.animation,e),a},B.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},B.prototype._animationsChanged=function(){this.animationsChanged=!1;for(var t=this.propertyIDs,e=(t.clear(),this.mixingTo),i=0,n=this.tracks.length;i<n;i++){var a=this.tracks[i];null!=a&&a.setTimelineData(null,e,t)}},B.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},B.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},B.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0<=t&&this.listeners.splice(t,1)},B.prototype.clearListeners=function(){this.listeners.length=0},B.prototype.clearListenerNotifications=function(){this.queue.clear()},B.prototype.setAnimationByName=function(t,e,i){B.deprecatedWarning1||(B.deprecatedWarning1=!0),this.setAnimation(t,e,i)},B.prototype.addAnimationByName=function(t,e,i,n){B.deprecatedWarning2||(B.deprecatedWarning2=!0),this.addAnimation(t,e,i,n)},B.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},B.prototype.hasAnimationByName=function(t){return B.deprecatedWarning3||(B.deprecatedWarning3=!0),this.hasAnimation(t)},B.emptyAnimation=new I.Animation("<empty>",[],0),B.SUBSEQUENT=0,B.FIRST=1,B.DIP=2,B.DIP_MIX=3,B.deprecatedWarning1=!1,B.deprecatedWarning2=!1,B.deprecatedWarning3=!1,B);function B(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new n(this),this.propertyIDs=new I.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new I.Pool(function(){return new e}),this.data=t}I.AnimationState=f,i.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},i.prototype.setTimelineData=function(t,e,i){null!=t&&e.push(t);var n=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,e,i):this,a=(null!=t&&e.pop(),e),o=e.length-1,r=this.animation.timelines,s=this.animation.timelines.length,h=I.Utils.setArraySize(this.timelineData,s),l=(this.timelineDipMix.length=0,I.Utils.setArraySize(this.timelineDipMix,s));t:for(var c=0;c<s;c++){var u=r[c].getPropertyId();if(i.add(u))if(null!=t&&t.hasTimeline(u)){for(var d=o;0<=d;d--){var p=a[d];if(!p.hasTimeline(u)&&0<p.mixDuration){h[c]=f.DIP_MIX,l[c]=p;continue t}}h[c]=f.DIP}else h[c]=f.FIRST;else h[c]=f.SUBSEQUENT}return n},i.prototype.hasTimeline=function(t){for(var e=this.animation.timelines,i=0,n=e.length;i<n;i++)if(e[i].getPropertyId()==t)return!0;return!1},i.prototype.getAnimationTime=function(){var t;return this.loop?0==(t=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%t+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},i.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},i.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},i.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(i.prototype,"time",{get:function(){return i.deprecatedWarning1||(i.deprecatedWarning1=!0),this.trackTime},set:function(t){i.deprecatedWarning1||(i.deprecatedWarning1=!0),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endTime",{get:function(){return i.deprecatedWarning2||(i.deprecatedWarning2=!0),this.trackTime},set:function(t){i.deprecatedWarning2||(i.deprecatedWarning2=!0),this.trackTime=t},enumerable:!0,configurable:!0}),i.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},i.deprecatedWarning1=!1,i.deprecatedWarning2=!1;var e=i;function i(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}I.TrackEntry=e,a.prototype.start=function(t){this.objects.push(h.start),this.objects.push(t),this.animState.animationsChanged=!0},a.prototype.interrupt=function(t){this.objects.push(h.interrupt),this.objects.push(t)},a.prototype.end=function(t){this.objects.push(h.end),this.objects.push(t),this.animState.animationsChanged=!0},a.prototype.dispose=function(t){this.objects.push(h.dispose),this.objects.push(t)},a.prototype.complete=function(t){this.objects.push(h.complete),this.objects.push(t)},a.prototype.event=function(t,e){this.objects.push(h.event),this.objects.push(t),this.objects.push(e)},a.prototype.deprecateStuff=function(){return a.deprecatedWarning1||(a.deprecatedWarning1=!0),!0},a.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,i=0;i<t.length;i+=2){var n=t[i],a=t[i+1];switch(n){case h.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case h.interrupt:null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(a);break;case h.end:null!=a.listener&&a.listener.end&&a.listener.end(a);for(o=0;o<e.length;o++)e[o].end&&e[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case h.dispose:null!=a.listener&&a.listener.dispose&&a.listener.dispose(a);for(o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(a);this.animState.trackEntryPool.free(a);break;case h.complete:null!=a.listener&&a.listener.complete&&a.listener.complete(a);for(o=0;o<e.length;o++)e[o].complete&&e[o].complete(a);var r=I.MathUtils.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,r),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,r);break;case h.event:var s=t[2+i++];null!=a.listener&&a.listener.event&&a.listener.event(a,s);for(o=0;o<e.length;o++)e[o].event&&e[o].event(a,s);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},a.prototype.clear=function(){this.objects.length=0},a.deprecatedWarning1=!1;var h,n=a;function a(t){this.objects=[],this.drainDisabled=!1,this.animState=t}function o(){}I.EventQueue=n,(t=h=I.EventType||(I.EventType={}))[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",o.prototype.start=function(t){},o.prototype.interrupt=function(t){},o.prototype.end=function(t){},o.prototype.dispose=function(t){},o.prototype.complete=function(t){},o.prototype.event=function(t,e){},I.AnimationStateAdapter2=o}(pixi_spine=pixi_spine||{}),!function(t){function n(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}t=t.core||(t.core={}),n.prototype.setMix=function(t,e,i){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);t=this.skeletonData.findAnimation(e);if(null==t)throw new Error("Animation not found: "+e);this.setMixWith(n,t,i)},n.prototype.setMixByName=function(t,e,i){n.deprecatedWarning1||(n.deprecatedWarning1=!0),this.setMix(t,e,i)},n.prototype.setMixWith=function(t,e,i){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");t=t.name+"."+e.name;this.animationToMixTime[t]=i},n.prototype.getMix=function(t,e){t=t.name+"."+e.name,e=this.animationToMixTime[t];return void 0===e?this.defaultMix:e},n.deprecatedWarning1=!1,t.AnimationStateData=n}(pixi_spine=pixi_spine||{}),!function(t){var a;function e(t){this.atlas=t}a=t.core||(t.core={}),e.prototype.newRegionAttachment=function(t,e,i){var n=this.atlas.findRegion(i);if(null==n)throw new Error("Region not found in atlas: "+i+" (region attachment: "+e+")");i=new a.RegionAttachment(e);return i.region=n,i},e.prototype.newMeshAttachment=function(t,e,i){var n=this.atlas.findRegion(i);if(null==n)throw new Error("Region not found in atlas: "+i+" (mesh attachment: "+e+")");i=new a.MeshAttachment(e);return i.region=n,i},e.prototype.newBoundingBoxAttachment=function(t,e){return new a.BoundingBoxAttachment(e)},e.prototype.newPathAttachment=function(t,e){return new a.PathAttachment(e)},e.prototype.newPointAttachment=function(t,e){return new a.PointAttachment(e)},e.prototype.newClippingAttachment=function(t,e){return new a.ClippingAttachment(e)},a.AtlasAttachmentLoader=e}(pixi_spine=pixi_spine||{}),!function(t){(t=(t=t.core||(t.core={})).BlendMode||(t.BlendMode={}))[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(pixi_spine=pixi_spine||{}),!function(t){var B;function C(t,e,i){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}B=t.core||(t.core={}),Object.defineProperty(C.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),C.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},C.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},C.prototype.updateWorldTransformWith=function(t,e,i,n,a,o,r){this.ax=t,this.ay=e,this.arotation=i,this.ascaleX=n,this.ascaleY=a,this.ashearX=o,this.ashearY=r,this.appliedValid=!0;var s,h=this.parent,l=this.matrix;if(null==h)f=i+90+r,_=B.MathUtils.cosDeg(i+o)*n,m=B.MathUtils.cosDeg(f)*a,g=B.MathUtils.sinDeg(i+o)*n,v=B.MathUtils.sinDeg(f)*a,(s=this.skeleton).flipX&&(t=-t,_=-_,m=-m),s.flipY!==C.yDown&&(e=-e,g=-g,v=-v),l.a=_,l.c=m,l.b=g,l.d=v,l.tx=t+s.x,l.ty=e+s.y;else{var c=h.matrix.a,u=h.matrix.c,d=h.matrix.b,p=h.matrix.d;switch(l.tx=c*t+u*e+h.matrix.tx,l.ty=d*t+p*e+h.matrix.ty,this.data.transformMode){case B.TransformMode.Normal:var f=i+90+r,_=B.MathUtils.cosDeg(i+o)*n,m=B.MathUtils.cosDeg(f)*a,g=B.MathUtils.sinDeg(i+o)*n,v=B.MathUtils.sinDeg(f)*a;return l.a=c*_+u*g,l.c=c*m+u*v,l.b=d*_+p*g,void(l.d=d*m+p*v);case B.TransformMode.OnlyTranslation:f=i+90+r;l.a=B.MathUtils.cosDeg(i+o)*n,l.c=B.MathUtils.cosDeg(f)*a,l.b=B.MathUtils.sinDeg(i+o)*n,l.d=B.MathUtils.sinDeg(f)*a;break;case B.TransformMode.NoRotationOrReflection:var y=0,P=i+o-(y=1e-4<(S=c*c+d*d)?(u=d*(S=Math.abs(c*p-u*d)/S),p=c*S,Math.atan2(d,c)*B.MathUtils.radDeg):(d=c=0,90-Math.atan2(p,u)*B.MathUtils.radDeg)),y=i+r-y+90,_=B.MathUtils.cosDeg(P)*n,m=B.MathUtils.cosDeg(y)*a,g=B.MathUtils.sinDeg(P)*n,v=B.MathUtils.sinDeg(y)*a;l.a=c*_-u*g,l.c=c*m-u*v,l.b=d*_+p*g,l.d=d*m+p*v;break;case B.TransformMode.NoScale:case B.TransformMode.NoScaleOrReflection:var S,P=B.MathUtils.cosDeg(i),y=B.MathUtils.sinDeg(i),b=c*P+u*y,P=d*P+p*y,y=(b*=S=1e-5<(S=Math.sqrt(b*b+P*P))?1/S:S,P*=S,S=Math.sqrt(b*b+P*P),Math.PI/2+Math.atan2(P,b)),I=Math.cos(y)*S,y=Math.sin(y)*S,_=B.MathUtils.cosDeg(o)*n,m=B.MathUtils.cosDeg(90+r)*a,g=B.MathUtils.sinDeg(o)*n,v=B.MathUtils.sinDeg(90+r)*a;return l.a=b*_+I*g,l.c=b*m+I*v,l.b=P*_+y*g,l.d=P*m+y*v,void((this.data.transformMode!=B.TransformMode.NoScaleOrReflection?c*p-u*d<0:this.skeleton.flipX!=this.skeleton.flipY!=C.yDown)&&(l.c=-l.c,l.d=-l.d))}this.skeleton.flipX&&(l.a=-l.a,l.c=-l.c),this.skeleton.flipY!=C.yDown&&(l.b=-l.b,l.d=-l.d)}},C.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},C.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*B.MathUtils.radDeg},C.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*B.MathUtils.radDeg},C.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},C.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},C.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t,e,i,n,a=this.parent,o=this.matrix;null==a?(this.ax=o.tx,this.ay=o.ty,this.arotation=Math.atan2(o.b,o.a)*B.MathUtils.radDeg,this.ascaleX=Math.sqrt(o.a*o.a+o.b*o.b),this.ascaleY=Math.sqrt(o.c*o.c+o.d*o.d),this.ashearX=0,this.ashearY=Math.atan2(o.a*o.c+o.b*o.d,o.a*o.d-o.b*o.c)*B.MathUtils.radDeg):(n=1/((a=a.matrix).a*a.d-a.b*a.c),i=o.tx-a.tx,t=o.ty-a.ty,this.ax=i*a.d*n-t*a.c*n,this.ay=t*a.a*n-i*a.b*n,t=n*a.d,i=n*a.a,e=n*a.c,n*=a.b,a=t*o.a-e*o.b,t=t*o.c-e*o.d,e=i*o.b-n*o.a,i=i*o.d-n*o.c,this.ashearX=0,this.ascaleX=Math.sqrt(a*a+e*e),1e-4<this.ascaleX?(this.ascaleY=(n=a*i-t*e)/this.ascaleX,this.ashearY=Math.atan2(a*t+e*i,n)*B.MathUtils.radDeg,this.arotation=Math.atan2(e,a)*B.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(t*t+i*i),this.ashearY=0,this.arotation=90-Math.atan2(i,t)*B.MathUtils.radDeg))},C.prototype.worldToLocal=function(t){var e=this.matrix,i=e.a,n=e.c,a=e.b,o=e.d,r=1/(i*o-n*a),s=t.x-e.tx,e=t.y-e.ty;return t.x=s*o*r-e*n*r,t.y=e*i*r-s*a*r,t},C.prototype.localToWorld=function(t){var e=this.matrix,i=t.x,n=t.y;return t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty,t},C.prototype.worldToLocalRotation=function(t){var e=B.MathUtils.sinDeg(t),t=B.MathUtils.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*t,i.d*t-i.c*e)*B.MathUtils.radDeg},C.prototype.localToWorldRotation=function(t){var e=B.MathUtils.sinDeg(t),t=B.MathUtils.cosDeg(t),i=this.matrix;return Math.atan2(t*i.b+e*i.d,t*i.a+e*i.c)*B.MathUtils.radDeg},C.prototype.rotateWorld=function(t){var e=this.matrix,i=e.a,n=e.c,a=e.b,o=e.d,r=B.MathUtils.cosDeg(t),t=B.MathUtils.sinDeg(t);e.a=r*i-t*a,e.c=r*n-t*o,e.b=t*i+r*a,e.d=t*n+r*o,this.appliedValid=!1},C.yDown=!1,B.Bone=C}(pixi_spine=pixi_spine||{}),!function(t){var n;(t=t.core||(t.core={})).BoneData=function(t,e,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=n.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i},(t=n=t.TransformMode||(t.TransformMode={}))[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(pixi_spine=pixi_spine||{}),!function(t){(t.core||(t.core={})).Event=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}}(pixi_spine=pixi_spine||{}),!function(t){(t.core||(t.core={})).EventData=function(t){this.name=t}}(pixi_spine=pixi_spine||{}),!function(t){var W;function e(t,e){if(this.mix=1,this.bendDirection=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}W=t.core||(t.core={}),e.prototype.getOrder=function(){return this.data.order},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},e.prototype.apply1=function(t,e,i,n){t.appliedValid||t.updateAppliedTransform();var a=t.parent.matrix,o=1/(a.a*a.d-a.b*a.c),e=e-a.tx,i=i-a.ty,r=(e*a.d-i*a.c)*o-t.ax,i=(i*a.a-e*a.b)*o-t.ay,e=Math.atan2(i,r)*W.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(e+=180),180<e?e-=360:e<-180&&(e+=360),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+e*n,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,i,n,a,o){if(0==o)e.updateWorldTransform();else{t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var r=t.ax,N=t.ay,s=t.ascaleX,h=t.ascaleY,l=e.ascaleX,c=t.matrix,O=0,U=0,u=0,u=s<0?(s=-s,O=180,-1):(O=0,1),U=(h<0&&(h=-h,u=-u),l<0?(l=-l,180):0),d=e.ax,p=0,f=0,_=0,m=c.a,g=c.c,v=c.b,y=c.d,V=Math.abs(s-h)<=1e-4,_=V?(f=m*d+g*(p=e.ay)+c.tx,v*d+y*p+c.ty):(p=0,f=m*d+c.tx,v*d+c.ty),c=t.parent.matrix,P=(m=c.a,g=c.c,v=c.b,1/(m*(y=c.d)-g*v)),S=i-c.tx,b=n-c.ty,I=(S*y-b*g)*P-r,B=(b*m-S*v)*P-N,i=((S=f-c.tx)*y-(b=_-c.ty)*g)*P-r,n=(b*m-S*v)*P-N,C=Math.sqrt(i*i+n*n),k=e.data.length*l,T=0,x=0;t:if(V){var M=(I*I+B*B-C*C-(k*=s)*k)/(2*C*k);M<-1?M=-1:1<M&&(M=1),x=Math.acos(M)*a,m=C+k*M,g=k*Math.sin(x),T=Math.atan2(B*m-I*g,I*m+B*g)}else{var M=(m=s*k)*m,w=(g=h*k)*g,L=I*I+B*B,G=Math.atan2(B,I),E=-2*w*C,A=w-M;if(0<=(y=E*E-4*A*(v=w*C*C+M*L-M*w))){var D=Math.sqrt(y),E=(D=-(E+(D=E<0?-D:D))/2)/A,A=v/D,D=Math.abs(E)<Math.abs(A)?E:A;if(D*D<=L){b=Math.sqrt(L-D*D)*a,T=G-Math.atan2(b,D),x=Math.atan2(b/h,(D-C)/s);break t}}var E=W.MathUtils.PI,A=C-m,D=A*A,F=0,X=0,R=C+m,H=R*R,j=0;-1<=(v=-m*C/(M-w))&&v<=1&&(v=Math.acos(v),(y=(S=m*Math.cos(v)+C)*S+(b=g*Math.sin(v))*b)<D&&(E=v,D=y,A=S,F=b),H<y)&&(X=v,H=y,R=S,j=b),x=L<=(D+H)/2?(T=G-Math.atan2(F*a,A),E*a):(T=G-Math.atan2(j*a,R),X*a)}f=Math.atan2(p,d)*u,_=t.arotation;180<(T=(T-f)*W.MathUtils.radDeg+O-_)?T-=360:T<-180&&(T+=360),t.updateWorldTransformWith(r,N,_+T*o,t.ascaleX,t.ascaleY,0,0),_=e.arotation,180<(x=((x+f)*W.MathUtils.radDeg-e.ashearX)*u+U-_)?x-=360:x<-180&&(x+=360),e.updateWorldTransformWith(d,p,_+x*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},W.IkConstraint=e}(pixi_spine=pixi_spine||{}),!function(t){(t.core||(t.core={})).IkConstraintData=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t}}(pixi_spine=pixi_spine||{}),!function(t){var K;function J(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var i=0,n=t.bones.length;i<n;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}K=t.core||(t.core={}),J.prototype.apply=function(){this.update()},J.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof K.PathAttachment){var e=this.rotateMix,i=this.translateMix,n=0<e;if(0<i||n){var a=this.data,o=a.spacingMode,N=o==K.SpacingMode.Length,r=a.rotateMode,s=r==K.RotateMode.Tangent,h=r==K.RotateMode.ChainScale,l=this.bones.length,c=s?l:l+1,O=this.bones,u=K.Utils.setArraySize(this.spaces,c),d=null,p=this.spacing;if(h||N){h&&(d=K.Utils.setArraySize(this.lengths,l));for(var f=0,U=c-1;f<U;){var _,m=(I=O[f]).data.length;m<J.epsilon?(h&&(d[f]=0),u[++f]=0):(C=m*I.matrix.a,k=m*I.matrix.b,_=Math.sqrt(C*C+k*k),h&&(d[f]=_),u[++f]=(N?m+p:p)*_/m)}}else for(f=1;f<c;f++)u[f]=p;var g=this.computeWorldPositions(t,c,s,a.positionMode==K.PositionMode.Percent,o==K.SpacingMode.Percent),v=g[0],y=g[1],P=a.offsetRotation,S=!1;0==P?S=r==K.RotateMode.Chain:(S=!1,P*=0<(b=this.target.bone.matrix).a*b.d-b.b*b.c?K.MathUtils.degRad:-K.MathUtils.degRad);for(var f=0,b=3;f<l;f++,b+=3){var I,B=(I=O[f]).matrix;B.tx+=(v-B.tx)*i,B.ty+=(y-B.ty)*i;var C,k,T,x,M,w,L,E,V,A,D=(C=g[b])-v,R=(k=g[b+1])-y;h&&0!=(T=d[f])&&(T=(Math.sqrt(D*D+R*R)/T-1)*e+1,B.a*=T,B.b*=T),v=C,y=k,n&&(T=B.a,x=B.c,M=B.b,w=B.d,E=L=A=0,A=s?g[b-1]:0==u[f+1]?g[b+2]:Math.atan2(R,D),A-=Math.atan2(M,T),S?(L=Math.cos(A),E=Math.sin(A),v+=((V=I.data.length)*(L*T-E*M)-D)*e,y+=(V*(E*T+L*M)-R)*e):A+=P,A>K.MathUtils.PI?A-=K.MathUtils.PI2:A<-K.MathUtils.PI&&(A+=K.MathUtils.PI2),A*=e,L=Math.cos(A),E=Math.sin(A),B.a=L*T-E*M,B.c=L*x-E*w,B.b=E*T+L*M,B.d=E*x+L*w),I.appliedValid=!1}}}},J.prototype.computeWorldPositions=function(t,e,N,O,U){var i=this.target,n=this.position,a=this.spaces,o=K.Utils.setArraySize(this.positions,3*e+2),r=null,s=t.closed,h=t.worldVerticesLength,l=h/6,c=J.NONE;if(t.constantSpeed){s?(r=K.Utils.setArraySize(this.world,h+=2),t.computeWorldVertices(i,2,h-4,r,0,2),t.computeWorldVertices(i,0,2,r,h-4,2),r[h-2]=r[0],r[h-1]=r[1]):(l--,r=K.Utils.setArraySize(this.world,h-=4),t.computeWorldVertices(i,2,h,r,0,2));for(var V=K.Utils.setArraySize(this.curves,l),u=0,d=r[0],p=r[1],f=0,_=0,m=0,g=0,v=0,G=0,F=0,X=0,y=0,P=0,S=0,b=0,I=0,B=0,C=0,k=2;C<l;C++,k+=6)f=r[k],_=r[k+1],m=r[k+2],g=r[k+3],S=2*(F=.1875*(d-2*f+m))+(y=.09375*(3*(f-m)-d+(v=r[k+4]))),b=2*(X=.1875*(p-2*_+g))+(P=.09375*(3*(_-g)-p+(G=r[k+5]))),I=.75*(f-d)+F+.16666667*y,B=.75*(_-p)+X+.16666667*P,u+=Math.sqrt(I*I+B*B),I+=S,B+=b,S+=y,b+=P,u+=Math.sqrt(I*I+B*B),I+=S,B+=b,u+=Math.sqrt(I*I+B*B),I+=S+y,B+=b+P,u+=Math.sqrt(I*I+B*B),V[C]=u,d=v,p=G;if(O&&(n*=u),U)for(C=0;C<e;C++)a[C]*=u;for(var T=this.segments,x=0,C=0,M=0,w=0,L=0;C<e;C++,M+=3){D=n+=Y=a[C];if(s)(D%=u)<0&&(D+=u),w=0;else{if(D<0){this.addBeforePosition(D,r,0,o,M);continue}if(u<D){this.addAfterPosition(D-u,r,h-4,o,M);continue}}for(;;w++){var H=V[w];if(!(H<D)){0==w?D/=H:D=(D-(R=V[w-1]))/(H-R);break}}if(w!=c){var c=w,E=6*w,d=r[E],p=r[E+1],f=r[E+2],_=r[E+3],m=r[E+4],g=r[E+5],S=2*(F=.03*(d-2*f+m))+(y=.006*(3*(f-m)-d+(v=r[E+6]))),b=2*(X=.03*(p-2*_+g))+(P=.006*(3*(_-g)-p+(G=r[E+7]))),I=.3*(f-d)+F+.16666667*y,B=.3*(_-p)+X+.16666667*P,x=Math.sqrt(I*I+B*B);for(T[0]=x,E=1;E<8;E++)I+=S,B+=b,S+=y,b+=P,x+=Math.sqrt(I*I+B*B),T[E]=x;I+=S,B+=b,x+=Math.sqrt(I*I+B*B),T[8]=x,I+=S+y,B+=b+P,x+=Math.sqrt(I*I+B*B),T[9]=x,L=0}for(D*=x;;L++){var j=T[L];if(!(j<D)){0==L?D/=j:D=L+(D-(R=T[L-1]))/(j-R);break}}this.addCurvePosition(.1*D,d,p,f,_,m,g,v,G,o,M,N||0<C&&0==Y)}}else{var W=t.lengths,A=W[l-=s?1:2];if(O&&(n*=A),U)for(var C=0;C<e;C++)a[C]*=A;for(var r=K.Utils.setArraySize(this.world,8),C=0,M=0,w=0;C<e;C++,M+=3){var Y,D=n+=Y=a[C];if(s)(D%=A)<0&&(D+=A),w=0;else{if(D<0){c!=J.BEFORE&&(c=J.BEFORE,t.computeWorldVertices(i,2,4,r,0,2)),this.addBeforePosition(D,r,0,o,M);continue}if(A<D){c!=J.AFTER&&(c=J.AFTER,t.computeWorldVertices(i,h-6,4,r,0,2)),this.addAfterPosition(D-A,r,0,o,M);continue}}for(;;w++){var R,z=W[w];if(!(z<D)){0==w?D/=z:D=(D-(R=W[w-1]))/(z-R);break}}w!=c&&(c=w,s&&w==l?(t.computeWorldVertices(i,h-4,4,r,0,2),t.computeWorldVertices(i,0,4,r,4,2)):t.computeWorldVertices(i,6*w+2,8,r,0,2)),this.addCurvePosition(D,r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],o,M,N||0<C&&0==Y)}}return o},J.prototype.addBeforePosition=function(t,e,i,n,a){var o=e[i],r=e[i+1],s=e[i+2]-o,e=e[i+3]-r,i=Math.atan2(e,s);n[a]=o+t*Math.cos(i),n[a+1]=r+t*Math.sin(i),n[a+2]=i},J.prototype.addAfterPosition=function(t,e,i,n,a){var o=e[i+2],r=e[i+3],s=o-e[i],e=r-e[i+1],i=Math.atan2(e,s);n[a]=o+t*Math.cos(i),n[a+1]=r+t*Math.sin(i),n[a+2]=i},J.prototype.addCurvePosition=function(t,e,i,n,a,o,r,s,h,l,c,u){var d=(t=0!=t&&!isNaN(t)?t:1e-4)*t,p=d*t,f=1-t,_=f*f,m=_*f,g=f*t,v=3*g,f=f*v,v=v*t,t=e*m+n*f+o*v+s*p,s=i*m+a*f+r*v+h*p;l[c]=t,l[c+1]=s,u&&(l[c+2]=Math.atan2(s-(i*_+a*g*2+r*d),t-(e*_+n*g*2+o*d)))},J.prototype.getOrder=function(){return this.data.order},J.NONE=-1,J.BEFORE=-2,J.AFTER=-3,J.epsilon=1e-5,K.PathConstraint=J}(pixi_spine=pixi_spine||{}),!function(t){var e;(t=t.core||(t.core={})).PathConstraintData=function(t){this.order=0,this.bones=new Array,this.name=t},(e=t.PositionMode||(t.PositionMode={}))[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent",(e=t.SpacingMode||(t.SpacingMode={}))[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",(e=t.RotateMode||(t.RotateMode={}))[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale"}(pixi_spine=pixi_spine||{}),!function(t){var v;function e(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var i,n=t.bones[e],a=void 0;null==n.parent?a=new v.Bone(n,this,null):(i=this.bones[n.parent.index],a=new v.Bone(n,this,i),i.children.push(a)),this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var o=t.slots[e],a=this.bones[o.boneData.index],o=new v.Slot(o,a);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var r=t.ikConstraints[e];this.ikConstraints.push(new v.IkConstraint(r,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var s=t.transformConstraints[e];this.transformConstraints.push(new v.TransformConstraint(s,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new v.PathConstraint(h,this))}this.color=new v.Color(1,1,1,1),this.updateCache()}v=t.core||(t.core={}),e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].sorted=!1;var n=this.ikConstraints,a=this.transformConstraints,o=this.pathConstraints,r=n.length,s=a.length,h=o.length,l=r+s+h;t:for(e=0;e<l;e++){for(var c=0;c<r;c++)if((u=n[c]).data.order==e){this.sortIkConstraint(u);continue t}for(c=0;c<s;c++)if((u=a[c]).data.order==e){this.sortTransformConstraint(u);continue t}for(var u,c=0;c<h;c++)if((u=o[c]).data.order==e){this.sortPathConstraint(u);continue t}}for(e=0,i=t.length;e<i;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(t){var e,i=t.target,i=(this.sortBone(i),t.bones),n=i[0];this.sortBone(n),1<i.length&&(e=i[i.length-1],-1<this._updateCache.indexOf(e)||this.updateCacheReset.push(e)),this._updateCache.push(t),this.sortReset(n.children),i[i.length-1].sorted=!0},e.prototype.sortPathConstraint=function(t){var e=t.target,i=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,i,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,n);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],i,n);for(var e=e.getAttachment(),r=(e instanceof v.PathAttachment&&this.sortPathConstraintAttachmentWith(e,n),t.bones),s=r.length,a=0;a<s;a++)this.sortBone(r[a]);this._updateCache.push(t);for(a=0;a<s;a++)this.sortReset(r[a].children);for(a=0;a<s;a++)r[a].sorted=!0},e.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,i=e.length;if(t.data.local)for(var n=0;n<i;n++){var a=e[n];this.sortBone(a.parent),-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)}else for(n=0;n<i;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var o=0;o<i;o++)this.sortReset(e[o].children);for(o=0;o<i;o++)e[o].sorted=!0},e.prototype.sortPathConstraintAttachment=function(t,e,i){var n=t.attachments[e];if(n)for(var a in n)this.sortPathConstraintAttachmentWith(n[a],i)},e.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof v.PathAttachment){var i=t.bones;if(null==i)this.sortBone(e);else for(var n=this.bones,a=0;a<i.length;)for(var o=i[a++],r=a+o;a<r;a++){var s=i[a];this.sortBone(n[s])}}},e.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},e.prototype.sortReset=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,i=t.length;e<i;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var a=this._updateCache,e=0,i=a.length;e<i;e++)a[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,e=0,i=n.length;e<i;e++)(s=n[e]).bendDirection=s.data.bendDirection,s.mix=s.data.mix;for(var a=this.transformConstraints,e=0,i=a.length;e<i;e++){var o=(s=a[e]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}for(var r=this.pathConstraints,e=0,i=r.length;e<i;e++){var s,o=(s=r[e]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},e.prototype.setSlotsToSetupPose=function(){var t=this.slots;v.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,i=t.length;e<i;e++)t[e].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var a=e[i];if(a.data.name==t)return a}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var a=e[i];if(a.data.name==t)return a}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,i=0,n=e.length;i<n;i++){var a=e[i],o=a.data.attachmentName;null!=o&&null!=(o=t.getAttachment(i,o))&&a.setAttachment(o)}this.skin=t},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var i=this.skin.getAttachment(t,e);if(null!=i)return i}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var i=this.slots,n=0,a=i.length;n<a;n++){var o=i[n];if(o.data.name==t){var r=null;if(null!=e&&null==(r=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(r)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var a=e[i];if(a.data.name==t)return a}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var a=e[i];if(a.data.name==t)return a}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var a=e[i];if(a.data.name==t)return a}return null},e.prototype.getBounds=function(t,e,i){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=0,l=n.length;h<l;h++){var c=n[h],u=0,d=null,p=c.getAttachment();if(p instanceof v.RegionAttachment?(d=v.Utils.setArraySize(i,u=8,0),p.computeWorldVertices(c.bone,d,0,2)):p instanceof v.MeshAttachment&&(u=(p=p).worldVerticesLength,d=v.Utils.setArraySize(i,u,0),p.computeWorldVertices(c,0,u,d,0,2)),null!=d)for(var f=0,_=d.length;f<_;f+=2)var m=d[f],g=d[f+1],a=Math.min(a,m),o=Math.min(o,g),r=Math.max(r,m),s=Math.max(s,g)}t.set(a,o),e.set(r-a,s-o)},e.prototype.update=function(t){this.time+=t},v.Skeleton=e}(pixi_spine=pixi_spine||{}),!function(t){var u;function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new u.Pool(function(){return u.Utils.newFloatArray(16)})}u=t.core||(t.core={}),e.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var i=this.boundingBoxes,n=this.polygons,a=this.polygonPool,o=t.slots,r=o.length;i.length=0,a.freeAll(n);for(var s=n.length=0;s<r;s++){var h,l=o[s],c=l.getAttachment();c instanceof u.BoundingBoxAttachment&&(i.push(c=c),(h=a.obtain()).length!=c.worldVerticesLength&&(h=u.Utils.newFloatArray(c.worldVerticesLength)),n.push(h),c.computeWorldVertices(l,0,c.worldVerticesLength,h,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,r=a.length;o<r;o++)for(var s=a[o],h=s,l=0,c=s.length;l<c;l+=2)var u=h[l],d=h[l+1],t=Math.min(t,u),e=Math.min(e,d),i=Math.max(i,u),n=Math.max(n,d);this.minX=t,this.minY=e,this.maxX=i,this.maxY=n},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,i,n){var a=this.minX,o=this.minY,r=this.maxX,s=this.maxY;return!(t<=a&&i<=a||e<=o&&n<=o||r<=t&&r<=i||s<=e&&s<=n)&&(o<(i=(n=(n-e)/(i-t))*(a-t)+e)&&i<s||o<(i=n*(r-t)+e)&&i<s||a<(i=(o-e)/n+t)&&i<r||a<(i=(s-e)/n+t)&&i<r)},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var i=this.polygons,n=0,a=i.length;n<a;n++)if(this.containsPointPolygon(i[n],t,e))return this.boundingBoxes[n];return null},e.prototype.containsPointPolygon=function(t,e,i){for(var n=t,a=t.length,o=a-2,r=!1,s=0;s<a;s+=2){var h,l=n[s+1],c=n[o+1];(l<i&&i<=c||c<i&&i<=l)&&(h=n[s])+(i-l)/(c-l)*(n[o]-h)<e&&(r=!r),o=s}return r},e.prototype.intersectsSegment=function(t,e,i,n){for(var a=this.polygons,o=0,r=a.length;o<r;o++)if(this.intersectsSegmentPolygon(a[o],t,e,i,n))return this.boundingBoxes[o];return null},e.prototype.intersectsSegmentPolygon=function(t,e,i,n,a){for(var o=t,r=t.length,s=e-n,h=i-a,l=e*a-i*n,c=o[r-2],u=o[r-1],d=0;d<r;d+=2){var p=o[d],f=o[d+1],_=c*f-u*p,m=c-p,g=u-f,v=s*g-h*m,m=(l*m-s*_)/v;if((c<=m&&m<=p||p<=m&&m<=c)&&(e<=m&&m<=n||n<=m&&m<=e)){m=(l*g-h*_)/v;if((u<=m&&m<=f||f<=m&&m<=u)&&(i<=m&&m<=a||a<=m&&m<=i))return!0}c=p,u=f}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");t=this.boundingBoxes.indexOf(t);return-1==t?null:this.polygons[t]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},u.SkeletonBounds=e}(pixi_spine=pixi_spine||{}),!function(t){var W;function h(){this.triangulator=new W.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}W=t.core||(t.core={}),h.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;for(var i=(this.clipAttachment=e).worldVerticesLength,n=W.Utils.setArraySize(this.clippingPolygon,i),e=(e.computeWorldVertices(t,0,i,n,0,2),this.clippingPolygon),a=(h.makeClockwise(e),this.clippingPolygons=this.triangulator.decompose(e,this.triangulator.triangulate(e))),o=0,r=a.length;o<r;o++){var s=a[o];h.makeClockwise(s),s.push(s[0]),s.push(s[1])}return a.length},h.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},h.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},h.prototype.isClipping=function(){return null!=this.clipAttachment},h.prototype.clipTriangles=function(t,N,e,O,i,n,a,o){var r=this.clipOutput,s=this.clippedVertices,h=this.clippedTriangles,U=this.clippingPolygons,V=this.clippingPolygons.length,l=o?12:8,c=0;s.length=0;t:for(var u=h.length=0;u<O;u+=3)for(var d=e[u]<<1,p=t[d],f=t[1+d],_=i[d],m=i[1+d],g=t[d=e[u+1]<<1],v=t[1+d],y=i[d],P=i[1+d],S=t[d=e[u+2]<<1],b=t[1+d],I=i[d],B=i[1+d],C=0;C<V;C++){var k=s.length;if(!this.clip(p,f,g,v,S,b,U[C],r)){(w=W.Utils.setArraySize(s,k+3*l))[k]=p,w[k+1]=f,w[k+2]=n.r,w[k+3]=n.g,w[k+4]=n.b,w[k+5]=n.a,o?(w[k+6]=_,w[k+7]=m,w[k+8]=a.r,w[k+9]=a.g,w[k+10]=a.b,w[k+11]=a.a,w[k+12]=g,w[k+13]=v,w[k+14]=n.r,w[k+15]=n.g,w[k+16]=n.b,w[k+17]=n.a,w[k+18]=y,w[k+19]=P,w[k+20]=a.r,w[k+21]=a.g,w[k+22]=a.b,w[k+23]=a.a,w[k+24]=S,w[k+25]=b,w[k+26]=n.r,w[k+27]=n.g,w[k+28]=n.b,w[k+29]=n.a,w[k+30]=I,w[k+31]=B,w[k+32]=a.r,w[k+33]=a.g,w[k+34]=a.b,w[k+35]=a.a):(w[k+6]=_,w[k+7]=m,w[k+8]=g,w[k+9]=v,w[k+10]=n.r,w[k+11]=n.g,w[k+12]=n.b,w[k+13]=n.a,w[k+14]=y,w[k+15]=P,w[k+16]=S,w[k+17]=b,w[k+18]=n.r,w[k+19]=n.g,w[k+20]=n.b,w[k+21]=n.a,w[k+22]=I,w[k+23]=B),k=h.length,(R=W.Utils.setArraySize(h,k+3))[k]=c,R[k+1]=c+1,R[k+2]=c+2,c+=3;continue t}var T=r.length;if(0!=T){for(var x=v-b,G=S-g,F=p-S,X=b-f,H=1/(x*F+G*(f-b)),M=T>>1,j=this.clipOutput,w=W.Utils.setArraySize(s,k+M*l),L=0;L<T;L+=2){var E=j[L],A=j[L+1],E=(w[k]=E,w[k+1]=A,w[k+2]=n.r,w[k+3]=n.g,w[k+4]=n.b,w[k+5]=n.a,E-S),A=A-b,D=(x*E+G*A)*H,E=(X*E+F*A)*H,A=1-D-E;w[k+6]=_*D+y*E+I*A,w[k+7]=m*D+P*E+B*A,o&&(w[k+8]=a.r,w[k+9]=a.g,w[k+10]=a.b,w[k+11]=a.a),k+=l}var k=h.length,R=W.Utils.setArraySize(h,k+3*(M-2));M--;for(L=1;L<M;L++)R[k]=c,R[k+1]=c+L,R[k+2]=c+L+1,k+=3;c+=1+M}}},h.prototype.clip=function(t,e,i,n,a,o,r,s){for(var h=s,l=!1,c=null,u=(2<=r.length%4?(c=s,s=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(i),c.push(n),c.push(a),c.push(o),c.push(t),c.push(e),s.length=0,r),d=r.length-4,p=0;;p+=2){for(var f=u[p],_=u[p+1],m=u[p+2],g=u[p+3],v=f-m,y=_-g,P=c,S=c.length-2,b=s.length,I=0;I<S;I+=2){var B=P[I],C=P[I+1],k=P[I+2],T=P[I+3],x=0<v*(T-g)-y*(k-m);if(0<v*(C-g)-y*(B-m)){if(x){s.push(k),s.push(T);continue}var M,w,L=((w=k-B)*(_-C)-(M=T-C)*(f-B))/(M*(m-f)-w*(g-_));s.push(f+(m-f)*L),s.push(_+(g-_)*L)}else x&&(L=((w=k-B)*(_-C)-(M=T-C)*(f-B))/(M*(m-f)-w*(g-_)),s.push(f+(m-f)*L),s.push(_+(g-_)*L),s.push(k),s.push(T));l=!0}if(b==s.length)return!(h.length=0);if(s.push(s[0]),s.push(s[1]),p==d)break;b=s;(s=c).length=0,c=b}if(h!=s)for(var p=h.length=0,E=s.length-2;p<E;p++)h[p]=s[p];else h.length=h.length-2;return l},h.makeClockwise=function(t){for(var e,i,n,a=t,t=t.length,o=a[t-2]*a[1]-a[0]*a[t-1],r=0,s=t-3;r<s;r+=2)e=a[r],i=a[r+1],n=a[r+2],o+=e*a[r+3]-n*i;if(!(o<0))for(var r=0,h=t-2,s=t>>1;r<s;r+=2){var l=a[r],c=a[r+1],u=h-r;a[r]=a[u],a[r+1]=a[1+u],a[u]=l,a[1+u]=c}},W.SkeletonClipping=h}(pixi_spine=pixi_spine||{}),!function(t){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}t=t.core||(t.core={}),e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},e.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var a=e[i];if(a.name==t)return a}return null},e.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t.SkeletonData=e}(pixi_spine=pixi_spine||{}),!function(t){var $,p;function w(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}$=t.core||(t.core={}),w.prototype.readSkeletonData=function(t){var e=this.scale,i=new $.SkeletonData,n="string"==typeof t?JSON.parse(t):t,t=n.skeleton;if(null!=t&&(i.hash=t.hash,i.version=t.spine,i.width=t.width,i.height=t.height,i.fps=t.fps,i.imagesPath=t.images),n.bones)for(var a=0;a<n.bones.length;a++){var o=n.bones[a],r=null,s=this.getValue(o,"parent",null);if(null!=s&&null==(r=i.findBone(s)))throw new Error("Parent bone not found: "+s);(u=new $.BoneData(i.bones.length,o.name,r)).length=this.getValue(o,"length",0)*e,u.x=this.getValue(o,"x",0)*e,u.y=this.getValue(o,"y",0)*e,u.rotation=this.getValue(o,"rotation",0),u.scaleX=this.getValue(o,"scaleX",1),u.scaleY=this.getValue(o,"scaleY",1),u.shearX=this.getValue(o,"shearX",0),u.shearY=this.getValue(o,"shearY",0),u.transformMode=w.transformModeFromString(this.getValue(o,"transform","normal")),i.bones.push(u)}if(n.slots)for(a=0;a<n.slots.length;a++){var h=(y=n.slots[a]).name,l=y.bone,c=i.findBone(l);if(null==c)throw new Error("Slot bone not found: "+l);var u=new $.SlotData(i.slots.length,h,c),c=this.getValue(y,"color",null),c=(null!=c&&u.color.setFromString(c),this.getValue(y,"dark",null));null!=c&&(u.darkColor=new $.Color(1,1,1,1),u.darkColor.setFromString(c)),u.attachmentName=this.getValue(y,"attachment",null),u.blendMode=w.blendModeFromString(this.getValue(y,"blend","normal")),i.slots.push(u)}if(n.ik)for(a=0;a<n.ik.length;a++){var d=n.ik[a];(u=new $.IkConstraintData(d.name)).order=this.getValue(d,"order",0);for(var p=0;p<d.bones.length;p++){l=d.bones[p];if(null==(_=i.findBone(l)))throw new Error("IK bone not found: "+l);u.bones.push(_)}var f=d.target;if(u.target=i.findBone(f),null==u.target)throw new Error("IK target bone not found: "+f);u.bendDirection=this.getValue(d,"bendPositive",!0)?1:-1,u.mix=this.getValue(d,"mix",1),i.ikConstraints.push(u)}if(n.transform)for(a=0;a<n.transform.length;a++){d=n.transform[a];(u=new $.TransformConstraintData(d.name)).order=this.getValue(d,"order",0);for(p=0;p<d.bones.length;p++){l=d.bones[p];if(null==(_=i.findBone(l)))throw new Error("Transform constraint bone not found: "+l);u.bones.push(_)}f=d.target;if(u.target=i.findBone(f),null==u.target)throw new Error("Transform constraint target bone not found: "+f);u.local=this.getValue(d,"local",!1),u.relative=this.getValue(d,"relative",!1),u.offsetRotation=this.getValue(d,"rotation",0),u.offsetX=this.getValue(d,"x",0)*e,u.offsetY=this.getValue(d,"y",0)*e,u.offsetScaleX=this.getValue(d,"scaleX",0),u.offsetScaleY=this.getValue(d,"scaleY",0),u.offsetShearY=this.getValue(d,"shearY",0),u.rotateMix=this.getValue(d,"rotateMix",1),u.translateMix=this.getValue(d,"translateMix",1),u.scaleMix=this.getValue(d,"scaleMix",1),u.shearMix=this.getValue(d,"shearMix",1),i.transformConstraints.push(u)}if(n.path)for(a=0;a<n.path.length;a++){d=n.path[a];(u=new $.PathConstraintData(d.name)).order=this.getValue(d,"order",0);for(p=0;p<d.bones.length;p++){var _,l=d.bones[p];if(null==(_=i.findBone(l)))throw new Error("Transform constraint bone not found: "+l);u.bones.push(_)}f=d.target;if(u.target=i.findSlot(f),null==u.target)throw new Error("Path target slot not found: "+f);u.positionMode=w.positionModeFromString(this.getValue(d,"positionMode","percent")),u.spacingMode=w.spacingModeFromString(this.getValue(d,"spacingMode","length")),u.rotateMode=w.rotateModeFromString(this.getValue(d,"rotateMode","tangent")),u.offsetRotation=this.getValue(d,"rotation",0),u.position=this.getValue(d,"position",0),u.positionMode==$.PositionMode.Fixed&&(u.position*=e),u.spacing=this.getValue(d,"spacing",0),u.spacingMode!=$.SpacingMode.Length&&u.spacingMode!=$.SpacingMode.Fixed||(u.spacing*=e),u.rotateMix=this.getValue(d,"rotateMix",1),u.translateMix=this.getValue(d,"translateMix",1),i.pathConstraints.push(u)}if(n.skins)for(var m in n.skins){var g=n.skins[m],v=new $.Skin(m);for(h in g){var y,P,S=i.findSlotIndex(h);if(-1==S)throw new Error("Slot not found: "+h);for(P in y=g[h]){var b=this.readAttachment(y[P],v,S,P,i);null!=b&&v.addAttachment(S,P,b)}}i.skins.push(v),"default"==v.name&&(i.defaultSkin=v)}for(var a=0,I=this.linkedMeshes.length;a<I;a++){var B=this.linkedMeshes[a];if(null==(v=null==B.skin?i.defaultSkin:i.findSkin(B.skin)))throw new Error("Skin not found: "+B.skin);var C=v.getAttachment(B.slotIndex,B.parent);if(null==C)throw new Error("Parent mesh not found: "+B.parent);B.mesh.setParentMesh(C)}if(this.linkedMeshes.length=0,n.events)for(var k in n.events){var T=n.events[k];(u=new $.EventData(k)).intValue=this.getValue(T,"int",0),u.floatValue=this.getValue(T,"float",0),u.stringValue=this.getValue(T,"string",""),u.audio=this.getValue(T,"audio",null),i.events.push(u)}if(n.animations)for(var x in n.animations){var M=n.animations[x];this.readAnimation(M,x,i)}return i},w.prototype.readAttachment=function(t,e,i,n,a){var o=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var r=this.getValue(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,r);return null==s?null:(s.path=r,s.x=this.getValue(t,"x",0)*o,s.y=this.getValue(t,"y",0)*o,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*o,s.height=t.height*o,null!=(d=this.getValue(t,"color",null))&&s.color.setFromString(d),s);case"boundingbox":s=this.attachmentLoader.newBoundingBoxAttachment(e,n);return null==s?null:(this.readVertices(t,s,t.vertexCount<<1),null!=(d=this.getValue(t,"color",null))&&s.color.setFromString(d),s);case"mesh":case"linkedmesh":var r=this.getValue(t,"path",n),s=this.attachmentLoader.newMeshAttachment(e,n,r);if(null==s)return null;s.path=r;null!=(d=this.getValue(t,"color",null))&&s.color.setFromString(d);var h=this.getValue(t,"parent",null);return null!=h?(s.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new p(s,this.getValue(t,"skin",null),i,h))):(h=t.uvs,this.readVertices(t,s,h.length),s.triangles=t.triangles,s.regionUVs=h,s.hullLength=2*this.getValue(t,"hull",0)),s;case"path":if(null==(r=this.attachmentLoader.newPathAttachment(e,n)))return null;r.closed=this.getValue(t,"closed",!1),r.constantSpeed=this.getValue(t,"constantSpeed",!0);for(var l=t.vertexCount,c=(this.readVertices(t,r,l<<1),$.Utils.newArray(l/3,0)),u=0;u<t.lengths.length;u++)c[u]=t.lengths[u]*o;return r.lengths=c,null!=(d=this.getValue(t,"color",null))&&r.color.setFromString(d),r;case"point":h=this.attachmentLoader.newPointAttachment(e,n);return null==h?null:(h.x=this.getValue(t,"x",0)*o,h.y=this.getValue(t,"y",0)*o,h.rotation=this.getValue(t,"rotation",0),null!=(d=this.getValue(t,"color",null))&&h.color.setFromString(d),h);case"clipping":s=this.attachmentLoader.newClippingAttachment(e,n);if(null==s)return null;r=this.getValue(t,"end",null);if(null!=r){h=a.findSlot(r);if(null==h)throw new Error("Clipping end slot not found: "+r);s.endSlot=h}var d,l=t.vertexCount;return this.readVertices(t,s,l<<1),null!=(d=this.getValue(t,"color",null))&&s.color.setFromString(d),s}return null},w.prototype.readVertices=function(t,e,i){var n=this.scale,a=(e.worldVerticesLength=i,t.vertices);if(i==a.length){var o=$.Utils.toFloatArray(a);if(1!=n)for(var r=0,s=a.length;r<s;r++)o[r]*=n;e.vertices=o}else{for(var h=new Array,l=new Array,r=0,s=a.length;r<s;){var c=a[r++];l.push(c);for(var u=r+4*c;r<u;r+=4)l.push(a[r]),h.push(a[r+1]*n),h.push(a[r+2]*n),h.push(a[r+3])}e.bones=l,e.vertices=$.Utils.toFloatArray(h)}},w.prototype.readAnimation=function(t,N,e){var i=this.scale,n=new Array,a=0;if(t.slots)for(var o in t.slots){var r=t.slots[o];if(-1==(E=e.findSlotIndex(o)))throw new Error("Slot not found: "+o);for(S in r){var s=r[S];if("attachment"==S){(m=new $.AttachmentTimeline(s.length)).slotIndex=E;for(var h=0,l=0;l<s.length;l++){var c=s[l];m.setFrame(h++,c.time,c.name)}n.push(m),a=Math.max(a,m.frames[m.getFrameCount()-1])}else if("color"==S){for(h=((m=new $.ColorTimeline(s.length)).slotIndex=E,0),l=0;l<s.length;l++){var c=s[l],u=new $.Color;u.setFromString(c.color||"ffffffff"),m.setFrame(h,c.time,u.r,u.g,u.b,u.a),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.ColorTimeline.ENTRIES])}else{if("twoColor"!=S)throw new Error("Invalid timeline type for a slot: "+S+" ("+o+")");for(h=((m=new $.TwoColorTimeline(s.length)).slotIndex=E,0),l=0;l<s.length;l++){var c=s[l],d=new $.Color,p=new $.Color;d.setFromString(c.light),p.setFromString(c.dark),m.setFrame(h,c.time,d.r,d.g,d.b,d.a,p.r,p.g,p.b),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var f in t.bones){var O=t.bones[f],_=e.findBoneIndex(f);if(-1==_)throw new Error("Bone not found: "+f);for(S in O){s=O[S];if("rotate"===S){for(h=((m=new $.RotateTimeline(s.length)).boneIndex=_,0),l=0;l<s.length;l++){c=s[l];m.setFrame(h,c.time,c.angle),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.RotateTimeline.ENTRIES])}else{if("translate"!==S&&"scale"!==S&&"shear"!==S)throw new Error("Invalid timeline type for a bone: "+S+" ("+f+")");for(var m=null,g=1,h=("scale"===S?m=new $.ScaleTimeline(s.length):"shear"===S?m=new $.ShearTimeline(s.length):(m=new $.TranslateTimeline(s.length),g=i),m.boneIndex=_,0),l=0;l<s.length;l++){var c=s[l],U=this.getValue(c,"x",0),V=this.getValue(c,"y",0);m.setFrame(h,c.time,U*g,V*g),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var v in t.ik){for(var y=t.ik[v],G=e.findIkConstraint(v),h=((m=new $.IkConstraintTimeline(y.length)).ikConstraintIndex=e.ikConstraints.indexOf(G),0),l=0;l<y.length;l++){c=y[l];m.setFrame(h,c.time,this.getValue(c,"mix",1),this.getValue(c,"bendPositive",!0)?1:-1),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var v in t.transform){for(y=t.transform[v],G=e.findTransformConstraint(v),h=((m=new $.TransformConstraintTimeline(y.length)).transformConstraintIndex=e.transformConstraints.indexOf(G),0),l=0;l<y.length;l++){c=y[l];m.setFrame(h,c.time,this.getValue(c,"rotateMix",1),this.getValue(c,"translateMix",1),this.getValue(c,"scaleMix",1),this.getValue(c,"shearMix",1)),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(var v in t.paths){var y=t.paths[v],P=e.findPathConstraintIndex(v);if(-1==P)throw new Error("Path constraint not found: "+v);var F=e.pathConstraints[P];for(S in y){s=y[S];if("position"===S||"spacing"===S){for(m=null,g=1,h=("spacing"===S?(m=new $.PathConstraintSpacingTimeline(s.length),F.spacingMode!=$.SpacingMode.Length&&F.spacingMode!=$.SpacingMode.Fixed||(g=i)):(m=new $.PathConstraintPositionTimeline(s.length),F.positionMode==$.PositionMode.Fixed&&(g=i)),m.pathConstraintIndex=P,0),l=0;l<s.length;l++){c=s[l];m.setFrame(h,c.time,this.getValue(c,S,0)*g),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===S){for(h=((m=new $.PathConstraintMixTimeline(s.length)).pathConstraintIndex=P,0),l=0;l<s.length;l++){c=s[l];m.setFrame(h,c.time,this.getValue(c,"rotateMix",1),this.getValue(c,"translateMix",1)),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*$.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var X in t.deform){var H=t.deform[X],j=e.findSkin(X);if(null==j)throw new Error("Skin not found: "+X);for(o in H){var S,r=H[o];if(-1==(E=e.findSlotIndex(o)))throw new Error("Slot not found: "+r.name);for(S in r){var s=r[S],b=j.getAttachment(E,S);if(null==b)throw new Error("Deform attachment not found: "+s.name);for(var W=null!=b.bones,I=b.vertices,Y=W?I.length/3*2:I.length,h=((m=new $.DeformTimeline(s.length)).slotIndex=E,m.attachment=b,0),B=0;B<s.length;B++){var c=s[B],C=void 0,k=this.getValue(c,"vertices",null);if(null==k)C=W?$.Utils.newFloatArray(Y):I;else{var C=$.Utils.newFloatArray(Y),z=this.getValue(c,"offset",0);if($.Utils.arrayCopy(k,0,C,z,k.length),1!=i)for(var K=(l=z)+k.length;l<K;l++)C[l]*=i;if(!W)for(l=0;l<Y;l++)C[l]+=I[l]}m.setFrame(h,c.time,C),this.readCurve(c,m,h),h++}n.push(m),a=Math.max(a,m.frames[m.getFrameCount()-1])}}}var T=t.drawOrder;if(null!=(T=null==T?t.draworder:T)){for(var m=new $.DrawOrderTimeline(T.length),x=e.slots.length,h=0,B=0;B<T.length;B++){var J=T[B],M=null,w=this.getValue(J,"offsets",null);if(null!=w){for(var M=$.Utils.newArray(x,-1),q=$.Utils.newArray(x-w.length,0),L=0,Q=0,l=0;l<w.length;l++){var E,Z=w[l];if(-1==(E=e.findSlotIndex(Z.slot)))throw new Error("Slot not found: "+Z.slot);for(;L!=E;)q[Q++]=L++;M[L+Z.offset]=L++}for(;L<x;)q[Q++]=L++;for(l=x-1;0<=l;l--)-1==M[l]&&(M[l]=q[--Q])}m.setFrame(h++,J.time,M)}n.push(m),a=Math.max(a,m.frames[m.getFrameCount()-1])}if(t.events){for(m=new $.EventTimeline(t.events.length),h=0,l=0;l<t.events.length;l++){var A=t.events[l],D=e.findEvent(A.name);if(null==D)throw new Error("Event not found: "+A.name);var R=new $.Event($.Utils.toSinglePrecision(A.time),D);R.intValue=this.getValue(A,"int",D.intValue),R.floatValue=this.getValue(A,"float",D.floatValue),R.stringValue=this.getValue(A,"string",D.stringValue),m.setFrame(h++,R)}n.push(m),a=Math.max(a,m.frames[m.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");e.animations.push(new $.Animation(N,n,a))},w.prototype.readCurve=function(t,e,i){t.curve&&("stepped"===t.curve?e.setStepped(i):"[object Array]"===Object.prototype.toString.call(t.curve)&&(t=t.curve,e.setCurve(i,t[0],t[1],t[2],t[3])))},w.prototype.getValue=function(t,e,i){return void 0!==t[e]?t[e]:i},w.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return $.BlendMode.Normal;if("additive"==t)return $.BlendMode.Additive;if("multiply"==t)return $.BlendMode.Multiply;if("screen"==t)return $.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},w.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return $.PositionMode.Fixed;if("percent"==t)return $.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},w.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return $.SpacingMode.Length;if("fixed"==t)return $.SpacingMode.Fixed;if("percent"==t)return $.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},w.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return $.RotateMode.Tangent;if("chain"==t)return $.RotateMode.Chain;if("chainscale"==t)return $.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},w.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return $.TransformMode.Normal;if("onlytranslation"==t)return $.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return $.TransformMode.NoRotationOrReflection;if("noscale"==t)return $.TransformMode.NoScale;if("noscaleorreflection"==t)return $.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},$.SkeletonJson=w,p=function(t,e,i,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=n}}(pixi_spine=pixi_spine||{}),!function(t){function e(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}t=t.core||(t.core={}),e.prototype.addAttachment=function(t,e,i){if(null==i)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=i},e.prototype.getAttachment=function(t,e){t=this.attachments[t];return t?t[e]:null},e.prototype.attachAll=function(t,e){for(var i=0,n=0;n<t.slots.length;n++){var a=t.slots[n],o=a.getAttachment();if(o&&i<e.attachments.length){var r,s=e.attachments[i];for(r in s)if(o==s[r]){var h=this.getAttachment(i,r);null!=h&&a.setAttachment(h);break}}i++}},t.Skin=e}(pixi_spine=pixi_spine||{}),!function(t){var i;function e(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new i.Color,this.darkColor=null==t.darkColor?null:new i.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}i=t.core||(t.core={}),e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},i.Slot=e}(pixi_spine=pixi_spine||{}),!function(t){var n;(n=t.core||(t.core={})).SlotData=function(t,e,i){if(this.color=new n.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}}(pixi_spine=pixi_spine||{}),!function(t){var e,i,n;function a(t){this._image=t}function o(){this.size=null}t=t.core||(t.core={}),a.prototype.getImage=function(){return this._image},a.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},a.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return i.MirroredRepeat;case"clamptoedge":return i.ClampToEdge;case"repeat":return i.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t.Texture=a,(n=e=t.TextureFilter||(t.TextureFilter={}))[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear",(n=i=t.TextureWrap||(t.TextureWrap={}))[n.MirroredRepeat=33648]="MirroredRepeat",n[n.ClampToEdge=33071]="ClampToEdge",n[n.Repeat=10497]="Repeat",Object.defineProperty(o.prototype,"width",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.crop:t.trim||t.orig).width},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.crop:t.trim||t.orig).height},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"originalWidth",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.trim||t.crop:t.orig).width},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"originalHeight",{get:function(){var t=this.texture;return("3"==PIXI.VERSION[0]?t.trim||t.crop:t.orig).height},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),t.TextureRegion=o}(pixi_spine=pixi_spine||{}),!function(t){var y=t.core||(t.core={});function e(t,e,i){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,i)}e.prototype.addTexture=function(t,e){for(var i=this.pages,n=null,a=0;a<i.length;a++)if(i[a].baseTexture===e.baseTexture){n=i[a];break}null===n&&((n=new P).name="texturePage",o=e.baseTexture,n.width=o.realWidth,n.height=o.realHeight,n.baseTexture=o,n.minFilter=n.magFilter=y.TextureFilter.Nearest,n.uWrap=y.TextureWrap.ClampToEdge,n.vWrap=y.TextureWrap.ClampToEdge,i.push(n));var o=new S;return o.name=t,o.page=n,o.texture=e,o.index=-1,this.regions.push(o),o},e.prototype.addTextureHash=function(t,e){for(var i in t)t.hasOwnProperty(i)&&this.addTexture(e&&-1!==i.indexOf(".")?i.substr(0,i.lastIndexOf(".")):i,t[i])},e.prototype.addSpineAtlas=function(t,e,i){return this.load(t,e,i)},e.prototype.load=function(t,d,p){var f=this;if(null==d)throw new Error("textureLoader cannot be null.");var _=new i(t),m=new Array(4),g=null,v=function(){for(;;){var t=_.readLine();if(null==t)return p&&p(f);if(0==(t=t.trim()).length)g=null;else{if(!g){(g=new P).name=t,2==_.readTuple(m)&&(g.width=parseInt(m[0]),g.height=parseInt(m[1]),_.readTuple(m)),_.readTuple(m),g.minFilter=y.Texture.filterFromString(m[0]),g.magFilter=y.Texture.filterFromString(m[1]);var e=_.readValue();g.uWrap=y.TextureWrap.ClampToEdge,g.vWrap=y.TextureWrap.ClampToEdge,"x"==e?g.uWrap=y.TextureWrap.Repeat:"y"==e?g.vWrap=y.TextureWrap.Repeat:"xy"==e&&(g.uWrap=g.vWrap=y.TextureWrap.Repeat),d(t,function(t){(g.baseTexture=t).hasLoaded||(t.width=g.width,t.height=g.height),f.pages.push(g),g.setFilters(),g.width&&g.height||(g.width=t.realWidth,g.height=t.realHeight,g.width&&g.height),v()}),f.pages.push(g);break}var e=new S,t=(e.name=t,e.page=g,"true"==_.readValue()?6:0),i=(_.readTuple(m),parseInt(m[0])),n=parseInt(m[1]),a=(_.readTuple(m),parseInt(m[0])),o=parseInt(m[1]),r=g.baseTexture.resolution,s=(i/=r,n/=r,a/=r,o/=r,new PIXI.Rectangle(i,n,t?o:a,t?a:o)),h=(4==_.readTuple(m)&&4==_.readTuple(m)&&_.readTuple(m),parseInt(m[0])/r),l=parseInt(m[1])/r,c=(_.readTuple(m),parseInt(m[0])/r),r=parseInt(m[1])/r,u=new PIXI.Rectangle(0,0,h,l),c=new PIXI.Rectangle(c,l-o-r,a,o);"3"!=PIXI.VERSION[0]?e.texture=new PIXI.Texture(e.page.baseTexture,s,u,c,t):(s=(r=new PIXI.Rectangle(i,n,a,o)).clone(),c.width=h,c.height=l,e.texture=new PIXI.Texture(e.page.baseTexture,r,s,c,t)),e.index=parseInt(_.readValue()),e.texture._updateUvs(),f.regions.push(e)}}};v()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},y.TextureAtlas=e,n.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},n.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},n.prototype.readTuple=function(t){var e=this.readLine(),i=e.indexOf(":");if(-1==i)throw new Error("Invalid line: "+e);for(var n=0,a=i+1;n<3;n++){var o=e.indexOf(",",a);if(-1==o)break;t[n]=e.substr(a,o-a).trim(),a=o+1}return t[n]=e.substring(a).trim(),n+1};var i=n;function n(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}a.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e!=y.TextureFilter.Linear&&(this.minFilter==y.TextureFilter.Nearest||(t.mipmap=!0,e==y.TextureFilter.MipMapNearestNearest))?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR};var P=a;function a(){}y.TextureAtlasPage=P,o=y.TextureRegion,__extends(r,o);var o,S=r;function r(){return null!==o&&o.apply(this,arguments)||this}y.TextureAtlasRegion=S}(pixi_spine=pixi_spine||{}),!function(t){var k;function e(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new k.Vector2,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}k=t.core||(t.core={}),e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,a=this.target,o=a.matrix,r=o.a,s=o.c,h=o.b,l=o.d,o=0<r*l-s*h?k.MathUtils.degRad:-k.MathUtils.degRad,c=this.data.offsetRotation*o,u=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var _,m,g,v,y,P,S,b,I=d[p],B=!1,C=I.matrix;0!=t&&(m=C.a,v=C.c,g=C.b,y=C.d,(S=Math.atan2(h,r)-Math.atan2(g,m)+c)>k.MathUtils.PI?S-=k.MathUtils.PI2:S<-k.MathUtils.PI&&(S+=k.MathUtils.PI2),S*=t,_=Math.cos(S),P=Math.sin(S),C.a=_*m-P*g,C.c=_*v-P*y,C.b=P*m+_*g,C.d=P*v+_*y,B=!0),0!=e&&(m=this.temp,a.localToWorld(m.set(this.data.offsetX,this.data.offsetY)),C.tx+=(m.x-C.tx)*e,C.ty+=(m.y-C.ty)*e,B=!0),0<i&&(b=Math.sqrt(C.a*C.a+C.b*C.b),g=Math.sqrt(r*r+h*h),1e-5<b&&(b=(b+(g-b+this.data.offsetScaleX)*i)/b),C.a*=b,C.b*=b,b=Math.sqrt(C.c*C.c+C.d*C.d),g=Math.sqrt(s*s+l*l),1e-5<b&&(b=(b+(g-b+this.data.offsetScaleY)*i)/b),C.c*=b,C.d*=b,B=!0),0<n&&(v=C.c,y=C.d,P=Math.atan2(y,v),(S=Math.atan2(l,s)-Math.atan2(h,r)-(P-Math.atan2(C.b,C.a)))>k.MathUtils.PI?S-=k.MathUtils.PI2:S<-k.MathUtils.PI&&(S+=k.MathUtils.PI2),S=P+(S+u)*n,b=Math.sqrt(v*v+y*y),C.c=Math.cos(S)*b,C.d=Math.sin(S)*b,B=!0),B&&(I.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,a=this.target,o=a.matrix,r=o.a,s=o.c,h=o.b,l=o.d,o=0<r*l-s*h?k.MathUtils.degRad:-k.MathUtils.degRad,c=this.data.offsetRotation*o,u=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var _,m,g,v,y,P,S,b,I=d[p],B=!1,C=I.matrix;0!=t&&(v=C.a,P=C.c,_=C.b,S=C.d,(y=Math.atan2(h,r)+c)>k.MathUtils.PI?y-=k.MathUtils.PI2:y<-k.MathUtils.PI&&(y+=k.MathUtils.PI2),y*=t,m=Math.cos(y),g=Math.sin(y),C.a=m*v-g*_,C.c=m*P-g*S,C.b=g*v+m*_,C.d=g*P+m*S,B=!0),0!=e&&(v=this.temp,a.localToWorld(v.set(this.data.offsetX,this.data.offsetY)),C.tx+=v.x*e,C.ty+=v.y*e,B=!0),0<i&&(b=(Math.sqrt(r*r+h*h)-1+this.data.offsetScaleX)*i+1,C.a*=b,C.b*=b,b=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*i+1,C.c*=b,C.d*=b,B=!0),0<n&&((y=Math.atan2(l,s)-Math.atan2(h,r))>k.MathUtils.PI?y-=k.MathUtils.PI2:y<-k.MathUtils.PI&&(y+=k.MathUtils.PI2),P=C.c,S=C.d,y=Math.atan2(S,P)+(y-k.MathUtils.PI/2+u)*n,b=Math.sqrt(P*P+S*S),C.c=Math.cos(y)*b,C.d=Math.sin(y)*b,B=!0),B&&(I.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){for(var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,a=this.target,o=(a.appliedValid||a.updateAppliedTransform(),this.bones),r=0,s=o.length;r<s;r++){var h,l=o[r],c=(l.appliedValid||l.updateAppliedTransform(),l.arotation),u=(0!=t&&(h=a.arotation-c+this.data.offsetRotation,c+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t),l.ax),d=l.ay,p=(0!=e&&(u+=(a.ax-u+this.data.offsetX)*e,d+=(a.ay-d+this.data.offsetY)*e),l.ascaleX),f=l.ascaleY,_=(0<i&&(1e-5<p&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*i)/p),1e-5<f)&&(f=(f+(a.ascaleY-f+this.data.offsetScaleY)*i)/f),l.ashearY);0<n&&(h=a.ashearY-_+this.data.offsetShearY,h-=360*(16384-(16384.499999999996-h/360|0)),l.shearY+=h*n),l.updateWorldTransformWith(u,d,c,p,f,l.ashearX,_)}},e.prototype.applyRelativeLocal=function(){for(var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,a=this.target,o=(a.appliedValid||a.updateAppliedTransform(),this.bones),r=0,s=o.length;r<s;r++){var h=o[r],l=(h.appliedValid||h.updateAppliedTransform(),h.arotation),c=(0!=t&&(l+=(a.arotation+this.data.offsetRotation)*t),h.ax),u=h.ay,d=(0!=e&&(c+=(a.ax+this.data.offsetX)*e,u+=(a.ay+this.data.offsetY)*e),h.ascaleX),p=h.ascaleY,f=(0<i&&(1e-5<d&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*i+1),1e-5<p)&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*i+1),h.ashearY);0<n&&(f+=(a.ashearY+this.data.offsetShearY)*n),h.updateWorldTransformWith(c,u,l,d,p,h.ashearX,f)}},e.prototype.getOrder=function(){return this.data.order},k.TransformConstraint=e}(pixi_spine=pixi_spine||{}),!function(t){(t.core||(t.core={})).TransformConstraintData=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t}}(pixi_spine=pixi_spine||{}),!function(t){var e;function F(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool(function(){return new Array}),this.polygonIndicesPool=new e.Pool(function(){return new Array})}e=t.core||(t.core={}),F.prototype.triangulate=function(t){for(var e=t,i=t.length>>1,n=this.indicesArray,a=n.length=0;a<i;a++)n[a]=a;for(var o=this.isConcaveArray,a=o.length=0,r=i;a<r;++a)o[a]=F.isConcave(a,i,e,n);var s=this.triangles;for(s.length=0;3<i;){for(var h=i-1,a=0,l=1;;){t:if(!o[a]){for(var c=n[h]<<1,u=n[a]<<1,d=n[l]<<1,p=e[c],f=e[1+c],_=e[u],m=e[1+u],g=e[d],v=e[1+d],y=(l+1)%i;y!=h;y=(y+1)%i)if(o[y]){var P=n[y]<<1,S=e[P],P=e[1+P];if(F.positiveArea(g,v,p,f,S,P)&&F.positiveArea(p,f,_,m,S,P)&&F.positiveArea(_,m,g,v,S,P))break t}break}if(0==l){for(;o[a]&&0<--a;);break}h=a,l=((a=l)+1)%i}s.push(n[(i+a-1)%i]),s.push(n[a]),s.push(n[(a+1)%i]),n.splice(a,1),o.splice(a,1);var b=(--i+a-1)%i,I=a==i?0:a;o[b]=F.isConcave(b,i,e,n),o[I]=F.isConcave(I,i,e,n)}return 3==i&&(s.push(n[2]),s.push(n[0]),s.push(n[1])),s},F.prototype.decompose=function(N,t){for(var e=N,i=this.convexPolygons,n=(this.polygonPool.freeAll(i),i.length=0,this.convexPolygonsIndices),a=(this.polygonIndicesPool.freeAll(n),n.length=0,this.polygonIndicesPool.obtain()),o=(a.length=0,this.polygonPool.obtain()),r=-1,s=o.length=0,h=0,l=t.length;h<l;h+=3){var c=t[h]<<1,u=t[h+1]<<1,d=t[h+2]<<1,p=e[c],f=e[1+c],_=e[u],m=e[1+u],g=e[d],v=e[1+d],y=!1;r==c&&(P=o.length-4,k=F.winding(o[P],o[P+1],o[P+2],o[P+3],g,v),T=F.winding(g,v,o[0],o[1],o[2],o[3]),k==s)&&T==s&&(o.push(g),o.push(v),a.push(d),y=!0),y||(0<o.length?(i.push(o),n.push(a)):(this.polygonPool.free(o),this.polygonIndicesPool.free(a)),(o=this.polygonPool.obtain()).length=0,o.push(p),o.push(f),o.push(_),o.push(m),o.push(g),o.push(v),(a=this.polygonIndicesPool.obtain()).length=0,a.push(c),a.push(u),a.push(d),s=F.winding(p,f,_,m,g,v),r=c)}0<o.length&&(i.push(o),n.push(a));for(h=0,l=i.length;h<l;h++)if(0!=(a=n[h]).length)for(var P,S,b,I,B,C,k,T,O=a[0],U=a[a.length-1],x=(o=i[h])[P=o.length-4],M=o[P+1],w=o[P+2],L=o[P+3],E=o[0],A=o[1],V=o[2],G=o[3],D=F.winding(x,M,w,L,E,A),R=0;R<l;R++)R!=h&&(3==(S=n[R]).length&&(b=S[0],I=S[1],B=S[2],g=(C=i[R])[C.length-2],v=C[C.length-1],b==O)&&I==U&&(k=F.winding(x,M,w,L,g,v),T=F.winding(g,v,E,A,V,G),k==D)&&T==D)&&(C.length=0,S.length=0,o.push(g),o.push(v),a.push(B),x=w,M=L,w=g,L=v,R=0);for(h=i.length-1;0<=h;h--)0==(o=i[h]).length&&(i.splice(h,1),this.polygonPool.free(o),a=n[h],n.splice(h,1),this.polygonIndicesPool.free(a));return i},F.isConcave=function(t,e,i,n){var a=n[(e+t-1)%e]<<1,o=n[t]<<1,n=n[(t+1)%e]<<1;return!this.positiveArea(i[a],i[1+a],i[o],i[1+o],i[n],i[1+n])},F.positiveArea=function(t,e,i,n,a,o){return 0<=t*(o-n)+i*(e-o)+a*(n-e)},F.winding=function(t,e,i,n,a,o){i-=t,n-=e;return 0<=a*n-o*i+i*e-t*n?1:-1},e.Triangulator=F}(pixi_spine=pixi_spine||{}),!function(t){t=t.core||(t.core={});function e(){this.array=new Array}function i(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.r=t=void 0===t?0:t,this.g=e,this.b=i,this.a=n}function n(){}e.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},e.prototype.contains=function(t){return null!=this.array[0|t]},e.prototype.remove=function(t){this.array[0|t]=void 0},e.prototype.clear=function(){this.array.length=0},t.IntSet=e,i.prototype.set=function(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this.clamp(),this},i.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},i.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},i.prototype.add=function(t,e,i,n){return this.r+=t,this.g+=e,this.b+=i,this.a+=n,this.clamp(),this},i.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},i.WHITE=new i(1,1,1,1),i.RED=new i(1,0,0,1),i.GREEN=new i(0,1,0,1),i.BLUE=new i(0,0,1,1),i.MAGENTA=new i(1,0,1,1),t.Color=i,n.clamp=function(t,e,i){return t<e?e:i<t?i:t},n.cosDeg=function(t){return Math.cos(t*n.degRad)},n.sinDeg=function(t){return Math.sin(t*n.degRad)},n.signum=function(t){return 0<t?1:t<0?-1:0},n.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},n.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},n.randomTriangular=function(t,e){return n.randomTriangularWith(t,e,.5*(t+e))},n.randomTriangularWith=function(t,e,i){var n=Math.random(),a=e-t;return n<=(i-t)/a?t+Math.sqrt(n*a*(i-t)):e-Math.sqrt((1-n)*a*(e-i))},n.PI2=2*(n.PI=3.1415927),n.radDeg=n.radiansToDegrees=180/n.PI,n.degRad=n.degreesToRadians=n.PI/180,t.MathUtils=n,o.prototype.apply=function(t,e,i){return t+(e-t)*this.applyInternal(i)};var a=o;function o(){}t.Interpolation=a,__extends(s,r=a),s.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1};var r,a=s;function s(t){var e=r.call(this)||this;return e.power=2,e.power=t,e}t.Pow=a,__extends(l,h=a),l.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1};var h,a=l;function l(t){return h.call(this,t)||this}function c(){}function u(){}function d(t){this.items=new Array,this.instantiator=t}function p(t,e){void 0===e&&(e=0),this.x=t=void 0===t?0:t,this.y=e}function f(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}function _(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.PowOut=l,c.arrayCopy=function(t,e,i,n,a){for(var o=e,r=n;o<e+a;o++,r++)i[r]=t[o]},c.setArraySize=function(t,e,i){void 0===i&&(i=0);var n=t.length;if(n!=e&&n<(t.length=e))for(var a=n;a<e;a++)t[a]=i;return t},c.ensureArrayCapacity=function(t,e,i){return void 0===i&&(i=0),t.length>=e?t:c.setArraySize(t,e,i)},c.newArray=function(t,e){for(var i=new Array(t),n=0;n<t;n++)i[n]=e;return i},c.newFloatArray=function(t){if(c.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),i=0;i<e.length;i++)e[i]=0;return e},c.newShortArray=function(t){if(c.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),i=0;i<e.length;i++)e[i]=0;return e},c.toFloatArray=function(t){return c.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},c.toSinglePrecision=function(t){return c.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},c.webkit602BugfixHelper=function(t,e){},c.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t.Utils=c,u.logBones=function(t){for(var e=0;e<t.bones.length;e++){var i=t.bones[e];i.matrix}},t.DebugUtils=u,d.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},d.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},d.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},d.prototype.clear=function(){this.items.length=0},t.Pool=d,p.prototype.set=function(t,e){return this.x=t,this.y=e,this},p.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},p.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t.Vector2=p,f.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t.TimeKeeper=f,_.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},_.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},_.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t.WindowedMean=_}(pixi_spine=pixi_spine||{}),!function(t){var e;function i(t){if(null==t)throw new Error("name cannot be null.");this.name=t}function n(t){t=e.call(this,t)||this;return t.id=(65535&n.nextID++)<<11,t.worldVerticesLength=0,t}(t=t.core||(t.core={})).Attachment=i,__extends(n,e=i),n.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},n.prototype.computeWorldVertices=function(t,e,i,n,a,o){i=a+(i>>1)*o;var r=t.bone.skeleton,s=t.attachmentVertices,h=this.vertices,l=this.bones;if(null==l){0<s.length&&(h=s);for(var c=(T=t.bone.matrix).tx,u=T.ty,d=T.a,p=T.c,f=T.b,_=T.d,m=e,g=a;g<i;m+=2,g+=o){var v=h[m],y=h[m+1];n[g]=v*d+y*p+c,n[g+1]=v*f+y*_+u}}else{for(var P=0,S=0,b=0;b<e;b+=2)P+=(k=l[P])+1,S+=k;var I=r.bones;if(0==s.length)for(g=a,p=3*S;g<i;g+=o){var B=0,C=0,k=l[P++];for(k+=P;P<k;P++,p+=3){var T=I[l[P]].matrix,v=h[p],y=h[p+1],x=h[p+2];B+=(v*T.a+y*T.c+T.tx)*x,C+=(v*T.b+y*T.d+T.ty)*x}n[g]=B,n[g+1]=C}else for(var M=s,g=a,p=3*S,w=S<<1;g<i;g+=o){B=0,C=0,k=l[P++];for(k+=P;P<k;P++,p+=3,w+=2){T=I[l[P]].matrix,v=h[p]+M[w],y=h[p+1]+M[w+1],x=h[p+2];B+=(v*T.a+y*T.c+T.tx)*x,C+=(v*T.b+y*T.d+T.ty)*x}n[g]=B,n[g+1]=C}}},n.prototype.applyDeform=function(t){return this==t},n.nextID=0,t.VertexAttachment=n}(pixi_spine=pixi_spine||{}),!function(t){(t=(t=t.core||(t.core={})).AttachmentType||(t.AttachmentType={}))[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point"}(pixi_spine=pixi_spine||{}),!function(t){var e,i;function n(t){t=i.call(this,t)||this;return t.color=new e.Color(1,1,1,1),t}e=t.core||(t.core={}),i=e.VertexAttachment,__extends(n,i),e.BoundingBoxAttachment=n}(pixi_spine=pixi_spine||{}),!function(t){var e,i;function n(t){t=i.call(this,t)||this;return t.color=new e.Color(.2275,.2275,.8078,1),t}e=t.core||(t.core={}),i=e.VertexAttachment,__extends(n,i),e.ClippingAttachment=n}(pixi_spine=pixi_spine||{}),!function(t){var p,e;function i(t){t=e.call(this,t)||this;return t.color=new p.Color(1,1,1,1),t.inheritDeform=!1,t.tempColor=new p.Color(0,0,0,0),t}p=t.core||(t.core={}),e=p.VertexAttachment,__extends(i,e),i.prototype.updateUVs=function(t,e){var i=this.regionUVs.length;if(e&&e.length==i||(e=p.Utils.newFloatArray(i)),null!=t){for(var n=t.texture._uvs,a=t.width,o=t.height,r=t.originalWidth,s=t.originalHeight,h=t.offsetX,l=t.pixiOffsetY,c=0;c<i;c+=2){var u=this.regionUVs[c],d=this.regionUVs[c+1];e[c]=(n.x0*(1-(u=(u*r-h)/a))+n.x1*u)*(1-(d=(d*s-l)/o))+(n.x3*(1-u)+n.x2*u)*d,e[c+1]=(n.y0*(1-u)+n.y1*u)*(1-d)+(n.y3*(1-u)+n.y2*u)*d}return e}},i.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},i.prototype.getParentMesh=function(){return this.parentMesh},i.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},p.MeshAttachment=i}(pixi_spine=pixi_spine||{}),!function(t){var e,i;function n(t){t=i.call(this,t)||this;return t.closed=!1,t.constantSpeed=!1,t.color=new e.Color(1,1,1,1),t}e=t.core||(t.core={}),i=e.VertexAttachment,__extends(n,i),e.PathAttachment=n}(pixi_spine=pixi_spine||{}),!function(t){var a,e;function i(t){t=e.call(this,t)||this;return t.color=new a.Color(.38,.94,0,1),t}a=t.core||(t.core={}),e=a.VertexAttachment,__extends(i,e),i.prototype.computeWorldPosition=function(t,e){var i=t.matrix;return e.x=this.x*i.a+this.y*i.c+t.worldX,e.y=this.x*i.b+this.y*i.d+t.worldY,e},i.prototype.computeWorldRotation=function(t){var t=t.matrix,e=a.MathUtils.cosDeg(this.rotation),i=a.MathUtils.sinDeg(this.rotation),n=e*t.a+i*t.c,e=e*t.b+i*t.d;return Math.atan2(e,n)*a.MathUtils.radDeg},a.PointAttachment=i}(pixi_spine=pixi_spine||{}),!function(t){var e,i;function d(t){t=i.call(this,t)||this;return t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new e.Color(1,1,1,1),t.offset=e.Utils.newFloatArray(8),t.uvs=e.Utils.newFloatArray(8),t.tempColor=new e.Color(1,1,1,1),t}e=t.core||(t.core={}),i=e.Attachment,__extends(d,i),d.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*e,t=i+this.region.width*t,e=n+this.region.height*e,a=this.rotation*Math.PI/180,o=Math.cos(a),a=Math.sin(a),r=i*o+this.x,i=i*a,s=n*o+this.y,n=n*a,h=t*o+this.x,t=t*a,o=e*o+this.y,e=e*a,a=this.offset;a[d.OX1]=r-n,a[d.OY1]=s+i,a[d.OX2]=r-e,a[d.OY2]=o+i,a[d.OX3]=h-e,a[d.OY3]=o+t,a[d.OX4]=h-n,a[d.OY4]=s+t},d.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},d.prototype.computeWorldVertices=function(t,e,i,n){var a=this.offset,t=t.matrix,o=t.tx,r=t.ty,s=t.a,h=t.c,l=t.b,t=t.d,c=a[d.OX1],u=a[d.OY1];e[i]=c*s+u*h+o,e[i+1]=c*l+u*t+r,c=a[d.OX2],u=a[d.OY2],e[i+=n]=c*s+u*h+o,e[i+1]=c*l+u*t+r,c=a[d.OX3],u=a[d.OY3],e[i+=n]=c*s+u*h+o,e[i+1]=c*l+u*t+r,c=a[d.OX4],u=a[d.OY4],e[i+=n]=c*s+u*h+o,e[i+1]=c*l+u*t+r},d.OX1=0,d.OY1=1,d.OX2=2,d.OY2=3,d.OX3=4,d.OY3=5,d.OX4=6,d.OY4=7,d.X1=0,d.Y1=1,d.C1R=2,d.C1G=3,d.C1B=4,d.C1A=5,d.U1=6,d.V1=7,d.X2=8,d.Y2=9,d.C2R=10,d.C2G=11,d.C2B=12,d.C2A=13,d.U2=14,d.V2=15,d.X3=16,d.Y3=17,d.C3R=18,d.C3G=19,d.C3B=20,d.C3A=21,d.U3=22,d.V3=23,d.X4=24,d.Y4=25,d.C4R=26,d.C4G=27,d.C4B=28,d.C4A=29,d.U4=30,d.V4=31,e.RegionAttachment=d}(pixi_spine=pixi_spine||{}),!function(t){var a;function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}a=t.core||(t.core={}),e.prototype.begin=function(t){},e.prototype.transform=function(t,e,i,n){t.x+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},a.JitterEffect=e}(pixi_spine=pixi_spine||{}),!function(t){var h;function l(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}h=t.core||(t.core={}),l.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},l.prototype.transform=function(t,e,i,n){var a=this.angle*h.MathUtils.degreesToRadians,o=t.x-this.worldX,r=t.y-this.worldY,s=Math.sqrt(o*o+r*r);s<this.radius&&(a=l.interpolation.apply(0,a,(this.radius-s)/this.radius),s=Math.cos(a),a=Math.sin(a),t.x=s*o-a*r+this.worldX,t.y=a*o+s*r+this.worldY)},l.prototype.end=function(){},l.interpolation=new h.PowOut(2),h.SwirlEffect=l}(pixi_spine=pixi_spine||{}),!function(){var e;Math.fround||(Math.fround=Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),!function(b){b.core.Bone.yDown=!0;var e,I=[0,0,0],i=(e=PIXI.Sprite,__extends(t,e),t);function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.region=null,t}b.SpineSprite=i;o=PIXI.mesh.Mesh,__extends(n,o);var o,r=n;function n(t,e,i,n,a){return o.call(this,t,e,i,n,a)||this}b.SpineMesh=r;l=PIXI.Container,__extends(s,l),Object.defineProperty(s.prototype,"autoUpdate",{get:function(){return this.updateTransform===s.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?s.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),s.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.slots,t=this.color,i=null,n=null,a=(t?(i=t.light,n=t.dark):i=this.tintRgb,PIXI.TransformBase&&1==this.transformHack()),o=0,r=e.length;o<r;o++){var s=(S=e[o]).attachment,h=this.slotContainers[o];if(s){var l,c,u=null,d=s.color;if(s instanceof b.core.RegionAttachment){var p,f,_,m=s.region;m&&(S.currentMesh&&(S.currentMesh.visible=!1,S.currentMesh=null,S.currentMeshName=void 0),S.currentSpriteName&&S.currentSpriteName===m.name||(m=m.name,S.currentSprite&&(S.currentSprite.visible=!1),S.sprites=S.sprites||{},void 0!==S.sprites[m]?S.sprites[m].visible=!0:(f=this.createSprite(S,s,m),h.addChild(f)),S.currentSprite=S.sprites[m],S.currentSpriteName=m)),h.transform?(_=null,(f=p=h.transform).matrix2d?(_=f.matrix2d,f._dirtyVersion++,f.version=f._dirtyVersion,f.isStatic=!0,f.operMode=0):a?(f.position&&((p=new PIXI.TransformBase)._parentID=-1,p._worldID=h.transform._worldID,h.transform=p),_=p.localTransform):f.setFromMatrix(S.bone.matrix),_&&S.bone.matrix.copy(_)):(_=h.localTransform||new PIXI.Matrix,S.bone.matrix.copy(_),h.localTransform=_,h.displayObjectUpdateTransform=B),S.currentSprite.color?u=S.currentSprite.color:(I[0]=i[0]*S.color.r*d.r,I[1]=i[1]*S.color.g*d.g,I[2]=i[2]*S.color.b*d.b,S.currentSprite.tint=PIXI.utils.rgb2hex(I)),S.currentSprite.blendMode=S.blendMode}else if(s instanceof b.core.MeshAttachment)S.currentSprite&&(S.currentSprite.visible=!1,S.currentSprite=null,S.currentSpriteName=void 0,h.transform?((p=new PIXI.TransformStatic)._parentID=-1,p._worldID=h.transform._worldID,h.transform=p):(h.localTransform=new PIXI.Matrix,h.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),S.currentMeshName&&S.currentMeshName===s.name||(m=s.name,S.currentMesh&&(S.currentMesh.visible=!1),S.meshes=S.meshes||{},void 0!==S.meshes[m]?S.meshes[m].visible=!0:(l=this.createMesh(S,s),h.addChild(l)),S.currentMesh=S.meshes[m],S.currentMeshName=m),s.computeWorldVerticesOld(S,S.currentMesh.vertices),S.currentMesh.color?u=S.currentMesh.color:"3"!==PIXI.VERSION[0]&&((l=S.currentMesh.tintRgb)[0]=i[0]*S.color.r*d.r,l[1]=i[1]*S.color.g*d.g,l[2]=i[2]*S.color.b*d.b),S.currentMesh.blendMode=S.blendMode;else{if(!(s instanceof b.core.ClippingAttachment)){h.visible=!1;continue}S.currentGraphics||(this.createGraphics(S,s),h.addChild(S.clippingContainer),h.addChild(S.currentGraphics)),this.updateGraphics(S,s)}h.visible=!0,u&&(s=S.color.r*d.r,c=S.color.g*d.g,d=S.color.b*d.b,u.setLight(i[0]*s+n[0]*(1-s),i[1]*c+n[1]*(1-c),i[2]*d+n[2]*(1-d)),d=S.darkColor?(s=S.darkColor.r,c=S.darkColor.g,S.darkColor.b):c=s=0,u.setDark(i[0]*s+n[0]*(1-s),i[1]*c+n[1]*(1-c),i[2]*d+n[2]*(1-d))),h.alpha=S.color.a}else h.visible=!1}for(var g=this.skeleton.drawOrder,v=null,y=null,o=0,r=g.length;o<r;o++){var P,S=e[g[o].data.index],h=this.slotContainers[g[o].data.index];y||h.parent!==this&&(h.parent.removeChild(h),h.parent=this),S.currentGraphics&&S.attachment?(y=S.clippingContainer,v=S.attachment,y.children.length=0,this.children[o]=h,v.endSlot==S.data&&(v.endSlot=null)):y?((P=this.tempClipContainers[o])||((P=this.tempClipContainers[o]=this.newContainer()).visible=!1),this.children[o]=P,h.parent=null,y.addChild(h),v.endSlot==S.data&&(y.renderable=!0,v=y=null)):this.children[o]=h}},s.prototype.setSpriteRegion=function(t,e,i){e.region=i,e.texture=i.texture,i.size?(e.scale.x=i.size.width/i.originalWidth,e.scale.y=-i.size.height/i.originalHeight):(e.scale.x=t.scaleX*t.width/i.originalWidth,e.scale.y=-t.scaleY*t.height/i.originalHeight)},s.prototype.setMeshRegion=function(t,e,i){e.region=i,e.texture=i.texture,i.texture._updateUvs(),t.updateUVs(i,e.uvs),e.dirty++},s.prototype.autoUpdateTransform=function(){var t;s.globalAutoUpdate?(this.lastTime=this.lastTime||Date.now(),t=.001*(Date.now()-this.lastTime),this.lastTime=Date.now(),this.update(t)):this.lastTime=0,PIXI.Container.prototype.updateTransform.call(this)},s.prototype.createSprite=function(t,e,i){var n=e.region,n=(t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null),n.texture),n=this.newSprite(n);return n.rotation=e.rotation*b.core.MathUtils.degRad,n.anchor.x=.5,n.anchor.y=.5,n.position.x=e.x,n.position.y=e.y,n.alpha=e.color.a,n.region=e.region,this.setSpriteRegion(e,n,e.region),t.sprites=t.sprites||{},t.sprites[i]=n},s.prototype.createMesh=function(t,e){var i=e.region,n=(t.tempAttachment===e&&(i=t.tempRegion,t.tempAttachment=null,t.tempRegion=null),this.newMesh(i.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES));return n.canvasPadding=1.5,n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,i),t.meshes=t.meshes||{},t.meshes[e.name]=n},s.prototype.createGraphics=function(t,e){var i=this.newGraphics(),n=new PIXI.Polygon([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(n),i.renderable=!1,t.currentGraphics=i,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,i},s.prototype.updateGraphics=function(t,e){var i=t.currentGraphics.graphicsData[0].shape.points,n=e.worldVerticesLength;i.length=n,e.computeWorldVertices(t,0,n,i,0,2),t.currentGraphics.dirty++,t.currentGraphics.clearDirty++},s.prototype.hackTextureBySlotIndex=function(t,e,i){void 0===i&&(i=null);var n,a,t=this.skeleton.slots[t];return!!t&&(a=(n=t.attachment).region,(e=void 0===e?null:e)&&((a=new b.core.TextureRegion).texture=e,a.size=i),t.currentSprite&&t.currentSprite.region!=a?(this.setSpriteRegion(n,t.currentSprite,a),t.currentSprite.region=a):t.currentMesh&&t.currentMesh.region!=a?this.setMeshRegion(n,t.currentMesh,a):(t.tempRegion=a,t.tempAttachment=n),!0)},s.prototype.hackTextureBySlotName=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);t=this.skeleton.findSlotIndex(t);return-1!=t&&this.hackTextureBySlotIndex(t,e,i)},s.prototype.newContainer=function(){return new PIXI.Container},s.prototype.newSprite=function(t){return new i(t)},s.prototype.newGraphics=function(){return new PIXI.Graphics},s.prototype.newMesh=function(t,e,i,n,a){return new r(t,e,i,n,a)},s.prototype.transformHack=function(){return 1},s.globalAutoUpdate=!0,s.clippingPolygon=[];var l,a=s;function s(t){var e=l.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');e.spineData=t,e.skeleton=new b.core.Skeleton(t),e.skeleton.updateWorldTransform(),e.stateData=new b.core.AnimationStateData(t),e.state=new b.core.AnimationState(e.stateData),e.slotContainers=[],e.tempClipContainers=[];for(var i=0,n=e.skeleton.slots.length;i<n;i++){var a,o,r=e.skeleton.slots[i],s=r.attachment,h=e.newContainer();e.slotContainers.push(h),e.addChild(h),e.tempClipContainers.push(null),s instanceof b.core.RegionAttachment?(o=s.region.name,a=e.createSprite(r,s,o),r.currentSprite=a,r.currentSpriteName=o,h.addChild(a)):s instanceof b.core.MeshAttachment?(o=e.createMesh(r,s),r.currentMesh=o,r.currentMeshName=s.name,h.addChild(o)):s instanceof b.core.ClippingAttachment&&(e.createGraphics(r,s),h.addChild(r.clippingContainer),h.addChild(r.currentGraphics))}return e.autoUpdate=!0,e.tintRgb=new Float32Array([1,1,1]),e}function B(){var t=this.parent.worldTransform,e=this.worldTransform,i=this.localTransform;e.a=i.a*t.a+i.b*t.c,e.b=i.a*t.b+i.b*t.d,e.c=i.c*t.a+i.d*t.c,e.d=i.c*t.b+i.d*t.d,e.tx=i.tx*t.a+i.ty*t.c+t.tx,e.ty=i.tx*t.b+i.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}b.Spine=a}(pixi_spine=pixi_spine||{}),!function(t){PIXI.spine=t;t=PIXI.Texture.prototype;t._updateUvs||(t._updateUvs=t.updateUvs)}(pixi_spine=pixi_spine||{}),!function(c){function t(){return function(i,n){var t,a,e,o,r,s,h,l;return!i.data||i.type!==PIXI.loaders.Resource.TYPE.JSON||!i.data.bones||(t=i.metadata||{},a=t?i.metadata.spineSkeletonScale:null,!1===(e=t?i.metadata.spineAtlas:null))?n():e&&e.pages?(o=new c.core.SkeletonJson(new c.core.AtlasAttachmentLoader(e)).readSkeletonData(i.data),i.spineData=o,i.spineAtlas=e,n()):(o=t.spineAtlasSuffix||".atlas",e=i.url.substr(0,i.url.lastIndexOf(".json"))+o,e=(e=i.metadata&&i.metadata.spineAtlasFile?i.metadata.spineAtlasFile:e).replace(this.baseUrl,""),o={crossOrigin:i.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:t.spineMetadata||null,parentResource:i},r={crossOrigin:i.crossOrigin,metadata:t.imageMetadata||null,parentResource:i},s=(s=i.url.substr(0,i.url.lastIndexOf("/")+1)).replace(this.baseUrl,""),h=t.images?d(t.images):t.image?d({default:t.image}):t.imageLoader?t.imageLoader(this,i.name+"_atlas_page_",s,r):u(this,i.name+"_atlas_page_",s,r),l=function(t){new c.core.TextureAtlas(t,h,function(t){var e=new c.core.SkeletonJson(new c.core.AtlasAttachmentLoader(t));a&&(e.scale=a),i.spineData=e.readSkeletonData(i.data),i.spineAtlas=t,n()})},void(i.metadata&&i.metadata.atlasRawData?l(i.metadata.atlasRawData):this.add(i.name+"_atlas",e,o,function(t){l(t.xhr.responseText)})))}}function u(n,a,o,r){return o&&o.lastIndexOf("/")!==o.length-1&&(o+="/"),function(t,e){var i=o+t;n.add(a+t,i,r,function(t){e(t.texture.baseTexture)})}}function d(i){return function(t,e){t=i[t]||i.default;t&&t.baseTexture?e(t.baseTexture):e(t)}}c.atlasParser=t,c.imageLoaderAdapter=u,c.syncImageLoaderAdapter=function(t,i){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,e){e(PIXI.BaseTexture.fromImage(t,i))}},c.staticImageLoader=d,PIXI.loaders.Loader.addPixiMiddleware(t),PIXI.loader.use(t())}(pixi_spine=pixi_spine||{}),!function(t){var r,n=PIXI.Container,i=PIXI.Graphics,s=PIXI.Sprite,a=PIXI.Point,h=PIXI.Text,o=PIXI.Texture,e=(r=ShareMultiGames.ViewModel,__extends(l,r),l.prototype.init=function(){r.prototype.init.call(this),this.lightArr=[],clearInterval(this.tBanker),this.tBanker=null,this.resetUserTxt()},l.prototype.initUI=function(){var e=this;this.arrUserTxt=[],this.arrPosTexUser=[],this.arrPosTexOther=[],this.initBetArea(),this.initRoadInfo(),this._pokerPanel=new P,this.addChild(this._pokerPanel),this._pokerPanel.visible=!1,this.chessBullPanel=new u,this.chessBullPanel.x=5,this.chessBullPanel.mEve.on("SET_RATE",function(t){e.arrUserTxt[0].setRateTxt(t),e.maxBanker=t.bRate}),this.stopMatchBtn=this.chessBullPanel.getStopMatchBtn(),this.addChild(this.stopMatchBtn),this.addChild(this.chessBullPanel),this._bankerWin=new PIXI.spine.Spine(VideoLoaderCore.AssetsLoaderManager.getInstance()._loader.resources.bankerAllWin.spineData),this._bankerWin.skeleton.setSkinByName("MuiltN_ChessBull_WinsallTxt_"+IPL.UrlParameter.lang),this._bankerWin.skeleton.setToSetupPose(),this.addChild(this._bankerWin),this._bankerWin.alpha=0,this._bankerLose=new PIXI.spine.Spine(VideoLoaderCore.AssetsLoaderManager.getInstance()._loader.resources.bankerAllLose.spineData),this._bankerLose.skeleton.setSkinByName("MuiltN_ChessBull_LosesallTxt_"+IPL.UrlParameter.lang),this._bankerLose.skeleton.setToSetupPose(),this.addChild(this._bankerLose),this._bankerLose.alpha=0,this._bankerWin.x=this._bankerLose.x=230,this._bankerWin.y=this._bankerLose.y=515,this.initHeaderPoker(),this.initChipPosition(),this.resetUserTxt()},l.prototype.initShareUI=function(){this._countDownMc=new ShareUI.countUI(460,2,55552,16767232,16711680,1315860,"ver"),this._countDownMc.x=5,this._countDownMc.y=297,this.addChild(this._countDownMc),this._countDownMc.visible=!1,this._messageTxt=new ShareMultiGames.oneMessage;var t={},t=(t.background=new s,this._messageTxt.initMessageBg(t),this._messageTxt.initTxt({fontFamily:"_sans",fontSize:"18px",fontWeight:"bold",fill:"#FFFFFF",stroke:"#000000",strokeThickness:2}),this._messageTxt.x=235,this._messageTxt.y=313,this.addChild(this._messageTxt),this._wlMessageTxt=new SharePanel.MessagePanel,{});t.background=PIXILayoutTool.DisplayObject.createImage("Multiple_MessageTxtBG"),this._wlMessageTxt.initMessageBg(t),this._wlMessageTxt.initTxt({fontFamily:"_sans",fontSize:"18px",fontWeight:"bold",fill:"#FFD277",stroke:"#000000",strokeThickness:2}),this._wlMessageTxt.x=235,this._wlMessageTxt.y=346,this.addChild(this._wlMessageTxt)},l.prototype.initBetArea=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_BetBG"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_BetArea"));this.addChild(t),this.conAnte=new n,this.addChild(this.conAnte),this.conAnte.visible=!1,this.conAnte.x=17,this.conAnte.y=50,this.conBg=new i,this.conBg.beginFill(0,.3),this.conBg.drawRect(0,0,100,50),this.conBg.endFill(),this.conAnte.addChild(this.conBg),this.anteTxt=new h("",{fontFamily:"Arial",fontSize:"18px",fill:"#FFFFFF"}),this.conAnte.addChild(this.anteTxt),this.anteTxt.x=10,this.anteTxt.y=4,this.prepayTxt=new h("",{fontFamily:"Arial",fontSize:"18px",fill:"#FFFFFF"}),this.conAnte.addChild(this.prepayTxt),this.prepayTxt.x=10,this.prepayTxt.y=22;for(var e=0;e<4;e++)this.arrUserTxt[e]=new f,this.arrUserTxt[e].initUI(e),this.addChild(this.arrUserTxt[e]),0==e?(this.arrPosTexUser[e]=o.fromImage("Multiple_Chess3Face_BankerIcon0000"),this.arrPosTexOther[e]=o.fromImage("Multiple_Chess3Face_BankerIcon0000")):(this.arrPosTexUser[e]=o.fromImage("Multiple_ChessBull_P"+String(e)+"Icon_"+IPL.UrlParameter.lang+"0000"),this.arrPosTexOther[e]=o.fromImage("Multiple_ChessBull_OtherP"+String(e)+"Icon_"+IPL.UrlParameter.lang+"0000"));this.txtPayoff=new h("",{fontFamily:"微軟正黑體",fontSize:"26px",fill:"#FFD277",fontWeight:"bold"}),this.txtPayoff.anchor.set(.5),this.txtPayoff.x=235,this.txtPayoff.y=565,this.txtPayoff.alpha=0,this.txtPayoff.visible=!1,this.addChild(this.txtPayoff)},l.prototype.initRoadInfo=function(){this._roadmapPanel=new C,this._roadmapPanel.x=8,this._roadmapPanel.y=709;var t=new n,e=(null==Tools.TextureStore.repository.Fram1x1&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:1,gridW:89,gridH:142,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x1"}),new s(Tools.TextureStore.repository.Fram1x1)),e=(t.addChild(e),null==Tools.TextureStore.repository.Fram4x1&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:1,gridW:59,gridH:34,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram4x1"}),new s(Tools.TextureStore.repository.Fram4x1)),e=(e.position=new a(91,0),t.addChild(e),null==Tools.TextureStore.repository.Fram4x8&&SharePanel.sameFrameLine.createTexture({gridRow:4,gridCol:8,gridW:36,gridH:34,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram4x8"}),new s(Tools.TextureStore.repository.Fram4x8)),e=(e.position=new a(152,0),t.addChild(e),{}),t=(e.posX=0,e.posY=0,e.background=t,this._roadmapPanel.initRoadBg(e),{fontFamily:"微軟正黑體",fontSize:"24px",fill:"#EDE3B2"}),e={};e.titleStyle=t,e.bankerStyle=t,e.titleX=121,e.originalX=171,e.originalY=18,e.gapX=38,e.gapY=36,e.scale=1,e.roundNum=8,e.winBack="Multiple_Bull_win0000",e.winX=170,e.winY=17,e.style={fontFamily:"微軟正黑體",fontSize:"16px",fontWeight:"bold ",fill:"#FFFFFF"},e.style2={fontFamily:"微軟正黑體",fontSize:"16px",fontWeight:"bold ",fill:"#E8A008"},e.sumNum=10,e.txtShort=!0,this._roadmapPanel.initCell(e),this.addChild(this._roadmapPanel)},l.prototype.configureGameModelListener=function(){var t=this;this.gModel.addEventListener(VideoShare.LiveGameEvent.CHANGE_CREDIT,function(){t.chessBullPanel.setCredit(t.vModel.getUserInfo().getCredit())})},l.prototype.configureModelListener=function(){r.prototype.configureModelListener.call(this),this.vModel.addEventListener(VideoShare.LiveGameEvent.ON_BET_RATE,this.liveGameEvent),this._roadmapPanel.setGameKey("3005-"+this._tmpGameCode)},l.prototype.configureCostumeListener=function(){this._roadmapPanel.event.addEventListener(VideoShare.RoadmapEvent.SUMROADMAP,this.roadEvent),this.chessBullPanel.event.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this.chessBullPanel.event.addEventListener("STOP_MATCH",this.stopMatchEvent)},l.prototype.setCustomSelectPanel=function(t){r.prototype.setCustomSelectPanel.call(this,t),this.removeChild(this._mixChipSelectPanel.getChipPanelTarget())},l.prototype.onStopMatch=function(){this.ante=-1,this.anteTxt.text="",this.prepayTxt.text="",this.conAnte.visible=!1,this.hasJoin=!1,this.chessBullPanel.setStatus(this._status,this.isBanker,this.hasJoin,!0),this.gModel.leaveVTable(this.vModel.getGameType()+"-"+this.vModel.getGameCode())},l.prototype.onBetRate=function(){this.chessBullPanel.setRates(this.vModel.getBetRate())},l.prototype.onStatusChanged=function(t){var e=this;r.prototype.onStatusChanged.call(this,t=void 0===t?null:t);for(var i=0;i<4;i++)this.arrUserTxt[i].setStatus(this._status);switch(this._countDownMc.visible=this.hasJoin,this._messageTxt.resetShowTxt(),this._status){case"rollDice":this.chessBullPanel.visible=!0,this.isBanker=!1,this.hasJoin&&(TweenMax.fromTo(this.arrUserTxt[0],.5,{x:-140},{x:0}),this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1)),this._countDownMc.visible=!1,this._pokerPanel.visible=!1,this.stopMatchBtn.visible=!1,this.resetUserTxt();break;case"betting":case"newRound":this._countDownMc.visible=!1,this.hasJoin&&this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1);break;case"createTable":-1!=this.ante&&(n={action:"joinVTable",choose:this.ante,game:this.vModel.getGameType()+"-"+this.vModel.getGameCode()},this.gModel.joinTable(n)),this._messageTxt.resetShowTxt();break;case"joinDraw":this.hasJoin&&this.onSeatData();break;case"drawLots":if(this.hasJoin){this.onSeatData(),this.lightArr=[];for(i=0;i<4;i++)this.arrUserTxt[i].bRate==this.maxBanker&&(this.arrUserTxt[i].IconB.visible=!0,this.lightArr.push(this.arrUserTxt[i].Frame));null!=this.tBanker&&(clearInterval(this.tBanker),this.tBanker=null);var n,a,o=0;1<this.lightArr.length?this.tBanker=setInterval(function(){for(var t=0;t<e.lightArr.length;t++)e.lightArr[t].visible=!1;e.lightArr[Math.floor(o%e.lightArr.length)].visible=!0,o++},90):(this.lightArr[0].visible=!0,n=this.lightArr[0].width,a=this.lightArr[0].height,TweenMax.fromTo(this.lightArr[0],.5,{width:1.3*n,height:1.3*a},{width:n,height:a}))}this._messageTxt.resetShowTxt();break;case"bettingPlayer":if(this.hasJoin){for(i=0;i<4;i++)this.arrUserTxt[i].IconID.visible=!0,this.arrUserTxt[i].resetRateTxt();this.onSeatData()}break;case"dealing":this._countDownMc.visible=!1,this.hasJoin&&(this._pokerPanel.setPos(this.posIndex),this._pokerPanel.visible=!0,TweenMax.fromTo(this.arrUserTxt[0],.5,{x:0},{x:-140}),this.chessBullPanel.visible=!1,this.onSeatData(),this._messageTxt.onMessage(IPL.DictManager.getDict("SHOW"),!1));break;case"waiting":this._countDownMc.visible=!1,this.hasJoin&&(this._pokerPanel.visible=!0,this.stopMatchBtn.visible=!0,this._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_NEW_GAME"),!1),this.txtPayoff.visible=!1)}this._roadmapPanel.setStatus(this._status),this.chessBullPanel.setStatus(this._status,this.isBanker,this.hasJoin,!0),this.chessBullPanel.setRoundNum(this._roundNum)},l.prototype.onEndGame=function(i){var n=this;if(r.prototype.onEndGame.call(this,i),this.hasJoin&&null!=i.data.table)for(var a=i.data.table,o=i.data.res,t=0,e=(8==o?(t=2.2,this._bankerWin.alpha=1,this._bankerWin.state.setAnimation(0,"Win",!1),window.setTimeout(function(){n._bankerWin.alpha=0},1e3*t)):1==o&&(t=2.2,this._bankerLose.alpha=1,this._bankerLose.state.setAnimation(0,"Lost",!1),window.setTimeout(function(){n._bankerLose.alpha=0},1e3*t)),0);e<this.arrUserTxt.length;e++)!function(e){TweenMax.delayedCall(t,function(){-1!=o&&(n.arrUserTxt[e].PayWay.visible=!0,Tools.Animate.numCount(n.arrUserTxt[e].PayWay,Number(a[n.posIndex[e]])));var t=i.data.payoff;t&&(n.txtPayoff.visible=!0,0<t?(t=Number((new ShareLogic.DigitalLogic).numtoFix(t)),n.txtPayoff.text=IPL.DictManager.getDict("YOU_WIN")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(t))):t<0&&(t=(new ShareLogic.DigitalLogic).numtoFix(Math.abs(t)),n.txtPayoff.text=IPL.DictManager.getDict("YOU_LOSE")+" "+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(Number(t)))),Tools.Animate.fadeInOut(n.txtPayoff,.5,3))})}(e)},l.prototype.resetUserTxt=function(){for(var t=0;t<this.arrUserTxt.length;t++)this.arrUserTxt[t].reset(t);this.maxBanker=0,this.arrUserTxt[0].x=0,this._bankerWin.alpha=0,this._bankerLose.alpha=0,this.prepayTxt.text=IPL.DictManager.getDict("BULL_PREPAY_AMOUNT")+"："+this._currencyPic+"0.00",this.conBg.width=this.prepayTxt.width+20},l.prototype.onRoundInfo=function(){r.prototype.onRoundInfo.call(this);var t=this.vModel.getGameInfo();this._countDownMc.visible=this.hasJoin&&("joinDraw"==this._status||"bettingPlayer"==this._status),"betting"==this._status&&(this.hasJoin?this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1):this._messageTxt.resetShowTxt()),"joinDraw"!=this._status&&"bettingPlayer"!=this._status||(this.chessBullPanel.updateCount(this.vModel.getGameInfo().getCountdown()),this._roundCancelOpen&&this.hasJoin&&this._messageTxt.onMessage(t.getCountdown(),!1))},l.prototype.onJoinTable=function(t){null!=(t=void 0===t?null:t)&&(null!=t.data.runEor?(Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.data.runEor),3e3,"",!0,!0),this.forceLeaveTable()):t.data.event&&(this.hasJoin=!0,this.chessBullPanel.setStatus(this._status,this.isBanker,this.hasJoin,!0)))},l.prototype.onSeatData=function(t){void 0===t&&(t=null);for(var e,i,n=this.vModel.getSeatData(),a=0,o=0;o<n.length;o++)if(n[o].userID==this._mainuser){i=o;break}for(o=0;o<n.length;o++){var r=n[o].vPlayer,s=o-i;if(s<0&&(s=4-i+a,a++),r.bRate>=this.maxBanker&&(this.maxBanker=r.bRate),-1!=r.sorted){if(n[o].userID==this._mainuser?(e=0,this.prepayTxt.text=IPL.DictManager.getDict("BULL_PREPAY_AMOUNT")+" : "+this._currencyPic+(new ShareLogic.DigitalLogic).addCommas((new ShareLogic.DigitalLogic).numtoFix2(n[o].amount)),this.conBg.width=this.prepayTxt.width+20,n[o].isBanker&&(this.isBanker=!0)):e=s,this.arrUserTxt[e].setNumSeat(o),this.arrUserTxt[e].setInfo(n,r),null!=this.tBanker){clearInterval(this.tBanker),this.tBanker=null;for(var h,l,c=0;c<this.lightArr.length;c++)this.lightArr[c].visible=!1;n[o].isBanker&&(h=this.arrUserTxt[e].Frame.width,l=this.arrUserTxt[e].Frame.height,TweenMax.fromTo(this.arrUserTxt[e].Frame,.5,{width:1.3*h,height:1.3*l},{width:h,height:l})),this.arrUserTxt[e].setInfo(n,r)}this.posIndex[e]=r.sorted,this.arrUserTxt[e].IconID.texture=(0==e?this.arrPosTexUser:this.arrPosTexOther)[r.sorted],n[o].isBanker&&this.chessBullPanel.setBankerRate(r.bRate)}n[o].userID!=this._mainuser?"drawLots"==this._status&&this.arrUserTxt[s].setRateTxt(r):"drawLots"==this._status&&this.arrUserTxt[0].setRateTxt(r),this.arrUserTxt[s].setTable(n,o)}},l.prototype.setPoker=function(){var t;",,,,,,,,,,,,"==this._poker?(this._pokerPanel.reset(),this.chessBullPanel.setPoker(""),this._headerPoker.visible=!1):(this.chessBullPanel.setPoker(this._poker),this._pokerPanel.setPoker(this._poker),""!=(t=this._poker.split(","))[0]&&(this._headerPoker.setPoker(t[0]),this._headerPoker.visible=!0))},l.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},l.prototype.onUserInfo=function(){r.prototype.onUserInfo.call(this),this.chessBullPanel.setTestBench(this.vModel.getUserInfo().getTestBench()),this.chessBullPanel.setCredit(this.vModel.getUserInfo().getCredit()),this.chessBullPanel.setLimit(this.vModel.getCreditLimit()),this.arrUserTxt[0].UserName.text=this.vModel.getUserInfo().getUsername(),this.arrUserTxt[0].isSelf=!0,Tools.AdjustText.adjustFontSize(this.arrUserTxt[0].UserName,16,90)},l.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("betLimitInfo",!1)},l.prototype.onBetInfoCommitted=function(t){null!=t.status&&"TOTAL_BET"!=t.status&&(Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.status),3e3,"",!0,!0),"NOT_ENOUGH_BALANCE"!=t.status||"joinDraw"!=this._status&&"drawLots"!=this._status)&&this.forceLeaveTable()},l.prototype.onAddBet=function(t){var e=t.data;switch(e.type){case"Ante":this.ante=e.rate,this.anteTxt.text=IPL.DictManager.getDict("BULL_ANTE")+"："+e.num,this.prepayTxt.text=IPL.DictManager.getDict("BULL_PREPAY_AMOUNT")+"："+this._currencyPic+"0.00",this.conBg.width=this.prepayTxt.width+20,this.conAnte.visible=!0;break;case"Banker":this.vModel.joinDrawBanker(e.rate,16);break;case"Player":this.vModel.bullBet(e.rate,16)}},l.prototype.forceLeaveTable=function(){this.onStopMatch(),this.chessBullPanel.forceInit(),this.chessBullPanel.visible=!0,this._pokerPanel.visible=!1,this.stopMatchBtn.visible=!1,this.resetUserTxt()},l.prototype.handleModel=function(t){r.prototype.handleModel.call(this,t),t.type===VideoShare.LiveGameEvent.ON_BET_RATE&&this.onBetRate()},l.prototype.initHeaderPoker=function(){this._headerPoker=new ShareUI.PokerUI("SimplePoker"),this._headerPoker.visible=!1,this._headerPoker.scale.set(.84,.79),this._headerPoker.x=19,this._headerPoker.y=734,this.addChild(this._headerPoker)},l.prototype.removeHandle=function(){r.prototype.removeHandle.call(this),this.forceLeaveTable(),this.vModel.removeEventListener(VideoShare.LiveGameEvent.ON_BET_RATE,this.liveGameEvent),this.chessBullPanel.event.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this.chessBullPanel.event.removeEventListener("STOP_MATCH",this.stopMatchEvent)},l);function l(){var t=r.call(this)||this;return t.ante=-1,t.isBanker=!1,t.hasJoin=!1,t.maxBanker=0,t.posIndex=[],Tools.Animate.setAnimateListener(),t.stopMatchEvent=function(){t.onStopMatch()},t}t.ViewModel=e;c=ChessMultiGames.ChessBullPanel,__extends(d,c),d.prototype.initUI=function(){var e=this,t=(this.bgB=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_BetAreaNO2"),this.addChild(this.bgB),this.bgB.alpha=.8,this.limitCon=new n,this.addChild(this.limitCon),this.btn2=new ChessMultiGames.StopMatchBtn,this.btn2.position=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_StopmatchingBtn").position,this.btn2.visible=!1,DeviceAndEnvironment.Device.isMobile()?this.btn2.on("tap",function(t){e.onStopMatch(t)}):(this.btn2.on("click",function(t){e.onStopMatch(t)}),this.btn2.on("tap",function(t){e.onStopMatch(t)})),this.rateBankerCon=new n,this.rateBankerCon.y=327,this.addChild(this.rateBankerCon),this.ratePlayerCon=new n,this.ratePlayerCon.y=327,this.addChild(this.ratePlayerCon),this.titleTxt=new h("",{fontFamily:"微軟正黑體",fontSize:"30px",fill:"#FFD277",fontWeight:"bold"}),this.titleTxt.anchor.set(.5),this.titleTxt.x=230,this.titleTxt.y=352,this.addChild(this.titleTxt),this.countDown=new h("0",{fontFamily:"微軟正黑體",fontSize:"60px",fill:"#FFFFFF",fontWeight:"bold"}),this.countDown.anchor.set(.5),this.countDown.x=230,this.countDown.y=457,this.addChild(this.countDown),this.countDown.visible=!1,this.gameStart=new s,this.addChild(this.gameStart),this.gameStart.alpha=0,PIXILayoutTool.DisplayObject.createImage("Multiple_Chess3Face_GamestartIcon")),t=(this.gameStart.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_GamestartTxt_"+IPL.UrlParameter.lang));this.gameStart.addChild(t),this.rateBankerCon.visible=!1,this.ratePlayerCon.visible=!1,this._progressBar=new ChessMultiGames.ProgressBar,this.addChild(this._progressBar),this._progressBar.visible=!1,this._pokerPanel=new g,this.addChild(this._pokerPanel),this._pokerPanel.visible=!1},d.prototype.setLimit=function(t){var e=this;if(this._first){this._first=!1,c.prototype.setLimit.call(this,t);for(var i=t.length,n=0;n<i;n++){var a=t[n],o=(this.arrLimitBtn[n]=new ShareUI.Button("Multiple_FightBull_MinLimitBtn"),this.limitCon.addChild(this.arrLimitBtn[n]),this.arrLimitBtn[n].name="A"+String(n),this.arrLimitBtn[n].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_MinLimitBtn","p"+String(n)),i<4&&(this.updateTitleTxt(null,1),this.arrLimitBtn[n].position.y+=54),s.fromImage("Multiple_FightBull_MinLimitTxt_"+IPL.UrlParameter.lang+"0000")),o=(o.x=5,o.y=5,this.arrLimitBtn[n].addChild(o),new h((new ShareLogic.DigitalLogic).addCommas(String(a.ante)),{fontFamily:"微軟正黑體",fontSize:"36px",fill:"#FFD277",fontWeight:"bold"})),o=(o.anchor.set(.5),o.x=53,o.y=53,this.arrLimitBtn[n].addChild(o),new h("("+IPL.DictManager.getDict("BULL_MIN_LIMIT")+":"+(new ShareLogic.DigitalLogic).addCommas(String(a.minBalance))+")",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#FFFFFF"}));o.anchor.set(.5),o.x=53,o.y=90,this.arrLimitBtn[n].addChild(o),o.style.fontSize=Tools.AdjustText.adjustFontSize(o,16,100),DeviceAndEnvironment.Device.isMobile()?this.arrLimitBtn[n].on("tap",function(t){e.onLimitBtnCLK(t)}):(this.arrLimitBtn[n].on("click",function(t){e.onLimitBtnCLK(t)}),this.arrLimitBtn[n].on("tap",function(t){e.onLimitBtnCLK(t)}))}this.checkCrdit(this.arrLimitBtn,"limit")}},d.prototype.setRates=function(t){c.prototype.setRates.call(this,t);for(var e=0;e<this._rateBanker.length;e++){var i=void 0,i=0==e?IPL.DictManager.getDict("BULL_NO_SNATCH"):IPL.DictManager.getDict("BULL_SNATCH");this.rateTxt[e].text=i,this.rateTxt[e].style.fontSize=Tools.AdjustText.adjustFontSize(this.rateTxt[e],21,90),this.arrBankerBtn[e].name="B"+String(this._rateBanker[e])}},d.prototype.setStatus=function(t,e,i,n){c.prototype.setStatus.call(this,t,e,i,n),i&&"joinDraw"===t&&this.titleTxt&&(this.titleTxt.text=IPL.DictManager.getDict("TRIFACE_BET_BANKER"))};var c,u=d;function d(){return c.call(this)||this}p=ChessMultiGames.UserBetCell,__extends(_,p),_.prototype.initUI=function(t){var e="Multiple_ChessBull_OtherPlayerIcon",i=new a(120,102);0==t&&(e="Multiple_ChessBull_PlayerIcon",i.x=120,i.y=-45),this.BgON=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_ChessBull_Player","p"+String(t),!1),this.addChild(this.BgON),this.BgBlue=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_ChessBull_MultipleBG","p"+String(t),!1),this.addChild(this.BgBlue),this.BgRed=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_ChessBull_SnatchBG","p"+String(t),!1),this.addChild(this.BgRed),this.IconP=PIXILayoutTool.DisplayObject.createImage(e),this.addChild(this.IconP),this.IconB=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Chess3Face_BankerIconG","p"+String(t),!1),this.IconP.position=this.IconB.position,this.IconB.visible=!1,this.addChild(this.IconB),this.PayWay=new h("",{fontFamily:"微軟正黑體",fontSize:"22px",fill:"#FFCC22",dropShadow:!0,dropShadowAngle:.6,dropShadowDistance:1}),this.PayWay.anchor.set(1,.5),this.PayWay.position=this.BgBlue.position,this.PayWay.x+=i.x,this.PayWay.y+=i.y,this.addChild(this.PayWay),this.PayWay.visible=!1,this.RateTxt=new h("",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#FFFFFF"}),this.RateTxt.anchor.set(.5),this.RateTxt.x=this.BgBlue.x+73,this.RateTxt.y=this.BgBlue.y+12,this.addChild(this.RateTxt),this.UserName=new h("",{fontFamily:"微軟正黑體",fontSize:"16px",fill:"#FFFFFF"}),this.UserName.anchor.set(.5),this.UserName.x=this.RateTxt.x,this.UserName.y=this.RateTxt.y-27,this.addChild(this.UserName),this.Frame=PIXILayoutTool.DisplayObject.createImage("Multiple_Chess3Face_BankerIcon"),this.Frame.position=this.IconB.position,this.Frame.visible=!1,this.addChild(this.Frame),this.IconID=new s,this.IconID.position=this.IconB.position,this.addChild(this.IconID)},_.prototype.setRateTxt=function(t){var e;switch(p.prototype.setRateTxt.call(this,t),this.status){case"drawLots":if(this.isSelf&&1<this.RateTxt.text.length)return;case"joinDraw":this.bRate=t.bRate,e=0==t.bRate?IPL.DictManager.getDict("BULL_NO_SNATCH_BANKER"):IPL.DictManager.getDict("BULL_SNATCH"),this.RateTxt.text=e,this.BgBlue.visible=!1,this.BgRed.visible=!0;break;case"bettingPlayer":this.isBanker&&(this.RateTxt.text=IPL.DictManager.getDict("PAI_BANKER"))}},_.prototype.reset=function(t){p.prototype.reset.call(this,t),0!=t?(this.IconP.visible=!1,this.BgON.visible=!1,this.UserName.visible=!1,this.IconID.texture=o.fromImage("Multiple_ChessBull_OtherP"+String(t)+"Icon_"+IPL.UrlParameter.lang+"0000")):this.IconID.texture=o.fromImage("Multiple_Chess3Face_BankerIcon0000")};var p,f=_;function _(){return p.call(this)||this}m=Composite.EventContainer,__extends(v,m),v.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_BANKER"),t=(t.x=205,t.y=441,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_1")),t=(t.x=142,t.y=516,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_2")),t=(t.x=231,t.y=585,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_3Face_3"));t.x=320,t.y=516,this.addChild(t),this.pokerUI=[];for(var e=0;e<13;e++)this.pokerUI[e]=new ShareUI.PokerUI("SimplePoker"),this.pokerUI[e].scale=new a(.45,.44),this.pokerUI[e].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Fight3Face_PokerBG","p"+String(e)),this.addChild(this.pokerUI[e]);this.group=[];for(var i=new PIXI.TextStyle({fontFamily:"微軟正黑體",fontSize:300,fontWeight:"Arial",fill:16777215}),e=0;e<4;e++)this.group[e]={Con:new n,TypeBG:PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_PokerTypeBGS"),WinBG:PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_PokerWinBGS"),ResultTxt:new h("",i),TypeMode:new b},this.group[e].WinBG.visible=!1,this.group[e].ResultTxt.anchor.set(.5),this.group[e].ResultTxt.x=57.5,this.group[e].ResultTxt.y=7.5,this.group[e].Con.addChild(this.group[e].TypeBG),this.group[e].Con.addChild(this.group[e].WinBG),this.group[e].Con.addChild(this.group[e].ResultTxt),this.group[e].Con.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Chess3Face_PokerWinBGSPos","p"+String(e)),this.addChild(this.group[e].Con);this.reset()},v.prototype.setPoker=function(t){this.reset();for(var e=t.split(","),i=0,n=0;n<this.pokerUI.length;n++)e[n]?(this.pokerUI[n].setPoker(e[n]),n%3==0&&0<n&&(this.group[n/3-1].ResultTxt.text=this.group[n/3-1].TypeMode.getCardType(e[n-2],e[n-1],e[n]),this.group[n/3-1].ResultTxt.text+=this.group[n/3-1].TypeMode.getMulTxt(),this.group[n/3-1].ResultTxt.visible=!0,this.group[n/3-1].TypeBG.visible=!0,4<=++i)&&this.setWinLight()):this.pokerUI[n].setPoker("back")},v.prototype.getLvWin=function(t,e,i,n){return!(e<t)&&(t<e||(t==e?!(n<i):void 0))},v.prototype.setWinLight=function(){for(var t=1;t<=3;t++)this.group[t].WinBG.visible=this.getLvWin(this.group[0].TypeMode.getPokerLevel(),this.group[t].TypeMode.getPokerLevel(),this.group[0].TypeMode.getScore(),this.group[t].TypeMode.getScore())},v.prototype.reset=function(){for(var t=0;t<this.pokerUI.length;t++)this.pokerUI[t].setPoker("back");for(t=0;t<this.group.length;t++)this.group[t].WinBG.visible=!1,this.group[t].TypeBG.visible=!1,this.group[t].ResultTxt.text=""};var m,g=v;function v(){var t=m.call(this)||this;return t.initUI(),t}__extends(S,y=g),S.prototype.initUI=function(){this.pokerUI=[],this.group=[],this.resultPos=[],this.pokerPos=[],this._arrTimeoutPool=[],this._pokerStrArr=["","","","","","","","","","","","","","","","","","","","",""],this.pokerUI[0]=new ShareUI.PokerUI("SimplePoker");for(var t=0;t<12;t++){this.pokerUI[t+1]=new ShareUI.PokerUI("SimplePoker"),this.pokerUI[t+1].scale=t<3?new a(.63,.6):new a(.4,.36),this.pokerUI[t+1].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Chess3Face_PokerBG","p"+String(t));var e=this.pokerUI[t+1].getChildAt(0);e.x=.5*e.width,e.anchor.x=.5,e.y=.5*e.height,e.anchor.y=.5,this.addChild(this.pokerUI[t+1]),this.pokerPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Chess3Face_PokerBG","p"+String(t))}for(t=0;t<4;t++)this.group[t]={Con:new n,TypeBG:new s(PIXI.Texture.fromImage("Multiple_ChessBull_PokerTypeBG0000")),WinBG:new s(PIXI.Texture.fromImage("Multiple_ChessBull_PokerWinBG0000")),ResultTxt:new h(""),TypeMode:new b,Poker:new Array},this.group[t].ResultTxt.anchor.set(.5),this.group[t].ResultTxt.y=this.group[t].TypeBG.height/2,this.group[t].ResultTxt.style.fill="#FFFFFF",this.group[t].ResultTxt.style.fontFamily="微軟正黑體",this.group[t].Poker=[this.pokerUI[3*t+1],this.pokerUI[3*t+2],this.pokerUI[3*t+3]],this.group[t].WinBG.visible=!1,this.group[t].Con.addChild(this.group[t].TypeBG),this.group[t].Con.addChild(this.group[t].WinBG),this.group[t].Con.addChild(this.group[t].ResultTxt),this.resultPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Chess3Face_PokerTypeBGPos","p"+String(t)),this.addChild(this.group[t].Con);this.reset()},S.prototype.setPos=function(t){for(var e=0;e<this.group.length;e++){for(var i=0;i<3;i++)this.group[e].Poker[i].scale.set(.35,.32);if(this.group[e].TypeBG.width=82,this.group[e].WinBG.width=82,this.group[e].ResultTxt.style.fontSize=16,this.group[e].ResultTxt.x=this.group[e].TypeBG.width/2,0==t.indexOf(e))for(i=0;i<3;i++)this.group[e].Poker[i].scale.set(.63,.6),this.group[e].TypeBG.width=144,this.group[e].WinBG.width=144,this.group[e].ResultTxt.style.fontSize=18,this.group[e].ResultTxt.x=this.group[e].TypeBG.width/2}for(e=1;e<4;e++)for(i=0;i<4;i++)this.pokerUI[e+3*i].position=this.pokerPos[3*t.indexOf(i)+e-1];for(e=0;e<this.group.length;e++)this.group[e].Con.position=this.resultPos[t.indexOf(e)]},S.prototype.setPoker=function(t){y.prototype.setPoker.call(this,t);for(var e=t.split(","),i=0;i<e.length;i++)""!=e[i]&&this._pokerStrArr[i]!=e[i]&&this.pokerUI[i]&&this.showPokerAnimate(this.pokerUI[i],e[i]);this._pokerStrArr=t.split(",")},S.prototype.showPokerAnimate=function(t,e){var i=t.getChildAt(0);TweenMax.fromTo(i,.2,{width:72,height:114},{width:0,height:130}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(i),i.width=0,i.height=130,t.setPoker(e),TweenMax.fromTo(i,.2,{width:0,height:130},{width:72,height:114}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(i),i.width=72,i.height=114})})},S.prototype.setTimeout=function(t,e){t=window.setTimeout(t,e);this._arrTimeoutPool.push(t)},S.prototype.clearTimeout=function(){for(var t=0;t<this._arrTimeoutPool.length;t++)window.clearTimeout(this._arrTimeoutPool[t]);this._arrTimeoutPool=[]},S.prototype.reset=function(){y.prototype.reset.call(this),this.clearTimeout()};var y,P=S;function S(){return y.call(this)||this}t.Poker=P;I.prototype.getCardType=function(t,e,i){var n=[t.split(".")[0],e.split(".")[0],i.split(".")[0]],a=[Number(t.split(".")[1]),Number(e.split(".")[1]),Number(i.split(".")[1])];if(3===a[0]&&3===a[1]&&3===a[2])this._level=12;else if(a[0]===a[1]&&a[0]===a[2])this._level=11;else if(10<a[0]&&10<a[1]&&10<a[2])this._level=10;else{for(var o=0,r=0;r<3;r++)o+=10<a[r]?10:a[r];o-=10*Math.floor(o/10),this._level=o}return this._score=this.setTotalScore(n,a),this.getResult()},I.prototype.setTotalScore=function(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=this.getTypePoint(t[n]);return i.sort(function(t,e){return t-e}),e.sort(function(t,e){return t-e}),1e3*this._level+10*e[e.length-1]+i[i.length-1]},I.prototype.getTypePoint=function(t){var e=0;return"S"==t?e=4:"H"==t?e=3:"C"==t?e=2:"D"==t&&(e=1),e},I.prototype.getResult=function(){return this._level<10?IPL.DictManager.getDict("CARD_POINT"+String(this._level)):10===this._level?IPL.DictManager.getDict("CARD_POINT3P"):11===this._level?IPL.DictManager.getDict("CARD_POINTBOMB"):12===this._level?IPL.DictManager.getDict("CARD_POINT333"):"error"},I.prototype.getMulTxt=function(){var t=0;return this._level<7?t=1:this._level<10?t=2:10===this._level?t=3:11===this._level?t=4:12===this._level&&(t=5),"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"("+t+IPL.DictManager.getDict("BULL_MULTIPLE")+")":"(X"+t+")"},I.prototype.getScore=function(){return this._score},I.prototype.getPokerLevel=function(){return this._level};var b=I;function I(){}t.TriFacePokerTypeMode=b;B=SharePanel.RoadmapChessTripleFace,__extends(k,B),k.prototype.setStyle=function(t,e){B.prototype.setStyle.call(this,t,e),"Bomb"==e&&(this._roadMapTxt[t].style.fontSize="11px")};var B,C=k;function k(){return B.call(this)||this}}(ChessTripleFaceMultiGames=ChessTripleFaceMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new ChessTripleFaceMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.ChessTripleFaceMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,s=PIXI.Text,e=(i=BacMultiGames.ViewModel,__extends(a,i),a.prototype.openVerPanel=function(t){var e=t.data.id-1;this._verificationPanel.showPanel(t.data.pStr,t.data.id,this.vModel.getHash(e),this.vModel.getSeed(e))},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._burnCardPanel.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this._layoutPanel.setisBC(),this.blockChainVideoPanel=new n,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),e=(this.blockChainVideoPanel.addChild(e),this._blockChainPoker=new l("SimplePoker"),this._blockChainPoker.interactive=!0,this.blockChainVideoPanel.addChild(this._blockChainPoker),this._blockChainPoker.visible=!1,this._burnCardPanel=new BlockChainShare.BurnCardPanel,this.blockChainVideoPanel.addChild(this._burnCardPanel),this._burnCardPanel.visible=!1,this._burnCardPanel.removeChild(this._burnCardPanel._infoTxt),this.blockChainVideoPanel.addChild(this._burnCardPanel._infoTxt),this._burnCardPanel._infoTxt.visible=!1,this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new s(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new s(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.BacShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.VerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()}),this.removeChild(this._layoutPanel),this.addChild(this._layoutPanel)},a.prototype.setlayoutToolBar=function(){var t=this;this._layoutBtn.on("pointerdown",function(){t._layoutPanel.openPanel()})},a.prototype.onPlstUpdate=function(t){this._blockChainPoker.setNewCard(t.data.newFirId)},a.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId()),"burncard"!=this._status&&(this._blockChainPoker.visible=!0,this._burnCardPanel.visible=!1,this._burnCardPanel._infoTxt.visible=!1),this._checkpoker=0;var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid),this._blockChainPoker.setRedNum(e.pid)},a.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this),19<=Number(this.vModel.getGameInfo().getCountdown())&&this._checkpoker<2&&(this._poker=",,,,,",this._blockChainPoker.reset(),this._checkpoker++)},a.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"burncard"===t.st?(this._blockChainPoker.visible=!1,",,,,,"===t.pk?(this._shoePanel.reset(),this._blockChainPoker.reset(),this._burnCardPanel.reset()):this._burnCardPanel.runAnimate(1,e[0],t.cNum),this._burnCardPanel.visible=!0):"betting"===t.st?(this._burnCardPanel.visible=!1,this._burnCardPanel.reset(),this._burnCardPanel._infoTxt.visible=!1,this._blockChainPoker.visible=!0,this._blockChainPoker.newGameAnimate()):"dealing"!==t.st&&t.st;for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},a.prototype.setPoker=function(){"burncard"!==this._status&&"betting"!==this._status||(this._poker=",,,,,",this._blockChainPoker.reset()),",,,,,"!==this._poker&&(this._blockChainPoker.setPoker(this._poker),this._blockChainPoker.setStatus(""!=this._status?this._status:this.vModel.getGameInfo().getStatus()))},a.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},a.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._burnCardPanel.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},a);function a(){var e=i.call(this)||this;return e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=Composite.EventContainer,__extends(r,o),r.prototype.initUI=function(){},r.prototype.setPoker=function(t,e){void 0===e&&(e=!0);for(var i,n=[0,0,0,0,0,0],a=t.split(","),o=a.length,r=0;r<o;r++)""!=a[r]&&"X"!=a[r]&&(i=a[r].split("."),i=parseInt(i[1]),n[r]=i=9<i?0:i);var e=(n[0]+n[2]+n[4])%10,s=(n[1]+n[3]+n[5])%10;this.playerPoint.text=String(e),this.bankerPoint.text=String(s),this.tmpPoker!=t?this.tmpPoker=t:""!=t&&(e<s?this.setWinLight("banker"):s<e?this.setWinLight("player"):this.setWinLight("tie"))},r.prototype.setStatus=function(t){var e;null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),"waiting"==t&&((t=Number(this.playerPoint.text))<(e=Number(this.bankerPoint.text))?this.setWinLight("banker"):e<t?this.setWinLight("player"):this.setWinLight("tie"))},r.prototype.setWinLight=function(t){var e=this;TweenMax.delayedCall(.2,function(){"banker"==t&&null!=e.bankerWin?e.bankerWin.visible=!0:"player"==t&&null!=e.playerWin?e.playerWin.visible=!0:"tie"==t&&(e.bankerWin.visible=!1,e.playerWin.visible=!1)})},r.prototype.reset=function(){null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),null!=this.playerPoint&&(this.playerPoint.text=""),null!=this.bankerPoint&&(this.bankerPoint.text="")};var o,t=r;function r(t,e){var i=o.call(this)||this;i.tmpPoker="",i.pokerMcArr=[];for(var n=0;n<6;n++)i.pokerMcArr[n]=new ShareUI.bcPokerUI(t,e);return i.initUI(),i}__extends(c,h=t),c.prototype.initUI=function(){var i=this,t=(this.bankerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacBWin0000")),this.bankerWin.x=234,this.addChild(this.bankerWin),this.playerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacPWin0000")),this.bankerWin.width=this.playerWin.width=192,this.playerWin.x=44,this.bankerWin.y=this.playerWin.y=48,this.addChild(this.playerWin),this.bankerWin.visible=this.playerWin.visible=!1,PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(t.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBankerTxt_"+IPL.UrlParameter.lang,""),this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang));e.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerPlayerTxt_"+IPL.UrlParameter.lang,""),this.addChild(e),this._pokerStrArr=[];for(var n=0;n<6;n++){this._pokerStrArr[n]="";var a=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_PokerBG"),a=(a.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBG","p"+String(n+1)),this.pokerMcArr[n].position=a.position,this.addChild(a),n+1==5?(this.pokerMcArr[n].rotation=a.rotation=Math.PI/180*-90,this.pokerMcArr[n].y=a.y=a.y+a.width):n+1==6&&(this.pokerMcArr[n].rotation=a.rotation=Math.PI/180*90,this.pokerMcArr[n].y=a.y,this.pokerMcArr[n].x=a.x=a.x+a.height),this.addChild(this.pokerMcArr[n]),this.pokerMcArr[n].setPokerSize(54,85),this.pokerMcArr[n].initListener(),this.pokerMcArr[n].getChildAt(0));a.x=.5*a.width,a.anchor.x=.5,a.y=.5*a.height,a.anchor.y=.5,this.addChild(this.pokerMcArr[n]),this.pokerMcArr[n].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)})}for(var o={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"},r=(this.bankerPoint=new s("",o),this.bankerPoint.x=t.position.x+t.texture.width+20,this.bankerPoint.y=84,this.addChild(this.bankerPoint),this.playerPoint=new s("",o),this.playerPoint.x=e.position.x+e.texture.width+20,this.playerPoint.y=84,this.addChild(this.playerPoint),this._arrCardId=[],[137,274,196,332,65,405]),n=0;n<6;n++)this._arrCardId[n]=new s("",{fill:16772830,fontSize:16}),this._arrCardId[n].anchor.x=.5,this._arrCardId[n].x=r[n],this._arrCardId[n].y=206,this.addChild(this._arrCardId[n]);this._redPanel=new BlockChainShare.RedPanel,this._redPanel.x=14,this._redPanel.y=48,this.addChild(this._redPanel),this._redPanel.alpha=0,this.reset()},c.prototype.setPoker=function(t){h.prototype.setPoker.call(this,t);for(var e=t.split(","),i=0;i<e.length;i++)""!=e[i]&&"X"!=e[i]&&this._pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&(this.showPokerAnimate(this.pokerMcArr[i],e[i],4<=i?this._arrCardId[i]:""),5===i&&""===e[i-1]&&(this._arrCardId[i].text=this._arrCardId[i-1].text),this._numRed)&&Number(this._arrCardId[i].text)>=this._numRed&&(this._redPanel.show(),this._numRed=0);this._pokerStrArr=t.split(",")},c.prototype.showPokerAnimate=function(t,e,i){var n=t.getChildAt(0);i&&(t.visible=!0,t.interactive=!0,TweenMax.fromTo(t,.5,{alpha:0},{alpha:1})),TweenMax.fromTo(n,.2,{width:54,height:85},{width:0,height:130}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=0,n.height=90,t.setPoker(e),TweenMax.fromTo(n,.2,{width:0,height:90},{width:54,height:85}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=54,n.height=85,i&&(i.visible=!0)})})},c.prototype.setRedNum=function(t){this._numRed=t},c.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t)){for(var e=0;e<6;e++){var i=t+e,n="";i<10?n="00":i<100&&(n="0"),this._arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i),4<=e&&(this._arrCardId[e].visible=!1)}this._numRed&&t+3>=this._numRed&&(this._redPanel.show(),this._numRed=0)}else for(e=0;e<6;e++)this._arrCardId[e].text=""},c.prototype.newGameAnimate=function(){this.reset();for(var t=0;t<4;t++)TweenMax.fromTo(this.pokerMcArr[t],.5,{alpha:0},{alpha:1})},c.prototype.reset=function(){h.prototype.reset.call(this);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this._pokerStrArr&&(this._pokerStrArr[t]=""),t<4?this.pokerMcArr[t].visible=!0:(this._arrCardId[t].visible=!1,this.pokerMcArr[t].alpha=0,this.pokerMcArr[t].interactive=!1)};var h,l=c;function c(t,e){t=h.call(this,t,e=void 0===e?"Multiple_Blockchain_IBtn":e)||this;return t._numRed=0,t}}(BlockchainBacMultiGames=BlockchainBacMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainBacMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainBacMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,a=PIXI.Point,r=PIXI.Text,e=(i=DtfMultiGames.ViewModel,__extends(o,i),o.prototype.openVerPanel=function(t){var e=t.data.id-1;this._verificationPanel.showPanel(t.data.pStr,t.data.id,this.vModel.getHash(e),this.vModel.getSeed(e))},o.prototype.openShoePanel=function(t){this._verificationPanel.visible=!1,this._shoePanel.openPanel()},o.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._burnCardPanel.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},o.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new r(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new r(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.BacShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.VerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},o.prototype.onPlstUpdate=function(t){this._blockChainPoker.setNewCard(t.data.newFirId)},o.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId()),"burncard"!=this._status&&(this._blockChainPoker.visible=!0,this._burnCardPanel.visible=!1,this._burnCardPanel._infoTxt.visible=!1);var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid),this._blockChainPoker.setRedNum(e.pid)},o.prototype.onBlockChainUpdate=function(t){var t=t.data,e=t.pk.split(","),i=t.cards.split(","),n=t.seeds.split(",");"burncard"===t.st?(this._blockChainPoker.visible=!1,"X,"===t.pk?(this._shoePanel.reset(),this._blockChainPoker.reset(),this._burnCardPanel.reset()):this._burnCardPanel.runAnimate(1,e[0],t.cNum),this._burnCardPanel.visible=!0):"betting"===t.st?(this._burnCardPanel.visible=!1,this._burnCardPanel.reset(),this._burnCardPanel._infoTxt.visible=!1,this._blockChainPoker.visible=!0,this._blockChainPoker.newGameAnimate()):"dealing"!==t.st&&t.st;for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},o.prototype.setPoker=function(){"burncard"!==this._status&&"betting"!==this._status||(this._poker=",,,,,",this._blockChainPoker.reset()),",,,,,"!==this._poker&&this._blockChainPoker.setPoker(this._poker)},o.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},o.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},o.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},o.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._burnCardPanel.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},o);function o(){var e=i.call(this)||this,t=(e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG"));return e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new c("SimplePoker"),e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e._burnCardPanel=new BlockChainShare.BurnCardPanel,e.blockChainVideoPanel.addChild(e._burnCardPanel),e._burnCardPanel.visible=!1,e._burnCardPanel.removeChild(e._burnCardPanel._infoTxt),e.initBlockChainUI(),e.blockChainVideoPanel.addChild(e._burnCardPanel._infoTxt),e._burnCardPanel._infoTxt.visible=!1,e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;s=Composite.EventContainer,__extends(h,s),h.prototype.initUI=function(){},h.prototype.setPoker=function(t,e){void 0===e&&(e=!0);for(var i,n=[0,0],a=t.split(","),o=a.length,r=0;r<o;r++)""!=a[r]&&"X"!=a[r]&&(i=a[r].split("."),i=parseInt(i[1]),n[r]=i);0!=n[0]&&(this.dragonPoint.text=String(n[0])),0!=n[1]&&(this.tigerPoint.text=String(n[1])),null!=this.dragonTxt&&(this.dragonTxt.text=IPL.DictManager.getDict("DTF_DRAGON")),null!=this.tigerTxt&&(this.tigerTxt.text=IPL.DictManager.getDict("DTF_TIGER")),""!=a[1]&&this.setWinLight()},h.prototype.setWinLight=function(){var t=this;TweenMax.delayedCall(.2,function(){parseInt(t.dragonPoint.text)>parseInt(t.tigerPoint.text)&&null!=t.dragonWin?t.dragonWin.visible=!0:parseInt(t.dragonPoint.text)<parseInt(t.tigerPoint.text)&&null!=t.tigerWin&&(t.tigerWin.visible=!0)})},h.prototype.reset=function(){null!=this.dragonPoint&&(this.dragonPoint.text=""),null!=this.tigerPoint&&(this.tigerPoint.text=""),null!=this.dragonWin&&(this.dragonWin.visible=!1),null!=this.tigerWin&&(this.tigerWin.visible=!1);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back")};var s,t=h;function h(t,e){var i=s.call(this)||this;return i.tmpPoker="",i.dragonPoker=new ShareUI.bcPokerUI(t,e),i.tigerPoker=new ShareUI.bcPokerUI(t,e),i.pokerMcArr=[i.dragonPoker,i.tigerPoker],i}__extends(u,l=t),u.prototype.initAnimate=function(){for(var i=this,n=(this._arrPokerAnimate=[],this),t=0;t<this.pokerMcArr.length;t++)!function(t){var e=n.pokerMcArr[t].getChildAt(0);n._arrPokerAnimate[t]=new TimelineMax({paused:!0}),n._arrPokerAnimate[t].data={pStr:"back"},n._arrPokerAnimate[t].add(TweenMax.fromTo(e,.2,{width:54,height:85},{width:0,height:90,onComplete:function(){i.pokerMcArr[t].setPoker(i._arrPokerAnimate[t].data.pStr)}})),n._arrPokerAnimate[t].add(TweenMax.fromTo(e,.2,{width:0,height:90},{width:54,height:85}))}(t)},u.prototype.initUI=function(){for(var i=this,t=(this.tigerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_DTFTWin0000")),this.tigerWin.x=426,this.tigerWin.width=-192,this.addChild(this.tigerWin),this.dragonWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacBWin0000")),this.dragonWin.width=-192,this.dragonWin.x=237,this.dragonWin.y=this.tigerWin.y=48,this.addChild(this.dragonWin),this.dragonWin.visible=this.tigerWin.visible=!1,{fontFamily:"微軟正黑體",fontSize:"20px",fill:"#ffffff"}),e=(this.dragonTxt=new r(IPL.DictManager.getDict("DTF_DRAGON"),t),this.dragonTxt.x=155,this.dragonTxt.y=85,this.dragonTxt.anchor.set(1,0),this.addChild(this.dragonTxt),this.tigerTxt=new r(IPL.DictManager.getDict("DTF_TIGER"),t),this.tigerTxt.x=300,this.tigerTxt.y=85,this.tigerTxt.anchor.set(1,0),this.addChild(this.tigerTxt),[136,280]),n=0;n<2;n++){var a=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_PokerBG"),a=(a.x=this.pokerMcArr[n].x=e[n],a.y=this.pokerMcArr[n].y=116,this.addChild(a),this.addChild(this.pokerMcArr[n]),this.pokerMcArr[n].setPokerSize(54,85),this.pokerMcArr[n].initListener(),this.pokerMcArr[n].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),this.pokerMcArr[n].getChildAt(0));a.x=.5*a.width,a.anchor.x=.5,a.y=.5*a.height,a.anchor.y=.5}this.tigerPoint=new r("",t={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"}),this.tigerPoint.x=320,this.tigerPoint.y=84,this.addChild(this.tigerPoint),this.dragonPoint=new r("",t),this.dragonPoint.x=176,this.dragonPoint.y=84,this.addChild(this.dragonPoint),this._arrCardId=[];for(var o=[161,308],n=0;n<2;n++)this._arrCardId[n]=new r("",{fill:16772830,fontSize:16}),this._arrCardId[n].anchor.x=.5,this._arrCardId[n].x=o[n],this._arrCardId[n].y=206,this.addChild(this._arrCardId[n]);this._redPanel=new BlockChainShare.RedPanel,this._redPanel.x=14,this._redPanel.y=48,this.addChild(this._redPanel),this._redPanel.alpha=0,this.reset()},u.prototype.showRed=function(){for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].alpha=0,this._arrCardId[t].visible=!1},u.prototype.setRedNum=function(t){this._numRed=t},u.prototype.passNewGame=function(){for(var e=this,t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].alpha=0,this._arrCardId[t].visible=!1;this._NoCard.visible=!0,TweenMax.fromTo(this._NoCard,.5,{alpha:0},{alpha:1}),this._NoCareId.visible=!0,TweenMax.delayedCall(1,function(){TweenMax.fromTo(e._NoCard,.5,{alpha:1},{alpha:0,onComplete:function(){e._NoCard.visible=!1}}),e._NoCareId.visible=!1,TweenMax.delayedCall(1,function(){for(var t=0;t<e.pokerMcArr.length;t++)TweenMax.fromTo(e.pokerMcArr[t],.5,{alpha:0},{alpha:1}),e._arrCardId[t].visible=!0})})},u.prototype.newGameAnimate=function(){var t=this;this.reset(),this._isRed?(this._redPanel.show(),this._numRed=0,this.showRed(),window.setTimeout(function(){t.passNewGame(),t._isRed=!1},2500)):this.passNewGame()},u.prototype.reset=function(){l.prototype.reset.call(this),this._pokerStrArr=["",""];for(var t=0;t<this.pokerMcArr.length;t++){var e=this.pokerMcArr[t].getChildAt(0);e.width=54,e.height=85}},u.prototype.showPokerAnimate=function(t,e){this._arrPokerAnimate[t].data.pStr=e,this._arrPokerAnimate[t].restart()},u.prototype.setPoker=function(t){l.prototype.setPoker.call(this,t);for(var e=t.split(","),i=0;i<e.length;i++)""!=e[i]&&"X"!=e[i]&&this._pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&this.showPokerAnimate(i,e[i]);this._pokerStrArr=t.split(",")},u.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t)){var e="";t<10?e="00":t<100&&(e="0"),this._NoCard.setId(t),this._NoCareId.text=e+String(t)+"";for(var i=0;i<this.pokerMcArr.length;i++){var n=t+i+1,a="";n<10?a="00":n<100&&(a="0"),this._arrCardId[i].text=a+String(n)+"",this.pokerMcArr[i].setId(n)}this._numRed&&t+2>=this._numRed&&(this._isRed=!0)}else{this._NoCareId.text="";for(i=0;i<6;i++)this._arrCardId[i].text=""}};var l,c=u;function u(t,e){var i=l.call(this,t,e=void 0===e?"Multiple_Blockchain_IBtn":e)||this;return i._numRed=0,i._isRed=!1,i.initUI(),i.initAnimate(),i._pokerStrArr=["",""],i._NoCard=new ShareUI.bcPokerUI(t,e),i._NoCard.x=208,i._NoCard.y=116,i.addChild(i._NoCard),i._NoCard.initListener(),i._NoCard.scale=new a(.72,.74),i._NoCard.visible=!1,i._NoCareId=new r("",{fill:16772830,fontSize:16}),i._NoCareId.anchor.x=.5,i._NoCareId.x=236,i._NoCareId.y=208,i._NoCard.alpha=0,i._NoCareId.visible=!1,i.addChild(i._NoCareId),i._NoCard.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),i}}(BlockchainDtfMultiGames=BlockchainDtfMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainDtfMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainDtfMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,s=PIXI.Text,e=(i=InsBacMultiGames.ViewModel,__extends(a,i),a.prototype.openVerPanel=function(t){var e=t.data.id-1;this._verificationPanel.showPanel(t.data.pStr,t.data.id,this.vModel.getHash(e),this.vModel.getSeed(e))},a.prototype.openShoePanel=function(t){this._verificationPanel.visible=!1,this._shoePanel.openPanel()},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._burnCardPanel.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new s(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new s(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.BacShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.VerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.onPlstUpdate=function(t){this._blockChainPoker.setNewCard(t.data.newFirId)},a.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId()),"burncard"!=this._status&&(this._blockChainPoker.visible=!0,this._burnCardPanel.visible=!1,this._burnCardPanel._infoTxt.visible=!1);var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid),this._blockChainPoker.setRedNum(e.pid)},a.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"burncard"===t.st?(this._blockChainPoker.visible=!1,",,,,,"===t.pk?(this._shoePanel.reset(),this._blockChainPoker.reset(),this._burnCardPanel.reset()):this._burnCardPanel.runAnimate(1,e[0],t.cNum),this._burnCardPanel.visible=!0):"betting"===t.st?(this._burnCardPanel.visible=!1,this._burnCardPanel.reset(),this._burnCardPanel._infoTxt.visible=!1,this._blockChainPoker.visible=!0,this._blockChainPoker.newGameAnimate()):"dealing"!==t.st&&t.st;for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},a.prototype.setPoker=function(){"burncard"!==this._status&&"betting"!==this._status||(this._poker=",,,,,",this._blockChainPoker.reset()),",,,,,"!==this._poker&&(this._blockChainPoker.setPoker(this._poker),this._blockChainPoker.setStatus(this._status))},a.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},a.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._burnCardPanel.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},a);function a(){var e=i.call(this)||this,t=(e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG"));return e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new l("SimplePoker"),e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e._burnCardPanel=new BlockChainShare.BurnCardPanel,e.blockChainVideoPanel.addChild(e._burnCardPanel),e._burnCardPanel.visible=!1,e._burnCardPanel.removeChild(e._burnCardPanel._infoTxt),e.initBlockChainUI(),e.blockChainVideoPanel.addChild(e._burnCardPanel._infoTxt),e._burnCardPanel._infoTxt.visible=!1,e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=Composite.EventContainer,__extends(r,o),r.prototype.initUI=function(){},r.prototype.setPoker=function(t,e){void 0===e&&(e=!0);for(var i,n=[0,0,0,0,0,0],a=t.split(","),o=a.length,r=0;r<o;r++)""!=a[r]&&"X"!=a[r]&&(i=a[r].split("."),i=parseInt(i[1]),n[r]=i=9<i?0:i);var e=(n[0]+n[2]+n[4])%10,s=(n[1]+n[3]+n[5])%10;this.playerPoint.text=String(e),this.bankerPoint.text=String(s),this.tmpPoker!=t?this.tmpPoker=t:""!=t&&(e<s?this.setWinLight("banker"):s<e&&this.setWinLight("player"))},r.prototype.setStatus=function(t){var e;null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),"waiting"==t&&((t=Number(this.playerPoint.text))<(e=Number(this.bankerPoint.text))?this.setWinLight("banker"):e<t&&this.setWinLight("player"))},r.prototype.setWinLight=function(t){var e=this;TweenMax.delayedCall(.2,function(){"banker"==t&&null!=e.bankerWin?e.bankerWin.visible=!0:"player"==t&&null!=e.playerWin&&(e.playerWin.visible=!0)})},r.prototype.reset=function(){null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),null!=this.playerPoint&&(this.playerPoint.text=""),null!=this.bankerPoint&&(this.bankerPoint.text="")};var o,t=r;function r(t,e){var i=o.call(this)||this;return i.tmpPoker="",i.poker1=new ShareUI.bcPokerUI(t,e),i.poker2=new ShareUI.bcPokerUI(t,e),i.poker3=new ShareUI.bcPokerUI(t,e),i.poker4=new ShareUI.bcPokerUI(t,e),i.poker5=new ShareUI.bcPokerUI(t,e),i.poker6=new ShareUI.bcPokerUI(t,e),i.pokerMcArr=[i.poker1,i.poker2,i.poker3,i.poker4,i.poker5,i.poker6],i.initUI(),i}__extends(c,h=t),c.prototype.initUI=function(){var i=this,t=(this.bankerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacBWin0000")),this.bankerWin.x=234,this.addChild(this.bankerWin),this.playerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacPWin0000")),this.bankerWin.width=this.playerWin.width=192,this.playerWin.x=44,this.bankerWin.y=this.playerWin.y=48,this.addChild(this.playerWin),this.bankerWin.visible=this.playerWin.visible=!1,PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(t.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBankerTxt_"+IPL.UrlParameter.lang,""),this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang));e.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerPlayerTxt_"+IPL.UrlParameter.lang,""),this.addChild(e);for(var n=0;n<6;n++){var a=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_PokerBG"),a=(a.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBG","p"+String(n+1)),this.pokerMcArr[n].position=a.position,this.addChild(a),n+1==5?(this.pokerMcArr[n].rotation=a.rotation=Math.PI/180*-90,this.pokerMcArr[n].y=a.y=a.y+a.width):n+1==6&&(this.pokerMcArr[n].rotation=a.rotation=Math.PI/180*90,this.pokerMcArr[n].y=a.y,this.pokerMcArr[n].x=a.x=a.x+a.height),this.addChild(this.pokerMcArr[n]),this.pokerMcArr[n].setPokerSize(54,85),this.pokerMcArr[n].initListener(),this.pokerMcArr[n].getChildAt(0));a.x=.5*a.width,a.anchor.x=.5,a.y=.5*a.height,a.anchor.y=.5,this.addChild(this.pokerMcArr[n]),this.pokerMcArr[n].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)})}for(var o={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"},r=(this.bankerPoint=new s("",o),this.bankerPoint.x=t.position.x+t.texture.width+20,this.bankerPoint.y=84,this.addChild(this.bankerPoint),this.playerPoint=new s("",o),this.playerPoint.x=e.position.x+e.texture.width+20,this.playerPoint.y=84,this.addChild(this.playerPoint),this._arrCardId=[],[137,274,196,332,65,405]),n=0;n<6;n++)this._arrCardId[n]=new s("",{fill:16772830,fontSize:16}),this._arrCardId[n].anchor.x=.5,this._arrCardId[n].x=r[n],this._arrCardId[n].y=206,this.addChild(this._arrCardId[n]);this._redPanel=new BlockChainShare.RedPanel,this._redPanel.x=14,this._redPanel.y=48,this.addChild(this._redPanel),this._redPanel.alpha=0,this.reset()},c.prototype.setPoker=function(t){h.prototype.setPoker.call(this,t);for(var e=t.split(","),i=0;i<e.length;i++)""!=e[i]&&"X"!=e[i]&&this._pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&(this.showPokerAnimate(this.pokerMcArr[i],e[i],4<=i?this._arrCardId[i]:""),5===i&&""===e[i-1]&&(this._arrCardId[i].text=this._arrCardId[i-1].text),this._numRed)&&Number(this._arrCardId[i].text)>=this._numRed&&(this._redPanel.show(),this._numRed=0);this._pokerStrArr=t.split(",")},c.prototype.showPokerAnimate=function(t,e,i){var n=t.getChildAt(0);i&&(t.visible=!0,t.interactive=!0,TweenMax.fromTo(t,.5,{alpha:0},{alpha:1})),TweenMax.fromTo(n,.2,{width:54,height:85},{width:0,height:90}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=0,n.height=90,t.setPoker(e),TweenMax.fromTo(n,.2,{width:0,height:90},{width:54,height:85}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=54,n.height=85,i&&(i.visible=!0)})})},c.prototype.setRedNum=function(t){this._numRed=t},c.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t)){for(var e=0;e<6;e++){var i=t+e,n="";i<10?n="00":i<100&&(n="0"),this._arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i),4<=e&&(this._arrCardId[e].visible=!1)}this._numRed&&t+3>=this._numRed&&(this._redPanel.show(),this._numRed=0)}else for(e=0;e<6;e++)this._arrCardId[e].text=""},c.prototype.newGameAnimate=function(){this.reset();for(var t=0;t<4;t++)TweenMax.fromTo(this.pokerMcArr[t],.5,{alpha:0},{alpha:1})},c.prototype.reset=function(){h.prototype.reset.call(this);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this._pokerStrArr&&(this._pokerStrArr[t]=""),t<4?this.pokerMcArr[t].visible=!0:(this._arrCardId[t].visible=!1,this.pokerMcArr[t].alpha=0,this.pokerMcArr[t].interactive=!1)};var h,l=c;function c(t,e){t=h.call(this,t,e=void 0===e?"Multiple_Blockchain_IBtn":e)||this;return t._numRed=0,t._pokerStrArr=["","","","","","","","","","","","","","","","","","","","",""],t}}(BlockchainInsBacMultiGames=BlockchainInsBacMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainInsBacMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainInsBacMain=i}(MultiGames=MultiGames||{}),!function(t){e=RouShare.PokerPanel,__extends(n,e),n.prototype.initUI=function(){},n.prototype.initAnimate=function(){var t=this;this._BCiconAnimate=new TimelineMax({repeat:-1,paused:!0,onUpdate:function(){t._BCicon.scale.x<0?t._BCicon.tint=7105644:t._BCicon.tint=16777215}}),this._BCiconAnimate.fromTo(this._BCicon.scale,.8,{x:1},{x:-1}),this._BCiconAnimate.fromTo(this._BCicon.scale,.8,{x:-1},{x:1}),this._redAnimate=TweenMax.fromTo(this._arrGroupRed,.7,{alpha:0},{alpha:1,repeat:-1,overwrite:1,yoyo:!0,paused:!0}),this._blackAnimate=TweenMax.fromTo(this._arrGroupBlack,.7,{alpha:0},{alpha:1,repeat:-1,overwrite:1,yoyo:!0,delay:.7,paused:!0})},n.prototype.showRunAnimate=function(e){var i=this;this._timeoutStart[this._numNow]?(this._timeoutStart[this._numNow].delay(e),this._timeoutStart[this._numNow].restart(!0)):this._timeoutStart[this._numNow]=TweenMax.to(this._arriconBG[this._numNow],0,{delay:e,onStart:function(){i._arriconBG[i._numNow].alpha=1},onComplete:function(){var t;i._txtNum.text=i._arriconBG[i._numNow].name,888!=i._numWin&&(Number(i._arriconBG[i._numNow].name)===i._arrNum[i._slow]&&(i._change=-50),Number(i._arriconBG[i._numNow].name)===i._numWin)?i.showEnd(0!=i._numWin):(t=i._numNow,i._timeoutEnd[t]?(i._timeoutEnd[t].delay(e),i._timeoutEnd[t].restart(!0)):i._timeoutEnd[t]=TweenMax.fromTo(i._arriconBG[t],i._tail,{alpha:1},{alpha:0,delay:e}),i._numNow++,37<=i._numNow&&(i._numNow=0),0!=i._change&&(i._speed=i._speed-.001*i._change,i._speed<.015)&&(i._speed=.015),i.showRunAnimate(i._speed))}})},n.prototype.showEnd=function(t,e){void 0===e&&(e=!1),this.lightAnimate(!1),this._timeoutStart[this._numNow]&&this._timeoutStart[this._numNow].pause();var i="B"==(i=this.getColordStr(Number(this._arriconBG[this._numNow].name)))?"0xFFFFFF":"G"==i?"0x00FF00":"0xFF0000";if(this._txtNum.style.fill=i,this._arriconBG[this._numNow].alpha=1,this._BCicon.visible=!1,this._txtNum.scale.x=1,this._txtNum.visible=!0,t)for(var n=0;n<3;n++)""!=this._arrTxtDealing[n].text&&this.showDealing(this._arrDealing[n],n,e);i=new H5Event.H5BaseEvent("showResult");this.event.dispatchEvent(i)},n.prototype.showDealing=function(t,e,i){(i=void 0===i?!1:i)?(t.x=265,t.visible=!0):TweenMax.fromTo(t,.5,{x:100},{x:265,delay:.2*e,onStart:function(){t.visible=!0}})},n.prototype.lightAnimate=function(t){(t=void 0===t?!0:t)?(this._redAnimate.restart(!0),this._blackAnimate.restart(!0)):(this._blackAnimate.pause(),this._redAnimate.pause())},n.prototype.resetCellAlpha=function(){for(var t=0;t<this._arriconBG.length;t++)this._timeoutStart[t]&&this._timeoutStart[t].pause(),this._timeoutEnd[t]&&this._timeoutEnd[t].pause(),this._arriconBG[t].alpha=0},n.prototype.animate=function(t,e){var i=this;switch(t){case"betting":this.newGameReset(),this.resetCellAlpha(),this._BCicon.scale.x=1,this._BCicon.visible=!0,this._txtNum.visible=!1,this.lightAnimate(),this._BCiconAnimate.restart();break;case"dealing":this._BCiconAnimate.pause(),this.lightAnimate(!1),TweenMax.fromTo(this._BCicon.scale,.6,{x:this._BCicon.scale.x},{x:0,onComplete:function(){i._txtNum.visible||(i._BCicon.visible=!1,i._txtNum.scale.x=0,i._txtNum.visible=!0,TweenMax.fromTo(i._txtNum.scale,.6,{x:0},{x:1}))}}),this._speed=.06;for(var n=0;n<this._arriconBG.length;n++)this._timeoutStart[n]&&this._timeoutStart[n].pause(),this._timeoutEnd[n]&&this._timeoutEnd[n].pause();this.showRunAnimate(this._speed),this._change=1.2;break;case"ready":break;case"firstPoker":if(this.resetCellAlpha(),e){this._numWin=Number(e);for(n=0;n<this._arriconBG.length;n++)Number(this._arriconBG[n].name)===this._numWin&&(this._numNow=n,this._txtNum.text=this._arriconBG[this._numNow].name,this._txtNum.visible=!0,this._txtNum.scale.x=1,this._BCicon.visible=!1,this.showEnd(0!=this._numWin,!0))}break;case"animatePoker":e&&(this._animatePoker=new TimelineMax,this._animatePoker.add(function(){i.lightAnimate(!1),i._speed=.015,i.showRunAnimate(i._speed),i._change=-1},1.3),this._animatePoker.add(function(){i._numWin=Number(e),i._slow=i._arrNum.indexOf(i._numWin)-5,i._slow<0&&(i._slow=37+i._slow)},3.5))}},n.prototype.newGameReset=function(){this._txtNum.text="",this._change=0,this._txtNum.style.fill="0xFFFFFF",this._numWin=888,this._txtNum.visible=!1;for(var t=0;t<3;t++)this._arrDealing[t].x=0,this._arrDealing[t].visible=!1;for(var e=0;e<=36;e++)this._arriconBG[e].alpha=0;this.ballNumTxt&&(this.ballNumTxt.text=""),this.oddEvenTxt&&(this.oddEvenTxt.text=""),this.dozenTxt&&(this.dozenTxt.text=""),this.bigSmallTxt&&(this.bigSmallTxt.text=""),this._BCiconAnimate.pause(),this._BCicon.scale.x=1,this.lightAnimate(!1),this.resetCellAlpha(),this._animatePoker&&this._animatePoker.clear()},n.prototype.setNewCard=function(t,e){var i;-1!==(t=void 0===t?-1:t)?(i="",(t=t)<10?i="00":t<100&&(i="0"),this._txtCardId.text=i+String(t)+""):this._txtCardId.text="",e&&this.newGameReset()},n.prototype.reset=function(){};var e,i=n;function n(){var t=e.call(this,"")||this;return t._timeoutStart=[],t._timeoutEnd=[],t._numWin=888,t._numNow=0,t._speed=60,t._tail=.6,t._change=0,t.initUI(),t.initAnimate(),t}t.BlockChainRouPoker=i}(BlockChainRouShare=BlockChainRouShare||{}),!function(t){var i,n=PIXI.Container,a=PIXI.Sprite,h=PIXI.Text,o=PIXI.Texture,e=(i=RouMultiGames.ViewModel,__extends(r,i),r.prototype.openVerPanel=function(t){var e=t.data.id-1,i=(this._numVeri=e,t.data.pStr),n="X"!==i&&""!==i&&"back"!==i?this.vModel.getPreSeed(e):this.vModel.getSuf();this._verificationPanel.showPanel(i,t.data.id,this.vModel.getPreHash(e),n,!1)},r.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},r.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("showResult",this._resultEvent)},r.prototype.initBlockChainUI=function(){var t=this,e=(this._quickBetPanel.setisBC(),this._rouStatisticPanel.setisBC(),this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new h(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel(1),this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new d(100),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new l,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()}),this.removeChild(this._quickBetPanel),this.addChild(this._quickBetPanel),this.removeChild(this._rouStatisticPanel),this.addChild(this._rouStatisticPanel)},r.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId(),this._blockChainPoker.visible),this._shoePanel.updateAllData(this.vModel.getPrePoker()),1!=this.vModel.getRd()&&-1!=this.vModel.getNewCardId()||this._blockChainPoker.setNewCard(1,this._blockChainPoker.visible),this._blockChainPoker.visible=!0},r.prototype.onBlockChainUpdate=function(t){t=t.data;t.st&&"betting"!==t.st&&"dealing"!==t.st&&"waiting"!==t.st&&"ready"===t.st&&100<this.vModel.getRd()+1&&this.vModel.clearPreData()},r.prototype.setResult=function(){},r.prototype.setlayoutToolBar=function(){},r.prototype.showResult=function(){var t=parseInt(this.vModel.getGameInfo().getResult()),t=(0==t||-1==t||""==this.vModel.getGameInfo().getResult()||this._result==t&&this.vModel.getGameInfo().getResult()==this._resultStr||(this._result=t,this._resultStr=this.vModel.getGameInfo().getResult(),this._roundCancelOpen=!0),999==this._result&&(this._result=0),new RouLogicShare.RouOverBtnList),e=t.getList(this._result),t=t.getResultList(this._result),e=e.concat(t);this._betAreaPanel.showResult(e),this._numVeri+1==this.vModel.getRd()&&this.vModel.getSeed(this._numVeri)&&this._verificationPanel.updateData(this._numVeri+1,this.vModel.getAllPoker().allPoker[this._numVeri],this.vModel.getSeed(this._numVeri))},r.prototype.init=function(){this._isFir=!0,this._blockChainPoker.newGameReset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},r.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this),this._isFir=!1},r.prototype.setPoker=function(){"X"!=this._poker&&"-"!=this._poker&&(this._blockChainPoker.setPoker(this._poker),this._isFir?this._blockChainPoker.animate("firstPoker",this._poker):this._blockChainPoker.animate("animatePoker",this._poker))},r.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},r.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._blockChainPoker.animate("betting"):"dealing"==this._status?"X"!=this._poker&&"-"!=this._poker||this._blockChainPoker.animate("dealing"):"waiting"!=this._status&&"ready"==this._status&&this._blockChainPoker.animate("ready")},r.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},r.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("showResult",this._resultEvent)},r);function r(){var e=i.call(this)||this,t=(e._isFir=!0,e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_RouBG"));return e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new v,e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._resultEvent=function(t){e.showResult()},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;s=BlockChainShare.VerificationPanel,__extends(c,s),c.prototype.initPoker=function(){this._poker=new _("Multiple_Blockchain"),this._poker.x=160,this._poker.y=12,this._poker.setPokerSize(52,82,24),this._conContent.addChild(this._poker)},c.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_RESULT_SN"),IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new BlockChainShare.Panel),n=(i.initPanelUI(390,200),i.x=6,new h(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},c.prototype.initVerifiUI=function(){s.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t)},c.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),this._poker.setPoker(t="X"==t?"back":t),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a="";e<10?a="00":e<100&&(a="0"),this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)};var s,l=c;function c(){return s.call(this)||this}u=BlockChainShare.Panel,__extends(p,u),p.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("RESULT_HISTORY"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},p.prototype.initShoePokerUI=function(t){for(var i=this,n=new PIXI.Container,a=this,e=0;e<t;e++)!function(t){a._conCell[t]=new PIXI.Container;var e=new h((t+1<100?t+1<10?"00":"0":"")+String(t+1),{fontFamily:"Arial",fontSize:15,fill:16777215});e.x=22,e.y=71,e.anchor.x=.5,a._conCell[t].addChild(e),a._conCell[t].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Select"),a._conCell[t].select.x=-6,a._conCell[t].select.y=-6,a._conCell[t].addChild(a._conCell[t].select),a._conCell[t].select.visible=!1,a._conCell[t].x=15+t%7*50,a._conCell[t].y=10+90*Math.floor(t/7),n.addChild(a._conCell[t]),a._arrPokerUI[t]=new _("Multiple_Blockchain","Multiple_Blockchain_IBtn"),a._arrPokerUI[t].initListener(),a._arrPokerUI[t].setPokerSize(44,70),a._arrPokerUI[t].setPoker("back"),a._arrPokerUI[t].setId(t+1),a._conCell[t].addChild(a._arrPokerUI[t]),a._arrPokerUI[t].on("mouseover",function(){i._conCell[t].select.visible=!0}),a._arrPokerUI[t].on("mouseout",function(){i._conCell[t].select.visible=!1}),a._arrPokerUI[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)})}(e);this.scrollBar.updateScrollBar(n)},p.prototype.updateAllData=function(t){this.reset();for(var e=0;e<this._arrPokerUI.length;e++)e>=t.length?(this._arrPokerUI[e].setPoker("back"),this._arrPokerUI[e].alpha=.5,this._arrPokerUI[e].interactive=!1,this._conCell[e].select.visible=!1,this._arrPokerUI[e].setIconVisible(!1)):""!==t[e]&&this._arrPokerUI[e].setPoker(t[e])},p.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._arrPokerUI[t].alpha=1,this._arrPokerUI[t].interactive=!0,this._arrPokerUI[t].setIconVisible(!0)};var u,d=p;function p(t){void 0===t&&(t=52);var e=u.call(this)||this;return e._arrPokerUI=[],e._conCell=[],e.initPanelUI(),e.init(),e.initShoePokerUI(t),e}f=PIXI.Container,__extends(m,f),m.prototype.initListener=function(){var e=this;this.interactive=!0,DeviceAndEnvironment.Device.isMobile()?(this._icon&&this.on("touchstart",function(t){e.onButtonDown(t)}),this.on("touchendoutside",function(t){e.onButtonUp(t)}),this.on("tap",function(t){e.onButtonUp(t)})):(this.buttonMode=!0,this._icon&&this.on("mousedown",function(t){e.onButtonDown(t)}),this.on("mouseupoutside",function(t){e.onButtonUp(t)}),this.on("click",function(t){e.onButtonUp(t)}))},m.prototype.onButtonUp=function(t){this._icon&&(this._icon.texture=this._iconUp),"tap"!==t.type&&"click"!==t.type||((t={}).pStr=this._pokerStr,t.id=this._id,this.mEvt.emit("onTap",t))},m.prototype.onButtonDown=function(t){this._icon&&(this._icon.texture=this._iconDown)},m.prototype.setIconVisible=function(t){this._icon.visible=t},m.prototype.setPokerSize=function(t,e,i){this.pokerSpr.width=t,this.pokerSpr.height=e,this._icon&&(this._icon.y=this.pokerSpr.height),this.txtPoker&&(this.txtPoker.x=this.pokerSpr.width/2,this.txtPoker.y=this.pokerSpr.height/2,i)&&(this.txtPoker.style.fontSize=i)},m.prototype.setIconSize=function(t,e){this._icon.width=t,this._icon.height=e},m.prototype.setPokerAnchor=function(t,e){void 0===e&&(e=0),this.pokerSpr.anchor.x=t=void 0===t?0:t,this.pokerSpr.anchor.y=e,this.pokerSpr.x=this.pokerSpr.width*t,this.pokerSpr.y=this.pokerSpr.height*e},m.prototype.setPoker=function(t){"back"===t?(this._pokerStr=t,this.txtPoker.text="",this.pokerSpr.texture=PIXI.Texture.fromFrame(this.pokerName+"_Gray0000")):(this._pokerStr=t,this.txtPoker.text=t,this.pokerSpr.texture=PIXI.Texture.fromFrame(this.pokerName+"_"+this.getColordStr(Number(t))+"0000"))},m.prototype.setId=function(t){this._id=t},m.prototype.getColordStr=function(t){var e="Black";if(0==t)e="Green";else for(var i=0;i<this.redarr.length;i++)if(t==this.redarr[i]){e="Red";break}return e};var f,_=m;function m(t,e){void 0===e&&(e="");var i=f.call(this)||this;return i.redarr=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],i._pokerStr="",i._id=-1,i.pokerName=t,i.pokerSpr=PIXI.Sprite.fromImage(i.pokerName+"_Gray0000"),i.addChild(i.pokerSpr),""!=e&&(i._iconUp=o.from(e+"0000"),i._iconDown=o.from(e+"0001"),i._icon=new a(i._iconUp),i._icon.anchor.y=1,i._icon.x=0,i._icon.y=i.pokerSpr.height,i.addChild(i._icon)),i.mEvt=new PIXI.utils.EventEmitter,i.txtPoker=new h("12",{fontFamily:"微軟正黑體",fontSize:16,fill:16777215}),i.txtPoker.anchor.set(.5),i.txtPoker.x=i.pokerSpr.width/2,i.txtPoker.y=i.pokerSpr.height/2,i.addChild(i.txtPoker),i}g=BlockChainRouShare.BlockChainRouPoker,__extends(y,g),y.prototype.initUI=function(){var n=this;this._arriconBG=[],this._arrGroupRed=[],this._arrGroupBlack=[],this._arrDealing=[],this._arrTxtDealing=[],this._arrNum=[];for(var t=0;t<=36;t++)this._arriconBG[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_ScrollingText",t),this._arriconBG[t].name=PIXILayoutTool.DisplayObject.getDisplayObjectInfo("Multiple_Blockchain_ScrollingText",t).targetName.substring(1),this._arrNum[t]=Number(this._arriconBG[t].name),this.addChild(this._arriconBG[t]),(t%2==(this._arriconBG[t].alpha=0)?this._arrGroupRed:this._arrGroupBlack).push(this._arriconBG[t]);this._arrNum.splice(0,0,0);for(t=0;t<=36;t++){var e=new PIXI.Sprite;e.texture=t<10?PIXI.Texture.fromFrame("Multiple_Blockchain_num000"+t):PIXI.Texture.fromFrame("Multiple_Blockchain_num00"+t),e.anchor.set(.5),e.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ScrollingText","b"+String(t)),e.x=e.x+14,e.y=e.y+12,this.addChild(e)}this._txtNum=new PIXI.Text(" ",{fontSize:45,fill:16777215,fontWeight:"bold"}),this._txtNum.anchor.set(.5),this._txtNum.y=150,this._txtNum.x=235,this.addChild(this._txtNum),this._txtNum.visible=!1,this._BCicon=PIXI.Sprite.fromImage("Multiple_Blockchain_BICON10000"),this._BCicon.anchor.set(.5),this._BCicon.y=150,this._BCicon.x=235,this.addChild(this._BCicon);var i=new PIXI.Graphics;i.beginFill(8020528),i.drawRect(265,105,124,100),i.endFill(),this.addChild(i);for(t=0;t<3;t++)this._arrDealing[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Dealing",t),this.addChild(this._arrDealing[t]),this._arrDealing[t].x=0,this._arrDealing[t].mask=i,this._arrTxtDealing[t]=new PIXI.Text("",{fontFamily:"微軟正黑體",fontSize:18,fill:0}),"cn"==IPL.UrlParameter.lang||"tw"==IPL.UrlParameter.lang?this._arrTxtDealing[t].x=25:this._arrTxtDealing[t].x=18,this._arrTxtDealing[t].y=1,this._arrDealing[t].addChild(this._arrTxtDealing[t]);this.oddEvenTxt=this._arrTxtDealing[0],this.dozenTxt=this._arrTxtDealing[1],this.bigSmallTxt=this._arrTxtDealing[2];var a=new ShareUI.Button("Multiple_Blockchain_RouIBtn");a.x=68,a.y=189,this.addChild(a),a.setSensor(332,110,138,-43),a.on("click",function(t){var e={},i=(e.pStr=888==n._numWin?"back":n._numWin,e.id=Number(n._txtCardId.text),new H5Event.H5BaseEvent("openVerification"));i.data=e,n.event.dispatchEvent(i)}),this._txtCardId=new h("012",{fill:16772830,fontSize:14}),this._txtCardId.anchor.x=.5,this._txtCardId.x=103,this._txtCardId.y=191,this.addChild(this._txtCardId)};var g,v=y;function y(){return g.call(this)||this}}(BlockchainRouMultiGames=BlockchainRouMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainRouMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainRouMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,s=PIXI.Text,e=(i=ThreeCardMultiGames.ViewModel,__extends(a,i),a.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},a.prototype.openVerPanel=function(t){var e=t.data.id-1,i="new"===t.status?this.vModel.getHash(e):this.vModel.getPreHash(e),e="new"===t.status?this.vModel.getSeed(e):this.vModel.getPreSeed(e);this._verificationPanel.showPanel(t.data.pStr,t.data.id,i,e,t.status)},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this.blockChainVideoPanel=new n,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),e=(this.blockChainVideoPanel.addChild(e),this._blockChainPoker=new l("SimplePoker"),this._blockChainPoker.interactive=!0,this.blockChainVideoPanel.addChild(this._blockChainPoker),this._blockChainPoker.setNewCard(1),this._blockChainPoker.visible=!1,this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new s(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new s(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.NoRedShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.ThrCardVerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()}),new s(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}));e.anchor.set(.5),e.x=235,e.y=185,this._infoTxt=new PIXI.Graphics,this._infoTxt.beginFill(0,.7),this._infoTxt.drawRect(e.x-e.width/2-20,e.y-e.height/2-5,e.width+40,e.height+10),this._infoTxt.endFill(),this._infoTxt.addChild(e),this.blockChainVideoPanel.addChild(this._infoTxt)},a.prototype.onPlstUpdate=function(t){},a.prototype.onGetHash=function(t){"ready"!=this._status?(this._infoTxt.alpha=0,this._blockChainPoker.visible=!0,this._blockChainPoker.alpha=1):(this._infoTxt.alpha=1,this._blockChainPoker.visible=!1,this._blockChainPoker.alpha=0,this._blockChainPoker.reset());var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid)},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t)},a.prototype.setResult=function(){var t=(new ThreeCardLogicShare.ThreeCardResultArea).getResultArea(this._result),t=(this._betAreaPanel.showResult(t),this.vModel.getGameInfo().getCardsResult());this._blockChainPoker.setTypeTxt(t)},a.prototype.onBlockChainUpdate=function(t){var e=this,t=t.data,i=""!==t.pk?t.pk.split(","):[],n=""!==t.cards?t.cards.split(","):[],a=""!==t.seeds?t.seeds.split(","):[];"betting"===t.st?(this._blockChainPoker.visible=!0,TweenMax.fromTo(this._infoTxt,.3,{alpha:1},{alpha:0}),TweenMax.delayedCall(.3,function(){TweenMax.fromTo(e._blockChainPoker,.3,{alpha:0},{alpha:1})})):"dealing"!==t.st&&"waiting"!==t.st&&"ready"===t.st&&1===this._blockChainPoker.alpha&&(TweenMax.fromTo(this._blockChainPoker,.3,{alpha:1},{alpha:0,onComplete:function(){e._blockChainPoker.visible=!1,e._blockChainPoker.reset()}}),TweenMax.delayedCall(.3,function(){TweenMax.fromTo(e._infoTxt,.3,{alpha:0},{alpha:1})}));for(var o=0;o<n.length;o++)""!==n[o]&&(this._shoePanel.updateData(n[o],i[o]),this._verificationPanel.updateData(Number(n[o]),i[o],a[o]))},a.prototype.setPoker=function(){",,,,,"!==this._poker&&this._blockChainPoker.setPoker(this._poker)},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},a);function a(){var e=i.call(this)||this;return e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=Composite.EventContainer,__extends(r,o),r.prototype.showResult=function(t,e){var i=t.split(","),n=[],a=[];if(""!=t&&",,,,,"!=t&&6==i.length)for(var o=0;o<3;o++)""!=i[2*o]&&null!=i[2*o]&&n.push(i[2*o]),""!=i[2*o+1]&&null!=i[2*o+1]&&a.push(i[2*o+1])},r.prototype.setTypeTxt=function(t){if(null!=t&&",,"!=t){for(var e=t.split(","),i=0;i<2;i++){var n=e[i].split("-"),a=n[0],n=n[1],o="",o=IPL.DictManager.getDict(this.pokerTypeStr[Number(a)]);"N"!=n&&(o+=" "+n),0==i?this.dragonTxt.text=o:this.phoenixTxt.text=o}this.lightResult(e[2])}else this.dragonTxt.text=" ",this.phoenixTxt.text=" "},r.prototype.lightResult=function(t){this.dragonWin.visible=!0,this.phoenixWin.visible=!0,this.dragonWinBG.visible=!1,this.phoenixWinBG.visible=!1,"3"==t?(this.phoenixWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Tie0000"),this.dragonWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Tie0000")):"1"==t?(this.dragonWinBG.visible=!0,this.phoenixWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Phoenix0000"),this.dragonWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Dragon0000")):"2"==t&&(this.phoenixWinBG.visible=!0,this.phoenixWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Phoenix0000"),this.dragonWin.texture=PIXI.Texture.fromFrame(this.resultTextureName+"Dragon0000"))},r.prototype.reset=function(){this.dragonTxt.text=" ",this.phoenixTxt.text=" ",this.dragonWin.visible=!1,this.phoenixWin.visible=!1,this.dragonWinBG.visible=!1,this.phoenixWinBG.visible=!1};var o,t=r;function r(t,e,i){var n=o.call(this)||this;n.pokerTypeStr=[null,"THREE_TRIPLE_KILL","THREE_HIGH_CARD","THREE_PAIR","THREE_STRAIGHT","THREE_FLUSH","THREE_SFLISH","THREE_TRIPLE"],n.dragonPoker=[],n.phoenixPoker=[];for(var a=0;a<3;a++)n.dragonPoker[a]=new ShareUI.bcPokerUI(t,e),n.phoenixPoker[a]=new ShareUI.bcPokerUI(t,e);return n.resultTextureName=i,n}__extends(c,h=t),c.prototype.initUI=function(){var i=this;this.pokerMcArr=[];for(var t=0;t<3;t++)this.pokerMcArr.push(this.dragonPoker[t]),this.pokerMcArr.push(this.phoenixPoker[t]);var e={fontFamily:"微軟正黑體",fontSize:"16px",fill:"#ffffff"};this.phoenixWinBG=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacBWin0000")),this.dragonWinBG=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacPWin0000")),this.phoenixWinBG.x=234,this.dragonWinBG.width=this.phoenixWinBG.width=192,this.dragonWinBG.x=44,this.dragonWinBG.y=this.phoenixWinBG.y=48,this.addChild(this.phoenixWinBG),this.addChild(this.dragonWinBG),this.dragonWinBG.visible=this.phoenixWinBG.visible=!1;for(t=0;t<3;t++)this.addChild(this.dragonPoker[t]),this.addChild(this.phoenixPoker[t]),this.dragonPoker[t].y=this.phoenixPoker[t].y=115,this.dragonPoker[t].x=58*t+52,this.phoenixPoker[t].x=58*t+246;for(t=0;t<this.pokerMcArr.length;t++){this.pokerMcArr[t].setPokerSize(54,85);var n=this.pokerMcArr[t].getChildAt(0);n.x=.5*n.width,n.anchor.x=.5,n.y=.5*n.height,n.anchor.y=.5,this.pokerMcArr[t].initListener(),this.pokerMcArr[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,i.event.dispatchEvent(e)})}this.dragonWin=PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_WinDragon"),this.dragonWin.x=52,this.dragonWin.y=182,this.dragonWin.width=171,this.addChild(this.dragonWin),this.phoenixWin=PIXILayoutTool.DisplayObject.createImage("Multiple_3Card_WinPhoenix"),this.phoenixWin.y=182,this.phoenixWin.x=246,this.phoenixWin.width=171,this.addChild(this.phoenixWin);for(var a=new s(IPL.DictManager.getDict("THREE_DRAGON"),{fontSize:19,fill:16772830,fontWeight:"400"}),a=(a.anchor.set(.5),a.position.set(139,98),this.addChild(a),new s(IPL.DictManager.getDict("THREE_PHOENIX"),{fontSize:19,fill:16772830,fontWeight:"400"})),o=(a.anchor.set(.5),a.position.set(331,98),this.addChild(a),this.dragonTxt=new s(" ",e),this.dragonTxt.x=137,this.dragonTxt.anchor.set(.5),this.addChild(this.dragonTxt),this.phoenixTxt=new s(" ",e),this.phoenixTxt.x=331,this.phoenixTxt.anchor.set(.5),this.dragonTxt.y=this.phoenixTxt.y=192,this.addChild(this.phoenixTxt),this._arrCardId=[],[79,273,137,331,195,388]),r=0;r<6;r++)this._arrCardId[r]=new s("012",{fill:16772830,fontSize:16}),this._arrCardId[r].anchor.x=.5,this._arrCardId[r].x=o[r],this._arrCardId[r].y=206,this.addChild(this._arrCardId[r]);this.reset()},c.prototype.initAnimate=function(){for(var i=this,n=(this._arrPokerAnimate=[],this),t=0;t<this.pokerMcArr.length;t++)!function(t){var e=n.pokerMcArr[t].getChildAt(0);n._arrPokerAnimate[t]=new TimelineMax({paused:!0}),n._arrPokerAnimate[t].data={pStr:"back"},n._arrPokerAnimate[t].add(TweenMax.fromTo(e,.2,{width:54,height:85},{width:0,height:90,onComplete:function(){i.pokerMcArr[t].setPoker(i._arrPokerAnimate[t].data.pStr)}})),n._arrPokerAnimate[t].add(TweenMax.fromTo(e,.2,{width:0,height:90},{width:54,height:85}))}(t)},c.prototype.setPoker=function(t){for(var e,i=t.split(","),n=0;n<i.length;n++)""!=i[n]&&"X"!=i[n]&&(e=i[n],""===this._arrPokerPoint[n]?this.showPokerAnimate(n,e):this.pokerMcArr[n].setPoker(e),this._arrPokerPoint[n]=e)},c.prototype.showPokerAnimate=function(t,e){this._arrPokerAnimate[t].data.pStr=e,this._arrPokerAnimate[t].restart()},c.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t))for(var e=0;e<this.pokerMcArr.length;e++){var i=t+e,n="";i<10?n="0":i<100&&(n=""),this._arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i)}else for(e=0;e<this._arrCardId.length;e++)this._arrCardId[e].text=""},c.prototype.reset=function(){h.prototype.reset.call(this);for(var t=0;t<this.pokerMcArr.length;t++){this.pokerMcArr[t].setPoker("back");var e=this.pokerMcArr[t].getChildAt(0);e.width=54,e.height=85,this.pokerMcArr[t].alpha=1,this._arrPokerPoint[t]=""}};var h,l=c;function c(t,e){t=h.call(this,t,e=void 0===e?"Multiple_Blockchain_IBtn":e,"Multiple_3Card_Win")||this;return t._arrPokerPoint=["","","","","",""],t.initUI(),t.initAnimate(),t}}(BlockchainThreeCardMultiGames=BlockchainThreeCardMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainThreeCardMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainThreeCardMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,l=PIXI.Point,c=PIXI.Text,e=(i=BullMultiGames.ViewModel,__extends(a,i),a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new c(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new c(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.NoRedShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.ThrCardVerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.initBlockChainAnimate=function(){var t=this;this._readyAnimate=new TimelineMax({paused:!0}),this._readyAnimate.fromTo(this._blockChainPoker,.2,{alpha:1},{alpha:0,onStart:function(){t._blockChainPoker.visible=!0},onComplete:function(){t._blockChainPoker.visible=!1}}).fromTo(this._infoTxt,.2,{alpha:0},{alpha:1})},a.prototype.openVerPanel=function(t){var e=t.data.id-1,i="new"===t.status?this.vModel.getHash(e):this.vModel.getPreHash(e),n="new"===t.status?this.vModel.getSeed(e):this.vModel.getPreSeed(e),e=""===this.vModel.getAllPoker().allPoker[e]?"back":this.vModel.getAllPoker().allPoker[e];this._verificationPanel.showPanel(e,t.data.id,i,n,t.status)},a.prototype.openShoePanel=function(t){this._verificationPanel.visible=!1,this._shoePanel.openPanel()},a.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,this._isShowhead=!1,i.prototype.init.call(this)},a.prototype.setPoker=function(){"X"!=this._poker.split(",")[0]&&this._poker.split(",")[0]&&this._isShowhead&&(this._isShowhead=!1,this._readyAnimate.seek(.4),this._readyAnimate.reverse(),this._blockChainPoker.visible=!0,this._blockChainPoker.dealPoker(this._poker.split(",")[0])),"X,,,,,,,,,,,,,,,,,,,,"===this._poker||",,,,,,,,,,,,,,,,,,,,"===this._poker?this._isShowhead=!0:(this._blockChainPoker.setPoker(this._poker),this._headerPoker.setPoker(this._poker.split(",")[0]))},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("showHead",this._headEvent)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._readyAnimate.pause(),this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("showHead",this._headEvent)},a.prototype.onGetHash=function(t){"X"!=this._poker.split(",")[0]&&this._poker.split(",")[0]?(this._infoTxt.alpha=0,this._blockChainPoker.visible=!0,this._blockChainPoker.alpha=1,this._headerPoker.visible=!0):(this._infoTxt.alpha=1,this._blockChainPoker.visible=!1,this._blockChainPoker.alpha=0,this._headerPoker.visible=!1,this._blockChainPoker.reset());var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid)},a.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"rollDice"==t.st?this._headerPoker.visible=!1:"betting"!=t.st&&"ready"===t.st&&1===this._blockChainPoker.alpha&&(this._headerPoker.visible=!1,this._blockChainPoker.reset(),this._readyAnimate.restart());for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},a);function a(){var e=i.call(this)||this,t=(e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),t=(e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new r("SimplePoker"),e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),new c(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}));return t.anchor.set(.5),t.x=235,t.y=185,e._infoTxt=new PIXI.Graphics,e._infoTxt.beginFill(0,.7),e._infoTxt.drawRect(t.x-t.width/2-20,t.y-t.height/2-5,t.width+40,t.height+10),e._infoTxt.endFill(),e._infoTxt.addChild(t),e.initBlockChainAnimate(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._headEvent=function(t){e._headerPoker.visible=!0},e.blockChainVideoPanel.addChild(e._infoTxt),Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=Composite.EventContainer,__extends(s,o),s.prototype.initUI=function(t,e){var i=this;this.pokerMcArr=[],this.pokerStrArr=[];for(var n=0;n<21;n++){this.pokerMcArr[n]=new ShareUI.bcPokerUI(t,e),this.pokerMcArr[n].setPokerSize(25,40),this.pokerMcArr[n].setIconSize(17,13),this.pokerMcArr[n].initListener(),this.pokerMcArr[n].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,i.event.dispatchEvent(e)}),this.addChild(this.pokerMcArr[n]),this.pokerStrArr[n]="";var a=this.pokerMcArr[n].getChildAt(0);a.x=.5*a.width,a.anchor.x=.5,a.y=.5*a.height,a.anchor.y=.5}this.pokerMcArr[0].x=127,this.pokerMcArr[0].y=58;for(n=0;n<5;n++)this.pokerMcArr[n+1].x=170+27*n,this.pokerMcArr[n+1].y=78,this.pokerMcArr[n+6].x=18+27*n,this.pokerMcArr[n+6].y=140,this.pokerMcArr[n+11].x=170+27*n,this.pokerMcArr[n+11].y=198,this.pokerMcArr[n+16].x=316+27*n,this.pokerMcArr[n+16].y=140;this.pokerPos=[];for(n=0;n<21;n++)this.pokerPos[n]=new l(this.pokerMcArr[n].x,this.pokerMcArr[n].y);this.titleBG=[],this._playerType=[],this._playerResult=[],this._PokerTypeMode=[],this._playerWin=[];for(var o=["BANKER","1","2","3"],r=[170,18,170,316],s=[57,121,178,121],n=0;n<4;n++){var h=new PIXI.Text(o[n],{fontFamily:"微軟正黑體",fontSize:12,fontWeight:"bolder"});h.x=10,h.y=1,this.titleBG[n]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_TitleBG"),this.titleBG[n].width9=133,this.titleBG[n].addChild(h),this.addChild(this.titleBG[n]),this.titleBG[n].x=r[n],this.titleBG[n].y=s[n],this._playerType[n]=new PIXI.Text("????",{fontFamily:"_sans",fontSize:"12px",fontWeight:"bolder",fill:"#FFFFFF"}),this._playerType[n].anchor.set(.5,0),this._playerType[n].x=68,this._playerResult[n]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BullLose"),this._playerResult[n].width9=134,this.addChild(this._playerResult[n]),this._playerResult[n].x=r[n],this._playerResult[n].y=s[n]+44,this._playerWin[n]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BullWin"),this._playerWin[n].width9=134,this._playerWin[n].x=0,this._playerWin[n].y=0,this._playerResult[n].addChild(this._playerWin[n]),this._playerResult[n].addChild(this._playerType[n]),this._PokerTypeMode[n]=new BullShare.PokerTypeMode}this.arrCardId=[];for(n=0;n<this.pokerMcArr.length;n++)this.arrCardId[n]=new c("12",{fill:16772830,fontSize:10}),this.arrCardId[n].anchor.x=.5,this.arrCardId[n].x=12.5,this.arrCardId[n].y=41,this.pokerMcArr[n].addChild(this.arrCardId[n])},s.prototype.initAnimate=function(){for(var i=this,t=(this.newAnimate=new TimelineMax({paused:!0}),this.newAnimate.data={pStr:"back"},[this.pokerMcArr[1],this.pokerMcArr[6],this.pokerMcArr[11],this.pokerMcArr[16]]),e=new TimelineMax,t=(e.staggerFromTo(t,.5,{alpha:0},{alpha:1,onStart:function(){this.target.visible=!0}},0),TweenMax.to(this.pokerMcArr[0].position,.2,{x:this.pokerPos[0].x,y:this.pokerPos[0].y,onStart:function(){i.arrCardId[0].visible=!0;var t=new H5Event.H5BaseEvent("showHead");i.event.dispatchEvent(t)},onComplete:function(){e.restart()}})),n=TweenMax.to(this.pokerMcArr[0].scale,.2,{x:1,y:1}),a=TweenMax.fromTo(this.titleBG,.5,{alpha:0},{alpha:1}),o=(this.newAnimate.from(this.pokerMcArr[0],.2,{alpha:0},"+=0.6").to(this.pokerMcArr[0],.2,{alpha:1,onStart:function(){i.pokerMcArr[0].visible=!0,i.pokerMcArr[0].setPoker("back")},onComplete:function(){i.showPokerAnimate(0,i.newAnimate.data.pStr)}}).add(new TimelineMax({tweens:[t,n,a]}),"+=1").staggerTo(this.pokerMcArr,.5,{onStart:function(){this.target.visible=!0,this.target.alpha=1},cycle:{x:function(t){return i.pokerPos[t].x},y:function(t){return i.pokerPos[t].y}},onComplete:function(){for(var t=0;t<i.arrCardId.length;t++)i.arrCardId[t].visible=!0}},0),this.arrPokerAnimate=[],this),r=0;r<this.pokerMcArr.length;r++)!function(t){var e=o.pokerMcArr[t].getChildAt(0);o.arrPokerAnimate[t]=new TimelineMax({paused:!0}),o.arrPokerAnimate[t].data={pStr:"back"},o.arrPokerAnimate[t].fromTo(e,.2,{width:25,height:40},{width:0,height:50,onComplete:function(){i.pokerMcArr[t].setPoker(i.arrPokerAnimate[t].data.pStr)}}),o.arrPokerAnimate[t].fromTo(e,.2,{width:0,height:50},{width:25,height:40})}(r)},s.prototype.newGame=function(){this.pokerMcArr[0].scale.set(2),this.pokerMcArr[0].position.set(210,110),this.pokerMcArr[0].alpha=0,this.pokerMcArr[0].setPoker("back"),this.arrCardId[0].visible=!1;for(var t=0;t<4;t++)this.titleBG[t].alpha=0;for(t=0;t<5;t++)this.pokerMcArr[t+1].position=this.pokerPos[1],this.pokerMcArr[t+6].position=this.pokerPos[6],this.pokerMcArr[t+11].position=this.pokerPos[11],this.pokerMcArr[t+16].position=this.pokerPos[16];for(t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].alpha=0,this.pokerMcArr[t].visible=!1,this.arrCardId[t].visible=!1},s.prototype.dealPoker=function(t){this.newGame(),this.newAnimate.data.pStr=t,this.newAnimate.restart()},s.prototype.setPoker=function(t){var e=t.split(",");this.getDealOrder(e[0]),this.newAnimate.isActive()||this.pokerMcArr[0].setPoker(e[0]);for(var i=1;i<this.pokerMcArr.length;i++)""!=e[i]&&"X"!=e[i]&&this.pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&(this.showPokerAnimate(i,e[i]),this.pokerStrArr[i]=e[i],5!=i&&10!=i&&15!=i&&20!=i||this.setResult(i,t))},s.prototype.setResult=function(t,e){e=e.split(","),this._playerResult[t/5-1].visible=!0,e=this._PokerTypeMode[t/5-1].getPokerType(e[t-4],e[t-3],e[t-2],e[t-1],e[t]);this._playerType[t/5-1].text=IPL.DictManager.getDict(e);for(var i=0;i<this._playerResult.length;i++)if(!this._playerResult[i].visible)return;t=this._PokerTypeMode[0].getPokerLevel(),e=this._PokerTypeMode[0].getMaxCard();this.setWinLight(this.getLvWin(t,this._PokerTypeMode[1].getPokerLevel(),e,this._PokerTypeMode[1].getMaxCard()),this.getLvWin(t,this._PokerTypeMode[2].getPokerLevel(),e,this._PokerTypeMode[2].getMaxCard()),this.getLvWin(t,this._PokerTypeMode[3].getPokerLevel(),e,this._PokerTypeMode[3].getMaxCard()))},s.prototype.getMultipleStr=function(t){return"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"("+t.getMultiple(t.getPokerLevel())+IPL.DictManager.getDict("BULL_MULTIPLE")+")":"(X"+t.getMultiple(t.getPokerLevel())+")"},s.prototype.getLvWin=function(t,e,i,n){return!(e<t)&&(t<e||(t==e?!(n<i):void 0))},s.prototype.setWinLight=function(t,e,i){t&&(this._playerWin[1].visible=!0),e&&(this._playerWin[2].visible=!0),i&&(this._playerWin[3].visible=!0)},s.prototype.showPokerAnimate=function(t,e){this.arrPokerAnimate[t].data.pStr=e,this.arrPokerAnimate[t].restart()},s.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t))for(var e=0;e<6;e++){var i=t+e,n="";i<10?n="00":i<100&&(n="0"),this.arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i),4<=e&&(this.arrCardId[e].visible=!1)}else for(e=0;e<this.arrCardId.length;e++)this.arrCardId[e].text=""},s.prototype.getDealOrder=function(t){var e=[];switch(t.split(".")[1]){case"1":case"5":case"9":case"13":e=[0,1,2,3];break;case"2":case"6":case"10":e=[1,2,3,0];break;case"3":case"7":case"11":e=[2,3,0,1];break;case"4":case"8":case"12":e=[3,0,1,2];break;default:e=[0,1,2,3]}for(var i=[],n=0;n<4;n++)for(var a=0;a<5;a++)i.push(1+a+5*e[n]);this.arrCardId[0].text="01",this.pokerMcArr[0].setId(1);for(n=1;n<this.pokerMcArr.length;n++){var o=i[n-1];this.pokerMcArr[o].setId(n+1),this.arrCardId[o].text=(n+1<10?"0":"")+String(n+1)}},s.prototype.reset=function(){this.newAnimate.pause(),this.pokerMcArr[0].scale.set(1);for(var t=0;t<this.pokerMcArr.length;t++){this.arrPokerAnimate[t].pause(),this.pokerMcArr[t].setPoker("back");var e=this.pokerMcArr[t].getChildAt(0);e.width=25,e.height=40,this.pokerMcArr[t].position=this.pokerPos[t],this.pokerMcArr[t].visible=!0,this.pokerMcArr[t].alpha=1,this.pokerStrArr[t]=""}for(t=0;t<this.titleBG.length;t++)this.titleBG[t].alpha=1,this._playerResult[t].visible=!1,this._playerType[t].text="",this._playerWin[t].visible=!1};var o,r=s;function s(t,e){void 0===e&&(e="Multiple_Blockchain_IBtn");var i=o.call(this)||this;return i.initUI(t,e),i.initAnimate(),i.reset(),i}}(BlockChainBullMultiGames=BlockChainBullMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockChainBullMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainBullMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,l=PIXI.Point,c=PIXI.Text,e=(i=TrifaceMultiGames.ViewModel,__extends(a,i),a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new c(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new c(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.NoRedShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.ThrCardVerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.initBlockChainAnimate=function(){var t=this;this._readyAnimate=new TimelineMax({paused:!0}),this._readyAnimate.fromTo(this._blockChainPoker,.2,{alpha:1},{alpha:0,onStart:function(){t._blockChainPoker.visible=!0},onComplete:function(){t._blockChainPoker.visible=!1}}).fromTo(this._infoTxt,.2,{alpha:0},{alpha:1})},a.prototype.openVerPanel=function(t){var e=t.data.id-1,i="new"===t.status?this.vModel.getHash(e):this.vModel.getPreHash(e),n="new"===t.status?this.vModel.getSeed(e):this.vModel.getPreSeed(e),e=""===this.vModel.getAllPoker().allPoker[e]?"back":this.vModel.getAllPoker().allPoker[e];this._verificationPanel.showPanel(e,t.data.id,i,n,t.status)},a.prototype.openShoePanel=function(t){this._verificationPanel.visible=!1,this._shoePanel.openPanel()},a.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,this._isShowhead=!1,i.prototype.init.call(this)},a.prototype.setPoker=function(){"X"!=this._poker.split(",")[0]&&this._poker.split(",")[0]&&this._isShowhead&&(this._isShowhead=!1,this._readyAnimate.seek(.4),this._readyAnimate.reverse(),this._blockChainPoker.visible=!0,this._blockChainPoker.dealPoker(this._poker.split(",")[0])),"X,,,,,,,,,,,,"===this._poker||",,,,,,,,,,,,"===this._poker||""===this._poker?this._isShowhead=!0:(this._blockChainPoker.setPoker(this._poker),this._headerPoker.setPoker(this._poker.split(",")[0]))},a.prototype.setResult=function(){i.prototype.setResult.call(this);var t=TrifaceLogicShare.TrifaceResultArea.getResultArea(this._result);this._blockChainPoker.setWhoWin(t)},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("showHead",this._headEvent)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._readyAnimate.pause(),this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("showHead",this._headEvent)},a.prototype.onGetHash=function(t){"X"!=this._poker.split(",")[0]&&this._poker.split(",")[0]?(this._infoTxt.alpha=0,this._blockChainPoker.visible=!0,this._blockChainPoker.alpha=1,this._headerPoker.visible=!0):(this._infoTxt.alpha=1,this._blockChainPoker.visible=!1,this._blockChainPoker.alpha=0,this._headerPoker.visible=!1,this._blockChainPoker.reset());var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid)},a.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"rollDice"==t.st?this._headerPoker.visible=!1:"betting"!=t.st&&"ready"===t.st&&1===this._blockChainPoker.alpha&&(this._headerPoker.visible=!1,this._blockChainPoker.reset(),this._readyAnimate.restart());for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},a);function a(){var e=i.call(this)||this,t=(e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),t=(e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new r("SimplePoker"),e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,new c(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}));return t.anchor.set(.5),t.x=235,t.y=185,e._infoTxt=new PIXI.Graphics,e._infoTxt.beginFill(0,.7),e._infoTxt.drawRect(t.x-t.width/2-20,t.y-t.height/2-5,t.width+40,t.height+10),e._infoTxt.endFill(),e._infoTxt.addChild(t),e.initBlockChainUI(),e.initBlockChainAnimate(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._headEvent=function(t){e._headerPoker.visible=!0},e.blockChainVideoPanel.addChild(e._infoTxt),Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=Composite.EventContainer,__extends(s,o),s.prototype.initUI=function(t,e){var i=this;this.pokerMcArr=[],this.pokerStrArr=[];for(var n=0;n<13;n++){this.pokerMcArr[n]=new ShareUI.bcPokerUI(t,e),this.pokerMcArr[n].setPokerSize(25,40),this.pokerMcArr[n].setIconSize(17,13),this.pokerMcArr[n].initListener(),this.pokerMcArr[n].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,i.event.dispatchEvent(e)}),this.addChild(this.pokerMcArr[n]),this.pokerStrArr[n]="";var a=this.pokerMcArr[n].getChildAt(0);a.x=.5*a.width,a.anchor.x=.5,a.y=.5*a.height,a.anchor.y=.5}this.pokerMcArr[0].x=127,this.pokerMcArr[0].y=58;for(n=0;n<3;n++)this.pokerMcArr[n+1].x=170+27*n+27,this.pokerMcArr[n+1].y=78,this.pokerMcArr[n+4].x=18+27*n+27,this.pokerMcArr[n+4].y=140,this.pokerMcArr[n+7].x=170+27*n+27,this.pokerMcArr[n+7].y=198,this.pokerMcArr[n+10].x=316+27*n+27,this.pokerMcArr[n+10].y=140;this.pokerPos=[];for(n=0;n<13;n++)this.pokerPos[n]=new l(this.pokerMcArr[n].x,this.pokerMcArr[n].y);this.titleBG=[],this._playerType=[],this._playerResult=[],this._PokerTypeMode=[],this._playerWin=[];for(var o=["BANKER","1","2","3"],r=[170,18,170,316],s=[57,121,178,121],n=0;n<4;n++){var h=new PIXI.Text(o[n],{fontFamily:"微軟正黑體",fontSize:12,fontWeight:"bolder"});h.x=10,h.y=1,this.titleBG[n]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_TitleBG"),this.titleBG[n].width9=79,this.titleBG[n].addChild(h),this.addChild(this.titleBG[n]),this.titleBG[n].x=r[n]+27,this.titleBG[n].y=s[n],this._playerType[n]=new PIXI.Text("????",{fontFamily:"_sans",fontSize:"12px",fontWeight:"bolder",fill:"#FFFFFF"}),this._playerType[n].anchor.set(.5,0),this._playerType[n].x=this.titleBG[n].width9/2,this._playerResult[n]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BullLose"),this._playerResult[n].width9=this.titleBG[n].width9,this.addChild(this._playerResult[n]),this._playerResult[n].x=r[n]+27,this._playerResult[n].y=s[n]+44,this._playerWin[n]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BullWin"),this._playerWin[n].width9=this.titleBG[n].width9,this._playerWin[n].x=0,this._playerWin[n].y=0,this._playerResult[n].addChild(this._playerWin[n]),this._playerResult[n].addChild(this._playerType[n]),this._PokerTypeMode[n]=new ChessTripleFaceMultiGames.TriFacePokerTypeMode}this.arrCardId=[];for(n=0;n<this.pokerMcArr.length;n++)this.arrCardId[n]=new c("12",{fill:16772830,fontSize:10}),this.arrCardId[n].anchor.x=.5,this.arrCardId[n].x=12.5,this.arrCardId[n].y=41,this.pokerMcArr[n].addChild(this.arrCardId[n])},s.prototype.initAnimate=function(){for(var i=this,t=(this.newAnimate=new TimelineMax({paused:!0}),this.newAnimate.data={pStr:"back"},[this.pokerMcArr[1],this.pokerMcArr[4],this.pokerMcArr[7],this.pokerMcArr[10]]),e=new TimelineMax,t=(e.staggerFromTo(t,.5,{alpha:0},{alpha:1,onStart:function(){this.target.visible=!0}},0),TweenMax.to(this.pokerMcArr[0].position,.2,{x:this.pokerPos[0].x,y:this.pokerPos[0].y,onStart:function(){i.arrCardId[0].visible=!0;var t=new H5Event.H5BaseEvent("showHead");i.event.dispatchEvent(t)},onComplete:function(){e.restart()}})),n=TweenMax.to(this.pokerMcArr[0].scale,.2,{x:1,y:1}),a=TweenMax.fromTo(this.titleBG,.5,{alpha:0},{alpha:1}),o=(this.newAnimate.from(this.pokerMcArr[0],.2,{alpha:0},"+=0.4").to(this.pokerMcArr[0],.2,{alpha:1,onStart:function(){i.pokerMcArr[0].visible=!0,i.pokerMcArr[0].setPoker("back")},onComplete:function(){i.showPokerAnimate(0,i.newAnimate.data.pStr)}}).add(new TimelineMax({tweens:[t,n,a]}),"+=1").staggerTo(this.pokerMcArr,.5,{onStart:function(){this.target.visible=!0,this.target.alpha=1},cycle:{x:function(t){return i.pokerPos[t].x},y:function(t){return i.pokerPos[t].y}},onComplete:function(){for(var t=0;t<i.arrCardId.length;t++)i.arrCardId[t].visible=!0}},0),this.arrPokerAnimate=[],this),r=0;r<this.pokerMcArr.length;r++)!function(t){var e=o.pokerMcArr[t].getChildAt(0);o.arrPokerAnimate[t]=new TimelineMax({paused:!0}),o.arrPokerAnimate[t].data={pStr:"back"},o.arrPokerAnimate[t].fromTo(e,.2,{width:25,height:40},{width:0,height:50,onComplete:function(){i.pokerMcArr[t].setPoker(i.arrPokerAnimate[t].data.pStr)}}),o.arrPokerAnimate[t].fromTo(e,.2,{width:0,height:50},{width:25,height:40})}(r)},s.prototype.newGame=function(){this.pokerMcArr[0].scale.set(2),this.pokerMcArr[0].position.set(210,110),this.pokerMcArr[0].alpha=0,this.pokerMcArr[0].setPoker("back"),this.arrCardId[0].visible=!1;for(var t=0;t<4;t++)this.titleBG[t].alpha=0;for(t=0;t<3;t++)this.pokerMcArr[t+1].position=this.pokerPos[1],this.pokerMcArr[t+4].position=this.pokerPos[4],this.pokerMcArr[t+7].position=this.pokerPos[7],this.pokerMcArr[t+10].position=this.pokerPos[10];for(t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].alpha=0,this.pokerMcArr[t].visible=!1,this.arrCardId[t].visible=!1},s.prototype.dealPoker=function(t){this.newGame(),this.newAnimate.data.pStr=t,this.newAnimate.restart()},s.prototype.setPoker=function(t){var e=t.split(",");this.getDealOrder(e[0]),this.newAnimate.isActive()||this.pokerMcArr[0].setPoker(e[0]);for(var i=1;i<this.pokerMcArr.length;i++)""!=e[i]&&"X"!=e[i]&&this.pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&(this.showPokerAnimate(i,e[i]),this.pokerStrArr[i]=e[i],3!=i&&6!=i&&9!=i&&12!=i||this.setResult(i,t))},s.prototype.setResult=function(t,e){e=e.split(","),this._playerResult[t/3-1].visible=!0,e=this.getpokerText(e[t-2],e[t-1],e[t]);this._playerType[t/3-1].text=e},s.prototype.getpokerText=function(t,e,i){this.bua=0;t=(this.transPoint(t)+this.transPoint(e)+this.transPoint(i))%10;return 0==this.bua?String(t):1==this.bua?"P"+String(t):2==this.bua?String(this.bua)+"P"+String(t):String(this.bua)+"P"},s.prototype.transPoint=function(t){var t=t.split("."),t=parseInt(t[1]),e=0;return 10==t?e=0:11==t||12==t||13==t?(e=0,this.bua++):e=t,e},s.prototype.getLvWin=function(t,e,i,n){return!(e<t)&&(t<e||(t==e?!(n<i):void 0))},s.prototype.setWhoWin=function(t){for(var e=!1,i=!1,n=!1,a=0;a<t.length;a++)1==t[a]&&(e=!0),6==t[a]&&(i=!0),11==t[a]&&(n=!0);this._playerWin[1].visible=e,this._playerWin[2].visible=i,this._playerWin[3].visible=n},s.prototype.showPokerAnimate=function(t,e){this.arrPokerAnimate[t].data.pStr=e,this.arrPokerAnimate[t].restart()},s.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t))for(var e=0;e<6;e++){var i=t+e,n="";i<10?n="00":i<100&&(n="0"),this.arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i),4<=e&&(this.arrCardId[e].visible=!1)}else for(e=0;e<this.arrCardId.length;e++)this.arrCardId[e].text=""},s.prototype.getDealOrder=function(t){var e=[];switch(t.split(".")[1]){case"1":case"5":case"9":case"13":e=[0,1,2,3];break;case"2":case"6":case"10":e=[1,2,3,0];break;case"3":case"7":case"11":e=[2,3,0,1];break;case"4":case"8":case"12":e=[3,0,1,2];break;default:e=[0,1,2,3]}for(var i=[],n=0;n<4;n++)for(var a=0;a<3;a++)i.push(1+a+3*e[n]);this.arrCardId[0].text="01",this.pokerMcArr[0].setId(1);for(n=1;n<this.pokerMcArr.length;n++){var o=i[n-1];this.pokerMcArr[o].setId(n+1),this.arrCardId[o].text=(n+1<10?"0":"")+String(n+1)}},s.prototype.reset=function(){this.newAnimate.pause(),this.pokerMcArr[0].scale.set(1);for(var t=0;t<this.pokerMcArr.length;t++){this.arrPokerAnimate[t].pause(),this.pokerMcArr[t].setPoker("back");var e=this.pokerMcArr[t].getChildAt(0);e.width=25,e.height=40,this.pokerMcArr[t].position=this.pokerPos[t],this.pokerMcArr[t].visible=!0,this.pokerMcArr[t].alpha=1,this.pokerStrArr[t]=""}for(t=0;t<this.titleBG.length;t++)this.titleBG[t].alpha=1,this._playerResult[t].visible=!1,this._playerType[t].text="",this._playerWin[t].visible=!1};var o,r=s;function s(t,e){void 0===e&&(e="Multiple_Blockchain_IBtn");var i=o.call(this)||this;return i.initUI(t,e),i.initAnimate(),i.reset(),i}}(BlockChainTripleFaceMultiGames=BlockChainTripleFaceMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockChainTripleFaceMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainTripleFaceMain=i}(MultiGames=MultiGames||{}),!function(t){var e,o=PIXI.Text,i=(e=Composite.EventContainer,__extends(n,e),n.prototype.initUI=function(){for(var n=this,t=(this.sumPoint=new o("",{fontFamily:"Arial",fontSize:"42px",fill:"#ffffff"}),this.addChild(this.sumPoint),this.sumPoint.x=629,this.sumPoint.y=327,this.sumPoint.anchor.set(.5),this._arrCardId=new o("",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this._arrCardId),this._arrCardId.x=710,this._arrCardId.y=329,this._arrCardId.anchor.set(1,0),PIXILayoutTool.DisplayObject.createImage("MuiltF_Blockchain_SicBoFrame")),e=(this.addChild(t),this._IBtn=new ShareUI.Button("MuiltF_Blockchain_SicboIBtn"),this._IBtn.position.set(714,329),this.addChild(this._IBtn),this._IBtn.on("click",function(t){var e={},i=(e.pStr=""==n._pkStr?"back":n._pkStr,e.id=Number(n._arrCardId.text),new H5Event.H5BaseEvent("openVerification"));i.data=e,n.event.dispatchEvent(i)}),new PIXI.Graphics),i=(e.beginFill(147,1),e.drawRect(0,0,595,160),e.endFill(),e.position.set(333,80),this.addChild(e),[]),a=0;a<6;a++)i[a]=PIXI.Texture.fromFrame("MuiltF_Blockchain_Sicbo000"+String(a));for(a=0;a<3;a++)this._slotCon[a]=new r(192,i),this.addChild(this._slotCon[a]),this._slotCon[a].x=415+215*a,this._slotCon[a].y=-30,this._slotCon[a].mask=e;this._slotCon[2].event.addEventListener("STOP_SLOT",function(t){for(var e=0;e<3;e++)n._slotCon[e].runScale();n.showDiceNum()}),this.reset()},n.prototype.initAnimate=function(){var e=this;this._runSlotAnimate=new TimelineLite({paused:!0}),this._runSlotAnimate.add(function(){e._slotCon[0].runSlot()}),this._runSlotAnimate.add(function(){e._slotCon[1].runSlot()},.1),this._runSlotAnimate.add(function(){e._slotCon[2].runSlot()},.2),this._stopSlotAnimate=new TimelineLite({paused:!0}),this._stopSlotAnimate.add(function(){e._slotCon[0].stopSlot()},0),this._stopSlotAnimate.add(function(){e._slotCon[1].stopSlot()},.5),this._stopSlotAnimate.add(function(){e._slotCon[2].stopSlot()},1),this._countDownAnimate=new TimelineMax({repeat:-1,paused:!0,repeatDelay:.2,onRepeat:function(){e._pushAry=e._pushAry.slice(1),e._pushAry.push(e._numAry[e._pushNum]),e._pushNum++,9<e._pushNum&&(e._pushNum=0);for(var t=0;t<3;t++)e._slotCon[t].setSlotTexture(1,e._pushAry[t])}})},n.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset(),this._pointArr=[0,0,0];var i=t.split(",");if(""!=i[0]){this._pkStr=i.join("");for(var n=0;n<i.length;n++)this._pointArr[n]=parseInt(i[n]),this._slotCon[n].setPoker(Number(i[n])-1),this._runSlotAnimate.isActive()||this._slotCon[n].setFinalPoker();this._stopSlotAnimate.restart()}},n.prototype.showDiceNum=function(){(this._diceNum=0)!=this._pointArr[0]?(this._diceNum=this.getDiceSum(this._pointArr),10<=this._diceNum?this.sumPoint.text=String(this._diceNum):this.sumPoint.text="0"+String(this._diceNum)):this.sumPoint.text="",this._pointArr[0]==this._pointArr[1]&&this._pointArr[0]==this._pointArr[2]?this.sumPoint.style.fill=16765559:this.sumPoint.style.fill=16777215;var t=new H5Event.H5BaseEvent("STOP_SLOT");this.event.dispatchEvent(t)},n.prototype.getDiceSum=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e},n.prototype.setCard=function(t){for(var e,i,n=t.split(","),a=0;a<n.length;a++)""!==n[a]&&(i="",(e=Number(n[a]))<10?i="00":e<100&&(i="0"),this._arrCardId.text=i+n[a])},n.prototype.runCountDown=function(){this._countDownAnimate.restart(!0)},n.prototype.runSlot=function(){this._countDownAnimate.pause(),""===this._pkStr&&this._runSlotAnimate.restart(!0)},n.prototype.reset=function(){this._pkStr="",null!=this.sumPoint&&(this.sumPoint.text="");for(var t=0;t<3;t++)this._slotCon[t].setPoker(-1)},n.prototype.resetAnimate=function(){this._runSlotAnimate.pause(),this._stopSlotAnimate.pause(),this._countDownAnimate.pause();for(var t=0;t<3;t++)this._slotCon[t].reset(),this._slotCon[t].resetAnimate()},n);function n(){var t=e.call(this)||this;return t._slotCon=[],t._pushAry=[5,0,1],t._numAry=[0,1,2,3,4,5,4,3,2,1],t._pushNum=2,t.initUI(),t.initAnimate(),t}t.PokerPanel=i;a=Composite.EventContainer,__extends(s,a),s.prototype.initUI=function(e){var i=this,t=new PIXI.Graphics;t.beginFill(1193046,1),t.drawRect(0,0,.8*e,.8*e),t.position.set(.8*e/2*-1,1.2*e/2),this.addChild(t),this._slotCon=new PIXI.Container,this._slotCon.mask=t,this.addChild(this._slotCon);for(var n=0;n<3;n++)this._slotAry[n]=new PIXI.Sprite,this._slotAry[n].anchor.set(.5),this._slotCon.addChild(this._slotAry[n]),this._slotAry[n].position.set(0,n*e);for(n=0;n<3;n++)this.setSlotTexture(n,this.numAry[n]);this.scaleAnimate=TweenMax.fromTo(this._slotAry[1].scale,.3,{x:1,y:1},{x:1.5,y:1.5,repeat:1,yoyo:!0,paused:!0,onComplete:function(){i.event.dispatchEvent(new H5Event.H5BaseEvent("STOP_SCALE"))}}),this.resultAnimate=TweenMax.to(this._slotCon,1,{y:0,ease:Elastic.easeOut.config(1.75,1),paused:!0,onComplete:function(){i.event.dispatchEvent(new H5Event.H5BaseEvent("STOP_SLOT"))}}),this.startAnimate=TweenMax.fromTo(this._slotCon,.1,{y:0},{y:-40,repeat:1,yoyo:!0,paused:!0,onComplete:function(){i._isSlot=!0,i._slotTimer.restart()}}),this._slotTimer=new TimelineMax({repeat:-1,paused:!0,onUpdate:function(){if(i._slotCon.y=i._distance,i._distance+=40,i._slotCon.y>e)if(i._stopFlag&&-1!=i._slotTimer.data)i._isSlot&&(i._isSlot=!1,i.setFinalPoker(),i._slotTimer.pause(),i._slotCon.y=-1*e,i.resultAnimate.restart());else if(i._isSlot){i._slotCon.y=0;for(var t=i._distance=0;t<3;t++)i.numAry[t]++,6==i.numAry[t]&&(i.numAry[t]=0),i.setSlotTexture(t,i.numAry[t])}}})},s.prototype.setSlotTexture=function(t,e){this._slotAry[t].texture=this.slotTextureAry[e]},s.prototype.getSlotTexture=function(t){return this._slotAry[t].texture},s.prototype.setFinalPoker=function(){for(var t=0;t<3;t++)this.numAry[t]=this._slotTimer.data,this.setSlotTexture(t,this.numAry[t])},s.prototype.stopSlot=function(){this._stopFlag=!0},s.prototype.runSlot=function(){this._stopFlag=!1,this._distance=0,this.startAnimate.restart(!0)},s.prototype.setPoker=function(t){this._slotTimer.data=t},s.prototype.getNumAry=function(){return this.numAry},s.prototype.runScale=function(){this.scaleAnimate.restart(!0)},s.prototype.reset=function(){for(var t=this._slotCon.y=0;t<3;t++)this._slotAry[t].scale.set(1)},s.prototype.resetAnimate=function(){this.scaleAnimate.pause(),this.startAnimate.pause(),this.resultAnimate.pause(),this._slotTimer.pause()};var a,r=s;function s(t,e){var i=a.call(this)||this;return i._slotAry=[],i._stopFlag=!1,i._isSlot=!1,i.numAry=[],i.slotTextureAry=[],i._distance=0,i.slotTextureAry=e,i.numAry=[5,0,1],i.initUI(t),i}t.slotContainer=r}(BlockChainSicShare=BlockChainSicShare||{}),!function(t){var i,n=PIXI.Container,h=PIXI.Text,e=(i=SicBoMultiGames.ViewModel,__extends(a,i),a.prototype.openVerPanel=function(t){var e=t.data.id-1,i=(this._numVeri=e,this.vModel.getPrePoker()[e]),n=i&&"X"!==i&&""!==i&&"back"!==i?this.vModel.getPreSeed(e):this.vModel.getSuf();this._verificationPanel.showPanel(i,t.data.id,this.vModel.getPreHash(e),n,!1)},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("STOP_SLOT",this._resultEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new h(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel(1),this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new p(100),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new c,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.onPlstUpdate=function(t){-1==t.data.newFirId&&this.vModel.clearPreData()},a.prototype.onGetHash=function(t){this._blockChainPoker.setCard(String(this.vModel.getNewCardId())),this._shoePanel.updateAllData(this.vModel.getPrePoker()),1!=this.vModel.getRd()&&-1!=this.vModel.getNewCardId()||this._blockChainPoker.setCard("1"),this._blockChainPoker.visible=!0},a.prototype.onBlockChainUpdate=function(t){},a.prototype.setResult=function(){},a.prototype.showResult=function(){0==this._result?parseInt(this.vModel.getGameInfo().getResult()):this._result;var t=SicLogicShare.SicResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t),this._numVeri+1==this.vModel.getRd()&&this.vModel.getSeed(this._numVeri)&&this._verificationPanel.updateData(this._numVeri+1,this.vModel.getAllPoker().allPoker[this._numVeri],this.vModel.getSeed(this._numVeri)),this._shoePanel.updateAllData(this.vModel.getPrePoker())},a.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1},a.prototype.setPoker=function(){""!=this._poker&&"X"!=this._poker&&"-"!=this._poker&&(this._blockChainPoker.setPoker(this._poker),this._isFir)&&this._blockChainPoker.showDiceNum()},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._blockChainPoker.runCountDown():"dealing"==this._status?",,"==this._poker&&this._blockChainPoker.runSlot():"ready"==this._status&&this._betAreaPanel&&this._betAreaPanel.reset()},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("STOP_SLOT",this._resultEvent)},a);function a(){var e=i.call(this)||this,t=(e._isFir=!0,e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoBG"));return e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new r,e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._resultEvent=function(t){e.showResult()},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=BlockChainSicShare.PokerPanel,__extends(s,o),s.prototype.initUI=function(){var i=this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotBG");this.addChild(t);for(var e=0;e<2;e++){var n=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotLine1",e);this.addChild(n)}this.sumPoint=new h("16",{fontFamily:"Arial",fontSize:"42px",fill:"#ffffff"}),this.addChild(this.sumPoint),this.sumPoint.x=234,this.sumPoint.y=216,this.sumPoint.anchor.set(.5),this._arrCardId=new h("0016",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this._arrCardId),this._arrCardId.x=316,this._arrCardId.y=215,this._arrCardId.anchor.set(1,0);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoFrame"),a=(this.addChild(t),this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(320,218),this.addChild(this._IBtn),this._IBtn.setSensor(212,44,-93,-9),this._IBtn.on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data={pStr:String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2])=="000"?"back":String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2]),id:Number(i._arrCardId.text)},i.event.dispatchEvent(t)}),new PIXI.Graphics),o=(a.beginFill(147,1),a.drawRect(0,0,250,85),a.endFill(),a.position.set(110,92),this.addChild(a),[]),e=0;e<6;e++)o[e]=PIXI.Texture.fromFrame("Multiple_Blockchain_SicBo000"+String(e));for(e=0;e<3;e++)this._slotCon[e]=new BlockChainSicShare.slotContainer(85,o),this.addChild(this._slotCon[e]),this._slotCon[e].x=154+82*e,this._slotCon[e].y=48,this._slotCon[e].mask=a;this._slotCon[2].event.addEventListener("STOP_SLOT",function(t){for(var e=0;e<3;e++)i._slotCon[e].runScale();i.showDiceNum()}),this.reset()},s.prototype.setCard=function(t){var e=Number(t),i="";e<10?i="00":e<100&&(i="0"),this._arrCardId.text=i+t};var o,r=s;function s(){return o.call(this)||this}l=BlockChainShare.VerificationPanel,__extends(u,l),u.prototype.initPoker=function(){this._poker=new m(!1),this._poker.x=94,this._poker.y=36,this._conContent.addChild(this._poker)},u.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_RESULT_SN"),IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new BlockChainShare.Panel),n=(i.initPanelUI(390,200),i.x=6,new h(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},u.prototype.initVerifiUI=function(){l.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t),this._returnBtn.y=100,this._pokerID.y=this._poker.y+this._poker.height+25},u.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),this._poker.setPoker(t="X"!=t&&t?t:"back"),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a="";e<10?a="00":e<100&&(a="0"),this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)};var l,c=u;function u(){return l.call(this)||this}d=BlockChainShare.Panel,__extends(f,d),f.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("RESULT_HISTORY"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},f.prototype.initShoePokerUI=function(t){for(var i=this,n=new PIXI.Container,a=this,e=0;e<t;e++)!function(e){a._conCell[e]=new PIXI.Container,a._conCell[e].interactive=!0,a._conCell[e].buttonMode=!0;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HistoryBG"),t=(t.width9=360,t.height9=42,a._conCell[e].addChild(t),PIXI.Sprite.fromImage("Multiple_Blockchain_SicBoNumBtn0000")),t=(t.x=297,t.y=4,a._conCell[e].addChild(t),new h((e+1<100?e+1<10?"00":"0":"")+String(e+1),{fontFamily:"Arial",fontSize:15,fill:16777215}));t.x=320,t.y=13,t.anchor.x=.5,a._conCell[e].addChild(t),a._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoSelect"),a._conCell[e].select.width9=360,a._conCell[e].select.height9=42,a._conCell[e].addChild(a._conCell[e].select),a._conCell[e].select.visible=!1,a._conCell[e].y=50*e,a._conCell[e].x=6,n.addChild(a._conCell[e]),a._arrPokerUI[e]=new m,a._arrPokerUI[e].scale.set(.5),a._arrPokerUI[e].setPoker("back"),a._arrPokerUI[e].position.set(20,8),a._conCell[e].addChild(a._arrPokerUI[e]),a._conCell[e].on("mouseover",function(){i._conCell[e].select.visible=!0}),a._conCell[e].on("mouseout",function(){i._conCell[e].select.visible=!1}),a._conCell[e].data={pStr:"back",id:e+1},a._conCell[e].on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data=i._conCell[e].data,i.event.dispatchEvent(t)})}(e);this.scrollBar.updateScrollBar(n)},f.prototype.updateAllData=function(t){this.reset();for(var e=0;e<this._arrPokerUI.length;e++)e>=t.length?(this._arrPokerUI[e].setPoker("back"),this._conCell[e].data.pStr="back",this._conCell[e].alpha=.5,this._conCell[e].interactive=!1,this._conCell[e].select.visible=!1):""!==t[e]&&(this._arrPokerUI[e].setPoker(t[e]),this._conCell[e].data.pStr=t[e])},f.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._conCell[t].data.pStr="back",this._conCell[t].alpha=1,this._conCell[t].interactive=!0};var d,p=f;function f(t){var e=d.call(this)||this;return e._arrPokerUI=[],e._conCell=[],e.initPanelUI(),e.init(),e.initShoePokerUI(t),e}_=PIXI.Container,__extends(g,_),g.prototype.setPoker=function(t){var e=-1!=t.indexOf(",")?t.split(","):t.split("");if(""==e[0]||"back"==t||"X"==t){for(var i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_Blockchain_DiceBG0000");this.txtNum&&(this.txtNum.text="")}else{for(var n=0,i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_SicBo_Poker000"+(e[i]-1)),n+=Number(e[i]);this.txtNum&&(this.txtNum.text=String(n)),e[0]==e[1]&&e[1]==e[2]?this.txtNum&&(this.txtNum.style.fill=16765559):this.txtNum&&(this.txtNum.style.fill=16777215)}};var _,m=g;function g(t){void 0===t&&(t=!0);var e=_.call(this)||this;e.pokerSpr=[];for(var i=0;i<3;i++)e.pokerSpr[i]=new PIXI.Sprite(PIXI.Texture.from("Multiple_Blockchain_DiceBG0000")),e.addChild(e.pokerSpr[i]),e.pokerSpr[i].x=65*i,e.pokerSpr[i].height=50,e.pokerSpr[i].width=50;return t&&(e.txtNum=new h("",{fontFamily:"Arial",fontSize:46,fill:16777215}),e.txtNum.x=325,e.txtNum.anchor.x=.5,e.addChild(e.txtNum)),e}}(BlockchainSicBoMultiGames=BlockchainSicBoMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainSicBoMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainSicBoMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,h=PIXI.Text,e=(i=FishSCMultiGames.ViewModel,__extends(a,i),a.prototype.openVerPanel=function(t){var e=t.data.id-1,i=(this._numVeri=e,this.vModel.getPrePoker()[e]),n="X"!==i&&""!==i&&"back"!==i?this.vModel.getPreSeed(e):this.vModel.getSuf();this._verificationPanel.showPanel(i,t.data.id,this.vModel.getPreHash(e),n,!1)},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("STOP_SLOT",this._resultEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new h(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel(1),this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new p(100,this._gametype),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new c(this._gametype),this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.onPlstUpdate=function(t){-1==t.data.newFirId&&this.vModel.clearPreData()},a.prototype.onGetHash=function(t){this._blockChainPoker.setCard(String(this.vModel.getNewCardId())),this._shoePanel.updateAllData(this.vModel.getPrePoker()),1!=this.vModel.getRd()&&-1!=this.vModel.getNewCardId()||this._blockChainPoker.setCard("1"),this._blockChainPoker.visible=!0},a.prototype.onBlockChainUpdate=function(t){},a.prototype.setResult=function(){},a.prototype.showResult=function(){var t=0==this._result?parseInt(this.vModel.getGameInfo().getResult()):this._result,t=FishSCLogicShare.FishSCResultArea.getResultArea(t);this._betAreaPanel.showResult(t),this._numVeri+1==this.vModel.getRd()&&this.vModel.getSeed(this._numVeri)&&this._verificationPanel.updateData(this._numVeri+1,this.vModel.getAllPoker().allPoker[this._numVeri],this.vModel.getSeed(this._numVeri)),this._shoePanel.updateAllData(this.vModel.getPrePoker())},a.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1},a.prototype.setPoker=function(){""!=this._poker&&"X"!=this._poker&&"-"!=this._poker&&(this._blockChainPoker.setPoker(this._poker),this._isFir)&&this._blockChainPoker.showDiceNum()},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._blockChainPoker.runCountDown():"dealing"==this._status?",,"==this._poker&&this._blockChainPoker.runSlot():"ready"==this._status&&this._betAreaPanel&&this._betAreaPanel.reset()},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("STOP_SLOT",this._resultEvent)},a);function a(){var e=i.call(this)||this,t=(e._isFir=!0,e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoBG"));return e.blockChainVideoPanel.addChild(t),e._gametype=IPL.UrlParameter.gameType,e._blockChainPoker=new r,e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._resultEvent=function(t){e.showResult()},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=BlockChainSicShare.PokerPanel,__extends(s,o),s.prototype.initUI=function(){var i=this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotBG");this.addChild(t);for(var e=0;e<2;e++){var n=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotLine1",e);this.addChild(n)}this.sumPoint=new h("16",{fontFamily:"Arial",fontSize:"42px",fill:"#ffffff"}),this.addChild(this.sumPoint),this.sumPoint.x=234,this.sumPoint.y=215,this.sumPoint.anchor.set(.5),this._arrCardId=new h("0016",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this._arrCardId),this._arrCardId.x=316,this._arrCardId.y=216,this._arrCardId.anchor.set(1,0);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoFrame"),a=(this.addChild(t),this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(320,218),this.addChild(this._IBtn),this._IBtn.setSensor(212,44,-93,-9),this._IBtn.on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data={pStr:String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2])=="000"?"back":String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2]),id:Number(i._arrCardId.text)},i.event.dispatchEvent(t)}),new PIXI.Graphics),o=(a.beginFill(147,1),a.drawRect(0,0,250,85),a.endFill(),a.position.set(110,92),this.addChild(a),[]),e=0;e<6;e++)o[e]=PIXI.Texture.fromFrame("Multiple_Blockchain_fishSC000"+String(e));"3039"==IPL.UrlParameter.gameType?o[3]=PIXI.Texture.fromFrame("Multiple_Blockchain_fishSC_Deer0000"):"3040"==IPL.UrlParameter.gameType&&(o[3]=PIXI.Texture.fromFrame("Multiple_Blockchain_fishSC_Tiger0000"));for(e=0;e<3;e++)this._slotCon[e]=new BlockChainSicShare.slotContainer(85,o),this.addChild(this._slotCon[e]),this._slotCon[e].x=154+82*e,this._slotCon[e].y=48,this._slotCon[e].mask=a;this._slotCon[2].event.addEventListener("STOP_SLOT",function(t){for(var e=0;e<3;e++)i._slotCon[e].runScale();i.showDiceNum()}),this.reset()},s.prototype.setCard=function(t){var e=Number(t),i="";e<10?i="00":e<100&&(i="0"),this._arrCardId.text=i+t};var o,r=s;function s(){return o.call(this)||this}l=BlockChainShare.VerificationPanel,__extends(u,l),u.prototype.initPoker=function(t){this._poker=new m(!1,t=void 0===t?"":t),this._poker.x=94,this._poker.y=36,this._conContent.addChild(this._poker)},u.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_RESULT_SN"),IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new BlockChainShare.Panel),n=(i.initPanelUI(390,200),i.x=6,new h(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},u.prototype.initVerifiUI=function(){l.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t),this._returnBtn.y=100,this._pokerID.y=this._poker.y+this._poker.height+25},u.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),this._poker.setPoker(t="X"!=t&&t?t:"back"),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a="";e<10?a="00":e<100&&(a="0"),this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)};var l,c=u;function u(t){return l.call(this,t=void 0===t?"":t)||this}d=BlockChainShare.Panel,__extends(f,d),f.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("RESULT_HISTORY"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},f.prototype.initShoePokerUI=function(t,i){for(var n=this,a=(void 0===i&&(i=""),new PIXI.Container),o=this,e=0;e<t;e++)!function(e){o._conCell[e]=new PIXI.Container,o._conCell[e].interactive=!0,o._conCell[e].buttonMode=!0;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HistoryBG"),t=(t.width9=360,t.height9=42,o._conCell[e].addChild(t),PIXI.Sprite.fromImage("Multiple_Blockchain_SicBoNumBtn0000")),t=(t.x=297,t.y=4,o._conCell[e].addChild(t),new h((e+1<100?e+1<10?"00":"0":"")+String(e+1),{fontFamily:"Arial",fontSize:15,fill:16777215}));t.x=320,t.y=13,t.anchor.x=.5,o._conCell[e].addChild(t),o._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoSelect"),o._conCell[e].select.width9=360,o._conCell[e].select.height9=42,o._conCell[e].addChild(o._conCell[e].select),o._conCell[e].select.visible=!1,o._conCell[e].y=50*e,o._conCell[e].x=6,a.addChild(o._conCell[e]),o._arrPokerUI[e]=new m(!0,i),o._arrPokerUI[e].scale.set(.5),o._arrPokerUI[e].setPoker("back"),o._arrPokerUI[e].position.set(20,8),o._conCell[e].addChild(o._arrPokerUI[e]),o._conCell[e].on("mouseover",function(){n._conCell[e].select.visible=!0}),o._conCell[e].on("mouseout",function(){n._conCell[e].select.visible=!1}),o._conCell[e].data={pStr:"back",id:e+1},o._conCell[e].on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data=n._conCell[e].data,n.event.dispatchEvent(t)})}(e);this.scrollBar.updateScrollBar(a)},f.prototype.updateAllData=function(t){this.reset();for(var e=0;e<this._arrPokerUI.length;e++)e>=t.length?(this._arrPokerUI[e].setPoker("back"),this._conCell[e].data.pStr="back",this._conCell[e].alpha=.5,this._conCell[e].interactive=!1,this._conCell[e].select.visible=!1):""!==t[e]&&(this._arrPokerUI[e].setPoker(t[e]),this._conCell[e].data.pStr=t[e])},f.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._conCell[t].data.pStr="back",this._conCell[t].alpha=1,this._conCell[t].interactive=!0};var d,p=f;function f(t,e){void 0===e&&(e="");var i=d.call(this)||this;return i._arrPokerUI=[],i._conCell=[],i.initPanelUI(),i.init(),i.initShoePokerUI(t,e),i}_=PIXI.Container,__extends(g,_),g.prototype.setPoker=function(t){var e=-1!=t.indexOf(",")?t.split(","):t.split("");if(""==e[0]||"back"==t||"X"==t){for(var i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_Blockchain_DiceBG0000");this.txtNum&&(this.txtNum.text="")}else{for(var n=0,i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_FishSC_Poker000"+(e[i]-1)),n+=Number(e[i]),"3039"==this.gametype&&e[i]-1==3?this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_FishSC_Poker_Deer0000"):"3040"==this.gametype&&e[i]-1==3&&(this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_FishSC_Poker_Tiger0000"));this.txtNum&&(this.txtNum.text=String(n)),e[0]==e[1]&&e[1]==e[2]?this.txtNum&&(this.txtNum.style.fill=16765559):this.txtNum&&(this.txtNum.style.fill=16777215)}};var _,m=g;function g(t,e){void 0===t&&(t=!0),void 0===e&&(e="");var i=_.call(this)||this;i.pokerSpr=[],i.gametype=e;for(var n=0;n<3;n++){var a=new PIXI.Sprite(PIXI.Texture.from("Multiple_Blockchain_DiceBG0000"));i.addChild(a),a.x=65*n,a.height=50,a.width=50,i.pokerSpr[n]=new PIXI.Sprite(PIXI.Texture.from("Multiple_Blockchain_DiceBG0000")),i.addChild(i.pokerSpr[n]),i.pokerSpr[n].x=65*n,i.pokerSpr[n].height=50,i.pokerSpr[n].width=50}return t&&(i.txtNum=new h("",{fontFamily:"Arial",fontSize:46,fill:16777215}),i.txtNum.x=325,i.txtNum.anchor.x=.5,i.addChild(i.txtNum)),i}}(BlockchainFishSCMultiGames=BlockchainFishSCMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainFishSCMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainFishSCMain=i}(MultiGames=MultiGames||{}),!function(t){var e,a=PIXI.Text,i=(e=Composite.EventContainer,__extends(n,e),n.prototype.initUI=function(){var e=this,t=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotBG","SeDie",!1),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotLine1","SeDie1",!1)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotLine1","SeDie2",!1)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotLine2","SeDie",!1)),t=(this.addChild(t),this.cardId=new a("0016",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this.cardId),this.cardId.x=316,this.cardId.y=216,this.cardId.anchor.set(1,0),this.sumPoint=new a(" ",{fontFamily:"Arial",fontSize:"30px",fill:"#ffffff"}),this.addChild(this.sumPoint),this.sumPoint.x=234,this.sumPoint.y=216,this.sumPoint.anchor.set(.5),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoFrame"));this.addChild(t),this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(320,218),this.addChild(this._IBtn),this._IBtn.setSensor(212,44,-93,-9),this._IBtn.on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data={pStr:e.poker,id:Number(e.cardId.text)},e.event.dispatchEvent(t)});for(var i=0;i<2;i++)this.ballTexture[i]=PIXI.Texture.from("Multiple_Blockchain_SeDie000"+i);for(i=0;i<4;i++){this.arrBall[i]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SeDie",i),this.addChild(this.arrBall[i]);var n=this.arrBall[i];n.x=n.x+.5*n.width,n.anchor.x=.5,n.y=n.y+.5*n.height,n.anchor.y=.5,this.arrBall[i].texture=this.ballTexture[0]}},n.prototype.initAnimate=function(){for(var e=this,i=this,t=0;t<this.arrBall.length;t++)!function(t){i.runAnimate[t]=new TimelineMax({paused:!0,repeat:-1,immediateRender:!1,onStart:function(){e.runAnimate[t].data.rep=0},onComplete:function(){e.textureAnimate[t].data.rep=0,e.textureAnimate[t].repeat(-1),e.textureAnimate[t].restart(!0,!1)}}),i.runAnimate[t].data={pStr:!0,rep:0},i.runAnimate[t].fromTo(i.arrBall[t].scale,.2,{x:1,y:1},{x:1,y:0,immediateRender:!1,ease:Power1.easeIn,onComplete:function(){e.arrBall[t].texture=e.ballTexture[e.runAnimate[t].data.pStr?0:1],e.runAnimate[t].data.pStr=!e.runAnimate[t].data.pStr}}).to(i.arrBall[t].scale,.2,{x:1,y:1,ease:Power1.easeOut,onComplete:function(){e.runAnimate[t].data.rep++}}),i.textureAnimate[t]=new TimelineMax({paused:!0,repeat:-1,repeatDelay:.1,onRepeat:function(){e.textureAnimate[t].data.rep++,e.arrBall[t].texture=e.ballTexture[e.runAnimate[t].data.pStr?0:1],e.runAnimate[t].data.pStr=!e.runAnimate[t].data.pStr},onComplete:function(){e.arrBall[t].texture=e.ballTexture[e.textureAnimate[t].data.pStr?0:1],e.runAnimate[t].data.pStr=e.textureAnimate[t].data.pStr,3===t&&e.showResultEve()}}),i.textureAnimate[t].data={pStr:!0,rep:0}}(t)},n.prototype.showResultEve=function(){for(var t=new H5Event.H5BaseEvent("showResult"),e=(this.event.dispatchEvent(t),this.poker.split("")),i="",n=0;n<e.length;n++)1==e[n]?i+="W":2==e[n]&&(i+="R");this.sumPoint.text=i},n.prototype.setCdData=function(t,e){var i=.5+.05*(e-t);1.25<i&&(i=1.25);for(var n=0;n<4;n++)this.runAnimate[n].timeScale(i)},n.prototype.setPoker=function(t){for(var e=(this.poker=t).split(""),i=0;i<this.arrBall.length;i++)e[i]=Number(e[i])%2==0,this.textureAnimate[i].data.pStr=e[i],this.textureAnimate[i].isActive()?this.textureAnimate[i].repeat(this.textureAnimate[i].data.rep+8*i):(this.arrBall[i].texture=this.ballTexture[this.textureAnimate[i].data.pStr?0:1],this.runAnimate[i].data.pStr=this.textureAnimate[i].data.pStr,3===i&&this.showResultEve())},n.prototype.setStatus=function(t){if("betting"==t)for(var e=0;e<this.arrBall.length;e++)this.runAnimate[e].timeScale(.5),this.runAnimate[e].repeat(-1),this.runAnimate[e].delay(.05*e),this.runAnimate[e].restart(!0,!1);else if("dealing"==t&&"back"==this.poker)for(e=0;e<this.arrBall.length;e++)this.runAnimate[0].isActive()?this.runAnimate[e].repeat(this.runAnimate[e].data.rep):(this.textureAnimate[e].data.rep=0,this.textureAnimate[e].repeat(-1),this.textureAnimate[e].restart(!0,!1))},n.prototype.resetAnimate=function(){for(var t=0;t<this.arrBall.length;t++)this.runAnimate[t].pause(),this.textureAnimate[t].pause(),this.arrBall[t].scale.set(1)},n.prototype.setNewCard=function(t){-1!==(t=void 0===t?-1:t)?(t=t,this.cardId.text=(t<10?"0":"")+String(t)+""):this.cardId.text=""},n.prototype.reset=function(){this.sumPoint.text="",this.poker="back"},n);function n(){var t=e.call(this)||this;return t.arrBall=[],t.ballTexture=[],t.runAnimate=[],t.textureAnimate=[],t.initUI(),t.initAnimate(),t}t.SeDiePokerPanel=i}(BlockChainSeDieShare=BlockChainSeDieShare||{}),!function(t){var i,n=PIXI.Container,h=PIXI.Text,e=(i=SeDieMultiGames.ViewModel,__extends(a,i),a.prototype.openVerPanel=function(t){var e=t.data.id-1,i=(this._numVeri=e,this.vModel.getPrePoker()[e]),n="X"!==i&&""!==i&&"back"!==i?this.vModel.getPreSeed(e):this.vModel.getSuf();this._verificationPanel.showPanel(i,t.data.id,this.vModel.getPreHash(e),n,!1)},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("showResult",this._resultEvent)},a.prototype.initBlockChainUI=function(){var t=this;this._shoeBtn=new ShareUI.Button("Multiple_AceyD_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._shoeBtn),this._shoeBtn.x=415,this._shoeBtn.y=255,this._shoePanel=new p(90),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new c,this.blockChainVideoPanel.addChild(this._verificationPanel),this._verificationPanel.x=this._shoePanel.x=34,this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()})},a.prototype.onPlstUpdate=function(t){-1==t.data.newFirId&&this.vModel.clearPreData()},a.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId()),this._shoePanel.updateAllData(this.vModel.getPrePoker()),1!=this.vModel.getRd()&&-1!=this.vModel.getNewCardId()||this._blockChainPoker.setNewCard(1),this._blockChainPoker.visible=!0},a.prototype.onBlockChainUpdate=function(t){t=t.data;t.st&&"betting"!==t.st&&"dealing"!==t.st&&"waiting"!==t.st&&t.st},a.prototype.setResult=function(){},a.prototype.showResult=function(){var t=0==this._result?parseInt(this.vModel.getGameInfo().getResult()):this._result,t=SedieLogicShare.SedieResultArea.getResultArea(t);this._betAreaPanel.showResult(t),this._numVeri+1==this.vModel.getRd()&&this.vModel.getSeed(this._numVeri)&&this._verificationPanel.updateData(this._numVeri+1,this.vModel.getAllPoker().allPoker[this._numVeri],this.vModel.getSeed(this._numVeri)),this._shoePanel.updateAllData(this.vModel.getPrePoker())},a.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1},a.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this),this._blockChainPoker.setCdData(Number(this.vModel.getGameInfo().getCountdown()),Number(this.vModel.getGameInfo().getSrcdown()))},a.prototype.setPoker=function(){""==this._poker||"X"==this._poker||"-"==this._poker?this._blockChainPoker.reset():this._blockChainPoker.setPoker(this._poker)},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),this._blockChainPoker.setStatus(this._status),"ready"==this._status&&this._betAreaPanel&&this._betAreaPanel.reset()},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._shoePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("showResult",this._resultEvent)},a);function a(){var e=i.call(this)||this,t=(e._isFir=!0,e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoBG"));return e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new r,e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._resultEvent=function(t){e.showResult()},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=BlockChainSeDieShare.SeDiePokerPanel,__extends(s,o),s.prototype.initUI=function(){var e=this,t=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotBG","SeDie",!1),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotLine1","SeDie1",!1)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotLine1","SeDie2",!1)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Blockchain_SlotLine2","SeDie",!1)),t=(this.addChild(t),this.cardId=new h("0016",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this.cardId),this.cardId.x=316,this.cardId.y=257,this.cardId.anchor.set(1,0),this.sumPoint=new h(" ",{fontFamily:"Arial",fontSize:"30px",fill:"#ffffff"}),this.addChild(this.sumPoint),this.sumPoint.x=234,this.sumPoint.y=232,this.sumPoint.anchor.set(.5),this.resultText=new h("",{fontFamily:"Arial",fontSize:"19px",fill:"#ffffff"}),this.resultText.anchor.x=.5,this.resultText.x=234,this.resultText.y=255,this.addChild(this.resultText),"cn"==IPL.UrlParameter.lang?(this.textOE=["单","双"],this.textBS=["大","小"]):"tw"==IPL.UrlParameter.lang?(this.textOE=["單","雙"],this.textBS=["大","小"]):(this.textOE=["Odd","Even"],this.textBS=["Big","Small"]),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoFrame"));t.scale.y=1.7,t.y+=13,this.addChild(t),this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(320,260),this.addChild(this._IBtn),this._IBtn.setSensor(212,75,-93,-22),this._IBtn.on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data={pStr:e.poker,id:Number(e.cardId.text)},e.event.dispatchEvent(t)});for(var i=0;i<2;i++)this.ballTexture[i]=PIXI.Texture.from("Multiple_Blockchain_SeDie000"+i);for(i=0;i<4;i++){this.arrBall[i]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SeDie",i),this.addChild(this.arrBall[i]);var n=this.arrBall[i];n.x=n.x+.5*n.width,n.anchor.x=.5,n.y=n.y+.5*n.height,n.anchor.y=.5,this.arrBall[i].texture=this.ballTexture[0]}},s.prototype.showResultEve=function(){if(o.prototype.showResultEve.call(this),this.resultText){for(var t=this.poker.split(""),e=0,i=0;i<t.length;i++)"1"==t[i]&&e++;this.resultText.text=0==e?this.textOE[1]+"/"+this.textBS[0]:4==e?this.textOE[1]+"/"+this.textBS[1]:1==e?this.textOE[0]+"/"+this.textBS[0]:3==e?this.textOE[0]+"/"+this.textBS[1]:2==e?this.textOE[1]:""}},s.prototype.reset=function(){o.prototype.reset.call(this),this.resultText&&(this.resultText.text="")};var o,r=s;function s(){return null!==o&&o.apply(this,arguments)||this}l=BlockChainShare.VerificationPanel,__extends(u,l),u.prototype.initPoker=function(){this._poker=new m(!1),this._poker.x=60,this._poker.y=36,this._conContent.addChild(this._poker)},u.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_RESULT_SN"),IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_RW_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new BlockChainShare.Panel),n=(i.initPanelUI(390,200),i.x=6,new h(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},u.prototype.initVerifiUI=function(){l.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t),this._returnBtn.y=100,this._pokerID.y=this._poker.y+this._poker.height+25},u.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),this._poker.setPoker(t="X"!=t&&t?t:"back"),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a=e<10?"0":"";this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)};var l,c=u;function u(){return l.call(this)||this}d=BlockChainShare.Panel,__extends(f,d),f.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("RESULT_HISTORY"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},f.prototype.initShoePokerUI=function(t){for(var i=this,n=new PIXI.Container,a=this,e=0;e<t;e++)!function(e){a._conCell[e]=new PIXI.Container,a._conCell[e].interactive=!0,a._conCell[e].buttonMode=!0;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HistoryBG"),t=(t.width9=360,t.height9=42,a._conCell[e].addChild(t),PIXI.Sprite.fromImage("Multiple_Blockchain_SicBoNumBtn0000")),t=(t.x=297,t.y=4,a._conCell[e].addChild(t),new h((e+1<100&&e+1<10?"0":"")+String(e+1),{fontFamily:"Arial",fontSize:15,fill:16777215}));t.x=320,t.y=13,t.anchor.x=.5,a._conCell[e].addChild(t),a._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoSelect"),a._conCell[e].select.width9=360,a._conCell[e].select.height9=42,a._conCell[e].addChild(a._conCell[e].select),a._conCell[e].select.visible=!1,a._conCell[e].y=50*e,a._conCell[e].x=6,n.addChild(a._conCell[e]),a._arrPokerUI[e]=new m,a._arrPokerUI[e].scale.set(.5),a._arrPokerUI[e].setPoker("back"),a._arrPokerUI[e].position.set(20,8),a._conCell[e].addChild(a._arrPokerUI[e]),a._conCell[e].on("mouseover",function(){i._conCell[e].select.visible=!0}),a._conCell[e].on("mouseout",function(){i._conCell[e].select.visible=!1}),a._conCell[e].data={pStr:"back",id:e+1},a._conCell[e].on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data=i._conCell[e].data,i.event.dispatchEvent(t)})}(e);this.scrollBar.updateScrollBar(n)},f.prototype.updateAllData=function(t){this.reset();for(var e=0;e<this._arrPokerUI.length;e++)e>=t.length?(this._arrPokerUI[e].setPoker("back"),this._conCell[e].data.pStr="back",this._conCell[e].alpha=.5,this._conCell[e].interactive=!1,this._conCell[e].select.visible=!1):""!==t[e]&&(this._arrPokerUI[e].setPoker(t[e]),this._conCell[e].data.pStr=t[e])},f.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._conCell[t].data.pStr="back",this._conCell[t].alpha=1,this._conCell[t].interactive=!0};var d,p=f;function f(t){var e=d.call(this)||this;return e._arrPokerUI=[],e._conCell=[],e.initPanelUI(),e.init(),e.initShoePokerUI(t),e}_=PIXI.Container,__extends(g,_),g.prototype.setPoker=function(t){if(t&&"back"!==t&&"X"!==t){for(var e=t.split(""),i=0,n=0;n<4;n++)this.pokerSpr[n].texture=PIXI.Texture.from(this.pokerTexture[e[n]]),"2"==e[n]&&i++;this.txtNum&&(this.txtNum.text=String(i))}else{for(var n=0;n<4;n++)this.pokerSpr[n].texture=PIXI.Texture.from(this.pokerTexture[0]);this.txtNum&&(this.txtNum.text="")}};var _,m=g;function g(t){void 0===t&&(t=!0);var e=_.call(this)||this;e.pokerSpr=[],e.pokerTexture=[],e.pokerTexture=["Multiple_Blockchain_SeDieBG0000","Multiple_SeDie_PokerIcon0001","Multiple_SeDie_PokerIcon0000"];for(var i=0;i<4;i++)e.pokerSpr[i]=new PIXI.Sprite(PIXI.Texture.from(e.pokerTexture[0])),e.addChild(e.pokerSpr[i]),e.pokerSpr[i].x=65*i,e.pokerSpr[i].height=50,e.pokerSpr[i].width=50;return t&&(e.txtNum=new h("",{fontFamily:"Arial",fontSize:46,fill:16777215}),e.txtNum.x=325,e.txtNum.anchor.x=.5,e.addChild(e.txtNum)),e}}(BlockchainSeDieMultiGames=BlockchainSeDieMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainSeDieMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainSeDieMain=i}(MultiGames=MultiGames||{}),!function(t){e.POKER_GO_TABLE_DONE="pokerGoTableDone",e.COLORBG_DONE="colorDone",e.COLORBG_RESET="colorReset",e.MARY_DONE="maryDone",e.POKER_OPEN_DONE="pokerOpenDone";var u=e;function e(){}t.emitterEvent=u;i=Composite.EventContainer,__extends(a,i),Object.defineProperty(a.prototype,"setRedCard",{set:function(t){this._redCard=t},enumerable:!1,configurable:!0}),a.prototype.initUI=function(){var i=this;this.arrInfo=[],this.arrColorBG=[];for(var t=0;t<12;t++){var e=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HiloBlack",t),e=(this.addChild(e),this.arrColorBG[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HiloBlack",t),this.addChild(this.arrColorBG[t]),this.arrInfo[t]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo("Multiple_Blockchain_HiloBlack",t),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HiloNum",t));e.texture=t<10?PIXI.Texture.fromFrame("Multiple_Blockchain_HiloNum000"+t):PIXI.Texture.fromFrame("Multiple_Blockchain_HiloNum00"+t),this.addChild(e)}this.tablePokerTxt=new PIXI.Text("01",{fill:16777215,fontSize:14}),this.tablePokerTxt.x=11.5,this.tablePokerTxt.y=47,this.tablePokerTxt.anchor.set(.5),this.tablePoker=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this.addChild(this.tablePoker),this.tablePoker.setPokerSize(25,40),this.tablePoker.setIconSize(17,13),this.tablePoker.visible=!1,this.tablePoker.addChild(this.tablePokerTxt),this.tablePoker.name="table",this.tablePoker.initListener(),this.tablePoker.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)});var n=new PIXI.Text("01",{fill:16777215,fontSize:14}),n=(n.x=12,n.y=47,n.anchor.set(.5),n.name="burnCardTxt3",this.showPoker=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this.addChild(this.showPoker),this.showPoker.setPokerSize(25,40),this.showPoker.setIconSize(17,13),this.centerPos=new PIXI.Point(222,193),this.showPoker.position=this.centerPos,this.showPoker.addChild(n),this.showPoker.name="burnCard3",this.showPoker.initListener(),this.showPoker.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),this.showPoker.getChildAt(0));n.x+=.5*n.width,n.anchor.x=.5,n.y+=.5*n.height,n.anchor.y=.5,this.sevenPoker=PIXI.Sprite.fromImage("Multiple_Hilo_Seven0000"),this.sevenPoker.width=25,this.sevenPoker.height=40,this.addChild(this.sevenPoker),this.sevenPoker.x=this.arrInfo[5].x,this.sevenPoker.y=this.arrInfo[5].y,this.sevenPoker.rotation=this.arrInfo[5].rotation/180*Math.PI,this.sevenPoker.visible=!1},a.prototype.initAnimate=function(e){for(var i=this,n=(this.goTableAnimate=TweenMax.fromTo(this.showPoker,.3,{x:this.centerPos.x,y:this.centerPos.y},{x:this.arrInfo[0].x,y:this.arrInfo[0].y,rotation:this.arrInfo[0].rotation/180*Math.PI,delay:1,paused:!0,onComplete:function(){i.animateController(u.POKER_GO_TABLE_DONE)}}),this.arrColorBGAnimate=[],this),t=0;t<this.arrColorBG.length;t++)!function(t){n.arrColorBGAnimate[t]=TweenMax.fromTo(n.arrColorBG[t],.3,{alpha:0},{alpha:1,paused:!0,onReverseComplete:function(){t==i.arrColorBG.length-1&&i.animateController(u.COLORBG_RESET)},onComplete:function(){t==i.arrColorBG.length-1&&i.animateController(u.COLORBG_DONE)}})}(t);for(var a=this.showPoker.getChildAt(0),o=(this.showPokerAnimate=new TimelineMax({paused:!0}),this.showPokerAnimate.data={pStr:"back"},this.showPokerAnimate.fromTo(a,.15,{height:e.pokerH,width:e.pokerW},{height:e.pokerH+3,width:0,immediateRender:!1,onComplete:function(){i.showPoker.setPoker(i.showPokerAnimate.data.pStr),i.animateController(u.POKER_OPEN_DONE)}}).fromTo(a,.15,{height:e.pokerH+3,width:0},{height:e.pokerH,width:e.pokerW,immediateRender:!1}),this.tablePoker.children),r=(this.tablePokerAnimate=new TweenMax(o,.5,{y:function(t){return o[t].y-50},alpha:0,immediateRender:!1,paused:!0,onComplete:function(){i.tablePoker.visible=!1}}),[]),t=0;t<3;t++){r[t]=new ShareUI.bcPokerUI(e.pokerName,e.pokerIBtnName),r[t].setIconSize(e.pokerIconW,e.pokerIconH),r[t].setPokerSize(e.pokerW,e.pokerH),this.addChild(r[t]),r[t].initListener(),r[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),r[t].visible=!1,r[t].name="burnCard"+t;var s=new PIXI.Text("01",{fill:16777215,fontSize:e.burnCardTxtSize});s.x=e.pokerW/2,s.y=e.burnCardTxtY,s.anchor.set(.5),s.name="burnCardTxt"+t,r[t].addChild(s)}r[3]=this.showPoker,this.burnCardAnimate=new TimelineMax({immediateRender:!1,paused:!0}),this.burnCardAnimate.staggerFromTo(r,.7,{immediateRender:!1,alpha:0,y:this.centerPos.y,onStart:function(){for(var t=0;t<r.length;t++)r[t].y=i.centerPos.y,r[t].setPoker("back"),r[t].rotation=0,r[t].visible=!0},cycle:{x:function(t){return t*e.burnCardSpacing+e.burnCardFirstX}}},{alpha:1}).to(r[0],.2,{immediateRender:!1,ease:Power2.easeOut,alpha:0,delay:1,onComplete:function(){r[0].visible=!1}}).to(r[1],.2,{immediateRender:!1,ease:Power3.easeOut,alpha:0,onComplete:function(){r[1].visible=!1}}).to(r[2],.2,{immediateRender:!1,ease:Power4.easeOut,alpha:0,onComplete:function(){r[2].visible=!1}}).to(this.showPoker,.4,{immediateRender:!1,x:this.centerPos.x,y:this.centerPos.y,onStart:function(){for(var t=0;t<3;t++)r[t].visible=!1}}),this.arrBgY=[];for(t=0;t<12;t++)this.arrBgY[t]=PIXILayoutTool.DisplayObject.createImage(e.yellowName,t),this.arrBgY[t].alpha=0,this.addChildAt(this.arrBgY[t],this.getChildIndex(this.arrColorBG[t])+1);this.miniMaryAnimate=new TimelineMax({repeat:-1,paused:!0,onStart:function(){for(var t=0;t<12;t++)i.arrBgY[t].visible=!0},onRepeat:function(){i.miniMaryAnimate.data.repeat++},onComplete:function(){},onUpdate:function(){var t;"back"!=i.miniMaryAnimate.data.pNum&&(t=i.miniMaryAnimate.currentLabel().substr(1),i.miniMaryAnimate.data.pNum==t)&&(i.miniMaryAnimate.pause(),i.animateController(u.MARY_DONE))}}),this.miniMaryAnimate.data={repeat:0,nowGroup:"",pNum:"back",play:!0};for(var h=this,t=0;t<this.arrBgY.length;t++)!function(t){h.miniMaryAnimate.addLabel("A"+t).fromTo(h.arrBgY[t],.09,{alpha:1},{immediateRender:!1,onStart:function(){i.miniMaryAnimate.data.nowGroup=t},onComplete:function(){i.arrBgY[t].alpha=0}})}(t);for(var l=this,t=1;t<this.arrBgY.length-1;t++)!function(t){l.miniMaryAnimate.addLabel("B"+(11-t)).fromTo(l.arrBgY[11-t],.09,{alpha:1},{immediateRender:!1,onStart:function(){i.miniMaryAnimate.data.nowGroup=11+t},onComplete:function(){i.arrBgY[11-t].alpha=0}})}(t);var c=PIXI.Sprite.fromImage(e.redCardName);c.width=e.pokerW,c.height=e.pokerH,c.position=e.redCardPos,this.addChild(c),this.redCardAnimate=new TimelineMax({paused:!0,onStart:function(){c.visible=!0},onComplete:function(){c.visible=!1}}),this.redCardAnimate.fromTo(c,.5,{alpha:0},{alpha:1}).fromTo(c,.5,{alpha:1},{immediateRender:!1,alpha:0},"+=1")},a.prototype.animateController=function(t){switch(t){case u.POKER_GO_TABLE_DONE:this.endGameExchangeTable(),this.resetColorBG();break;case u.COLORBG_DONE:break;case u.COLORBG_RESET:this.setColorBG();break;case u.MARY_DONE:var e=this.pokerPos[this._poker.split(".")[1]];this.goTableAnimate.updateTo({x:this.arrInfo[e].x,y:this.arrInfo[e].y,rotation:this.arrInfo[e].rotation/180*Math.PI},!0),this.goTableAnimate.restart(!0,!1),this.tablePokerAnimate.restart(!0,!1)}},a.prototype.resetColorBG=function(){for(var t=0;t<this.arrColorBG.length;t++){var e=this.pokerPos[this._poker.split(".")[1]];t<e?this.arrColorBGAnimate[t].timeScale(1-.85/e*t+1):(e=1-.85/(11-e)*(11-t)+1,isNaN(e)&&(e=1),this.arrColorBGAnimate[t].timeScale(e)),this.arrColorBGAnimate[t].reverse(0)}},a.prototype.setColorBG=function(){for(var t=this.pokerPos[this._poker.split(".")[1]],e=0;e<this.arrColorBG.length;e++)this.arrColorBGAnimate[e].timeScale(1),e<t?(this.arrColorBG[e].texture=PIXI.Texture.fromFrame(this.textureName+"Blue0000"),this.arrColorBGAnimate[e].updateTo({alpha:1.1-e*(1/t)},!0),this.arrColorBGAnimate[e].delay(.04*(t-e))):(this.arrColorBG[e].texture=PIXI.Texture.fromFrame(this.textureName+"Red0000"),this.arrColorBGAnimate[e].updateTo({alpha:1.1-1/(11-t)*(11-e)},!0),this.arrColorBGAnimate[e].delay(.04*(e-t))),this.arrColorBGAnimate[e].restart(!0,!1)},a.prototype.endGameExchangeTable=function(){var t=this.pokerPos[this._poker.split(".")[1]];this.tablePoker.setPoker(this._poker),this.tablePoker.position.set(this.arrInfo[t].x,this.arrInfo[t].y),this.tablePoker.rotation=this.arrInfo[t].rotation/180*Math.PI,this.tablePoker.visible=!0,this.tablePoker.setId(this.newCardId+3),this.tablePokerTxt.text=(this.newCardId+3<100?this.newCardId+3<10?"00":"0":"")+String(this.newCardId+3);for(var e=0,i=this.tablePoker.children;e<i.length;e++){var n=i[e];n.alpha=1,n.y+=50}this.showPoker.visible=!1,this.sevenPoker.visible=!1;for(var a=0;a<12;a++)this.arrBgY[a].visible=!1},a.prototype.setPoker=function(t){var e=t.split(",");if("P.7,X"==t||"P.7,"==t){this.sevenPoker.visible=!0,this._poker=e[0],this.showPoker.rotation=0,this.tablePoker.rotation=0,this.tablePoker.visible=!1,this.showPoker.setPoker("back");for(var i=0;i<this.arrColorBG.length;i++)this.arrColorBGAnimate[i].timeScale(1),i<5?(this.arrColorBG[i].texture=PIXI.Texture.fromFrame(this.textureName+"Blue0000"),this.arrColorBG[i].alpha=1.1-.2*i):(this.arrColorBG[i].texture=PIXI.Texture.fromFrame(this.textureName+"Red0000"),this.arrColorBG[i].alpha=1.1-1/6*(11-i));this.setNewCard(-1),this.miniMaryAnimate.isActive()&&(this.showPoker.visible=!0,this.showPoker.position=this.centerPos,this.showPoker.alpha=1)}if(this.miniMaryAnimate.isActive()||"P.7,X"===t&&"P.7,"===t)""!=e[0]&&"X"!=e[0]&&""!=e[1]&&"X"!=e[1]&&(this._poker=e[1],n=this.pokerPos[this._poker.split(".")[1]],this.showPokerAnimate.data.pStr=this._poker,this.showPokerAnimate.restart(),this.miniMaryAnimate.isActive()?this.miniMaryAnimate.data.pNum=n:this.animateController(u.MARY_DONE));else{""==e[0]||"X"==e[0]||""!=e[1]&&"X"!=e[1]?""!=e[0]&&"X"!=e[0]&&""!=e[1]&&"X"!=e[1]&&(this._poker=e[1]):this._poker=e[0];var n=this.pokerPos[this._poker.split(".")[1]];this.tablePoker.setPoker(this._poker),this.tablePoker.position.set(this.arrInfo[n].x,this.arrInfo[n].y),this.tablePoker.rotation=this.arrInfo[n].rotation/180*Math.PI,this.tablePoker.visible=!0;for(i=0;i<this.arrColorBG.length;i++)this.arrColorBGAnimate[i].timeScale(1),i<n?(this.arrColorBG[i].texture=PIXI.Texture.fromFrame(this.textureName+"Blue0000"),this.arrColorBG[i].alpha=1.1-i*(1/n)):(this.arrColorBG[i].texture=PIXI.Texture.fromFrame(this.textureName+"Red0000"),this.arrColorBG[i].alpha=1.1-1/(11-n)*(11-i));this.showPoker.position=this.centerPos,this.showPoker.visible=!(""!=e[0]&&"X"!=e[0]&&""!=e[1]&&"X"!=e[1]),this.showPoker.alpha=1}},a.prototype.setNewGame=function(t){this.miniMaryAnimate.data.play=!0,this.miniMaryAnimate.data.pNum="back",this.miniMaryAnimate.data.repeat=0,this.miniMaryAnimate.restart(!0,!1),t||(this.setNewCard(this.newCardId),this.burnCardAnimate.restart(!0,!1)),!t&&this.newCardId+4>this._redCard&&this.redCardAnimate.restart(!0,!1)},a.prototype.setNewCard=function(t,e){if(-1!=t)if(e&&e==this._poker){this.newCardId=t,this.tablePoker.setId(t-1),this.tablePokerTxt.text=(t-1<100?t-1<10?"00":"0":"")+String(t-1);for(var i=0;i<4;i++)this.getChildByName("burnCard"+i).getChildByName("burnCardTxt"+i).text=(t+i<100?t+i<10?"00":"0":"")+String(t+i),this.getChildByName("burnCard"+i).setId(t+i)}else if(this.isPass)this.isPass=!1;else{e&&(this.isPass=!0),this.newCardId=t+4,this.tablePoker.setId(t+3),this.tablePokerTxt.text=(t+3<100?t+3<10?"00":"0":"")+String(t+3),this.tablePoker.visible=!0;for(i=0;i<4;i++)this.getChildByName("burnCard"+i).getChildByName("burnCardTxt"+i).text=(t+4+i<100?t+4+i<10?"00":"0":"")+String(t+4+i),this.getChildByName("burnCard"+i).setId(t+4+i)}else{for(i=0;i<4;i++)this.getChildByName("burnCard"+i).getChildByName("burnCardTxt"+i).text=(1+i<100?1+i<10?"00":"0":"")+String(1+i),this.getChildByName("burnCard"+i).setId(1+i);this.tablePoker.setId(4),this.tablePokerTxt.text="004","P.7"!==this._poker&&"X"!==this._poker?this.tablePoker.visible=!0:this.tablePoker.visible=!1,this.showPoker.rotation=0,this.showPoker.setPoker("back"),this.newCardId=1}},a.prototype.resetAnimate=function(){this.goTableAnimate.pause(0);for(var t=0;t<this.arrColorBG.length;t++)this.arrColorBGAnimate[t].pause(0);this.showPokerAnimate.pause(0),this.tablePokerAnimate.pause(0),this.burnCardAnimate.pause(0),this.miniMaryAnimate.pause(0),this.redCardAnimate.pause(0),this.showPoker.rotation=0,this.tablePoker.rotation=0,this.showPoker.setPoker("back"),this.tablePoker.setPoker("back"),this.showPoker.visible=!0,this.showPoker.visible=!0,this.sevenPoker.visible=!1,this.isPass=!1},a.prototype.reset=function(){};var i,n=a;function a(t){var e=i.call(this)||this;return e.pokerPos=[0,11,0,1,2,3,4,5,6,7,0,8,9,10],e.isPass=!1,e.textureName=t,e}t.HiloPokerPanel=n}(BlockChainHiloShare=BlockChainHiloShare||{}),!function(t){var i,n=PIXI.Container,r=PIXI.Sprite,s=PIXI.Text,e=(i=HiloMultiGames.ViewModel,__extends(a,i),a.prototype.initBlockChainUI=function(){var t=this,e=(this.blockChainVideoPanel=new n,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HiloBG")),e=(this.blockChainVideoPanel.addChild(e),this._blockChainPoker=new u,this._blockChainPoker.interactive=!0,this.blockChainVideoPanel.addChild(this._blockChainPoker),this._blockChainPoker.visible=!1,this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new s(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new s(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new h(288),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.VerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()}),new s(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}));e.anchor.set(.5),e.x=235,e.y=185,this._infoTxt=new PIXI.Graphics,this._infoTxt.beginFill(0,.7),this._infoTxt.drawRect(e.x-e.width/2-20,e.y-e.height/2-5,e.width+40,e.height+10),this._infoTxt.endFill(),this._infoTxt.addChild(e),this.blockChainVideoPanel.addChild(this._infoTxt)},a.prototype.initBlockChainAnimate=function(){var t=this;this._readyAnimate=new TimelineMax({paused:!0}),this._readyAnimate.fromTo(this._blockChainPoker,.2,{alpha:1},{alpha:0,onStart:function(){t._blockChainPoker.visible=!0},onComplete:function(){t._blockChainPoker.visible=!1}}).fromTo(this._infoTxt,.2,{alpha:0},{alpha:1,onStart:function(){t._infoTxt.visible=!0}})},a.prototype.openVerPanel=function(t){var e=t.data.id-1;this._verificationPanel.showPanel(t.data.pStr,t.data.id,this.vModel.getHash(e),this.vModel.getSeed(e))},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},a.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId(),this.vModel.getPlst()),this._blockChainPoker.alpha=1,"burncard"!=this._status&&(this._blockChainPoker.visible=!0,this._infoTxt.visible=!1);var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid),this._blockChainPoker.setRedCard=e.pid},a.prototype.onBlockChainUpdate=function(t){var t=t.data,e=t.pk.split(","),i=t.cards.split(","),n=t.seeds.split(",");"burncard"===t.st?(this._blockChainPoker.visible=!1,this._shoePanel.reset(),this._readyAnimate.restart(!1),this.vModel.clearPlst()):"betting"===t.st?(this._blockChainPoker.visible=!0,this._infoTxt.visible&&(this._readyAnimate.seek(.4),this._readyAnimate.reverse())):"dealing"!==t.st&&t.st,""!==i[0]&&(this._shoePanel.updateData(i[0],e[1]),this._verificationPanel.updateData(Number(i[0]),e[1],n[0]))},a.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1},a.prototype.setPoker=function(){this._blockChainPoker.setPoker(this._poker)},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),("betting"==this._status||"dealing"==this._status&&"X"==this._poker.split(",")[1]&&this._isFir)&&this._blockChainPoker.setNewGame(this._isFir)},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._readyAnimate.pause(),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},a);function a(){var e=i.call(this)||this;return e._isFir=!0,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e.initBlockChainAnimate(),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=BlockChainShare.BacShoePanel,__extends(l,o),l.prototype.initShoePokerUI=function(t){for(var n=this,a=new PIXI.Container,o=(this._pokerR=r.fromImage("Multiple_Blockchain_PokerRed0000"),this._pokerR.width=41,this._pokerR.height=66,this._pokerR.visible=!1,a.addChild(this._pokerR),this),e=0;e<t;e++)!function(t){o._conCell[t]=new PIXI.Container,a.addChild(o._conCell[t]);var e=new s((t+1<100?t+1<10?"00":"0":"")+String(t+1),{fontFamily:"Arial",fontSize:15,fill:16777215}),i=(e.x=21,e.y=66,e.anchor.x=.5,o._conCell[t].addChild(e),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Select"));i.x=-4.5,i.y=-7,i.width9=49,o._conCell[t].addChild(i),i.visible=!1,o._arrPokerUI[t]=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),o._arrPokerUI[t].initListener(),o._arrPokerUI[t].setPokerSize(41,66),o._arrPokerUI[t].setPoker("back"),o._arrPokerUI[t].setId(t+1),o._conCell[t].addChild(o._arrPokerUI[t]),o._arrPokerUI[t].on("mouseover",function(){i.visible=!0}),o._arrPokerUI[t].on("mouseout",function(){i.visible=!1}),o._arrPokerUI[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,n.event.dispatchEvent(e)})}(e);this._pokerR.x=144,this._pokerR.y=10+90*Math.floor(99/8);for(e=0;e<this._conCell.length;e++)e<99?(this._conCell[e].x=6+e%8*46,this._conCell[e].y=10+90*Math.floor(e/8)):(this._conCell[e].x=6+(e+1)%8*46,this._conCell[e].y=10+90*Math.floor((e+1)/8));this.scrollBar.updateScrollBar(a)},l.prototype.updateAllData=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=-1),this.reset();for(var n=0;n<t.length;n++)""!==t[n]?this._arrPokerUI[n].setPoker(t[n]):this._arrPokerUI[n].setPoker("back");if(-1!==e){10<e&&(e=10);for(n=0;n<e;n++)this._arrPokerUI[n+1].alpha=.5}if(-1!==i){this._pokerR.x=6+(i-1)%8*46,this._pokerR.y=10+90*Math.floor((i-1)/8);for(n=0;n<this._conCell.length;n++)n<i-1?(this._conCell[n].x=6+n%8*46,this._conCell[n].y=10+90*Math.floor(n/8)):(this._conCell[n].x=6+(n+1)%8*46,this._conCell[n].y=10+90*Math.floor((n+1)/8));this._pokerR.visible=!0}else{for(n=0;n<this._conCell.length;n++)this._conCell[n].x=6+n%8*46,this._conCell[n].y=10+90*Math.floor(n/8);this._pokerR.visible=!1}};var o,h=l;function l(){return null!==o&&o.apply(this,arguments)||this}c=BlockChainHiloShare.HiloPokerPanel,__extends(d,c),d.prototype.initUI=function(){var i=this;this.arrInfo=[],this.arrColorBG=[];for(var t=0;t<12;t++){var e=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HiloBlack",t),e=(this.addChild(e),this.arrColorBG[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HiloBlack",t),this.addChild(this.arrColorBG[t]),this.arrInfo[t]=PIXILayoutTool.DisplayObject.getDisplayObjectInfo("Multiple_Blockchain_HiloBlack",t),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HiloNum",t));e.texture=t<10?PIXI.Texture.fromFrame("Multiple_Blockchain_HiloNum000"+t):PIXI.Texture.fromFrame("Multiple_Blockchain_HiloNum00"+t),this.addChild(e)}this.tablePokerTxt=new PIXI.Text("01",{fill:16777215,fontSize:14}),this.tablePokerTxt.x=11.5,this.tablePokerTxt.y=47,this.tablePokerTxt.anchor.set(.5),this.tablePoker=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this.addChild(this.tablePoker),this.tablePoker.setPokerSize(25,40),this.tablePoker.setIconSize(17,13),this.tablePoker.visible=!1,this.tablePoker.addChild(this.tablePokerTxt),this.tablePoker.name="table",this.tablePoker.initListener(),this.tablePoker.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)});var n=new PIXI.Text("01",{fill:16777215,fontSize:14}),n=(n.x=12,n.y=47,n.anchor.set(.5),n.name="burnCardTxt3",this.showPoker=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this.addChild(this.showPoker),this.showPoker.setPokerSize(25,40),this.showPoker.setIconSize(17,13),this.centerPos=new PIXI.Point(222,193),this.showPoker.position=this.centerPos,this.showPoker.addChild(n),this.showPoker.name="burnCard3",this.showPoker.initListener(),this.showPoker.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)}),this.showPoker.getChildAt(0));n.x+=.5*n.width,n.anchor.x=.5,n.y+=.5*n.height,n.anchor.y=.5,this.sevenPoker=PIXI.Sprite.fromImage("Multiple_Hilo_Seven0000"),this.sevenPoker.width=25,this.sevenPoker.height=40,this.addChild(this.sevenPoker),this.sevenPoker.x=this.arrInfo[5].x,this.sevenPoker.y=this.arrInfo[5].y,this.sevenPoker.rotation=this.arrInfo[5].rotation/180*Math.PI,this.sevenPoker.visible=!1};var c,u=d;function d(){var t=c.call(this,"Multiple_Blockchain_Hilo")||this,e=(t.initUI(),{pokerH:40,pokerW:25,pokerName:"SimplePoker",pokerIBtnName:"Multiple_Blockchain_IBtn",pokerIconW:17,pokerIconH:13,burnCardTxtSize:14,burnCardSpacing:32,burnCardTxtY:47,burnCardFirstX:175,yellowName:"Multiple_Blockchain_HiloYellow",redCardName:"Multiple_Blockchain_PokerRed0000",redCardPos:new PIXI.Point(222,145)});return t.initAnimate(e),t}}(BlockchainHiloMultiGames=BlockchainHiloMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainHiloMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainHiloMain=i}(MultiGames=MultiGames||{}),!function(t){var e,a=PIXI.Text,i=(e=Composite.EventContainer,__extends(n,e),n.prototype.initUI=function(){for(var n=this,t=0;t<8;t++)this._arrPokerUI[t]=new ShareUI.bcTianjiuUI("MuiltF_Blockchain_PaiGow","MuiltF_Blockchain_IBtn"),this.addChild(this._arrPokerUI[t]),this._arrPokerUI[t].position=PIXILayoutTool.DisplayObject.getPositionTargetName("MuiltF_Blockchain_PaiGow","b"+t),this._arrPokerUI[t].alpha=0,this._arrPokerUI[t].visible=!1,this._arrPokerUI[t].setPokerAnchor(.3,.5),this._arrPokerUI[t].setIconSize(40,20),this._arrPokerUI[t].initListener(),this._arrPokerUI[t].setPoker("back"),this._arrPokerUI[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,n.event.dispatchEvent(e)}),this._arrCardId[t+1]=new a("",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this._arrPokerUI[t].addChild(this._arrCardId[t+1]),this._arrCardId[t+1].x=33,this._arrCardId[t+1].y=155,this._arrCardId[t+1].anchor.set(.5,0);for(t=0;t<4;t++){this._arrTitle[t]=PIXILayoutTool.DisplayObject.createImageTargetName("MuiltF_Blockchain_TitleBG","b"+t,!1),this.addChild(this._arrTitle[t]),this._arrTitle[t].alpha=0;var e=new PIXI.Text(String(t),{fontFamily:"微軟正黑體",fontSize:"20px",fontWeight:"bolder",fill:"#000000"});this._arrTitle[t].addChild(e),e.anchor.y=.5,e.position.set(20,14),0==t&&(e.text="BANKER"),this._arrResult[t]=PIXILayoutTool.DisplayObject.createImageTargetName("MuiltF_Blockchain_PaiGowType","b"+t,!1),this.addChild(this._arrResult[t]),this._arrResult[t].visible=!1,0<t&&(this._arrWin[t]=PIXILayoutTool.DisplayObject.createImageTargetName("MuiltF_Blockchain_PaiGowWin","b"+t,!1),this.addChild(this._arrWin[t]),this._arrWin[t].visible=!1),this._arrType[t]=new PIXI.Text("",{fontFamily:"_sans",fontSize:"16px",fontWeight:"bolder",fill:"#FFFFFF"}),this.addChild(this._arrType[t]),this._arrType[t].anchor.set(.5),this._arrType[t].position.set(this._arrResult[t].x+67,this._arrResult[t].y+16)}this._IBtn=new ShareUI.Button("MuiltF_Blockchain_SicboIBtn"),this._IBtn.position.set(647,260),this.addChild(this._IBtn),this._IBtn.on("click",function(t){var e={},i=(e.pStr=""==n._pkStr?"back":n._pkStr,e.id=Number(n._arrCardId[0].text),new H5Event.H5BaseEvent("openVerification"));i.data=e,n.event.dispatchEvent(i)}),this._arrCardId[0]=new a("",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this._IBtn.addChild(this._arrCardId[0]),this._arrCardId[0].x=-5,this._arrCardId[0].anchor.set(1,0);for(var i=[],t=0;t<6;t++)i[t]=PIXI.Texture.fromFrame("MuiltF_Blockchain_Dice000"+String(t));for(t=0;t<2;t++)this._diceCon[t]=new PIXI.Sprite,this._diceCon[t].anchor.set(.5),this._diceCon[t].position.set(534+190*t,169),this.addChild(this._diceCon[t]),this._diceBg[t]=PIXI.Sprite.fromImage("MuiltF_Blockchain_DiceFrame0000"),this._diceBg[t].anchor.set(.5),this._diceBg[t].width=173,this._diceBg[t].height=179,this._diceCon[t].addChild(this._diceBg[t]),this._dice[t]=PIXI.Sprite.fromImage("MuiltF_Blockchain_Dice0000"),this._dice[t].anchor.set(.5),this._dice[t].position.set(0,-7),this._diceCon[t].addChild(this._dice[t]),this._dice[t].alpha=0,this._slotCon[t]=new BlockChainSicShare.slotContainer(192,i),this.addChild(this._slotCon[t]),this._slotCon[t].x=534+190*t,this._slotCon[t].y=-30;this._slotCon[1].event.addEventListener("STOP_SLOT",function(t){n.event.dispatchEvent(t);for(var e=0;e<2;e++)n._slotCon[e].runScale(),n._dice[e].texture=PIXI.Texture.fromImage("MuiltF_Blockchain_Dice000"+n._slotCon[e].getNumAry()[1])}),this.reset()},n.prototype.initAnimate=function(){for(var e=this,i=(this._runSlotAnimate=new TimelineLite({paused:!0}),this._runSlotAnimate.add(function(){e._slotCon[0].runSlot()}),this._runSlotAnimate.add(function(){e._slotCon[1].runSlot()},.1),this._stopSlotAnimate=new TimelineLite({paused:!0}),this._stopSlotAnimate.add(function(){e._slotCon[0].stopSlot()},.1),this._stopSlotAnimate.add(function(){e._slotCon[1].stopSlot()},.5),this._countDownAnimate=new TimelineMax({repeat:-1,paused:!0}),this._countDownAnimate.add(function(){e._pushAry=e._pushAry.slice(1),e._pushAry.push(e._numAry[e._pushNum]),e._pushNum++,9<e._pushNum&&(e._pushNum=0);for(var t=0;t<2;t++)e._dice[t].texture=e._slotCon[t].getSlotTexture(1),e._slotCon[t].setSlotTexture(1,e._pushAry[t]),e._dice[t].alpha=1,e._slotCon[t].alpha=0},0),this._countDownAnimate.staggerFromTo(this._dice,.5,{alpha:1},{alpha:0},0,.4),this._countDownAnimate.staggerFromTo(this._slotCon,.2,{alpha:0},{alpha:1},0,.8),this._moveAnimate=new TimelineLite({paused:!0}),this._moveAnimate.add(function(){for(var t=0;t<2;t++)e._dice[t].alpha=1,e._slotCon[t].alpha=0},0),this._moveAnimate.fromTo(this._diceCon[0].scale,.5,{x:1,y:1},{x:this._posObj.scale,y:this._posObj.scale},0),this._moveAnimate.fromTo(this._diceCon[1].scale,.5,{x:1,y:1},{x:this._posObj.scale,y:this._posObj.scale},0),this._moveAnimate.to(this._diceCon[0],.5,{x:this._posObj.moveX1,y:this._posObj.moveY},0),this._moveAnimate.to(this._diceCon[1],.5,{x:this._posObj.moveX2,y:this._posObj.moveY},0),this._moveAnimate.to(this._IBtn,.5,{x:this._posObj.idMoveX,y:this._posObj.idMoveY},0),this._moveAnimate.staggerTo(this._arrTitle,.5,{alpha:1},0,.5),this._moveAnimate.staggerTo(this._arrPokerUI,.5,{alpha:1,onStart:function(){for(var t=0;t<e._arrPokerUI.length;t++)e._arrPokerUI[t].visible=!0}},0,.5),this._slotCon[1].event.addEventListener("STOP_SCALE",function(t){e._moveAnimate.restart(!0)}),this._resetAnimate=new TimelineLite({paused:!0}),this._resetAnimate.to(this._diceCon[0].scale,.5,{x:1,y:1},0),this._resetAnimate.to(this._diceCon[1].scale,.5,{x:1,y:1},0),this._resetAnimate.to(this._diceCon[0],.5,{x:this._posObj.oriX1,y:this._posObj.oriY},0),this._resetAnimate.to(this._diceCon[1],.5,{x:this._posObj.oriX2,y:this._posObj.oriY},0),this._resetAnimate.to(this._IBtn,.5,{x:this._posObj.idOriX,y:this._posObj.idOriY},0),this._resetAnimate.staggerTo(this._arrTitle,.5,{alpha:0},0,0),this._resetAnimate.staggerTo(this._arrPokerUI,.5,{alpha:0,onComplete:function(){for(var t=0;t<e._arrPokerUI.length;t++)e._arrPokerUI[t].visible=!1}},0,0),this),t=0;t<8;t++)!function(t){i.pokerAnimate[t]=new TimelineMax({paused:!0}),i.pokerAnimate[t].data="01",i.pokerAnimate[t].fromTo(i._arrPokerUI[t].getChildAt(0).scale,.2,{x:1,y:1},{x:0,y:1.02,onComplete:function(){e._arrPokerUI[t].setPoker(e.pokerAnimate[t].data)}}),i.pokerAnimate[t].to(i._arrPokerUI[t].getChildAt(0).scale,.2,{x:1,y:1})}(t)},n.prototype.adjustTextSize=function(){for(var t=0;t<this._arrType.length;t++)Tools.AdjustText.adjustFontSize(this._arrType[t],12,60)},n.prototype.setPoker=function(t){this.reset();for(var e=!1,i=!1,n=!1,a=!1,o=t.split(","),r=o.length-1,s=0;s<r;s++)if(""!=o[s+1]&&"X"!=o[s+1]){var h=o[s+1];switch(""!=this._pointAry[s]?this._arrPokerUI[s].setPoker(h):(this.pokerAnimate[s].data=h,this.pokerAnimate[s].restart(!0)),s<2?"banker":s<4?"player1":s<6?"player2":"player3"){case"banker":e=1==s;break;case"player1":i=3==s;break;case"player2":n=5==s;break;case"player3":a=7==s}this._pointAry[s]=h}""!=o[0]&&"X"!=o[0]&&(this._pkStr=o[0]);t=new PaiLogicShare.PaiTianjiu;e&&(this._arrResult[0].visible=!0,this._arrType[0].text=t.getPokerType(o[1],o[2])),i&&(this._arrResult[1].visible=!0,this._arrType[1].text=t.getPokerType(o[3],o[4])),n&&(this._arrResult[2].visible=!0,this._arrType[2].text=t.getPokerType(o[5],o[6])),a&&(this._arrResult[3].visible=!0,this._arrType[3].text=t.getPokerType(o[7],o[8])),this.adjustTextSize()},n.prototype.setWin=function(t){for(var e=0;e<t.length;e++)1==t[e]&&(this._arrWin[1].visible=!0),3==t[e]&&(this._arrWin[2].visible=!0),5==t[e]&&(this._arrWin[3].visible=!0)},n.prototype.setStatus=function(t,e){if(void 0===e&&(e=!1),"betting"==t){if(this.reset(),this.resetAnimate(),e){for(var i=0;i<8;i++)this._arrPokerUI[i].visible=!1,this._arrPokerUI[i].alpha=0,i<4&&(this._arrTitle[i].alpha=0),i<2&&(this._dice[i].alpha=0,this._slotCon[i].alpha=1);this._diceCon[0].scale.set(1),this._diceCon[1].scale.set(1),this._diceCon[0].position.set(this._posObj.oriX1,this._posObj.oriY),this._diceCon[1].position.set(this._posObj.oriX2,this._posObj.oriY),this._IBtn.position.set(this._posObj.idOriX,this._posObj.idOriY)}else this.resetDice();this.runCountDown()}else if("rollDice"==t){if(e){for(i=0;i<8;i++)this._arrPokerUI[i].visible=!1,this._arrPokerUI[i].alpha=0,i<4&&(this._arrTitle[i].alpha=0),i<2&&(this._dice[i].alpha=0,this._slotCon[i].alpha=1);this._diceCon[0].scale.set(1),this._diceCon[1].scale.set(1),this._diceCon[0].position.set(this._posObj.oriX1,this._posObj.oriY),this._diceCon[1].position.set(this._posObj.oriX2,this._posObj.oriY),this._IBtn.position.set(this._posObj.idOriX,this._posObj.idOriY)}this.runSlot()}else if(("dealing"==t||"waiting"==t)&&e){for(i=0;i<8;i++)this._arrPokerUI[i].visible=!0,this._arrPokerUI[i].alpha=1,i<4&&(this._arrTitle[i].alpha=1),i<2&&(this._dice[i].alpha=1,this._slotCon[i].alpha=0);this._diceCon[0].scale.set(this._posObj.scale),this._diceCon[1].scale.set(this._posObj.scale),this._diceCon[0].position.set(this._posObj.moveX1,this._posObj.moveY),this._diceCon[1].position.set(this._posObj.moveX2,this._posObj.moveY),this._IBtn.position.set(this._posObj.idMoveX,this._posObj.idMoveY)}},n.prototype.setCard=function(t){"0"!=t&&(t=Number(t)<2?"01":"10",this._arrCardId[0].text=t)},n.prototype.setPokerId=function(t){var t=(t=void 0===t?"":t).split(","),t=(Number(t[0])+Number(t[1]))%4,e=[1,5,2,6,3,7,4,8];1==t?e=[1,5,2,6,3,7,4,8]:2==t?e=[4,8,1,5,2,6,3,7]:3==t?e=[3,7,4,8,1,5,2,6]:0==t&&(e=[2,6,3,7,4,8,1,5]);for(var i=0;i<8;i++){var n=e[i];"10"===this._arrCardId[0].text?n+=10:n+=1,this._arrCardId[i+1].text=(n<10?"0":"")+String(n),this._arrPokerUI[i].setId(n)}},n.prototype.runCountDown=function(){this._countDownAnimate.restart(!0)},n.prototype.runSlot=function(t){var e=(t=void 0===t?"":t).split(",");if(""!=t){for(var i=0;i<e.length;i++)this._slotCon[i].setPoker(Number(e[i])-1),this._runSlotAnimate.isActive()||(this._slotCon[i].setFinalPoker(),this._dice[i].texture=this._slotCon[i].getSlotTexture(1));this._stopSlotAnimate.restart(),this.setPokerId(t)}else{this._countDownAnimate.pause();for(i=0;i<2;i++)this._dice[i].alpha=0,this._slotCon[i].alpha=1;this._runSlotAnimate.restart(!0)}},n.prototype.resetDice=function(){0!=this._arrTitle[0].alpha&&this._resetAnimate.restart(!0),this._pointAry=["","","","","","","",""]},n.prototype.reset=function(){for(var t=0;t<8;t++)this._arrPokerUI[t].setPoker("back");this._pkStr="";for(t=0;t<4;t++)this._arrResult[t].visible=!1,this._arrType[t].text="",0<t&&(this._arrWin[t].visible=!1)},n.prototype.resetAnimate=function(){this._runSlotAnimate.pause(),this._stopSlotAnimate.pause(),this._countDownAnimate.pause(),this._moveAnimate.pause(),this._resetAnimate.pause();for(var t=0;t<this._slotCon.length;t++)this._slotCon[t].reset(),this._slotCon[t].resetAnimate();this._pointAry=["","","","","","","",""]},n);function n(){var t=e.call(this)||this;return t.pokerAnimate=[],t._slotCon=[],t._diceCon=[],t._diceBg=[],t._dice=[],t._arrPokerUI=[],t._arrTitle=[],t._arrType=[],t._arrResult=[],t._arrWin=[],t._arrCardId=[],t._pushAry=[5,0,1],t._numAry=[0,1,2,3,4,5,4,3,2,1],t._pushNum=2,t._pointAry=["","","","","","","",""],t}t.PokerPanel=i}(BlockChainPaiShare=BlockChainPaiShare||{}),!function(t){i=PIXI.Container,__extends(n,i),n.prototype.initUI=function(){for(var t=this._objSetting,e=0;e<21;e++){var i=new ShareUI.TianjiuUI(t.pokerName),i=(i.x=t.originalX+t.gapX*(e%t.row),i.y=t.originalY+t.gapY*Math.floor(e/t.row),null!=t.pokerW&&(i.width=t.pokerW),null!=t.pokerH&&(i.height=t.pokerH),this.addChild(i),i.setPoker(this._arrPoint[e]),new PIXI.Text(this._arrPoint[e],t.txtStyle));i.anchor.set(.5),i.x=t.originalX2+t.gapX2*(e%t.row),i.y=t.originalY2+t.gapY2*Math.floor(e/t.row),this.addChild(i)}};var i,e=n;function n(t){var e=i.call(this)||this;return e._arrPoint=["66","11","44","31","55","33","22","56","46","16","15","36","45","35","26","34","25","24","32","14","12"],e._objSetting=t,e.initUI(),e}t.PointTable=e}(BlockChainPaiShare=BlockChainPaiShare||{}),!function(t){var i,n=PIXI.Container,a=PIXI.Sprite,p=PIXI.Text,e=(i=PaiGowMultiGames.ViewModel,__extends(o,i),o.prototype.initBlockChainUI=function(){var t=this,e=(this.blockChainVideoPanel=new n,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),e=(this.blockChainVideoPanel.addChild(e),this._blockChainPoker=new c,this._blockChainPoker.interactive=!0,this.blockChainVideoPanel.addChild(this._blockChainPoker),this._blockChainPoker.visible=!1,this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new p(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new p(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new P,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new f,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()}),new p(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}));e.anchor.set(.5),e.x=235,e.y=185,this._infoTxt=new PIXI.Graphics,this._infoTxt.beginFill(0,.7),this._infoTxt.drawRect(e.x-e.width/2-20,e.y-e.height/2-5,e.width+40,e.height+10),this._infoTxt.endFill(),this._infoTxt.addChild(e),this.blockChainVideoPanel.addChild(this._infoTxt)},o.prototype.initBlockChainAnimate=function(){var t=this;this._readyAnimate=new TimelineMax({paused:!0}),this._readyAnimate.fromTo(this._blockChainPoker,.2,{alpha:1},{alpha:0,onStart:function(){t._blockChainPoker.visible=!0},onComplete:function(){t._blockChainPoker.visible=!1}}).fromTo(this._infoTxt,.2,{alpha:0},{alpha:1,onComplete:function(){}})},o.prototype.openVerPanel=function(t){var e=t.data.id-1;this._verificationPanel.showPanel(t.data.pStr,t.data.id,this.vModel.getHash(e),this.vModel.getSeed(e)),this._verificationPanel.openPanel(!1)},o.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},o.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},o.prototype.onPlstUpdate=function(t){-1==t.data.newFirId&&this.vModel.clearPreData()},o.prototype.onGetHash=function(t){this._shoePanel.updateAllData(this.vModel.getAllPoker().allPoker),this._blockChainPoker.visible=!0},o.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];t.st&&"betting"!==t.st&&"dealing"!==t.st&&"waiting"!==t.st&&t.st,this._shoePanel.updateAllData(this.vModel.getAllPoker().allPoker);for(var a=0;a<i.length;a++)""!==i[a]&&this._verificationPanel.updateData(Number(i[a]),e[a],n[a])},o.prototype.setResult=function(){var t=PaiLogicShare.PaiResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t),this._blockChainPoker.setWin(t)},o.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1},o.prototype.initRoadInfo=function(){this._roadmapPanel=new g,this._roadmapPanel.x=8,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram2x4&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:4,gridW:112,gridH:52,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram2x4"});var t=new a(Tools.TextureStore.repository.Fram2x4),e={posX:0,posY:36},e=(this._roadmapPanel.initRoadBg(e,t),new a(Tools.TextureStore.repository.Fram2x4)),t={posX:0,posY:90},t=(this._roadmapPanel.initRoadBg(t,e),new a(Tools.TextureStore.repository.Fram2x4)),e=(t.height=34,{});e.posX=0,e.posY=0,this._roadmapPanel.initRoadBg(e,t),this._roadmapPanel.initUI(),this.addChild(this._roadmapPanel)},o.prototype.setPoker=function(){",,,,,,,,"!=this._poker&&this._blockChainPoker.setPoker(this._poker)},o.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this);var t=this.vModel.getGameInfo();this._dice!=t.getDice()&&(this._dice=t.getDice(),this._dice)&&this._blockChainPoker.runSlot(this._dice),this._bcRoundNum!=this._roundNum&&(this._bcRoundNum=this._roundNum,"0"!=this._bcRoundNum.split("-")[1]?this._blockChainPoker.setCard(this._bcRoundNum.split("-")[1]):this._readyAnimate.restart(!1))},o.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"ready"!=this._status&&"betting"==this._status&&("0"==this._roundNum.split("-")[1]?(this._readyAnimate.seek(.4),this._readyAnimate.reverse()):(this._blockChainPoker.visible=!0,this._blockChainPoker.alpha=1,this._infoTxt.alpha=0)),this._blockChainPoker.setStatus(this._status,this._isFir)},o.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},o.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},o);function o(){var e=i.call(this)||this;return e._isFir=!0,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e.initBlockChainAnimate(),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;r=ShareUI.bcTianjiuUI,__extends(h,r);var r,s=h;function h(t,e){t=r.call(this,t,e=void 0===e?"":e)||this;return t._icon.x=0,t._icon.y=t.pokerSpr.height-5,t}l=BlockChainPaiShare.PokerPanel,__extends(u,l),u.prototype.initUI=function(){for(var n=this,t=[29,65,142,178,255,291,368,404],e=0;e<8;e++){this._arrPokerUI[e]=new s("Tianjiu","Multiple_Blockchain_IBtn"),this._arrPokerUI[e].setIconSize(20,12),this.addChild(this._arrPokerUI[e]),this._arrPokerUI[e].position.set(t[e],146),this._arrPokerUI[e].alpha=0,this._arrPokerUI[e].visible=!1,this._arrPokerUI[e].initListener(),this._arrPokerUI[e].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,n.event.dispatchEvent(e)});var i=this._arrPokerUI[e].getChildAt(0);i.x=.5*i.width,i.anchor.x=.5,i.y=.5*i.height,i.anchor.y=.5,this._arrCardId[e+1]=new p("16",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this._arrPokerUI[e].addChild(this._arrCardId[e+1]),this._arrCardId[e+1].x=16,this._arrCardId[e+1].y=82,this._arrCardId[e+1].anchor.set(.5,0)}for(e=0;e<4;e++){this._arrTitle[e]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_TitleBG"),this._arrTitle[e].width9=79,this._arrTitle[e].position.set(t[2*e]-4,120),this.addChild(this._arrTitle[e]),this._arrTitle[e].alpha=0;var a=new PIXI.Text(String(e),{fontFamily:"微軟正黑體",fontSize:"14px",fontWeight:"bolder",fill:"#000000"});this._arrTitle[e].addChild(a),a.anchor.y=.5,a.position.set(10,8.5),0==e&&(a.text="BANKER"),this._arrResult[e]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_PaiGowLose",e),this.addChild(this._arrResult[e]),this._arrResult[e].visible=!1,0<e&&(this._arrWin[e]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_PaiGowBlue",e),this.addChild(this._arrWin[e]),this._arrWin[e].visible=!1),this._arrType[e]=new PIXI.Text("",{fontFamily:"微軟正黑體",fontSize:"14px",fill:"#FFFFFF"}),this.addChild(this._arrType[e]),this._arrType[e].anchor.set(.5),this._arrType[e].position.set(this._arrResult[e].x+34.5,this._arrResult[e].y+8.5)}this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(246,192),this.addChild(this._IBtn),this._IBtn.on("click",function(t){var e={},i=(e.pStr=""==n._pkStr?"back":n._pkStr,e.id=Number(n._arrCardId[0].text),new H5Event.H5BaseEvent("openVerification"));i.data=e,n.event.dispatchEvent(i)}),this._arrCardId[0]=new p("16",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this._IBtn.addChild(this._arrCardId[0]),this._arrCardId[0].position.set(-3,7),this._arrCardId[0].anchor.set(1,.5);for(var o=[],e=0;e<6;e++)o[e]=PIXI.Texture.fromFrame("Multiple_Blockchain_SicBo000"+String(e));for(e=0;e<2;e++)this._diceCon[e]=new PIXI.Sprite,this._diceCon[e].anchor.set(.5),this._diceCon[e].position.set(195+79*e,155),this.addChild(this._diceCon[e]),this._diceBg[e]=PIXI.Sprite.fromImage("Multiple_Blockchain_DiceFrame0000"),this._diceBg[e].anchor.set(.5),this._diceBg[e].width=65,this._diceBg[e].height=68,this._diceCon[e].addChild(this._diceBg[e]),this._dice[e]=PIXI.Sprite.fromImage("Multiple_Blockchain_SicBo0000"),this._dice[e].anchor.set(.5),this._dice[e].position.set(0,-2),this._diceCon[e].addChild(this._dice[e]),this._dice[e].alpha=0,this._slotCon[e]=new BlockChainSicShare.slotContainer(74,o),this.addChild(this._slotCon[e]),this._slotCon[e].x=195+79*e,this._slotCon[e].y=79;this._slotCon[1].event.addEventListener("STOP_SLOT",function(t){n.event.dispatchEvent(t);for(var e=0;e<2;e++)n._slotCon[e].runScale(),n._dice[e].texture=PIXI.Texture.fromImage("Multiple_Blockchain_SicBo000"+n._slotCon[e].getNumAry()[1])}),this.reset()},u.prototype.adjustTextSize=function(){for(var t=0;t<this._arrType.length;t++)this._arrType[t].style.fontSize=Tools.AdjustText.adjustFontSize(this._arrType[t],12,72)};var l,c=u;function u(){var t=l.call(this)||this;return t._posObj=new Object({scale:.5,oriX1:195,oriX2:274,oriY:155,moveX1:45,moveX2:83,moveY:78,idOriX:246,idOriY:192,idMoveX:77,idMoveY:97}),t.initUI(),t.initAnimate(),t}d=BlockChainShare.VerificationPanel,__extends(_,d),_.prototype.initPoker=function(){this._poker=new ShareUI.TianjiuUI("Multiple_Hall_Blockchain_PaiGow"),this._poker.position.set(168,12),this._poker.scale.set(.85),this._conContent.addChild(this._poker),this._dicePoker=new I,this._dicePoker.scale.set(1.7),this._dicePoker.position.set(130,38),this._conContent.addChild(this._dicePoker)},_.prototype.initRultUI=function(){for(var h=this,l=[206,338,338,338],c=[102,140,305,481],u=[IPL.DictManager.getDict("BC_POKER_SN"),IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],d=this,t=0;t<4;t++)!function(t){var e,i,n,a,o,r=new ShareUI.Button("Multiple_Blockchain_TipBtn"),s=(r.x=l[t],r.y=c[t],d._conContent.addChild(r),new BlockChainShare.Panel);s.initPanelUI(390,200),s.x=6,1==t?(e=new BlockChainPaiShare.PointTable({pokerName:"Multiple_Hall_Blockchain_PaiGow",pokerW:42,pokerH:98,txtStyle:{fontFamily:"Arial",fontSize:"16px",fill:"#FFFFFF"},originalX:37,originalY:105,gapX:45,gapY:120,originalX2:53,originalY2:217,gapX2:45,gapY2:120,row:7}),s.addChild(e),i=new p("1."+IPL.DictManager.getDict("BC_POINT_TABLE"),{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}),s.addChild(i),i.position.set(20,70),i=new p("2."+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}),s.addChild(i),i.position.set(20,475),d.addChild(s),(n=new BlockChainShare.Panel).initPanelUI(390,200),n.x=6,d.addChild(n),(a=new p(IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0})).x=25,a.y=65,n.addChild(a),r.on("pointerdown",function(){h.isTianjiu?(s.openPanel(),s.setH(e.height+160),s.y=r.y-30):(n.openPanel(),n.setH(a.height+80),n.y=r.y)})):((o=new p(u[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0})).x=25,o.y=65,s.addChild(o),d.addChild(s),r.on("pointerdown",function(){s.openPanel(),s.setH(o.height+80),s.y=r.y}))}(t)},_.prototype.initVerifiUI=function(){d.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new p(IPL.DictManager.getDict("INTACT_SHOE"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t),this._returnBtn.y=100,this._pokerID.y=this._poker.y+this._poker.height+15},_.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),"X"!=t&&t||(t="back"),1==e||10==e?(this.isTianjiu=!1,this._dicePoker.setPoker(t),this._dicePoker.visible=!0,this._poker.visible=!1):(this.isTianjiu=!0,this._poker.setPoker(t)),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a=e<10?"0":"";this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n},_.prototype.updateData=function(t,e,i){d.prototype.updateData.call(this,t,e,i),t===Number(this._pokerID.text)&&this._dicePoker.setPoker(e)},_.prototype.reset=function(){d.prototype.reset.call(this),this._dicePoker.setPoker("back"),this._dicePoker.visible=!1,this._poker.visible=!0};var d,f=_;function _(){return d.call(this)||this}m=SharePanel.RoadmapPanel,__extends(v,m),v.prototype.initUI=function(){var t={fontFamily:"Arial",fontSize:"18px",fill:"#FFFFFF"},e=[];this.arrPoker=[];for(var i="tw"==Tools.CheckLang.threeLang()?["莊家","順門","出門","到門"]:"cn"==Tools.CheckLang.threeLang()?["庄家","顺门","出门","到门"]:["B","P1","P2","P3"],n=0;n<i.length;n++)e[n]=new PIXI.Text(i[n],t),e[n].position.set(56+115*n,17),e[n].anchor.set(.5),this.roadmapUI.addChild(e[n]);for(var a=[30,60,145,175,260,290,375,405],n=0;n<16;n++)this.arrPoker[n]=new ShareUI.TianjiuUI("Multiple_Hall_Blockchain_PaiGow"),this.arrPoker[n].scale.set(.55,.5),this.arrPoker[n].x=n<8?a[n]:a[n-8],this.arrPoker[n].y=n<8?37:91,this.roadmapUI.addChild(this.arrPoker[n]);e[0].style.fill="#FFD277"},v.prototype.setData=function(t,e){if(void 0===e&&(e=""),this.resetRoadmap(),t)for(var i=t.split(","),n=0;n<i.length;n++)for(var a=0;a<8;a++)this.arrPoker[8*n+a].visible=!0,this.arrPoker[8*n+a].setPoker(i[n].split("-")[a+1])},v.prototype.resetRoadmap=function(){for(var t=0;t<this.arrPoker.length;t++)this.arrPoker[t].setPoker("back"),this.arrPoker[t].visible=!1};var m,g=v;function v(){return null!==m&&m.apply(this,arguments)||this}y=BlockChainShare.Panel,__extends(S,y),S.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("INTACT_SHOE"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},S.prototype.initShoePokerUI=function(){for(var a=this,o=new PIXI.Container,r=this,t=0;t<34;t++)!function(e){r._conCell[e]=new PIXI.Container,r._conCell[e].interactive=!0,r._conCell[e].buttonMode=!0;var t,i,n=new p((e+1<10?"0":"")+String(e+1),{fontFamily:"Arial",fontSize:15,fill:16777215});n.anchor.x=.5,0==e||9==e?((t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HistoryBG")).position.set(3,3),t.width9=178,t.height9=42,r._conCell[e].addChild(t),(i=PIXI.Sprite.fromImage("Multiple_Blockchain_SicBoNumBtn0000")).x=121,i.y=4,t.addChild(i),r._conCell[e].addChild(n),n.x=146,n.y=15,r._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoSelect"),r._conCell[e].select.width9=184,r._conCell[e].select.height9=48,r._conCell[e].addChild(r._conCell[e].select),r._conCell[e].select.visible=!1,9==e&&(r._conCell[e].y=190),r._arrPokerUI[e]=new I,r._arrPokerUI[e].setPoker("back"),r._arrPokerUI[e].position.set(12,8)):(r._conCell[e].addChild(n),n.x=26,n.y=103,r._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_Select"),r._conCell[e].select.width9=50,r._conCell[e].select.height9=126,r._conCell[e].addChild(r._conCell[e].select),r._conCell[e].select.visible=!1,0<e&&e<9?(r._conCell[e].x=(e-1)%8*47,r._conCell[e].y=55+120*Math.floor((e-1)/8)):9<e&&(r._conCell[e].x=(e-2)%8*47,r._conCell[e].y=125+120*Math.floor((e-2)/8)),r._arrPokerUI[e]=new ShareUI.bcTianjiuUI("Multiple_Hall_Blockchain_PaiGow","Multiple_Blockchain_IBtn"),r._arrPokerUI[e].setPoker("back"),r._arrPokerUI[e].setIconSize(20,12),r._arrPokerUI[e].position.set(4,5)),r._conCell[e].addChild(r._arrPokerUI[e]),r._conCell[e].on("mouseover",function(){a._conCell[e].select.visible=!0}),r._conCell[e].on("mouseout",function(){a._conCell[e].select.visible=!1}),r._conCell[e].data={pStr:"back",id:e+1},r._conCell[e].on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data=a._conCell[e].data,a.event.dispatchEvent(t)}),o.addChild(r._conCell[e])}(t);this.scrollBar.updateScrollBar(o)},S.prototype.updateAllData=function(t){this.reset();for(var e=0;e<this._arrPokerUI.length;e++)e>=t.length?(this._arrPokerUI[e].setPoker("back"),this._conCell[e].data.pStr="back",this._conCell[e].alpha=.5,this._conCell[e].interactive=!1,this._conCell[e].select.visible=!1):""!==t[e]&&(this._arrPokerUI[e].setPoker(t[e]),this._conCell[e].data.pStr=t[e])},S.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._conCell[t].data.pStr="back",this._conCell[t].alpha=1,this._conCell[t].interactive=!0};var y,P=S;function S(){var t=y.call(this)||this;return t._arrPokerUI=[],t._conCell=[],t.initPanelUI(),t.init(),t.initShoePokerUI(),t}b=PIXI.Container,__extends(B,b),B.prototype.setPoker=function(t){var e=-1!=t.indexOf(",")?t.split(","):t.split("");if(""==e[0]||"back"==t||"X"==t){for(var i=0;i<this.pokerSpr.length;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_Blockchain_DiceBG0000");this.txtNum&&(this.txtNum.text="")}else for(i=0;i<this.pokerSpr.length;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_SicBo_Poker000"+(e[i]-1)),Number(e[i])};var b,I=B;function B(){var t=b.call(this)||this;t.pokerSpr=[];for(var e=0;e<2;e++)t.pokerSpr[e]=new PIXI.Sprite(PIXI.Texture.from("Multiple_Blockchain_DiceBG0000")),t.addChild(t.pokerSpr[e]),t.pokerSpr[e].x=35*e,t.pokerSpr[e].height=30,t.pokerSpr[e].width=30;return t}}(BlockChainPaiGowMultiGames=BlockChainPaiGowMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockChainPaiGowMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainPaiGowMain=i}(MultiGames=MultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.initUI=function(){},n.prototype.initAnimate=function(){for(var e=this,i=(this.fillAnimate=new TimelineMax({paused:!0,delayed:.1}),this),t=0;t<this.MaxQuantityW;t++)!function(t){i.fillAnimate.add(function(){e.arrBar[t].newGame()},"+=0.05")}(t);this._BCiconAnimate=new TimelineMax({repeat:-1,paused:!0,onUpdate:function(){e._BCicon.scale.x<0?e._BCicon.tint=11184810:e._BCicon.tint=16777215}}),this._BCiconAnimate.fromTo(this._BCicon.scale,.8,{x:1},{x:-1}),this._BCiconAnimate.fromTo(this._BCicon.scale,.8,{x:-1},{x:1})},n.prototype.setStatus=function(t,e){if(void 0===e&&(e=!1),this.startAnimated=!1,e){"ready"!==t&&"betting"!==t||(this._BCiconAnimate.restart(),this._BCicon.alpha=1);for(i=0;i<this.arrBar.length;i++)this.arrBar[i].resetCoinPos()}else if("ready"===t){for(var i=0;i<this.MaxQuantityW;i++)this.arrBar[i].clearAll(!0);this.fillAnimate.restart(),this._BCiconAnimate.restart(),TweenMax.to(this._BCicon,1,{alpha:1})}"ready"===t?this.sumPoint.text="":"betting"===t?(this.sumPoint.text="",this.startAnimated=!0,this.randomAnimate()):(this._BCiconAnimate.pause(),this._BCicon.alpha=0)},n.prototype.runPoker=function(t,e){if(e=void 0===e?!1:e){var i=t%this.MaxQuantityW;0===i&&(i=this.MaxQuantityW);for(var n=0;n<this.MaxQuantityW;n++)for(var a=0;a<this.MaxQuantityH;a++)this.arrBallR[n][a].visible=!1;for(n=0;n<this.arrBallR.length;n++)this.arrBallR[n][3].visible=n<i}else this.numWin=t,this.numNow=0,this.boom(0);this.sumPoint.text=String(t)},n.prototype.setNewCard=function(t){-1!==(t=void 0===t?-1:t)?(t=t,this.cardId.text=(t<10?"0":"")+String(t)+""):this.cardId.text=""},n.prototype.randomAnimate=function(){var t=this;switch(Math.round(10*Math.random())%3){case 0:this.betBall.startAnimOne();break;case 1:this.betBall.startAnimTwo();break;case 2:this.betBall.startAnimThr()}this._randomT=window.setTimeout(function(){t.startAnimated&&t.randomAnimate()},3e3)},n.prototype.boom=function(e){var i=this;this._boomT=window.setTimeout(function(){e==i.MaxQuantityW&&(e=0),i.arrBar[e].boomAnim(i.numWin-i.numNow<=16),e++,i.numNow++;var t=i.numWin%i.MaxQuantityW;0==t&&(t=i.MaxQuantityW),i.numWin-i.numNow>t?i.boom(e):(t=new H5Event.H5BaseEvent("showResult"),i.event.dispatchEvent(t))},30*e)},n.prototype.reset=function(){for(var t=0;t<4;t++)for(var e=0;e<4;e++)this.arrBallR[t][e].position=this.arrBallRPos[t][e].clone(),this.arrBallR[t][e].visible=!0},n.prototype.resetAnimate=function(){for(var t=0;t<4;t++)this.arrBar[t].reset(),this.betBall.reset();this._BCiconAnimate.pause(),this.fillAnimate.pause(0),this.startAnimated=!1,window.clearTimeout(this._randomT),this._randomT=-1,window.clearTimeout(this._boomT),this._boomT=-1,this.sumPoint.text=""};var e,i=n;function n(){var t=e.call(this)||this;return t.arrBar=[],t.MaxQuantityW=4,t.MaxQuantityH=4,t.arrBallR=[],t.numWin=0,t.numNow=0,t.startAnimated=!1,t._randomT=-1,t._boomT=-1,t.initUI(),t.initAnimate(),t}t.PokerPanel=i;a=PIXI.Container,__extends(o,a),o.prototype.initAnimate=function(){for(var t=0,e=0,i=this.arrBallR;e<i.length;e++)for(var n=0,a=i[e];n<a.length;n++){var o=a[n];this.arrAn[t]=TweenMax.to(o.scale,.2,{x:0,paused:!0,immediateRender:!1,yoyo:!0,repeat:1,ease:Power1.easeIn}),t++}},o.prototype.startAnimOne=function(){var t,i=this,n={0:[0],1:[1,4],2:[2,5,8],3:[3,6,9,12],4:[7,10,13],5:[11,14],6:[15]},a=0,o=this;for(t in n)!function(e){o._arrAinmateT1[a++]=window.setTimeout(function(){for(var t=0;t<n[e].length;t++)i.arrAn[n[e][t]].restart()},80*Number(e))}(t)},o.prototype.startAnimTwo=function(){var t,i=this,n={0:[0],1:[4],2:[8],3:[12],4:[13],5:[9],6:[5],7:[1],8:[2],9:[6],10:[10],11:[14],12:[15],13:[11],14:[7],15:[3]},a=0,o=this;for(t in n)!function(e){o._arrAinmateT2[a++]=window.setTimeout(function(){for(var t=0;t<n[e].length;t++)i.arrAn[n[e][t]].restart()},80*Number(e))}(t)},o.prototype.startAnimThr=function(){var t,i=this,n={0:[0,1,2,3],1:[4,5,6,7],2:[8,9,10,11],3:[12,13,14,15]},a=0,o=this;for(t in n)!function(e){o._arrAinmateT3[a++]=window.setTimeout(function(){for(var t=0;t<n[e].length;t++)i.arrAn[n[e][t]].restart()},80*Number(e))}(t)},o.prototype.reset=function(){for(var t=0;t<this.arrAn.length;t++)this.arrAn[t].pause(0);for(t=0;t<this._arrAinmateT1.length;t++)window.clearTimeout(this._arrAinmateT1[t]);for(t=0;t<this._arrAinmateT2.length;t++)window.clearTimeout(this._arrAinmateT2[t]);for(t=0;t<this._arrAinmateT3.length;t++)window.clearTimeout(this._arrAinmateT3[t])};var a,i=o;function o(t){var e=a.call(this)||this;return e.arrBallR=[],e.arrAn=[],e._arrAinmateT1=[],e._arrAinmateT2=[],e._arrAinmateT3=[],e.arrBallR=t,e.initAnimate(),e}t.bettingAn=i;r=PIXI.Container,__extends(s,r),s.prototype.initUI=function(t,e,i,n){void 0===e&&(e=30),void 0===i&&(i=30),void 0===n&&(n=1e4),this.barY=t;for(var a=0;a<this.Quantity;a++)this.arrY[a]=this.barY+e*(1+a),this.arrPos[a]=a;this.conBoom=new PIXI.particles.ParticleContainer(n,{scale:!0,position:!0,alpha:!0}),this.addChild(this.conBoom),this.conBoom.x=i,this.conBoom.y=this.arrY[this.Quantity-1]-40,this.conBoom.visible=!1,this.boomR=this.createExplosion(this.conBoom)},s.prototype.initAnimate=function(){for(var i=this,t=0;t<this.arrBallR.length;t++)this.arrBallAnimate[t]=TweenMax.to(this.arrBallR[t],.5,{y:0,ease:"none",paused:!0,immediateRender:!1});this.resetAnimate=new TimelineMax({paused:!0}),this.resetAnimate.add(function(){for(var t=0;t<i.Quantity;t++)i.arrBallR[t].visible=!1,i.arrBallR[t].y=0});for(var n=this,t=0;t<this.Quantity;t++)!function(t){var e=n.Quantity-t-1;n.resetAnimate.add(function(){i.arrBallR[t].visible=!0,i.dropAnimate(t,44,i.arrY[e])},"+=".concat(.2+.05*t))}(t)},s.prototype.resetCoinPos=function(){for(var t=0;t<this.arrPos.length;t++)this.arrPos[t]=t},s.prototype.boomAnim=function(t){this.conBoom.visible=!0,this.arrBallR[this.arrPos[0]].visible=!1,this.arrBallR[this.arrPos[0]].y=0,this.boomR.restart(!0),this.arrPos.push(this.arrPos.shift());for(var e=0;e<this.arrBallR.length;e++){var i,n=0,a=0,a=0!==this.arrBallR[e].y||t?((i=this.arrPos[3-e]-1)<0&&(i=3),n=this.arrY[i],this.arrY[this.arrPos[3-e]]):(this.arrBallR[e].visible=!0,n=44,this.arrY[0]);this.dropAnimate(e,n,a)}},s.prototype.dropAnimate=function(t,e,i){this.arrBallAnimate[t].play(),this.arrBallR[t].y=e,this.arrBallAnimate[t].updateTo({y:i},!0)},s.prototype.clearAll=function(t){void 0===t&&(t=!1);for(var e=!1,i=0;i<4;i++)this.arrBallR[i].visible&&(e=!0),this.arrBallR[i].visible=!1,this.arrBallR[i].y=0;e&&t&&(this.conBoom.visible=!0,this.boomR.restart(!0))},s.prototype.newGame=function(){this.resetAnimate.restart(!0,!1)},s.prototype.createExplosion=function(n,a){void 0===a&&(a="Multiple_Blockchain_Buttons0000");function t(){var t,e,i=PIXI.Sprite.fromImage(a);i.visible=!1,n.addChild(i),e=30,s=(t=7)+Math.random()*(e-t),o=Math.random()*Math.PI*2,r=Math.random()*(7.5-s/2)*1.5,TweenLite.set(i,{x:Math.cos(o)*r,y:Math.sin(o)*r,width:s,height:s,xPercent:-50,yPercent:-50,force3D:!0,opacity:1,alpha:1}),h.to(i,1+Math.random(),{opacity:0,physics2D:{angle:180*o/Math.PI,velocity:.8*(100+250*Math.random()),gravity:750},alpha:0,onStart:function(){i.visible=!0},onComplete:function(){i.visible=!1}},0)}for(var o,r,s,h=new TimelineLite({paused:!0}),e=0;e<15;e++)t();return h},s.prototype.reset=function(){for(var t=0;t<4;t++)this.arrBallAnimate[t].pause(0);this.boomR.pause(0),this.resetAnimate.pause(0),this.conBoom.visible=!1,this.resetCoinPos()};var r,i=s;function s(t,e){var i=r.call(this)||this;return i.arrBallR=[],i.arrY=[],i.arrBallAnimate=[],i.arrPos=[],i.Quantity=e,i.arrBallR=t,i.initAnimate(),i}t.candyBar=i}(BlockChainFanTanShare=BlockChainFanTanShare||{}),"undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window),BlockchainFanTanMultiGames,MultiGames,BlockchainChessBullMultiGames,MultiGames,Bac21LogicShare,Bac21PlusMultiGames,BlockChain21PlusMultiGames,MultiGames,BlockchainFishSCMultiGames,MultiGames,MultiGames,SicBoVnLogicShare,BlockchainSicBoMultiGames,MultiGames,Lucky5CardsLogicShare,Lucky5CardsLogicShare,Lucky5CardsMultiGames,MultiGames,Lucky5CardShare,BlockChainLucky5CardsMultiGames,MultiGames,AceyDeuceyLogicShare,AceyDeuceyMultiGames,MultiGames,Bac28LogicShare,BlockChain28BacMultiGames,MultiGames,GoldArmMultiGames,MultiGames,Load,Core,MultiGames,MultiGames,MultiGames,DEBUG_MODE_ON=((_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function c(t,e,i,n,a){this.p=e,this.f="function"==typeof t[e],this.start=this.value=this.f?t[e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3)]():parseFloat(t[e]),this.velocity=i||0,this.v=this.velocity/a,n||0===n?(this.acceleration=n,this.a=this.acceleration/(a*a)):this.acceleration=this.a=0}var u=Math.PI/180,d="Physics2DPlugin",p=String.fromCharCode(103,114,101,101,110,115,111,99,107,46,99,111,109),f=String.fromCharCode(47,114,101,113,117,105,114,101,115,45,109,101,109,98,101,114,115,104,105,112,47),_=function(t){for(var e=-1!==(window?"codepen.io":"").indexOf(String.fromCharCode(103,114,101,101,110,115,111,99,107))&&-1!==t.indexOf(String.fromCharCode(108,111,99,97,108,104,111,115,116)),i=[p,String.fromCharCode(99,111,100,101,112,101,110,46,105,111),String.fromCharCode(99,111,100,101,112,101,110,46,112,108,117,109,98,105,110,103),String.fromCharCode(99,111,100,101,112,101,110,46,100,101,118),String.fromCharCode(99,115,115,45,116,114,105,99,107,115,46,99,111,109),String.fromCharCode(99,100,112,110,46,105,111),String.fromCharCode(103,97,110,110,111,110,46,116,118),String.fromCharCode(99,111,100,101,99,97,110,121,111,110,46,110,101,116),String.fromCharCode(116,104,101,109,101,102,111,114,101,115,116,46,110,101,116),String.fromCharCode(99,101,114,101,98,114,97,120,46,99,111,46,117,107),String.fromCharCode(116,121,109,112,97,110,117,115,46,110,101,116),String.fromCharCode(116,119,101,101,110,109,97,120,46,99,111,109),String.fromCharCode(116,119,101,101,110,108,105,116,101,46,99,111,109),String.fromCharCode(112,108,110,107,114,46,99,111),String.fromCharCode(104,111,116,106,97,114,46,99,111,109),String.fromCharCode(119,101,98,112,97,99,107,98,105,110,46,99,111,109),String.fromCharCode(97,114,99,104,105,118,101,46,111,114,103),String.fromCharCode(99,111,100,101,115,97,110,100,98,111,120,46,105,111),String.fromCharCode(115,116,97,99,107,98,108,105,116,122,46,99,111,109),String.fromCharCode(99,111,100,105,101,114,46,105,111),String.fromCharCode(106,115,102,105,100,100,108,101,46,110,101,116)],n=i.length;-1<--n;)if(-1!==t.indexOf(i[n]))return!0;return e&&window&&window.console,e}(window?"codepen.io":""),m=Math.random(),e=_gsScope._gsDefine.globals,g=e.com.greensock.core.Animation._rootFramesTimeline,v=_gsScope._gsDefine.plugin({propName:"physics2D",version:"0.2.0",API:2,init:function(t,e,i,n){if("function"==typeof e&&(e=e(n,t)),!_)return window.location.href="http://"+p+f+"?plugin="+d+"&source=codepen",!1;this._target=t,this._tween=i,this._runBackwards=!0===i.vars.runBackwards,this._step=0;for(var a,o=i._timeline,n=Number(e.angle)||0,i=Number(e.velocity)||0,r=Number(e.acceleration)||0,s=e.xProp||"x",h=e.yProp||"y",l=e.accelerationAngle||0===e.accelerationAngle?Number(e.accelerationAngle):n;o._timeline;)o=o._timeline;return this._stepsPerTimeUnit=a=o===g?1:30,e.gravity&&(r=Number(e.gravity),l=90),n*=u,l*=u,this._friction=1-Number(e.friction||0),this._overwriteProps.push(s),this._overwriteProps.push(h),this._x=new c(t,s,Math.cos(n)*i,Math.cos(l)*r,a),this._y=new c(t,h,Math.sin(n)*i,Math.sin(l)*r,a),this._skipX=this._skipY=!1,_},set:function(t){var e,i,n,a,o=this._tween._time,r=this._x,s=this._y;if(!0===this._runBackwards&&(o=this._tween._duration-o),1===this._friction)e=r.start+(r.velocity*o+r.acceleration*(i=o*o*.5)),i=s.start+(s.velocity*o+s.acceleration*i);else{if(n=a=(0|(o*=this._stepsPerTimeUnit))-this._step,o=o%1,0<=a)for(;-1<--a;)r.v+=r.a,s.v+=s.a,r.v*=this._friction,s.v*=this._friction,r.value+=r.v,s.value+=s.v;else for(a=-a;-1<--a;)r.value-=r.v,s.value-=s.v,r.v/=this._friction,s.v/=this._friction,r.v-=r.a,s.v-=s.a;e=r.value+r.v*o,i=s.value+s.v*o,this._step+=n}this._skipX||(r.m&&(e=r.m(e,this._target)),r.f?this._target[r.p](e):this._target[r.p]=e),this._skipY||(s.m&&(i=s.m(i,this._target)),s.f?this._target[s.p](i):this._target[s.p]=i)}}),t=v.prototype;t._kill=function(t){return null!=t[this._x.p]&&(this._skipX=!0),null!=t[this._y.p]&&(this._skipY=!0),this._super._kill.call(this,t)},t._mod=function(t){var e=t[this._x.p]||t.physics2D;e&&"function"==typeof e&&(this._x.m=e),(e=t[this._y.p]||t.physics2D)&&"function"==typeof e&&(this._y.m=e)},v._autoCSS=!0,v._cssRegister=function(){var l,c,u,t=e.CSSPlugin;t&&(t=t._internals,l=t._parseToProxy,c=t._setPluginRatio,u=t.CSSPropTween,t._registerComplexSpecialProp("physics2D",{parser:function(t,e,i,n,a,o){o=new v;var r=e.xProp||"x",s=e.yProp||"y",h={};return h[r]=h[s]=m++,r=l(t,h,n,a,o),(a=new u(t,"physics2D",0,0,r.pt,2)).data=r,a.plugin=o,a.setRatio=c,o._onInitTween(r.proxy,e,n._tween),a}}))}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),!function(t){var i,n=PIXI.Container,h=PIXI.Text,e=(i=FanTanMultiGames.ViewModel,__extends(a,i),a.prototype.configVisibleChange=function(){var t,e,i=this;void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),document.addEventListener(e,function(){i.handleVisibilityChange(document[t])},!1)},a.prototype.handleVisibilityChange=function(t){t?this.onTabChange():this.onTabFocus()},a.prototype.onTabChange=function(){this._blockChainPoker.resetAnimate()},a.prototype.onTabFocus=function(){this._blockChainPoker.resetAnimate(),this._blockChainPoker.reset(),this._blockChainPoker.setStatus(this._status,!0);var t=this.vModel.getGameInfo().getRoundNo().split("-")[1],e=this.vModel.getPrePoker().length,i=this.vModel.getPreSeed(e-1);isNaN(Number(i.split("-")[1]))||""!==i&&"ready"!==this._status&&t===String(e)&&this._blockChainPoker.runPoker(Number(i.split("-")[1]),!0)},a.prototype.openVerPanel=function(t){var e=t.data.id-1,i=(this._numVeri=e,this.vModel.getPrePoker()[e]),n="X"!==i&&""!==i&&"back"!==i?this.vModel.getPreSeed(e):this.vModel.getSuf();n&&this._verificationPanel.showPanel(i,t.data.id,this.vModel.getPreHash(e),n,!1)},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("showResult",this._resultEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new h(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel(1),this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new p(90),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new c,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.onPlstUpdate=function(t){-1==t.data.newFirId&&this.vModel.clearPreData()},a.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId()),this._shoePanel.updateAllData(this.vModel.getPrePoker(),this.vModel.getAllPreSeed()),-1==this.vModel.getNewCardId()&&this._blockChainPoker.setNewCard(1),this._blockChainPoker.visible=!0;var e=this.vModel.getGameInfo().getRoundNo().split("-")[1],i=this.vModel.getPrePoker().length,n=this.vModel.getPreSeed(i-1);this._isFirBC&&!isNaN(Number(n.split("-")[1]))&&""!==n&&"ready"!==this._status&&e===String(i)&&this._blockChainPoker.runPoker(Number(n.split("-")[1]),this._isFirBC),this._isFirBC=!1},a.prototype.onBlockChainUpdate=function(t){var t=t.data;t.seeds&&(t=t.seeds.split("-")[1],isNaN(Number(t))||(this._blockChainPoker.runPoker(Number(t)),this._shoePanel.updateAllData(this.vModel.getPrePoker(),this.vModel.getAllPreSeed())))},a.prototype.setResult=function(){},a.prototype.showResult=function(){0==this._result?parseInt(this.vModel.getGameInfo().getResult()):this._result;var t=FantanLogicShare.FanTanResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t),this._numVeri+1==this.vModel.getRd()&&this.vModel.getSeed(this._numVeri)&&this._verificationPanel.updateData(this._numVeri+1,this.vModel.getAllPoker().allPoker[this._numVeri],this.vModel.getSeed(this._numVeri)),this._shoePanel.updateAllData(this.vModel.getPrePoker(),this.vModel.getAllPreSeed())},a.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1,this._blockChainPoker.reset(),this._isFirBC=!0},a.prototype.setPoker=function(){},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),this._blockChainPoker.setStatus(this._status,this._isFir),"ready"==this._status&&this._betAreaPanel&&this._betAreaPanel.reset()},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._blockChainPoker.visible=!1,this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("showResult",this._resultEvent)},a);function a(){var e=i.call(this)||this,t=(e._isFir=!0,e._isFirBC=!0,e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_FanTanBG"));return e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new r,e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._resultEvent=function(t){e.showResult()},Tools.Animate.setAnimateListener(),e.configVisibleChange(),e}t.ViewModel=e;o=BlockChainFanTanShare.PokerPanel,__extends(s,o),s.prototype.initUI=function(){var e=this,t=(this.conBall=new PIXI.Container,this.addChild(this.conBall),new PIXI.Graphics);t.beginFill(16724787,0),t.drawRect(168,90,220,130),t.endFill(),this.addChild(t),this.conBall.mask=t;for(var i=0;i<this.MaxQuantityW;i++){this.arrBallR[i]=[];for(var n=0;n<this.MaxQuantityH;n++)this.arrBallR[i][n]=PIXI.Sprite.fromImage("Multiple_Blockchain_Buttons0000"),this.arrBallR[i][n].visible=!1,this.arrBallR[i][n].anchor.set(.5),this.conBall.addChild(this.arrBallR[i][n]),this.arrBallR[i][n].position.set(214+43*i,0);this.arrBar[i]=new BlockChainFanTanShare.candyBar(this.arrBallR[i],this.MaxQuantityH),this.addChild(this.arrBar[i]),this.arrBar[i].position.set(175+43*i,20),this.arrBar[i].initUI(74)}this.betBall=new BlockChainFanTanShare.bettingAn(this.arrBallR);this.sumPoint=new PIXI.Text("16",{fontFamily:"Arial",fontSize:"42px",fill:"#ffffff"}),this.addChild(this.sumPoint),this.sumPoint.x=113,this.sumPoint.y=152,this.sumPoint.anchor.set(.5),this.cardId=new PIXI.Text("06",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this.cardId),this.cardId.x=124,this.cardId.y=175,this.cardId.anchor.set(1,0),this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(127,177),this.addChild(this._IBtn),this._IBtn.setSensor(80,120,-20,-32),this._IBtn.on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data={pStr:e.sumPoint.text,id:Number(e.cardId.text)},e.event.dispatchEvent(t)}),this.arrBallRPos=[];for(i=0;i<this.MaxQuantityW;i++){this.arrBallRPos[i]=[];for(n=0;n<this.MaxQuantityH;n++)this.arrBallRPos[i][n]=new PIXI.Point(214+43*i,74+30*(1+n))}this._BCicon=PIXI.Sprite.fromImage("Multiple_Blockchain_BICON10000"),this._BCicon.scale.set(.8),this._BCicon.anchor.set(.5),this._BCicon.y=146,this._BCicon.x=115,this.addChild(this._BCicon)},s.prototype.initAnimate=function(){for(var e=this,i=(this.fillAnimate=new TimelineMax({paused:!0,delayed:.1}),this),t=0;t<this.MaxQuantityW;t++)!function(t){i.fillAnimate.add(function(){e.arrBar[t].newGame()},"+=0.05")}(t);this._BCiconAnimate=new TimelineMax({repeat:-1,paused:!0,onUpdate:function(){e._BCicon.scale.x<0?e._BCicon.tint=11184810:e._BCicon.tint=16777215}}),this._BCiconAnimate.fromTo(this._BCicon.scale,.8,{x:.8},{x:-.8}),this._BCiconAnimate.fromTo(this._BCicon.scale,.8,{x:-.8},{x:.8})};var o,r=s;function s(){return null!==o&&o.apply(this,arguments)||this}l=BlockChainShare.VerificationPanel,__extends(u,l),u.prototype.initPoker=function(){this._poker=new m(!1),this._poker.x=60,this._poker.y=36,this._conContent.addChild(this._poker)},u.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_RESULT_SN"),IPL.DictManager.getDict("BC_FT_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_FT_RESULT_POINT_TXT"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new BlockChainShare.Panel),n=(i.initPanelUI(390,200),i.x=6,new h(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},u.prototype.initVerifiUI=function(){l.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t),this._returnBtn.y=100,this._pokerID.y=this._poker.y+this._poker.height+25},u.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),this._poker.setPoker(t="X"!=t&&t?t:"back"),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a=e<10?"0":"";this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)};var l,c=u;function u(){return l.call(this)||this}d=BlockChainShare.Panel,__extends(f,d),f.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("RESULT_HISTORY"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},f.prototype.initShoePokerUI=function(t){for(var i=this,n=new PIXI.Container,a=this,e=0;e<t;e++)!function(e){a._conCell[e]=new PIXI.Container,a._conCell[e].interactive=!0,a._conCell[e].buttonMode=!0;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HistoryBG"),t=(t.width9=360,t.height9=42,a._conCell[e].addChild(t),PIXI.Sprite.fromImage("Multiple_Blockchain_SicBoNumBtn0000")),t=(t.x=297,t.y=4,a._conCell[e].addChild(t),new h((e+1<100&&e+1<10?"0":"")+String(e+1),{fontFamily:"Arial",fontSize:15,fill:16777215}));t.x=320,t.y=13,t.anchor.x=.5,a._conCell[e].addChild(t),a._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoSelect"),a._conCell[e].select.width9=360,a._conCell[e].select.height9=42,a._conCell[e].addChild(a._conCell[e].select),a._conCell[e].select.visible=!1,a._conCell[e].y=50*e,a._conCell[e].x=6,n.addChild(a._conCell[e]),a._arrPokerUI[e]=new m,a._arrPokerUI[e].scale.set(.5),a._arrPokerUI[e].setPoker("back"),a._arrPokerUI[e].position.set(20,8),a._conCell[e].addChild(a._arrPokerUI[e]),a._conCell[e].on("mouseover",function(){i._conCell[e].select.visible=!0}),a._conCell[e].on("mouseout",function(){i._conCell[e].select.visible=!1}),a._conCell[e].data={pStr:"back",id:e+1},a._conCell[e].on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data=i._conCell[e].data,i.event.dispatchEvent(t)})}(e);this.scrollBar.updateScrollBar(n)},f.prototype.updateAllData=function(t,e){this.reset();for(var i=0;i<this._arrPokerUI.length;i++)i>=t.length?(this._arrPokerUI[i].setPoker("back"),this._conCell[i].data.pStr="back",this._conCell[i].alpha=.5,this._conCell[i].interactive=!1,this._conCell[i].select.visible=!1):""!==t[i]&&(this._arrPokerUI[i].setPoker(t[i],e[i].split("-")[1]),this._conCell[i].data.pStr=t[i])},f.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._conCell[t].data.pStr="back",this._conCell[t].alpha=1,this._conCell[t].interactive=!0};var d,p=f;function f(t){var e=d.call(this)||this;return e._arrPokerUI=[],e._conCell=[],e.initPanelUI(),e.init(),e.initShoePokerUI(t),e}_=PIXI.Container,__extends(g,_),g.prototype.setPoker=function(t,e){if(void 0===e&&(e=""),t&&"back"!==t&&"X"!==t){for(i=0;i<Number(t);i++)this.pokerSpr[i].texture=PIXI.Texture.from(this.pokerTexture[1]);this.txtNum&&(this.txtNum.text=e)}else{for(var i=0;i<4;i++)this.pokerSpr[i].texture=PIXI.Texture.from(this.pokerTexture[0]);this.txtNum&&(this.txtNum.text="")}};var _,m=g;function g(t){void 0===t&&(t=!0);var e=_.call(this)||this;e.pokerSpr=[],e.pokerTexture=[],e.pokerTexture=["Multiple_Blockchain_SeDieBG0000","Multiple_SeDie_PokerIcon0001","Multiple_SeDie_PokerIcon0000"];for(var i=0;i<4;i++)e.pokerSpr[i]=new PIXI.Sprite(PIXI.Texture.from(e.pokerTexture[0])),e.addChild(e.pokerSpr[i]),e.pokerSpr[i].x=65*i,e.pokerSpr[i].height=50,e.pokerSpr[i].width=50;return t&&(e.txtNum=new h("",{fontFamily:"Arial",fontSize:46,fill:16777215}),e.txtNum.x=325,e.txtNum.anchor.x=.5,e.addChild(e.txtNum)),e}}(BlockchainFanTanMultiGames=BlockchainFanTanMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainFanTanMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainFanTanMain=i}(MultiGames=MultiGames||{}),!function(t){var a,e=PIXI.Container,c=PIXI.Sprite,u=PIXI.Point,d=PIXI.Text,i=(a=ChessBullMultiGames.ViewModel,__extends(n,a),n.prototype.initUI=function(){a.prototype.initUI.call(this),this.poker=new l("SimplePoker"),this.chessBullPanel.changePoker(this.poker),this.addChild(this.poker)},n.prototype.initBlockChainUI=function(){var i=this,t=(this._blockChainPoker=new r("SimplePoker"),this._blockChainPoker.interactive=!0,this._blockChainPoker.visible=!1,this.addChildAt(this._blockChainPoker,this.getChildIndex(this.chessBullPanel)),this.blockChainVideoPanel=new e,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),t=(this.blockChainVideoPanel.addChild(t),this.removeChild(this.conAnte),this.blockChainVideoPanel.addChild(this.conAnte),this.bcheaderPoker=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this.bcheaderPoker.setIconSize(45,32.5),this.bcheaderPoker.scale=new u(.73,.73),this.bcheaderPoker.initListener(),this.bcheaderPoker.x=210,this.bcheaderPoker.y=110,this.bcheaderPoker.getChildAt(0)),t=(t.x=.5*t.width,t.anchor.x=.5,t.y=.5*t.height,t.anchor.y=.5,new d("01",{fill:16772830,fontSize:30})),t=(t.anchor.x=.5,t.x=40,t.y=125,this.bcheaderPoker.addChild(t),this.blockChainVideoPanel.addChild(this.bcheaderPoker),this.bcheaderPoker.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,i.openVerPanel(e)}),this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new d(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),t=(t.width>=this._shoeBtn.width&&(t.style.fontSize=16),t.anchor.set(.5),t.x=this._shoeBtn.width/2,t.y=this._shoeBtn.height/2,this._shoeBtn.addChild(t),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new d(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));t.anchor.set(.5),t.x=this._rulesBtn.width/2,t.y=this._rulesBtn.height/2,this._rulesBtn.addChild(t),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.NoRedShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.ThrCardVerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){i._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){i._rulePanel.openPanel()})},n.prototype.initBlockChainAnimate=function(){var t=this;this._readyAnimate=new TimelineMax({paused:!0}),this._readyAnimate.fromTo(this._blockChainPoker,.2,{alpha:1},{alpha:0,onStart:function(){t._blockChainPoker.visible=!0},onComplete:function(){t._blockChainPoker.visible=!1}})},n.prototype.openVerPanel=function(t){var e=t.data.id-1,i="new"===t.status?this.vModel.getHash(e):this.vModel.getPreHash(e),n="new"===t.status?this.vModel.getSeed(e):this.vModel.getPreSeed(e),e=""===this.vModel.getAllPoker().allPoker[e]?"back":this.vModel.getAllPoker().allPoker[e];this._verificationPanel.showPanel(e,t.data.id,i,n,t.status)},n.prototype.openShoePanel=function(t){this._verificationPanel.visible=!1,this._shoePanel.openPanel()},n.prototype.init=function(){this._blockChainPoker.visible=!1,this._isShowhead=!0,a.prototype.init.call(this)},n.prototype.setPoker=function(){var t=this._poker.split(",");"X"!=t[0]&&t[0]&&this._isShowhead?(this._isShowhead=!1,this.poker.reset(),this._blockChainPoker.reset(),this.bcheaderPoker.setId(1),this.bcheaderPokerAnimate(t[0]),this._headerPoker.setPoker(t[0]),this._readyAnimate.seek(.4),this._readyAnimate.reverse()):"X"!=t[0]&&""!=t[0]||(this._headerPoker.visible=!1,this.bcheaderPoker.visible=!1),"X,,,,,,,,,,,,,,,,,,,,"===this._poker||",,,,,,,,,,,,,,,,,,,,"===this._poker?(this._isShowhead=!0,this.bcheaderPoker.setPoker("back"),this.chessBullPanel.setPoker("")):(this._blockChainPoker.setPoker(this._poker),this.chessBullPanel.setPoker(this._poker))},n.prototype.bcheaderPokerAnimate=function(t){var e=this,i=0,n=(this.bcheaderPoker.setPoker("back"),setInterval(function(){2==++i?(TweenMax.fromTo(e.bcheaderPoker.children[0],.2,{width:76},{width:0}),setTimeout(function(){e._headerPoker.visible=!0,e.bcheaderPoker.setPoker(t),TweenMax.fromTo(e.bcheaderPoker.children[0],.2,{width:0},{width:76})},200)):3==i&&clearInterval(n)},750))},n.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("betLimitInfo",!1),this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},n.prototype.configureCostumeListener=function(){a.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this.poker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("showHead",this._headEvent)},n.prototype.removeHandle=function(){a.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this.poker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("showHead",this._headEvent)},n.prototype.onGetHash=function(t){"X"!=this._poker.split(",")[0]&&this._poker.split(",")[0]?(this._infoTxt.alpha=0,this._blockChainPoker.alpha=1):this._blockChainPoker.alpha=0;var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid)},n.prototype.onStatusChanged=function(t){var e=this;switch(a.prototype.onStatusChanged.call(this,t=void 0===t?null:t),this._status){case"rollDice":this.bcheaderPoker.setPoker("back"),this.bcheaderPoker.visible=!0,-1!=this.ante&&this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1);break;case"newRound":-1!=this.ante&&this._messageTxt.onMessage(IPL.DictManager.getDict("BULL_TABLE_MATCHING"),!1);break;case"dealing":this.hasJoin&&(this._blockChainPoker.setPos(this.posIndex),this.chessBullPanel.setPos(this.posIndex),this._blockChainPoker.visible=!0);break;case"waiting":this._messageTxt.onMessage("",!1),this.hasJoin&&(this._blockChainPoker.visible=!0);break;case"ready":this._headerPoker.visible=!1,this.bcheaderPoker.visible=!1;var i=0,n=setInterval(function(){1==++i?TweenMax.fromTo(e._infoTxt,.5,{alpha:0},{alpha:1}):6==i&&(TweenMax.fromTo(e._infoTxt,1,{alpha:1},{alpha:0}),clearInterval(n))},800);this.hasJoin?(this._readyAnimate.restart(),TweenMax.fromTo(this.arrUserTxt[0],.5,{x:-140},{x:0})):(this._blockChainPoker.visible=!1,this.conAnte.visible=!1),this.stopMatchBtn.visible=!1,this.resetTxt(),this.hasReady=!0,this._countDownMc.visible=!1,-1!=this.ante?(this.conAnte.visible=!0,this.chessBullPanel.visible=!1):this.chessBullPanel.visible=!0}},n.prototype.resetTxt=function(){for(var t=0;t<this.arrUserTxt.length;t++)this.arrUserTxt[t].reset(t);(this.maxBanker=0)==this.hasJoin&&(this.arrUserTxt[0].x=0),this.prepayTxt.text=IPL.DictManager.getDict("BULL_PREPAY_AMOUNT")+"："+this._currencyPic+"0.00",this.conBg.width=this.prepayTxt.width+20},n.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"ready"===t.st&&1===this._blockChainPoker.alpha&&this._blockChainPoker.reset();for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},n);function n(){var e=a.call(this)||this,t=new d(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28});return t.anchor.set(.5),t.x=235,t.y=185,e._infoTxt=new PIXI.Graphics,e._infoTxt.beginFill(0,.7),e._infoTxt.drawRect(t.x-t.width/2-20,t.y-t.height/2-5,t.width+40,t.height+10),e._infoTxt.endFill(),e._infoTxt.addChild(t),e.initBlockChainUI(),e.initBlockChainAnimate(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._headEvent=function(t){e.bcheaderPoker.visible=!0,e._headerPoker.visible=!0},e.blockChainVideoPanel.addChild(e._infoTxt),Tools.Animate.setAnimateListener(),e}t.ViewModel=i;o=Composite.EventContainer,__extends(s,o),s.prototype.initUI=function(){this.pokerPos=[],this._pokerArr=[this.headerPoker,this.bankerPoker[0],this.bankerPoker[1],this.bankerPoker[2],this.bankerPoker[3],this.bankerPoker[4],this.player1Poker[0],this.player1Poker[1],this.player1Poker[2],this.player1Poker[3],this.player1Poker[4],this.player2Poker[0],this.player2Poker[1],this.player2Poker[2],this.player2Poker[3],this.player2Poker[4],this.player3Poker[0],this.player3Poker[1],this.player3Poker[2],this.player3Poker[3],this.player3Poker[4]],this.pokerStrArr=[];for(var t=0;t<21;t++)this.pokerStrArr[r]="",t<20&&(this.pokerPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_ChessBull_PokerBG","p"+String(t)),t<5)&&(this.pokerPos[t].y=this.pokerPos[t].y-10);for(var e=1;e<this._pokerArr.length;e++){this._pokerArr[e].scale=e<6?new u(.63,.6):new u(.35,.32),this.addChild(this._pokerArr[e]);var i=this._pokerArr[e].getChildAt(0);i.x=.5*i.width,i.anchor.x=.5,i.y=.5*i.height,i.anchor.y=.5}this.bankerResult=new c,this.player1Result=new c,this.player2Result=new c,this.player3Result=new c,this.bankerWin=new c,this.player1Win=new c,this.player2Win=new c,this.player3Win=new c,this.bankerWin.visible=!1;var n=[this.bankerWin,this.player1Win,this.player2Win,this.player3Win],a=[this.bankerType,this.player1Type,this.player2Type,this.player3Type],o=[this.bankerResult,this.player1Result,this.player2Result,this.player3Result];this.resultPos=[];for(var r=0;r<4;r++){var s=PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_PokerTypeBG"),h=PIXILayoutTool.DisplayObject.createImage("Multiple_ChessBull_PokerWinBG");a[r].style.fontFamily="Arial",a[r].style.fontSize="14px",a[r].style.fill="#FFFFFF",a[r].anchor.set(.5),a[r].x=68.5,a[r].y=14.1,n[r].addChild(h),o[r].addChild(s),o[r].addChild(n[r]),o[r].addChild(a[r]),this.resultPos[r]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_ChessBull_PokerWinBGPos","p"+String(r)),this.resultPos[r].y=this.resultPos[r].y-15,1!=r&&3!=r||(this.resultPos[r].y=this.resultPos[r].y+3),this.addChild(o[r])}this.arrCardId=[],this.arrCardId[0]=new d("12",{fill:16772830,fontSize:20}),this.arrCardId[0].anchor.x=.5,this.arrCardId[0].x=40,this.arrCardId[0].y=120,this.headerPoker.addChild(this.arrCardId[0]);for(var l=1;l<this._pokerArr.length;l++)this.arrCardId[l]=new d("12",{fill:16772830,fontSize:40}),this.arrCardId[l].anchor.x=.5,this.arrCardId[l].x=40,this.arrCardId[l].y=160,l<6&&(this.arrCardId[l].style.fontSize=20,this.arrCardId[l].y=120),this._pokerArr[l].addChild(this.arrCardId[l]);this._pokerW=this.player1Poker[0].children[0].width,this._pokerMW=this.bankerPoker[0].children[0].width,this.reset(),this.setPos([0,1,2,3])},s.prototype.getDealOrder=function(t){var e=[];switch(t.split(".")[1]){case"1":case"5":case"9":case"13":e=[0,1,2,3];break;case"2":case"6":case"10":e=[1,2,3,0];break;case"3":case"7":case"11":e=[2,3,0,1];break;case"4":case"8":case"12":e=[3,0,1,2];break;default:e=[0,1,2,3]}for(var i=[],n=0;n<4;n++)for(var a=0;a<5;a++)i.push(1+a+5*e[n]);this.arrCardId[0].text="01",this.headerPoker.setId(1);for(n=1;n<21;n++){var o=i[n-1];o<=5?this.bankerPoker[o-1].setId(n+1):5<o&&o<=10?this.player1Poker[o-6].setId(n+1):10<o&&o<=15?this.player2Poker[o-11].setId(n+1):15<o&&o<=20&&this.player3Poker[o-16].setId(n+1),this.arrCardId[o].text=(n+1<10?"0":"")+String(n+1)}},s.prototype.setPoker=function(t,e){for(var n=this,i=(void 0===e&&(e=!0),!1),a=!1,o=!1,r=!1,s=t.split(","),h=(this.getDealOrder(s[0]),s.length),l=0;l<h;l++)if(""!=s[l]&&"X"!=s[l]){var c=s[l];c.split(".");switch(0==l?"header":l<6?"banker":l<11?"player1":l<16?"player2":"player3"){case"header":this.headerPoker.setPoker(c),this.headerPoker.visible=1==e;break;case"banker":var u=l-1;this.bankerPoker[u].visible=1==e,i=5==l;break;case"player1":u=l-6;this.player1Poker[u].visible=1==e,a=10==l;break;case"player2":u=l-11;this.player2Poker[u].visible=1==e,o=15==l;break;case"player3":u=l-16;this.player3Poker[u].visible=1==e,r=20==l}}this.bankerLv=0,this.player1Lv=0,this.player2Lv=0;for(var d,p,f=this.player3Lv=0,_=0,m=0,g=0,s=(1==i&&(p=(d=new BullShare.PokerTypeMode).getPokerType(s[1],s[2],s[3],s[4],s[5]),this.bankerLv=d.getPokerLevel(),f=d.getMaxCard(),this._shortTxt?this.bankerType.text=this.checkResult(this.bankerLv):this.bankerType.text=IPL.DictManager.getDict(p),null!=this.bankerResult)&&(this.bankerResult.visible=!0),1==a&&(p=(d=new BullShare.PokerTypeMode).getPokerType(s[6],s[7],s[8],s[9],s[10]),this.player1Lv=d.getPokerLevel(),_=d.getMaxCard(),this._shortTxt?this.player1Type.text=this.checkResult(this.player1Lv):this.player1Type.text=IPL.DictManager.getDict(p),null!=this.player1Result)&&(this.player1Result.visible=!0),1==o&&(p=(d=new BullShare.PokerTypeMode).getPokerType(s[11],s[12],s[13],s[14],s[15]),this.player2Lv=d.getPokerLevel(),m=d.getMaxCard(),this._shortTxt?this.player2Type.text=this.checkResult(this.player2Lv):this.player2Type.text=IPL.DictManager.getDict(p),null!=this.player2Result)&&(this.player2Result.visible=!0),1==r&&(p=(d=new BullShare.PokerTypeMode).getPokerType(s[16],s[17],s[18],s[19],s[20]),this.player3Lv=d.getPokerLevel(),g=d.getMaxCard(),this._shortTxt?this.player3Type.text=this.checkResult(this.player3Lv):this.player3Type.text=IPL.DictManager.getDict(p),null!=this.player3Result)&&(this.player3Result.visible=!0),i&&a&&o&&r&&this.setWinLight(this.getLvWin(this.bankerLv,this.player1Lv,f,_),this.getLvWin(this.bankerLv,this.player2Lv,f,m),this.getLvWin(this.bankerLv,this.player3Lv,f,g)),t.split(",")),v=this,l=0;l<s.length;l++)!function(){var t,e,i;""!=s[l]&&"X"!=s[l]&&(v.pokerStrArr[l]!=s[l]?(t=v._pokerArr[l].children[0],l>=5*v.mainPoker+1&&l<=5*v.mainPoker+5?(e=new TimelineMax({paused:!0}).fromTo(t,.2,{width:v._pokerMW},{width:0,immediateRender:!1,onComplete:function(){n._pokerArr[e.data.i].setPoker(e.data.p)}}).fromTo(t,.2,{width:0},{width:v._pokerMW,immediateRender:!1}).restart()).data={i:l,p:s[l]}:(i=new TimelineMax({paused:!0}).fromTo(t,.2,{width:v._pokerW},{width:0,immediateRender:!1,onComplete:function(){n._pokerArr[i.data.i].setPoker(i.data.p)}}).fromTo(t,.2,{width:0},{width:v._pokerW,immediateRender:!1}).restart()).data={i:l,p:s[l]}):v._pokerArr[l].setPoker(s[l]))}();this.pokerStrArr=t.split(","),this.bankerType.text+=this.getMultipleStr(this.bankerLv),this.player1Type.text+=this.getMultipleStr(this.player1Lv),this.player2Type.text+=this.getMultipleStr(this.player2Lv),this.player3Type.text+=this.getMultipleStr(this.player3Lv)},s.prototype.checkResult=function(t){return 0==t?"N":10==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"牛牛":"BB":11==t?"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"5公":"5P":String(t)},s.prototype.setWinLight=function(t,e,i){this.player1Win.visible=t,this.player2Win.visible=e,this.player3Win.visible=i},s.prototype.getLvWin=function(t,e,i,n){return!(e<t)&&(t<e||(t==e?!(n<i):void 0))},s.prototype.getMultipleStr=function(t){var e=new BullShare.PokerTypeMode;return"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"("+e.getMultiple(t)+IPL.DictManager.getDict("BULL_MULTIPLE")+")":"(X"+e.getMultiple(t)+")"},s.prototype.reset=function(){this.headerPoker.setPoker("back");for(var t=0;t<5;++t)this.bankerPoker[t].setPoker("back"),this.player1Poker[t].setPoker("back"),this.player2Poker[t].setPoker("back"),this.player3Poker[t].setPoker("back");this.bankerType.text="",this.player1Type.text="",this.player2Type.text="",this.player3Type.text="",this.bankerResult.visible=!1,this.player1Result.visible=!1,this.player2Result.visible=!1,this.player3Result.visible=!1,this.player1Win.visible=!1,this.player2Win.visible=!1,this.player3Win.visible=!1},s.prototype.setPos=function(t){for(var e=1;e<21;++e)this.arrCardId[e].y=160,this.arrCardId[e].style.fontSize=40;for(e=0;e<5;++e)this.bankerPoker[e].scale=new u(.35,.32),this.player1Poker[e].scale=new u(.35,.32),this.player2Poker[e].scale=new u(.35,.32),this.player3Poker[e].scale=new u(.35,.32),0==t.indexOf(0)?(this.arrCardId[e+1].y=120,this.arrCardId[e+1].style.fontSize=20,this.bankerPoker[e].scale=new u(.63,.6)):0==t.indexOf(1)?(this.arrCardId[e+6].y=120,this.arrCardId[e+6].style.fontSize=20,this.player1Poker[e].scale=new u(.63,.6)):0==t.indexOf(2)?(this.arrCardId[e+11].y=120,this.arrCardId[e+11].style.fontSize=20,this.player2Poker[e].scale=new u(.63,.6)):0==t.indexOf(3)&&(this.arrCardId[e+16].y=120,this.arrCardId[e+16].style.fontSize=20,this.player3Poker[e].scale=new u(.63,.6)),this.bankerPoker[e].position=this.pokerPos[5*t.indexOf(0)+e],this.player1Poker[e].position=this.pokerPos[5*t.indexOf(1)+e],this.player2Poker[e].position=this.pokerPos[5*t.indexOf(2)+e],this.player3Poker[e].position=this.pokerPos[5*t.indexOf(3)+e];for(var i=0;i<4;i++)if(0==t.indexOf(i)){this.mainPoker=i;break}for(e=0;e<3;e++)2==e?(this.bankerResult.children[e].x=68.5,this.player1Result.children[e].x=68.5,this.player2Result.children[e].x=68.5,this.player3Result.children[e].x=68.5):(this.bankerResult.children[e].scale.x=1.02,this.player1Result.children[e].scale.x=1.02,this.player2Result.children[e].scale.x=1.02,this.player3Result.children[e].scale.x=1.02);0==t.indexOf(0)?(this.bankerResult.children[0].scale.x=1.77,this.bankerResult.children[1].scale.x=1.77,this.bankerResult.children[2].x=120):0==t.indexOf(1)?(this.player1Result.children[0].scale.x=1.77,this.player1Result.children[1].scale.x=1.77,this.player1Result.children[2].x=120):0==t.indexOf(2)?(this.player2Result.children[0].scale.x=1.77,this.player2Result.children[1].scale.x=1.77,this.player2Result.children[2].x=120):0==t.indexOf(3)&&(this.player3Result.children[0].scale.x=1.77,this.player3Result.children[1].scale.x=1.77,this.player3Result.children[2].x=120),this.bankerResult.position=this.resultPos[t.indexOf(0)],this.player1Result.position=this.resultPos[t.indexOf(1)],this.player2Result.position=this.resultPos[t.indexOf(2)],this.player3Result.position=this.resultPos[t.indexOf(3)]};var o,r=s;function s(t,e,i){void 0===e&&(e=!1),void 0===i&&(i="Multiple_Blockchain_IBtn");var n=o.call(this)||this;n.bankerPoker=[],n.player1Poker=[],n.player2Poker=[],n.player3Poker=[],n._shortTxt=e,n.headerPoker=new ShareUI.bcPokerUI(t,i),n.headerPoker.setIconSize(54,40),n.headerPoker.scale=new u(.63,.6),n.headerPoker.initListener(),n.headerPoker.mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,n.event.dispatchEvent(e)});for(var a=0;a<5;++a)n.bankerPoker.push(new ShareUI.bcPokerUI(t,i)),n.player1Poker.push(new ShareUI.bcPokerUI(t,i)),n.player2Poker.push(new ShareUI.bcPokerUI(t,i)),n.player3Poker.push(new ShareUI.bcPokerUI(t,i));for(a=0;a<5;++a)n.bankerPoker[a].setIconSize(54,40),n.bankerPoker[a].initListener(),n.bankerPoker[a].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,n.event.dispatchEvent(e)}),n.player1Poker[a].setIconSize(54,40),n.player1Poker[a].initListener(),n.player1Poker[a].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,n.event.dispatchEvent(e)}),n.player2Poker[a].setIconSize(54,40),n.player2Poker[a].initListener(),n.player2Poker[a].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,n.event.dispatchEvent(e)}),n.player3Poker[a].setIconSize(54,40),n.player3Poker[a].initListener(),n.player3Poker[a].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,n.event.dispatchEvent(e)});return n.bankerType=new d(""),n.player1Type=new d(""),n.player2Type=new d(""),n.player3Type=new d(""),n.initUI(),n}t.BlockChainPoker=r;__extends(p,h=r),p.prototype.initUI=function(){for(this.aryword=new Array,o=0;o<=3;o++)this.aryword[o]=new d(String(o),{fill:16772830,fontSize:12}),0==o?(this.aryword[o].x=280,this.aryword[o].y=440,this.aryword[o].text="BANKER"):(this.aryword[o].x=110+128*(o-1),this.aryword[o].y=530),this.addChild(this.aryword[o]);this._pokerArr=[this.headerPoker,this.bankerPoker[0],this.bankerPoker[1],this.bankerPoker[2],this.bankerPoker[3],this.bankerPoker[4],this.player1Poker[0],this.player1Poker[1],this.player1Poker[2],this.player1Poker[3],this.player1Poker[4],this.player2Poker[0],this.player2Poker[1],this.player2Poker[2],this.player2Poker[3],this.player2Poker[4],this.player3Poker[0],this.player3Poker[1],this.player3Poker[2],this.player3Poker[3],this.player3Poker[4]],this.headerPoker.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerBG","p99"),this.headerPoker.scale=new u(.45,.44),this.addChild(this.headerPoker);for(var t=1;t<this._pokerArr.length;t++){this._pokerArr[t].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerBG","p"+String(t-1)),this._pokerArr[t].scale=new u(.45,.44),this.addChild(this._pokerArr[t]),6<=t&&t<=20&&(this._pokerArr[t].y=this._pokerArr[t].y+10),9!=t&&10!=t||(this._pokerArr[t].y=this._pokerArr[t].y-10),14!=t&&15!=t||(this._pokerArr[t].y=this._pokerArr[t].y-10),19!=t&&20!=t||(this._pokerArr[t].y=this._pokerArr[t].y-10);var e=this._pokerArr[t].getChildAt(0);e.x=.5*e.width,e.anchor.x=.5,e.y=.5*e.height,e.anchor.y=.5}this.bankerResult=new c,this.player1Result=new c,this.player2Result=new c,this.player3Result=new c,this.bankerWin=new c,this.player1Win=new c,this.player2Win=new c,this.player3Win=new c,this.bankerWin.visible=!1;for(var i=[this.bankerWin,this.player1Win,this.player2Win,this.player3Win],n=[this.bankerType,this.player1Type,this.player2Type,this.player3Type],a=[this.bankerResult,this.player1Result,this.player2Result,this.player3Result],o=0;o<4;o++){var r=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_PokerTypeBGS"),s=PIXILayoutTool.DisplayObject.createImage("Multiple_FightBull_PokerWinBGS");n[o].style.fontFamily="Arial",n[o].style.fontSize="12px",n[o].style.fill="#FFFFFF",n[o].anchor.set(.5),n[o].x=57.5,n[o].y=7.5,i[o].addChild(s),a[o].addChild(r),a[o].addChild(i[o]),a[o].addChild(n[o]),a[o].position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_FightBull_PokerWinBGSPos","p"+String(o)),this.addChild(a[o])}this.arrCardId=[],this.pokerStrArr=[];for(var h=0;h<this._pokerArr.length;h++)this.pokerStrArr[h]="",this.arrCardId[h]=new d("12",{fill:16772830,fontSize:25}),this.arrCardId[h].anchor.x=.5,this.arrCardId[h].x=40,this.arrCardId[h].y=120,this._pokerArr[h].addChild(this.arrCardId[h]);this._pokerW=this.player1Poker[0].children[0].width,this._pokerMW=this.bankerPoker[0].children[0].width,this.reset()},p.prototype.setPos=function(t){for(var e=0;e<4;e++)if(0==t.indexOf(e)){this.mainPoker=e;break}},p.prototype.reset=function(){h.prototype.reset.call(this)};var h,l=p;function p(t){return h.call(this,t,!1)||this}}(BlockchainChessBullMultiGames=BlockchainChessBullMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainChessBullMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainChessBullMain=i}(MultiGames=MultiGames||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX","TIE","BLACKJACK","TWENTY","BANKERPLAYERDRAGON","SUPER21","COMBOPAIR","PERFECTPAIR","EITHERPAIR","BANKERPLAYERBUST","BANKERPLAYERODD","BANKERPLAYEREVEN"],this.titleArr=["MIN_BET","BAC_MAX","MAX_TIE_BET","BLACKJACK_MAX","TWENTY_MAX","BANKER_PLAYER_DRAGON_MAX","BAC_LAYOUT_SUPER21","COMBO_PAIR_MAX","MAX_PERFECTPAIR_BET","MAX_EITHERPAIR_BET","BAC_LAYOUT_BANK_BUSTS","BACRUN_BANKER_ODD","BACRUN_BANKER_EVEN"],this.limitNameArr=["roundBetMin","roundBetMax","tieMax","blackJackMax","twentyMax","bankerPlayerDragonMax","super21Max","comboPairMax","perfectPairMax","eitherPairMax","bankerPlayerBustsMax","bankerPlayerOddEvenMax","bankerPlayerOddEvenMax"]):(this.keyArr=["BANKER","PLAYER","TIE","BLACKJACK","TWENTY","BANKERPLAYERDRAGON","SUPER21","COMBOPAIR","PERFECTPAIR","EITHERPAIR","DRAGON","TIGER","BANKERBUST","PLAYERBUST","BANKERODD","PLAYERODD","BANKEREVEN","PLAYEREVEN"],this.titleArr=["BAC_BANKER","BAC_PLAYER","BAC_TIE","BLACKJACK_MAX","TWENTY_MAX","BANKER_PLAYER_DRAGON_MAX","BAC_LAYOUT_SUPER21","COMBO_PAIR_MAX","MAX_PERFECTPAIR_BET","MAX_EITHERPAIR_BET","DTF_DRAGON","DTF_TIGER","BAC_LAYOUT_BANK_BUSTS","BAC_LAYOUT_PLAY_BUSTS","BACRUN_BANKER_ODD","BACRUN_PLAYER_ODD","BACRUN_BANKER_EVEN","BACRUN_PLAYER_EVEN"],this.limitNameArr=["roundBetMax","roundBetMax","tieMax","blackJackMax","twentyMax","bankerPlayerDragonMax","super21Max","comboPairMax","perfectPairMax","eitherPairMax","roundBetMax","roundBetMax","bankerPlayerBustsMax","bankerPlayerBustsMax","bankerPlayerOddEvenMax","bankerPlayerOddEvenMax","bankerPlayerOddEvenMax","bankerPlayerOddEvenMax"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:0.92","1:1","1:8.5","1:14","1:6","1:30","1:6/1:13","1:20","1:22","1:5","1:1","1:1","1:6.5","1:5.3","1:1","1:1","1:0.8","1:0.8"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(Bac21LogicShare=Bac21LogicShare||{}),!function(t){var h,m=PIXI.Container,o=PIXI.Graphics,i=PIXI.Sprite,r=PIXI.Point,s=PIXI.Text,e=(h=ShareMultiGames.ViewModel,__extends(n,h),n.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this._statisticsPanel=new _,this.addChild(this._statisticsPanel),this.initRoadInfo()},n.prototype.changeLayout=function(t){this._bjCon.visible=!1,this._dragonBonusCon.visible=!1,this._dragonTigerCon.visible=!1,this._bustCon.visible=!1,this._oddEvenCon.visible=!1,this._superPCon.visible=!1;var t=t.data.name,e=0;"BJ"==t?(e=1,this._bjCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._bjObj)):"DragonBonus"==t?(e=2,this._dragonBonusCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._dragonBonusObj)):"SuperP"==t?(e=3,this._superPCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._superPObj)):"DragonTiger"==t?(e=4,this._dragonTigerCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._dragonTigerObj)):"Bust"==t?(e=5,this._bustCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._bustObj)):"OddEven"==t&&(e=6,this._oddEvenCon.visible=!0,this._toolBarPanel.changeLimitPanel(this._oddEvenObj)),this.writeCookie(e),this.checkLayout()},n.prototype.getCookie=function(){for(var t=document.cookie.split("; "),e=0;e<t.length;e++)if("layout_key21"===t[e].split("=")[0])return t[e].split("=")[1];return""},n.prototype.writeCookie=function(t){void 0===t&&(t=0);var e=new Date,e=(e.setTime(e.getTime()+864e5),"expires="+e.toUTCString());document.cookie="layout_key21=".concat(t,";")+e},n.prototype.reCommittedInfo=function(){this._betButton.setRebetUnlocked(!1),this._checkbet=!1,this.vModel.cancelBet(),null!=this.vModel.getCommitInfo()&&(this._betTotal=(new ShareLogic.DigitalLogic).numtoFix2(this.vModel.getCommitInfo().getTotal())),this.vModel.getNoComm()?this._chipStackPanel&&this._chipStackPanel.setNoCommDataCommit(this.vModel.getCommitInfo()):this._chipStackPanel&&this._chipStackPanel.setDataCommit(this.vModel.getCommitInfo())},n.prototype.initBetStatus=function(){h.prototype.initBetStatus.call(this),this._bjBetAreaPanel&&this._bjBetAreaPanel.reset(),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.reset(),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.reset(),this._superPBetAreaPanel&&this._superPBetAreaPanel.reset(),this._bustBetAreaPanel&&this._bustBetAreaPanel.reset(),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.reset()},n.prototype.setToolBar=function(t){h.prototype.setToolBar.call(this,t),this.setlayoutToolBar()},n.prototype.setlayoutToolBar=function(){var i=this;this._layoutBtn.on("pointerdown",function(){i._layoutPanel.openPanel(),i._toolBarPanel.setBtnStatus("tip",!1),i._toolBarPanel.setBtnStatus("pingIcon",!1);var t=new Object,e=(t.GameType=i.vModel.getGameType(),t.GameCode=i._tmpGameCode,t.Visible=!1,new window.Event("VIDEO_BTN_VISIBLE"));e.data=t,window.dispatchEvent(e)}),this._layoutPanel.setTools(this._toolBarPanel)},n.prototype.checkLayout=function(){var t=this.getCookie();if(this._checkfir)for(var e=[],i=("1"==t?(this._layoutPanel.initbetArealight("BJ"),e=[1,2,3,6,7,8,9]):"2"==t?(this._layoutPanel.initbetArealight("DragonBonus"),e=[1,2,3,10,11,12]):"3"==t?(this._layoutPanel.initbetArealight("SuperP"),e=[1,2,3,21,22,23,24]):"4"==t?(this._layoutPanel.initbetArealight("DragonTiger"),e=[1,2,3,10,13,14]):"5"==t?(this._layoutPanel.initbetArealight("Bust"),e=[1,2,3,10,15,16]):"6"==t&&(this._layoutPanel.initbetArealight("OddEven"),e=[1,2,3,17,18,19,20]),this._checkfir=!1,[]),n=0;n<this._chipPos.length;n++)null!=this._chipPos[n]&&i.push(n);else{for(e=[],i=("1"==t?e=[1,2,3,6,7,8,9]:"2"==t?e=[1,2,3,10,11,12]:"3"==t?e=[1,2,3,21,22,23,24]:"4"==t?e=[1,2,3,10,13,14]:"5"==t?e=[1,2,3,10,15,16]:"6"==t&&(e=[1,2,3,17,18,19,20]),[]),n=0;n<this._chipPos.length;n++)null!=this._chipPos[n]&&i.push(n);this._chipStackPanel.reset(),this.reCommittedInfo()}this._chipStackPanel.setChipVisible(i,!1),this._chipStackPanel.setChipVisible(e,!0)},n.prototype.initShareUI=function(){h.prototype.initShareUI.call(this),this._pokerPanel=new y("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel),this._layoutPanel=new b,this._layoutPanel.x=34,this._layoutPanel.y=54,this.addChild(this._layoutPanel)},n.prototype.handleCommand2=function(t){h.prototype.handleCommand2.call(this,t),t.type===VideoShare.VideoGameEvent.COMMIT&&(this._checkbet=this._hasAddBet)},n.prototype.initBetArea=function(){this._layoutBtn=new ShareUI.Button("Multiple_LayoutBtn"),this._layoutBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Bac_LayoutBtn",""),this.addChild(this._layoutBtn),this._layoutBtn.name="LayoutBtn";new Tools.Tip(this._layoutBtn).addTip(this._layoutBtn,"LAYOUT_PLAY"),this._bjCon=new m,this._dragonBonusCon=new m,this._dragonTigerCon=new m,this._bustCon=new m,this._oddEvenCon=new m,this._superPCon=new m,this.addChild(this._bjCon),this.addChild(this._dragonBonusCon),this.addChild(this._dragonTigerCon),this.addChild(this._bustCon),this.addChild(this._oddEvenCon),this.addChild(this._superPCon);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_OddEven_BetArea"),t=(this._bjCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._bjCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._bjCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._bjCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayer20Txt_"+IPL.UrlParameter.lang)),t=(this._bjCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerBJTxt_"+IPL.UrlParameter.lang)),t=(this._bjCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerBJTxt_"+IPL.UrlParameter.lang)),t=(this._bjCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBanker20Txt_"+IPL.UrlParameter.lang)),e=(this._bjCon.addChild(t),[]),i=1;i<=3;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(e[i]=new ShareUI.betSprBlock(h),e[i].name="b"+String(i),this._bjCon.addChild(e[i]));for(i=6;i<=9;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(e[i]=new ShareUI.betSprBlock(h),e[i].name="b"+String(i),this._bjCon.addChild(e[i]));this._bjBetAreaPanel=new SharePanel.BlockBetSensorPanel(e);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_Bust_BetArea"),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerDBTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerDBTxt_"+IPL.UrlParameter.lang)),t=(this._dragonBonusCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetSuper21Txt_"+IPL.UrlParameter.lang)),n=(this._dragonBonusCon.addChild(t),[]),i=1;i<=3;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(n[i]=new ShareUI.betSprBlock(h),n[i].name="b"+String(i),this._dragonBonusCon.addChild(n[i]));for(i=10;i<=12;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(n[i]=new ShareUI.betSprBlock(h),n[i].name="b"+String(i),this._dragonBonusCon.addChild(n[i]));this._dragonBonusBetAreaPanel=new SharePanel.BlockBetSensorPanel(n);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_Bust_BetArea"),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetDragonTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetTigerTxt_"+IPL.UrlParameter.lang)),t=(this._dragonTigerCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetSuper21Txt_"+IPL.UrlParameter.lang)),a=(this._dragonTigerCon.addChild(t),[]),i=1;i<=3;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(a[i]=new ShareUI.betSprBlock(h),a[i].name="b"+String(i),this._dragonTigerCon.addChild(a[i]));null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b10"))&&(a[10]=new ShareUI.betSprBlock(h),a[10].name="b10",this._dragonTigerCon.addChild(a[10]));for(i=13;i<=14;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(a[i]=new ShareUI.betSprBlock(h),a[i].name="b"+String(i),this._dragonTigerCon.addChild(a[i]));this._dragonTigerBetAreaPanel=new SharePanel.BlockBetSensorPanel(a);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_Bust_BetArea"),t=(this._bustCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._bustCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._bustCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._bustCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerBTxt_"+IPL.UrlParameter.lang)),t=(this._bustCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerBTxt_"+IPL.UrlParameter.lang)),t=(this._bustCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetSuper21Txt_"+IPL.UrlParameter.lang)),o=(this._bustCon.addChild(t),[]),i=1;i<=3;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(o[i]=new ShareUI.betSprBlock(h),o[i].name="b"+String(i),this._bustCon.addChild(o[i]));null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b10"))&&(o[10]=new ShareUI.betSprBlock(h),o[10].name="b10",this._bustCon.addChild(o[10]));for(i=15;i<=16;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(o[i]=new ShareUI.betSprBlock(h),o[i].name="b"+String(i),this._bustCon.addChild(o[i]));this._bustBetAreaPanel=new SharePanel.BlockBetSensorPanel(o);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_OddEven_BetArea"),t=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerOTxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerETxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerETxt_"+IPL.UrlParameter.lang)),t=(this._oddEvenCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerOTxt_"+IPL.UrlParameter.lang)),r=(this._oddEvenCon.addChild(t),[]),i=1;i<=3;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(r[i]=new ShareUI.betSprBlock(h),r[i].name="b"+String(i),this._oddEvenCon.addChild(r[i]));for(i=17;i<=20;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetWin","b"+String(i)))&&(r[i]=new ShareUI.betSprBlock(h),r[i].name="b"+String(i),this._oddEvenCon.addChild(r[i]));this._oddEvenBetAreaPanel=new SharePanel.BlockBetSensorPanel(r);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_SuperP_BetArea"),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac21_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac21_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetTieTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac21_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPlayerPCTxt_"+IPL.UrlParameter.lang)),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetBankerPCTxt_"+IPL.UrlParameter.lang)),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetEitherPTxt_"+IPL.UrlParameter.lang)),t=(this._superPCon.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_BetPerfectPTxt_"+IPL.UrlParameter.lang)),s=(this._superPCon.addChild(t),[]),i=1;i<=3;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac21_BetWin","b"+String(i)))&&(s[i]=new ShareUI.betSprBlock(h),s[i].name="b"+String(i),this._superPCon.addChild(s[i]));for(var h,i=21;i<=24;i++)null!=(h=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac21_BetWin","b"+String(i)))&&(s[i]=new ShareUI.betSprBlock(h),s[i].name="b"+String(i),this._superPCon.addChild(s[i]));this._superPBetAreaPanel=new SharePanel.BlockBetSensorPanel(s),this._closeBet20Con=new m,this._bjCon.addChild(this._closeBet20Con),this._closeBet20Con.interactive=!0,this._closeBet20Con.visible=!1;for(i=6;i<=7;i++){var l=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b"+String(i));this._closeBet20Con.addChild(l)}this._closeBetBJCon=new m,this._bjCon.addChild(this._closeBetBJCon),this._closeBetBJCon.interactive=!0,this._closeBetBJCon.visible=!1;for(i=8;i<=9;i++){var c=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b"+String(i));this._closeBetBJCon.addChild(c)}this._closeBetDTCon=new m,this._dragonTigerCon.addChild(this._closeBetDTCon),this._closeBetDTCon.interactive=!0,this._closeBetDTCon.visible=!1;for(i=13;i<=14;i++){var u=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b"+String(i));this._closeBetDTCon.addChild(u)}this._closeBet21DTCon=new m,this._dragonTigerCon.addChild(this._closeBet21DTCon),this._closeBet21DTCon.interactive=!0,this._closeBet21DTCon.visible=!1;t=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b10");this._closeBet21DTCon.addChild(t),this._closeBetSPCon=new m,this._superPCon.addChild(this._closeBetSPCon),this._closeBetSPCon.interactive=!0,this._closeBetSPCon.visible=!1;for(i=21;i<=24;i++){var d=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac21_BetNO","b"+String(i));this._closeBetSPCon.addChild(d)}this._closeBetBustCon=new m,this._bustCon.addChild(this._closeBetBustCon),this._closeBetBustCon.interactive=!0,this._closeBetBustCon.visible=!1;for(i=15;i<=16;i++){var p=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b"+String(i));this._closeBetBustCon.addChild(p)}t=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b10");this._closeBetBustCon.addChild(t),this._closeBetDBCon=new m,this._dragonBonusCon.addChild(this._closeBetDBCon),this._closeBetDBCon.interactive=!0,this._closeBetDBCon.visible=!1;for(i=11;i<=12;i++){var f=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b"+String(i));this._closeBetDBCon.addChild(f)}this._closeBet21DBCon=new m,this._dragonBonusCon.addChild(this._closeBet21DBCon),this._closeBet21DBCon.interactive=!0,this._closeBet21DBCon.visible=!1;t=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b10");this._closeBet21DBCon.addChild(t),this._closeBetOECon=new m,this._oddEvenCon.addChild(this._closeBetOECon),this._closeBetOECon.interactive=!0,this._closeBetOECon.visible=!1;for(i=17;i<=20;i++){var _=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_BJBac_BetNO","b"+String(i));this._closeBetOECon.addChild(_)}this._dragonBonusCon.visible=!1,this._dragonTigerCon.visible=!1,this._bustCon.visible=!1,this._superPCon.visible=!1,this._oddEvenCon.visible=!1},n.prototype.initChipPosition=function(){h.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=3;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BJBac_ChipPos","mb"+String(t));for(t=6;t<=24;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BJBac_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.BacBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7),this._hintPanel=new x,this._hintPanel.x=120,this._hintPanel.y=-55,this._bjCon.addChild(this._hintPanel)},n.prototype.initRoadInfo=function(){this._roadmapPanel=new l,this._roadmapPanel.x=56,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x17&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x17"});var t=new i(Tools.TextureStore.repository.Fram6x17),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new o),t=(e.beginFill(13421772),e.drawRect(0,0,390,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3001",e.cellB="Multiple_cellRed0000",e.cellP="Multiple_cellBlue0000",e.cellT="Multiple_tieLine0000",e.gridRow=6,e.gridCol=17,e.gapX=24,e.gapY=24,e.startPosX=2,e.startPosY=2,e.scale=1,e.cellT1=-2,e.cellT2=2,e.cellT3=6,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.gameType="3001",t.cellB="Multiple_Bac_Bbanker0000",t.cellP="Multiple_Bac_Bplayer0000",t.cellT="Multiple_Bac_Btie0000",t.cellBP="Multiple_Bac_BpairBanker0000",t.cellPP="Multiple_Bac_BpairPlayer0000",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=2,t.startPosY=2,t.scale=1,t.tStyle={fontFamily:"Arial",fontSize:"14px",fill:"#000000",fontWeight:"bold"},this._roadmapPanel.initRoadB(t),{}),t=(e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=34,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=17,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{}),t=(e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=17,e.gapX=12,e.gapY=12,e.startPosX=203,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),{});t.cellB="Multiple_Bac_BSCell0000",t.cellP="Multiple_Bac_BSCell0001",t.cellBE="Multiple_Bac_BSCell0002",t.cellPE="Multiple_Bac_BSCell0003",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=3,t.startPosY=3,t.scale=1,this._roadmapPanel.initRoadD(t),this._roadmapPanel.initRoad21C(),this._roadmapPanel.addRoadmap(["map2A"]),this._roadmapPanel.setNowRoadmap("roadmap2A"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChildAt(this._roadmapPanel,this.getChildIndex(this._statisticsPanel))},n.prototype.configureCostumeListener=function(){h.prototype.configureCostumeListener.call(this),this._layoutPanel.event.addEventListener("changeLayout",this._layoutEvent),this._layoutPanel.setGameCode(this.vModel.getGameCode()),this._bjBetAreaPanel&&this._bjBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._bustBetAreaPanel&&this._bustBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._superPBetAreaPanel&&this._superPBetAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent)},n.prototype.removeHandle=function(){h.prototype.removeHandle.call(this),this._bjBetAreaPanel&&this._bjBetAreaPanel.reset(),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.reset(),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.reset(),this._bustBetAreaPanel&&this._bustBetAreaPanel.reset(),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.reset(),this._superPBetAreaPanel&&this._superPBetAreaPanel.reset(),this._layoutPanel.visible=!1,this._layoutPanel.event.removeEventListener("changeLayout",this._layoutEvent),this._bjBetAreaPanel&&this._bjBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._bustBetAreaPanel&&this._bustBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent),this._superPBetAreaPanel&&this._superPBetAreaPanel.removeEventListener(VideoShare.BetSensorEvent.CLK,this.betSensorEvent)},n.prototype.configureModelListener=function(){h.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},n.prototype.onStatusChanged=function(t){h.prototype.onStatusChanged.call(this,t=void 0===t?null:t),this._bjBetAreaPanel&&this._bjBetAreaPanel.setBetMouseStatus(!1),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.setBetMouseStatus(!1),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.setBetMouseStatus(!1),this._bustBetAreaPanel&&this._bustBetAreaPanel.setBetMouseStatus(!1),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.setBetMouseStatus(!1),this._superPBetAreaPanel&&this._superPBetAreaPanel.setBetMouseStatus(!1),"betting"==this._status?(this._pokerPanel.visible=!1,this._bjBetAreaPanel&&this._bjBetAreaPanel.setBetMouseStatus(!0),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.setBetMouseStatus(!0),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.setBetMouseStatus(!0),this._bustBetAreaPanel&&this._bustBetAreaPanel.setBetMouseStatus(!0),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.setBetMouseStatus(!0),this._superPBetAreaPanel&&this._superPBetAreaPanel.setBetMouseStatus(!0)):"dealing"!=this._status&&"waiting"!=this._status||(this._pokerPanel.visible=!0)},n.prototype.setMaintainInfo=function(t){"1"==t&&(this._bjBetAreaPanel&&this._bjBetAreaPanel.setBetMouseStatus(!1),this._dragonBonusBetAreaPanel&&this._dragonBonusBetAreaPanel.setBetMouseStatus(!1),this._dragonTigerBetAreaPanel&&this._dragonTigerBetAreaPanel.setBetMouseStatus(!1),this._bustBetAreaPanel&&this._bustBetAreaPanel.setBetMouseStatus(!1),this._oddEvenBetAreaPanel&&this._oddEvenBetAreaPanel.setBetMouseStatus(!1),this._superPBetAreaPanel)&&this._superPBetAreaPanel.setBetMouseStatus(!1),this._layoutPanel.setMaintain(t),h.prototype.setMaintainInfo.call(this,t)},n.prototype.checkCloseBet=function(){if(0==this._checkbet&&this._betButton.setRebetUnlocked(!1),15<Number(this._roundNum.split("-")[1]))for(var t=[17,18,19,20],e=0;e<=t.length;e++)if(0!=this.vModel.getLastCommitInfo().getAmount(t[e])){this._betButton.setRebetUnlocked(!1);break}if(25<Number(this._roundNum.split("-")[1]))for(e=8;e<=9;e++)if(0!=this.vModel.getLastCommitInfo().getAmount(e)){this._betButton.setRebetUnlocked(!1);break}if(30<Number(this._roundNum.split("-")[1]))for(var i=[6,7,10,15,16],e=0;e<=i.length;e++)if(0!=this.vModel.getLastCommitInfo().getAmount(i[e])){this._betButton.setRebetUnlocked(!1);break}if(30<Number(this._roundNum.split("-")[1])?(this._closeBet20Con.visible=!0,this._closeBetBJCon.visible=!0,this._closeBet21DBCon.visible=!0,this._closeBet21DTCon.visible=!0,this._closeBetBustCon.visible=!0,this._closeBetOECon.visible=!0):25<Number(this._roundNum.split("-")[1])?(this._closeBet20Con.visible=!1,this._closeBetBJCon.visible=!0,this._closeBet21DBCon.visible=!1,this._closeBet21DTCon.visible=!1,this._closeBetBustCon.visible=!1,this._closeBetOECon.visible=!1):15<Number(this._roundNum.split("-")[1])?(this._closeBet20Con.visible=!1,this._closeBetBJCon.visible=!1,this._closeBet21DBCon.visible=!1,this._closeBet21DTCon.visible=!1,this._closeBetBustCon.visible=!1,this._closeBetOECon.visible=!0):(this._closeBet20Con.visible=!1,this._closeBetBJCon.visible=!1,this._closeBet21DBCon.visible=!1,this._closeBet21DTCon.visible=!1,this._closeBetBustCon.visible=!1,this._closeBetOECon.visible=!1),15<Number(this._roundNum.split("-")[1]))for(e=17;e<=20;e++)this._oddEvenBetAreaPanel.setSingleBetMouseStatus(e,!1);Number(this._roundNum.split("-")[1]);for(var n=!1,e=11;e<=12;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(n=!0);var a=n?!0:!1;if(40<Number(this._roundNum.split("-")[1])&&a&&this._betButton.setRebetUnlocked(!a),40<Number(this._roundNum.split("-")[1])){this._closeBetDBCon.visible=!0;for(e=11;e<=12;e++)this._dragonBonusBetAreaPanel.setSingleBetMouseStatus(e,!1)}else{this._closeBetDBCon.visible=!1;for(e=11;e<=12;e++)this._dragonBonusBetAreaPanel.setSingleBetMouseStatus(e,!0)}for(var o=!1,e=21;e<=24;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(o=!0);for(var r=!1,e=13;e<=14;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(r=!0);a=!(!o&&!r);60<Number(this._roundNum.split("-")[1])&&a&&this._betButton.setRebetUnlocked(!a),60<Number(this._roundNum.split("-")[1])?(this._closeBetDTCon.visible=!0,this._closeBetSPCon.visible=!0):(this._closeBetDTCon.visible=!1,this._closeBetSPCon.visible=!1)},n.prototype.setPoker=function(){",,,,,"==this._poker?this._pokerPanel.reset():(this._pokerPanel.setPoker(this._poker),this._pokerPanel.setStatus(this._status))},n.prototype.onRoundInfo=function(){h.prototype.onRoundInfo.call(this);var t=this.vModel.getGameInfo().getnotOp().split("-"),t=(this._hintPanel.setNum(t[1],t[0]),this.vModel.getGameInfo().getCardCount().split(","));this._roadmapPanel.countPoker(t)},n.prototype.setRoadmap=function(){var t=new Bac21LogicShare.Bac21TransRoadmap(this._roadMap).GetNewRoad();this._roadmapPanel.setData(t,this._roadMap)},n.prototype.setResult=function(){for(var t=this.vModel.getGameInfo().getResult2().split(","),e=[],i=0;i<t.length;i++)e[i]=Number(t[i]);this._bjBetAreaPanel.showResult(e),this._dragonBonusBetAreaPanel.showResult(e),this._dragonTigerBetAreaPanel.showResult(e),this._bustBetAreaPanel.showResult(e),this._oddEvenBetAreaPanel.showResult(e),this._superPBetAreaPanel.showResult(e)},n.prototype.setToolBarBtnStatus=function(){("3001"==this.vModel.getGameType()&&62<=Number(this.vModel.getGameCode())&&Number(this.vModel.getGameCode())<=76||"3001"==this.vModel.getGameType()&&99==Number(this.vModel.getGameCode())||"3001"==this.vModel.getGameType()&&102<=Number(this.vModel.getGameCode())&&Number(this.vModel.getGameCode())<=106)&&this._toolBarPanel.setBtnStatus("videoSwitch",!1)},n.prototype.onUserInfo=function(){for(var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new Bac21LogicShare.LimitPanel("2"),this._limitInfo.setData(t),this._limitInfo.getLimitInfo(["SUPER21"])),e=this._limitInfo.getLimitInfo(["BANKERPLAYERDRAGON"]),i=this._limitInfo.getLimitInfo(["COMBOPAIR"]),n=this.vModel.getUserInfo().getMod21(),e=(this._layoutPanel.setPanel(n),this._bjObj={},this._bjObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","BLACKJACK","TWENTY"]),this._bjObj.gameType=this.vModel.getGameType(),this._dragonTigerObj={},this._dragonTigerObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","DRAGON","TIGER"]),this._dragonTigerObj.list[5]={title:IPL.DictManager.getDict("BAC_LAYOUT_SUPER21")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+t[0].limitMin+"-"+t[0].limit,ratio:"\n\n"+t[0].ratio.split("/")[0]+"\n"+t[0].ratio.split("/")[1],title2:"\n\n"+IPL.DictManager.getDict("BANKER_BJ_POINT_WIN"),title2text:"\n\n2\n3"},this._dragonTigerObj.gameType=this.vModel.getGameType(),this._dragonBonusObj={},this._dragonBonusObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE"]),this._dragonBonusObj.list[3]={title:IPL.DictManager.getDict("BAC_LAYOUT_SUPER21")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+t[0].limitMin+"-"+t[0].limit,ratio:"\n\n"+t[0].ratio.split("/")[0]+"\n"+t[0].ratio.split("/")[1],title2:"\n\n"+IPL.DictManager.getDict("BANKER_BJ_POINT_WIN"),title2text:"\n\n2\n3"},"us"==IPL.UrlParameter.lang||"th"==IPL.UrlParameter.lang||"vi"==IPL.UrlParameter.lang?this._dragonBonusObj.list[4]={title:IPL.DictManager.getDict("BAC_LAYOUT_BANK_DRAGON_BONUS")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAY_DRAGON_BONUS")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n\n"+e[0].limitMin+"-"+e[0].limit,ratio:"\n\n\n"+e[0].ratio+"\n1:10\n1:3\n1:2\n1:1\n1:1\n\n"+IPL.DictManager.getDict("REFUNDED_WAGERS"),title2:"\n\n"+IPL.DictManager.getDict("NON_BJ_WIN_POINT"),title2text:"\n\n\n13, 14, 15\n10, 11, 12\n7, 8, 9\n4, 5, 6\n1, 2, 3\n"+IPL.DictManager.getDict("WINNER_BJ_WIN")+"\n"+IPL.DictManager.getDict("BOTH_BJ_AND_TIE")}:this._dragonBonusObj.list[4]={title:IPL.DictManager.getDict("BAC_LAYOUT_BANK_DRAGON_BONUS")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAY_DRAGON_BONUS")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+e[0].limitMin+"-"+e[0].limit,ratio:"\n\n"+e[0].ratio+"\n1:10\n1:3\n1:2\n1:1\n1:1\n"+IPL.DictManager.getDict("REFUNDED_WAGERS"),title2:"\n\n"+IPL.DictManager.getDict("NON_BJ_WIN_POINT"),title2text:"\n\n13, 14, 15\n10, 11, 12\n7, 8, 9\n4, 5, 6\n1, 2, 3\n"+IPL.DictManager.getDict("WINNER_BJ_WIN")+"\n"+IPL.DictManager.getDict("BOTH_BJ_AND_TIE")},this._dragonBonusObj.list[5]="",this._dragonBonusObj.gameType=this.vModel.getGameType(),this._bustObj={},this._bustObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","BANKERBUST","PLAYERBUST"]),this._bustObj.gameType=this.vModel.getGameType(),this._bustObj.list[5]={title:IPL.DictManager.getDict("BAC_LAYOUT_SUPER21")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+t[0].limitMin+"-"+t[0].limit,ratio:"\n\n"+t[0].ratio.split("/")[0]+"\n"+t[0].ratio.split("/")[1],title2:"\n\n"+IPL.DictManager.getDict("BANKER_BJ_POINT_WIN"),title2text:"\n\n2\n3"},this._superPObj={},this._superPObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","EITHERPAIR","PERFECTPAIR"]),this._superPObj.gameType=this.vModel.getGameType(),this._superPObj.list[5]={title:IPL.DictManager.getDict("BAC_LAYOUT_BANKER_PAIR")+"/"+IPL.DictManager.getDict("BAC_LAYOUT_PLAYER_PAIR")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+i[0].limitMin+"-"+i[0].limit,ratio:"\n\n1:5\n1:10\n"+i[0].ratio,title2:"\n\n"+IPL.DictManager.getDict("BAC_LAYOUT_INTRO"),title2text:"\n\n"+IPL.DictManager.getDict("BAC_LAYOUT_MIXED")+"\n"+IPL.DictManager.getDict("BAC_LAYOUT_COLORED")+"\n"+IPL.DictManager.getDict("BAC_LAYOUT_PERFECT")+"\n"},this._oddEvenObj={},this._oddEvenObj.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","BANKERODD","PLAYERODD","BANKEREVEN","PLAYEREVEN"]),this._oddEvenObj.gameType=this.vModel.getGameType(),1e5<=Number(t[0].limit)&&(this._dragonBonusObj.changePos="Y",this._bustObj.changePos="Y",this._superPObj.changePos="Y"),{}),a=(e.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","BLACKJACK","TWENTY"]),e.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(e),this.getCookie()),o=n.split(","),r=!1,s=0;s<o.length;s++)o[s]==a&&(r=!0);0==r&&(a=o[0],this.writeCookie(Number(a))),this._bjCon.visible=!1,this._dragonBonusCon.visible=!1,this._dragonTigerCon.visible=!1,this._bustCon.visible=!1,this._oddEvenCon.visible=!1,this._superPCon.visible=!1,"1"==a?(this._toolBarPanel.changeLimitPanel(this._bjObj),this._bjCon.visible=!0):"2"==a?(this._toolBarPanel.changeLimitPanel(this._dragonBonusObj),this._dragonBonusCon.visible=!0):"3"==a?(this._toolBarPanel.changeLimitPanel(this._superPObj),this._superPCon.visible=!0):"4"==a?(this._toolBarPanel.changeLimitPanel(this._dragonTigerObj),this._dragonTigerCon.visible=!0):"5"==a?(this._toolBarPanel.changeLimitPanel(this._bustObj),this._bustCon.visible=!0):"6"==a&&(this._toolBarPanel.changeLimitPanel(this._oddEvenObj),this._oddEvenCon.visible=!0),this._checkfir=!0,this.checkLayout(),h.prototype.onUserInfo.call(this)},n);function n(){var e=h.call(this)||this;return e._checkfir=!0,e._checkbet=!0,e._layoutEvent=function(t){e.changeLayout(t)},e}t.ViewModel=e;a=SharePanel.RoadmapBac,__extends(c,a),c.prototype.initRoad21C=function(){this.roadmap21C=new d,this.roadmap21C.initBG()},c.prototype.countPoker=function(t){this.roadmap21C.countPoker(t)},c.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.roadmapB),this._nowRamp="roadmapB"):"roadmapB"==this._nowRamp?(this.removeMc(this.roadmapB),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp?(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmap21C),this._nowRamp="roadmap21C"):"roadmap21C"==this._nowRamp&&(this.removeMc(this.roadmap21C),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A")};var a,l=c;function c(){return a.call(this)||this}t.Roadmap=l;__extends(p,u=i),p.prototype.initBG=function(){var t=new o,t=(t.beginFill(3089459),t.drawRect(-45,0,453,145),t.endFill(),this.addChild(t),new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_21Plus_Roadmap0000"))),e=(t.x-=48,this.addChild(t),{fontFamily:"Arial",fontSize:"15px",fill:"#6e6e6e"}),i={fontFamily:"Arial",fontSize:"15px",fill:"#ffffff"};this.count=new Array;for(var n=0;n<13;n++){var a=void 0,a=((a=n<10?new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_21Plus_num000"+n)):new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_21Plus_num00"+n))).x=3+31.5*n,a.y=25,this.addChild(a),new s("x",e));a.x=10+31.5*n,a.y=70,this.addChild(a),this.count[n]=new s("00",i),this.count[n].x=5+31.5*n,this.count[n].y=100,this.addChild(this.count[n])}},p.prototype.countPoker=function(t){for(var e=0;e<13;e++)Number(t[e]<10)?this.count[e].text="0"+t[e]:this.count[e].text=t[e]};var u,d=p;function p(){var t=u.call(this)||this;return t.initBG(),t}t.Roadmap21=d;f=BacShare.StatisticsPanel,__extends(g,f),g.prototype.initUI=function(){var t=new o,t=(t.beginFill(0,1),t.drawRect(8,709,46,142),t.endFill(),t.cacheAsBitmap=!0,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BPTTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"});this.bankerTxt=new s("",t),this.bankerTxt.y=742,this.bankerTxt.anchor.set(.5),this.addChild(this.bankerTxt),this.playerTxt=new s("",t),this.playerTxt.y=790,this.playerTxt.anchor.set(.5),this.addChild(this.playerTxt),this.tieTxt=new s("",t),this.tieTxt.y=838,this.tieTxt.anchor.set(.5),this.addChild(this.tieTxt),this.bankerTxt.x=this.playerTxt.x=this.tieTxt.x=28,this.init()};var f,_=g;function g(){var t=f.call(this)||this;return t.initUI(),t}t.StatisticsPanel=_;v=BacShare.PokerPanel,__extends(P,v),P.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(this.addChild(t),this.bankerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BWin"),this.addChild(this.bankerWin),this.playerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PWin"),this.addChild(this.playerWin),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang));this.addChild(e);for(var i=1;i<=6;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac_PokerBG","b"+String(i));this.addChild(n)}this.addChild(this.poker1),this.addChild(this.poker2),this.addChild(this.poker3),this.addChild(this.poker4),this.addChild(this.poker5),this.poker5.rotation=Math.PI/180*-90,this.addChild(this.poker6),this.poker6.rotation=Math.PI/180*90,this.poker2.x=269,this.poker4.x=319,this.poker1.x=113,this.poker3.x=163,this.poker1.y=this.poker2.y=this.poker3.y=this.poker4.y=616,this.poker5.x=42,this.poker5.y=674,this.poker6.x=430,this.poker6.y=634,this.poker1.scale=this.poker2.scale=this.poker3.scale=this.poker4.scale=this.poker5.scale=this.poker6.scale=new r(.54,.53);var a={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"};this.bankerPoint=new s("",a),this.bankerPoint.x=t.position.x+t.texture.width+20,this.bankerPoint.y=580,this.addChild(this.bankerPoint),this.playerPoint=new s("",a),this.playerPoint.x=e.position.x+e.texture.width+20,this.playerPoint.y=580,this.addChild(this.playerPoint),this.reset()},P.prototype.setPoker=function(t,e){void 0===e&&(e=!0),this.reset();for(var i,n,a=[0,0,0,0,0,0],o=t.split(","),r=o.length,s=0;s<r;s++)""!=o[s]&&"X"!=o[s]&&(n=(i=o[s]).split("."),n=parseInt(n[1]),this.pokerMcArr[s].setPoker(i),1==e&&(this.pokerMcArr[s].visible=!0),a[s]=n=9<n?10:n);var h,l=this.getSum(a[0],a[2],a[4]),c=this.getSum(a[1],a[3],a[5]);this.playerPoint.text=String(l),this.bankerPoint.text=String(c),21==l&&0==a[4]&&(this.playerPoint.text="BJ"),21==c&&0==a[5]&&(this.bankerPoint.text="BJ"),this.tmpPoker!=t?this.tmpPoker=t:""!=t&&(l<c?c<=21?this.setWinLight("banker"):this.setWinLight("player"):c<l&&(l<=21?this.setWinLight("player"):this.setWinLight("banker")),t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.PASS_WIN_INFO),(h=new Object).playerpoint=l,h.bankerpoint=c,t.data=h,this.event.dispatchEvent(t))},P.prototype.getSum=function(t,e,i){for(var n=[t],a=[e],o=[i],r=(1==t&&n.push(11),1==e&&a.push(11),1==i&&o.push(11),[]),s=0;s<n.length;s++)for(var h=0;h<a.length;h++)for(var l=0;l<o.length;l++)r.push(n[s]+a[h]+o[l]);for(var c=0,s=0;s<r.length;s++)r[s]<=21&&c<r[s]&&(c=r[s]);return c=0===c?t+e+i:c},P.prototype.setStatus=function(t){var a,o,r=this;null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),"waiting"==t&&(a=0,o=setInterval(function(){var t,e,i,n;2==++a?((t="BJ"==r.playerPoint.text?21:Number(r.playerPoint.text))<(e="BJ"==r.bankerPoint.text?21:Number(r.bankerPoint.text))?e<=21?r.setWinLight("banker"):r.setWinLight("player"):e<t&&(t<=21?r.setWinLight("player"):r.setWinLight("banker")),i=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.PASS_WIN_INFO),(n=new Object).playerpoint=t,n.bankerpoint=e,i.data=n,r.event.dispatchEvent(i)):3==a&&clearInterval(o)},500))},P.prototype.setWinLight=function(t){"banker"==t&&null!=this.bankerWin?this.bankerWin.visible=!0:"player"==t&&null!=this.playerWin&&(this.playerWin.visible=!0)},P.prototype.reset=function(){null!=this.playerPoint&&(this.playerPoint.text=""),null!=this.bankerPoint&&(this.bankerPoint.text=""),null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this.pokerMcArr[t].visible=!1};var v,y=P;function P(t){return v.call(this,t)||this}t.Poker=y;S=BlockChainShare.Panel,__extends(I,S),I.prototype.setPanel=function(t){this.init(t)},I.prototype.setMaintain=function(t){this._mt=t},I.prototype.setisBC=function(){this._isBC=!0},I.prototype.setGameCode=function(t){this._gameCode=t},I.prototype.chooseLayout=function(t){var e=new H5Event.H5BaseEvent("changeLayout");e.data=t.data,this.event.dispatchEvent(e),this.checkPanel()},I.prototype.setTools=function(t){var i=this;this._tool=t,this.closeBtn.on("pointerdown",function(){var t,e;"1"!=i._mt&&(i._tool.setBtnStatus("tip",!0),i._tool.setBtnStatus("pingIcon",!0),(t=new Object).GameType="3047",t.GameCode=i._gameCode,t.Visible=!0,(e=new window.Event("VIDEO_BTN_VISIBLE")).data=t,window.dispatchEvent(e))})},I.prototype.checkPanel=function(){var t,e;this.visible&&(this.visible=!1,this._isBC||"1"==this._mt||(this._tool.setBtnStatus("tip",!0),this._tool.setBtnStatus("pingIcon",!0),(t=new Object).GameType="3047",t.GameCode=this._gameCode,t.Visible=!0,(e=new window.Event("VIDEO_BTN_VISIBLE")).data=t,window.dispatchEvent(e)))},I.prototype.init=function(t){var e=new Array,i=new Array,n=["BJ","DB","DT","Bust","OddEven","SuperP"],a=["OddEven","Bust","Bust","Bust","OddEven","SuperP"],o=(this.setTitle(IPL.DictManager.getDict("LAYOUT_PLAY"),15),new m);o.x=-34,o.y=-54,this.addChild(o);for(var r=0;r<t.length;r++)t[r]==String(1)?e[0]=String(1):t[r]==String(2)?e[1]=String(2):t[r]==String(3)?e[2]=String(3):t[r]==String(4)?e[3]=String(4):t[r]==String(5)?e[4]=String(5):t[r]==String(6)&&(e[5]=String(6));for(r=0;r<e.length;r++)""!=e[r]&&(e[r]==String(1)?i.push("BJ"):e[r]==String(2)?i.push("DB"):e[r]==String(3)?i.push("SuperP"):e[r]==String(4)?i.push("DT"):e[r]==String(5)?i.push("Bust"):e[r]==String(6)&&i.push("OddEven"));for(var s=0,h=0,r=0;r<i.length;r++){var l,c=void 0,c="DB"==i[r]||"DT"==i[r]||"Bust"==i[r]?(l=0,"DT"==i[r]?l=1:"Bust"==i[r]&&(l=2),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_Bust_LayoutArea",l)):"BJ"==i[r]||"OddEven"==i[r]?(l=0,"OddEven"==i[r]&&(l=1),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_OddEven_LayoutArea",l)):PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_"+i[r]+"_LayoutArea"),c=("Bust"==a[r]?(c.position=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_Bust_LayoutArea",s).position,s++):"OddEven"==a[r]?(c.position=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_OddEven_LayoutArea",h).position,h++):c.position=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_"+a[r]+"_LayoutArea").position,o.addChild(c),PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_Layout"+i[r]+"Txt_"+IPL.UrlParameter.lang));c.position=PIXILayoutTool.DisplayObject.createImage("Multiple_BJBac_Layout"+n[r]+"Txt_"+IPL.UrlParameter.lang).position,o.addChild(c)}for(var u=[],r=0;r<i.length;r++){var d=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_LayoutSelect",r);null!=d&&(u[r]=new ShareUI.betSprBlock(d),u[r].name=i[r],"DT"==i[r]?u[r].name="DragonTiger":"DB"==i[r]&&(u[r].name="DragonBonus"),o.addChild(u[r]))}this._betAreaPanel=new C(u),this._betAreaPanel&&this._betAreaPanel.addEventListener(VideoShare.BetSensorEvent.CLK,this.LayoutSensorEvent)},I.prototype.initbetArealight=function(t){this._betAreaPanel.initbetArealight(t)};var S,b=I;function I(){var e=S.call(this)||this;return e._isBC=!1,e._mt="0",e._gameCode="",e.LayoutSensorEvent=function(t){e.chooseLayout(t)},e.initPanelUI(),e}t.BaclayoutPanelPanel=b;B=H5EventdispatcherCore.EventDispatcher,__extends(k,B),k.prototype.initAddListen=function(){for(var e=this,t=0;t<this._betArr.length;t++)null!=this._betArr[t]&&(DeviceAndEnvironment.Device.isMobile()?(this._betArr[t].on("touchstart",function(t){e.star(t)}),this._betArr[t].on("touchend",function(t){e.end(t)}),this._betArr[t].on("touchendoutside",function(){e.out()})):(this._betArr[t].on("mousedown",function(t){e.star(t)}),this._betArr[t].on("mouseup",function(t){e.end(t)}),this._betArr[t].on("mouseupoutside",function(){e.out()})))},k.prototype.initbetArealight=function(t){for(var e=0;e<this._betArr.length;e++)this._betArr[e].name==t&&(this._betArr[e].setResultAlpha(1),this._betArr[e].setMouseStatus(!1))},k.prototype.initReBetBlock=function(t){for(var e=this,i=0;i<t.length;i++)DeviceAndEnvironment.Device.isMobile()?(t[i].on("touchstart",function(t){e.star(t)}),t[i].on("touchend",function(t){e.end(t)}),t[i].on("touchendoutside",function(){e.out()})):(t[i].on("mousedown",function(t){e.star(t)}),t[i].on("mouseup",function(t){e.end(t)}),t[i].on("mouseupoutside",function(){e.out()}))},k.prototype.star=function(t){this.starPos=t.data.getLocalPosition(t.currentTarget.parent)},k.prototype.end=function(t){var e,i;null!=this.starPos&&(i=t.data.getLocalPosition(t.currentTarget.parent),e=Math.abs(i.x-this.starPos.x),i=Math.abs(i.y-this.starPos.y),e<15)&&i<15&&this.clicked(t),this.starPos=null},k.prototype.out=function(){this.starPos=null},k.prototype.clicked=function(t){var e=new VideoShare.BetSensorEvent(VideoShare.BetSensorEvent.CLK);e.data=t.currentTarget,this.dispatchEvent(e);for(var i=0;i<this._betArr.length;i++)this._betArr[i].setResultAlpha(0),this._betArr[i].setMouseStatus(!0),t.currentTarget.name==this._betArr[i].name&&(this._betArr[i].setResultAlpha(1),this._betArr[i].setMouseStatus(!1))};var B,C=k;function k(t){var e=B.call(this)||this;return e._betArr=t,e.initAddListen(),e.endEvent=function(t){e.end(t)},e.starEvent=function(t){e.star(t)},e.outEvent=function(){e.out()},e}t.LayoutSensorPanel=C;__extends(M,T=m),M.prototype.init=function(){var t=this;this.plBJSensor.on("mouseover",function(){t.plBJSp.visible=!0,null!=t.plBJTxt&&(t.plBJTxt.visible=!0)}),this.plBJSensor.on("mouseout",function(){t.plBJSp.visible=!1,null!=t.plBJTxt&&(t.plBJTxt.visible=!1)}),this.baBJSensor.on("mouseover",function(){t.baBJSp.visible=!0,null!=t.baBJTxt&&(t.baBJTxt.visible=!0)}),this.baBJSensor.on("mouseout",function(){t.baBJSp.visible=!1,null!=t.baBJTxt&&(t.baBJTxt.visible=!1)}),this.plBJSp.visible=!1,null!=this.plBJTxt&&(this.plBJTxt.visible=!1),this.baBJSp.visible=!1,null!=this.baBJTxt&&(this.baBJTxt.visible=!1),this.plBJSensor.interactive=!0,this.baBJSensor.interactive=!0},M.prototype.setNum=function(t,e){999<Number(t)?this.plBJNumTxt.text="999+":this.plBJNumTxt.text=t,999<Number(e)?this.baBJNumTxt.text="999+":this.baBJNumTxt.text=e},M.prototype.initUI=function(){var t={fontFamily:"微軟正黑體",fontSize:"14px",fill:"#ffffff"};this.plBJSensor=new PIXI.Graphics,this.baBJSensor=new PIXI.Graphics,this.plBJSensor.beginFill(0,.25),this.plBJSensor.drawRect(75,478,40,20),this.plBJSensor.endFill(),this.baBJSensor.beginFill(0,.25),this.baBJSensor.drawRect(190,478,40,20),this.baBJSensor.endFill(),this.addChild(this.plBJSensor),this.addChild(this.baBJSensor),this.plBJNumTxt=new s(" ",t),this.plBJNumTxt.anchor.set(.5),this.plBJNumTxt.x=95,this.baBJNumTxt=new s(" ",t),this.baBJNumTxt.anchor.set(.5),this.baBJNumTxt.x=212,this.plBJNumTxt.y=this.baBJNumTxt.y=488,this.addChild(this.plBJNumTxt),this.addChild(this.baBJNumTxt),this.plBJTxt=new s(IPL.DictManager.getDict("NOTOP_PLAYER_BJ"),t),this.plBJTxt.x=5,this.baBJTxt=new s(IPL.DictManager.getDict("NOTOP_BANKER_BJ"),t),this.baBJTxt.x=5,this.plBJTxt.y=this.baBJTxt.y=3,this.plBJSp=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChild(this.plBJSp),this.plBJSp.height9=this.plBJTxt.height+3,this.plBJSp.width9=this.plBJTxt.width+10,this.plBJSp.x=80-this.plBJTxt.width/2,this.plBJSp.y=495,this.baBJSp=PIXILayoutTool.DisplayObject.createImage("Multiple_PanelBG"),this.addChild(this.baBJSp),this.baBJSp.height9=this.baBJTxt.height+3,this.baBJSp.width9=this.baBJTxt.width+10,this.baBJSp.x=180-this.baBJTxt.width/2,this.baBJSp.y=495,this.plBJSp.addChild(this.plBJTxt),this.baBJSp.addChild(this.baBJTxt)};var T,x=M;function M(){var t=T.call(this)||this;return t.initUI(),t.init(),t}t.HintPanel=x}(Bac21PlusMultiGames=Bac21PlusMultiGames||{}),!function(t){var i,n=PIXI.Container,s=PIXI.Text,e=(i=Bac21PlusMultiGames.ViewModel,__extends(a,i),a.prototype.openVerPanel=function(t){var e=t.data.id-1;this._verificationPanel.showPanel(t.data.pStr,t.data.id,this.vModel.getHash(e),this.vModel.getSeed(e))},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._burnCardPanel.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this._layoutPanel.setisBC(),this.blockChainVideoPanel=new n,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),e=(this.blockChainVideoPanel.addChild(e),this._blockChainPoker=new l("SimplePoker"),this._blockChainPoker.interactive=!0,this.blockChainVideoPanel.addChild(this._blockChainPoker),this._blockChainPoker.visible=!1,this._burnCardPanel=new BlockChainShare.BurnCardPanel,this.blockChainVideoPanel.addChild(this._burnCardPanel),this._burnCardPanel.visible=!1,this._burnCardPanel.removeChild(this._burnCardPanel._infoTxt),this.blockChainVideoPanel.addChild(this._burnCardPanel._infoTxt),this._burnCardPanel._infoTxt.visible=!1,this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new s(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new s(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.BacShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.VerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()}),this.removeChild(this._layoutPanel),this.addChild(this._layoutPanel)},a.prototype.setlayoutToolBar=function(){var t=this;this._layoutBtn.on("pointerdown",function(){t._layoutPanel.openPanel()})},a.prototype.onPlstUpdate=function(t){this._blockChainPoker.setNewCard(t.data.newFirId)},a.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId()),"burncard"!=this._status&&(this._blockChainPoker.visible=!0,this._burnCardPanel.visible=!1,this._burnCardPanel._infoTxt.visible=!1),this._checkpoker=0;var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid),this._blockChainPoker.setRedNum(e.pid)},a.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this),19<=Number(this.vModel.getGameInfo().getCountdown())&&this._checkpoker<2&&(this._poker=",,,,,",this._blockChainPoker.reset(),this._checkpoker++)},a.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"burncard"===t.st?(this._blockChainPoker.visible=!1,",,,,,"===t.pk?(this._shoePanel.reset(),this._blockChainPoker.reset(),this._burnCardPanel.reset()):this._burnCardPanel.runAnimate(1,e[0],t.cNum),this._burnCardPanel.visible=!0):"betting"===t.st?(this._burnCardPanel.visible=!1,this._burnCardPanel.reset(),this._burnCardPanel._infoTxt.visible=!1,this._blockChainPoker.visible=!0,this._blockChainPoker.newGameAnimate()):"dealing"!==t.st&&t.st;for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},a.prototype.setPoker=function(){"burncard"!==this._status&&"betting"!==this._status||(this._poker=",,,,,",this._blockChainPoker.reset()),",,,,,"!==this._poker&&(this._blockChainPoker.setPoker(this._poker),this._blockChainPoker.setStatus(""!=this._status?this._status:this.vModel.getGameInfo().getStatus()))},a.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},a.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._burnCardPanel.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},a);function a(){var e=i.call(this)||this;return e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;o=Composite.EventContainer,__extends(r,o),r.prototype.initUI=function(){},r.prototype.setPoker=function(t,e){void 0===e&&(e=!0);for(var i,n=[0,0,0,0,0,0],a=t.split(","),o=a.length,r=0;r<o;r++)""!=a[r]&&"X"!=a[r]&&(i=a[r].split("."),i=parseInt(i[1]),n[r]=i=9<i?10:i);var s,e=this.getSum(n[0],n[2],n[4]),h=this.getSum(n[1],n[3],n[5]);this.playerPoint.text=String(e),this.bankerPoint.text=String(h),21==e&&0==n[4]&&(this.playerPoint.text="BJ"),21==h&&0==n[5]&&(this.bankerPoint.text="BJ"),this.tmpPoker!=t?this.tmpPoker=t:""!=t&&(e<h?h<=21?this.setWinLight("banker"):this.setWinLight("player"):h<e&&(e<=21?this.setWinLight("player"):this.setWinLight("banker")),t=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.PASS_WIN_INFO),(s=new Object).playerpoint=e,s.bankerpoint=h,t.data=s,this.event.dispatchEvent(t))},r.prototype.getSum=function(t,e,i){for(var n=[t],a=[e],o=[i],r=(1==t&&n.push(11),1==e&&a.push(11),1==i&&o.push(11),[]),s=0;s<n.length;s++)for(var h=0;h<a.length;h++)for(var l=0;l<o.length;l++)r.push(n[s]+a[h]+o[l]);for(var c=0,s=0;s<r.length;s++)r[s]<=21&&c<r[s]&&(c=r[s]);return c=0===c?t+e+i:c},r.prototype.setStatus=function(t){var a,o,r=this;null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),"waiting"==t&&(a=0,o=setInterval(function(){var t,e,i,n;2==++a?((t="BJ"==r.playerPoint.text?21:Number(r.playerPoint.text))<(e="BJ"==r.bankerPoint.text?21:Number(r.bankerPoint.text))?e<=21?r.setWinLight("banker"):r.setWinLight("player"):e<t&&(t<=21?r.setWinLight("player"):r.setWinLight("banker")),i=new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.PASS_WIN_INFO),(n=new Object).playerpoint=t,n.bankerpoint=e,i.data=n,r.event.dispatchEvent(i)):3==a&&clearInterval(o)},500))},r.prototype.setWinLight=function(t){"banker"==t&&null!=this.bankerWin?this.bankerWin.visible=!0:"player"==t&&null!=this.playerWin&&(this.playerWin.visible=!0)},r.prototype.reset=function(){null!=this.playerPoint&&(this.playerPoint.text=""),null!=this.bankerPoint&&(this.bankerPoint.text=""),null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this.pokerMcArr[t].visible=!1},r.prototype.resetPokerStr=function(){this.tmpPoker=""};var o,t=r;function r(t,e){var i=o.call(this)||this;return i.tmpPoker="",i.pokerMcArr=[],i.poker1=new ShareUI.bcPokerUI(t,e),i.poker2=new ShareUI.bcPokerUI(t,e),i.poker3=new ShareUI.bcPokerUI(t,e),i.poker4=new ShareUI.bcPokerUI(t,e),i.poker5=new ShareUI.bcPokerUI(t,e),i.poker6=new ShareUI.bcPokerUI(t,e),i.pokerMcArr=[i.poker1,i.poker2,i.poker3,i.poker4,i.poker5,i.poker6],i.initUI(),i}__extends(c,h=t),c.prototype.initUI=function(){var i=this,t=(this.bankerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacBWin0000")),this.bankerWin.x=234,this.addChild(this.bankerWin),this.playerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacPWin0000")),this.bankerWin.width=this.playerWin.width=192,this.playerWin.x=44,this.bankerWin.y=this.playerWin.y=48,this.addChild(this.playerWin),this.bankerWin.visible=this.playerWin.visible=!1,PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(t.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBankerTxt_"+IPL.UrlParameter.lang,""),this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang));e.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerPlayerTxt_"+IPL.UrlParameter.lang,""),this.addChild(e),this._pokerStrArr=[];for(var n=0;n<6;n++){this._pokerStrArr[n]="";var a=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_PokerBG"),a=(a.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBG","p"+String(n+1)),this.pokerMcArr[n].position=a.position,this.addChild(a),n+1==5?(this.pokerMcArr[n].rotation=a.rotation=Math.PI/180*-90,this.pokerMcArr[n].y=a.y=a.y+a.width):n+1==6&&(this.pokerMcArr[n].rotation=a.rotation=Math.PI/180*90,this.pokerMcArr[n].y=a.y,this.pokerMcArr[n].x=a.x=a.x+a.height),this.addChild(this.pokerMcArr[n]),this.pokerMcArr[n].setPokerSize(54,85),this.pokerMcArr[n].initListener(),this.pokerMcArr[n].getChildAt(0));a.x=.5*a.width,a.anchor.x=.5,a.y=.5*a.height,a.anchor.y=.5,this.addChild(this.pokerMcArr[n]),this.pokerMcArr[n].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.data=t,i.event.dispatchEvent(e)})}for(var o={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"},r=(this.bankerPoint=new s("",o),this.bankerPoint.x=t.position.x+t.texture.width+20,this.bankerPoint.y=84,this.addChild(this.bankerPoint),this.playerPoint=new s("",o),this.playerPoint.x=e.position.x+e.texture.width+20,this.playerPoint.y=84,this.addChild(this.playerPoint),this._arrCardId=[],[137,274,196,332,65,405]),n=0;n<6;n++)this._arrCardId[n]=new s("",{fill:16772830,fontSize:16}),this._arrCardId[n].anchor.x=.5,this._arrCardId[n].x=r[n],this._arrCardId[n].y=206,this.addChild(this._arrCardId[n]);this._redPanel=new BlockChainShare.RedPanel,this._redPanel.x=14,this._redPanel.y=48,this.addChild(this._redPanel),this._redPanel.alpha=0,this.reset()},c.prototype.setPoker=function(t){h.prototype.setPoker.call(this,t);for(var e=t.split(","),i=0;i<e.length;i++)""!=e[i]&&"X"!=e[i]&&this._pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&(this.showPokerAnimate(this.pokerMcArr[i],e[i],4<=i?this._arrCardId[i]:""),5===i&&""===e[i-1]&&(this._arrCardId[i].text=this._arrCardId[i-1].text),this._numRed)&&Number(this._arrCardId[i].text)>=this._numRed&&(this._redPanel.show(),this._numRed=0);this._pokerStrArr=t.split(",")},c.prototype.showPokerAnimate=function(t,e,i){var n=t.getChildAt(0);i&&(t.visible=!0,t.interactive=!0,TweenMax.fromTo(t,.5,{alpha:0},{alpha:1})),TweenMax.fromTo(n,.2,{width:54,height:85},{width:0,height:130}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=0,n.height=90,t.setPoker(e),TweenMax.fromTo(n,.2,{width:0,height:90},{width:54,height:85}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=54,n.height=85,i&&(i.visible=!0)})})},c.prototype.setRedNum=function(t){this._numRed=t},c.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t)){for(var e=0;e<6;e++){var i=t+e,n="";i<10?n="00":i<100&&(n="0"),this._arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i),4<=e&&(this._arrCardId[e].visible=!1)}this._numRed&&t+3>=this._numRed&&(this._redPanel.show(),this._numRed=0)}else for(e=0;e<6;e++)this._arrCardId[e].text=""},c.prototype.newGameAnimate=function(){this.reset();for(var t=0;t<4;t++)TweenMax.fromTo(this.pokerMcArr[t],.5,{alpha:0},{alpha:1})},c.prototype.reset=function(){h.prototype.reset.call(this);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this._pokerStrArr&&(this._pokerStrArr[t]=""),t<4?this.pokerMcArr[t].visible=!0:(this._arrCardId[t].visible=!1,this.pokerMcArr[t].alpha=0,this.pokerMcArr[t].interactive=!1)};var h,l=c;function c(t,e){t=h.call(this,t,e=void 0===e?"Multiple_Blockchain_IBtn":e)||this;return t._numRed=0,t}}(BlockChain21PlusMultiGames=BlockChain21PlusMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockChain21PlusMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChain21PlusMain=i}(MultiGames=MultiGames||{}),!function(t){var i,n=PIXI.Container,h=PIXI.Text,e=(i=FishSCMultiGames.ViewModelTH,__extends(a,i),a.prototype.openVerPanel=function(t){var e=t.data.id-1,i=(this._numVeri=e,this.vModel.getPrePoker()[e]),n="X"!==i&&""!==i&&"back"!==i?this.vModel.getPreSeed(e):this.vModel.getSuf();this._verificationPanel.showPanel(i,t.data.id,this.vModel.getPreHash(e),n,!1)},a.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("STOP_SLOT",this._resultEvent)},a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new h(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel(1),this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new p(100,this._gametype),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new c(this._gametype),this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.onPlstUpdate=function(t){-1==t.data.newFirId&&this.vModel.clearPreData()},a.prototype.onGetHash=function(t){this._blockChainPoker.setCard(String(this.vModel.getNewCardId())),this._shoePanel.updateAllData(this.vModel.getPrePoker()),1!=this.vModel.getRd()&&-1!=this.vModel.getNewCardId()||this._blockChainPoker.setCard("1"),this._blockChainPoker.visible=!0},a.prototype.onBlockChainUpdate=function(t){},a.prototype.setResult=function(){},a.prototype.showResult=function(){var t=0==this._result?parseInt(this.vModel.getGameInfo().getResult()):this._result,t=FishSCThLogicShare.FishSCResultArea.getResultArea(t);this._betAreaPanel.showResult(t),this._numVeri+1==this.vModel.getRd()&&this.vModel.getSeed(this._numVeri)&&this._verificationPanel.updateData(this._numVeri+1,this.vModel.getAllPoker().allPoker[this._numVeri],this.vModel.getSeed(this._numVeri)),this._shoePanel.updateAllData(this.vModel.getPrePoker())},a.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1},a.prototype.setPoker=function(){""!=this._poker&&"X"!=this._poker&&"-"!=this._poker&&(this._blockChainPoker.setPoker(this._poker),this._isFir)&&this._blockChainPoker.showDiceNum()},a.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._blockChainPoker.runCountDown():"dealing"==this._status?",,"==this._poker&&this._blockChainPoker.runSlot():"ready"==this._status&&this._betAreaPanel&&this._betAreaPanel.reset()},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("STOP_SLOT",this._resultEvent)},a);function a(){var e=i.call(this)||this,t=(e._isFir=!0,e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoBG"));return e.blockChainVideoPanel.addChild(t),e._gametype=IPL.UrlParameter.gameType,e._blockChainPoker=new r,e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._resultEvent=function(t){e.showResult()},Tools.Animate.setAnimateListener(),e}t.ViewModelTH=e;o=BlockChainSicShare.PokerPanel,__extends(s,o),s.prototype.initUI=function(){var i=this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotBG");this.addChild(t);for(var e=0;e<2;e++){var n=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotLine1",e);this.addChild(n)}this.sumPoint=new h("16",{fontFamily:"Arial",fontSize:"42px",fill:"#ffffff"}),this.sumPoint.x=160,this.sumPoint.y=215,this.sumPoint.anchor.set(.5),this._arrCardId=new h("0016",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this._arrCardId),this._arrCardId.x=242,this._arrCardId.y=206,this._arrCardId.anchor.set(1,0),this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(246,208),this.addChild(this._IBtn),this._IBtn.setSensor(60,20,-20,1),this._IBtn.on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data={pStr:String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2])=="000"?"back":String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2]),id:Number(i._arrCardId.text)},i.event.dispatchEvent(t)});for(var a=new PIXI.Graphics,o=(a.beginFill(147,1),a.drawRect(0,0,250,85),a.endFill(),a.position.set(110,92),this.addChild(a),[]),e=0;e<6;e++)o[e]=PIXI.Texture.fromFrame("Multiple_Blockchain_fishSC000"+String(e));o[3]=PIXI.Texture.fromFrame("Multiple_Blockchain_fishSC_Tiger0000");for(e=0;e<3;e++)this._slotCon[e]=new BlockChainSicShare.slotContainer(85,o),this.addChild(this._slotCon[e]),this._slotCon[e].x=154+82*e,this._slotCon[e].y=48,this._slotCon[e].mask=a;this._slotCon[2].event.addEventListener("STOP_SLOT",function(t){for(var e=0;e<3;e++)i._slotCon[e].runScale();i.showDiceNum()}),this.reset()},s.prototype.setCard=function(t){var e=Number(t),i="";e<10?i="00":e<100&&(i="0"),this._arrCardId.text=i+t};var o,r=s;function s(){return o.call(this)||this}l=BlockChainShare.VerificationPanel,__extends(u,l),u.prototype.initPoker=function(t){this._poker=new m(!1,t=void 0===t?"":t),this._poker.x=94,this._poker.y=36,this._conContent.addChild(this._poker)},u.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_RESULT_SN"),IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new BlockChainShare.Panel),n=(i.initPanelUI(390,200),i.x=6,new h(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},u.prototype.initVerifiUI=function(){l.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new h(IPL.DictManager.getDict("RESULT_HISTORY"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t),this._returnBtn.y=100,this._pokerID.y=this._poker.y+this._poker.height+25},u.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),this._poker.setPoker(t="X"!=t&&t?t:"back"),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a="";e<10?a="00":e<100&&(a="0"),this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)};var l,c=u;function u(t){return l.call(this,t=void 0===t?"":t)||this}d=BlockChainShare.Panel,__extends(f,d),f.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("RESULT_HISTORY"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},f.prototype.initShoePokerUI=function(t,i){for(var n=this,a=(void 0===i&&(i=""),new PIXI.Container),o=this,e=0;e<t;e++)!function(e){o._conCell[e]=new PIXI.Container,o._conCell[e].interactive=!0,o._conCell[e].buttonMode=!0;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HistoryBG"),t=(t.width9=360,t.height9=42,o._conCell[e].addChild(t),PIXI.Sprite.fromImage("Multiple_Blockchain_SicBoNumBtn0000")),t=(t.x=297,t.y=4,o._conCell[e].addChild(t),new h((e+1<100?e+1<10?"00":"0":"")+String(e+1),{fontFamily:"Arial",fontSize:15,fill:16777215}));t.x=320,t.y=13,t.anchor.x=.5,o._conCell[e].addChild(t),o._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoSelect"),o._conCell[e].select.width9=360,o._conCell[e].select.height9=42,o._conCell[e].addChild(o._conCell[e].select),o._conCell[e].select.visible=!1,o._conCell[e].y=50*e,o._conCell[e].x=6,a.addChild(o._conCell[e]),o._arrPokerUI[e]=new m(!0,i),o._arrPokerUI[e].scale.set(.5),o._arrPokerUI[e].setPoker("back"),o._arrPokerUI[e].position.set(20,8),o._conCell[e].addChild(o._arrPokerUI[e]),o._conCell[e].on("mouseover",function(){n._conCell[e].select.visible=!0}),o._conCell[e].on("mouseout",function(){n._conCell[e].select.visible=!1}),o._conCell[e].data={pStr:"back",id:e+1},o._conCell[e].on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data=n._conCell[e].data,n.event.dispatchEvent(t)})}(e);this.scrollBar.updateScrollBar(a)},f.prototype.updateAllData=function(t){this.reset();for(var e=0;e<this._arrPokerUI.length;e++)e>=t.length?(this._arrPokerUI[e].setPoker("back"),this._conCell[e].data.pStr="back",this._conCell[e].alpha=.5,this._conCell[e].interactive=!1,this._conCell[e].select.visible=!1):""!==t[e]&&(this._arrPokerUI[e].setPoker(t[e]),this._conCell[e].data.pStr=t[e])},f.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._conCell[t].data.pStr="back",this._conCell[t].alpha=1,this._conCell[t].interactive=!0};var d,p=f;function f(t,e){void 0===e&&(e="");var i=d.call(this)||this;return i._arrPokerUI=[],i._conCell=[],i.initPanelUI(),i.init(),i.initShoePokerUI(t,e),i}_=PIXI.Container,__extends(g,_),g.prototype.setPoker=function(t){var e=-1!=t.indexOf(",")?t.split(","):t.split("");if(""==e[0]||"back"==t||"X"==t)for(var i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_Blockchain_DiceBG0000");else for(i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_FishSC_Poker000"+(e[i]-1)),Number(e[i]),e[i]-1==3&&(this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_FishSC_Poker_Tiger0000"))};var _,m=g;function g(t,e){void 0===t&&(t=!0),void 0===e&&(e="");var i=_.call(this)||this;i.pokerSpr=[],i.gametype=e;for(var n=0;n<3;n++){var a=new PIXI.Sprite(PIXI.Texture.from("Multiple_Blockchain_DiceBG0000"));i.addChild(a),a.x=65*n,a.height=50,a.width=50,i.pokerSpr[n]=new PIXI.Sprite(PIXI.Texture.from("Multiple_Blockchain_DiceBG0000")),i.addChild(i.pokerSpr[n]),i.pokerSpr[n].x=65*n,i.pokerSpr[n].height=50,i.pokerSpr[n].width=50}return i}}(BlockchainFishSCMultiGames=BlockchainFishSCMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainFishSCMultiGames.ViewModelTH,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainFishSCTHMain=i}(MultiGames=MultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new Bac21PlusMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.Bac21PlusMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){}function i(t){this.Transinit(t)}e.getResultArea=function(t){var e=[[]];return e[1]=[17],e[2]=[1,3,17,18,24],e[3]=[1,4,17,19,23],e[4]=[1,5,17,20,24],e[5]=[1,6,17,21,23],e[6]=[1,7,17,22,24],e[7]=[1,4,17,18,23],e[8]=[1,5,17,18,19,24],e[9]=[1,6,17,18,20,23],e[10]=[1,7,17,18,21,24],e[11]=[1,8,17,18,22,23],e[12]=[1,6,17,19,23],e[13]=[1,7,17,19,20,24],e[14]=[1,8,17,19,21,23],e[15]=[1,9,17,19,22,24],e[16]=[1,8,17,20,23],e[17]=[1,9,17,20,21,24],e[18]=[2,10,17,20,22,23],e[19]=[2,10,17,21,23],e[20]=[2,11,17,21,22,24],e[21]=[2,12,17,22,23],e[22]=[5,18],e[23]=[1,6,18,19,23],e[24]=[1,7,18,20,24],e[25]=[1,8,18,21,23],e[26]=[1,9,18,22,24],e[27]=[1,7,18,19,24],e[28]=[1,8,18,19,20,23],e[29]=[1,9,18,19,21,24],e[30]=[2,10,18,19,22,23],e[31]=[1,9,18,20,24],e[32]=[2,10,18,20,21,23],e[33]=[2,11,18,20,22,24],e[34]=[2,11,18,21,24],e[35]=[2,12,18,21,22,23],e[36]=[2,13,18,22,24],e[37]=[8,19],e[38]=[1,9,19,20,24],e[39]=[2,10,19,21,23],e[40]=[2,11,19,22,24],e[41]=[2,10,19,20,23],e[42]=[2,11,19,20,21,24],e[43]=[2,12,19,20,22,23],e[44]=[2,12,19,21,23],e[45]=[2,13,19,21,22,24],e[46]=[2,14,19,22,23],e[47]=[11,20],e[48]=[2,12,20,21,23],e[49]=[2,13,20,22,24],e[50]=[2,13,20,21,24],e[51]=[2,14,20,21,22,23],e[52]=[2,15,20,22,24],e[53]=[14,21],e[54]=[2,15,21,22,24],e[55]=[2,16,21,22,23],e[56]=[22],e[t]},t.SicBoVnResultArea=e,i.prototype.Transinit=function(t){var e="";if(null!=t&&""!==t){for(var i=t.split(","),n=[],a=0,o=i.length;a<o;a++)""!==i[a]&&n.push(this.sumRes(i[a]));e=n.join(",")}this._rtString=e},i.prototype.sumRes=function(t){for(var e=t.split("-"),i=0,n=0,a=e.length;n<a;n++)i+=Number(e[n]);return e[0]===e[1]&&e[1]===e[2]?"2"+String(i):i<=10?"0"+String(i):"1"+String(i)},i.prototype.GetNewRoad=function(){return this._rtString},t.SicBoVnTransRoadmap=i}(SicBoVnLogicShare=SicBoVnLogicShare||{}),!function(t){var i,n=PIXI.Container,u=PIXI.Graphics,a=PIXI.Sprite,d=PIXI.Text,e=(i=SicBoMultiGames.ViewModel,__extends(o,i),o.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_VnSicBo_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_VnSicBo_BetHigh_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_VnSicBo_BetLow_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_VnSicBo_BetEven_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_VnSicBo_BetOdd_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),i=1;i<=24;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_VnSicBo_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e)},o.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=24;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_VnSicBo_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.SicboBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.5),this._chipStackPanel.resetChipSize(.6)},o.prototype.initRoadInfo=function(){this._roadmapPanel=new S,this._roadmapPanel.x=8,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram1x44&&SharePanel.sameFrameLine.createTexture({gridRow:1,gridCol:16,gridW:26,gridH:130,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram1x44"});var t=new a(Tools.TextureStore.repository.Fram1x44),e={posX:5,posY:6},t=(this._roadmapPanel.initRoadBg(e,t),null==Tools.TextureStore.repository.Fram6x19&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:19,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x19"}),new a(Tools.TextureStore.repository.Fram6x19)),e=(e.posX=0,e.posY=0,this._roadmapPanel.initRoadBg2(e,t),new u),t=(e.beginFill(13421772),e.drawRect(0,0,450,142),e.endFill(),new u),i=(t.beginFill(13421772),t.drawRect(0,0,450,142),t.endFill(),{}),e=(i.posX=0,i.posY=0,i.maskMc=e,{}),t=(e.posX=0,e.posY=0,e.maskMc=t,this._roadmapPanel.initMouseMask(i,e),{fontFamily:"Arial",fontSize:"30px",fill:"#ffffff",align:"center"}),i={roundNum:16,direction:"right",listDir:"Hor",modNum:16,startPosX:4,startPosY:5,gapX:28,gapY:10,diceSet:{diceName:"Multiple_Hall_SicBo_Dice",diceScale:.85,diceDisY:25}},e=(i.diceSumSet={diceSumStyle:t,posX:0,posY:78},i.BSSet={BSStyle:t,posX:2,posY:95},i.smallCol="#00FF00",i.bigCol="#FF0000",i.triSameCol="#FFFF00",this._roadmapPanel.initList(i),{gameType:"3042",cellName:"Multiple_VnSicBo_Rm",gridRow:6,gridCol:19,gapX:24,gapY:24,startPosX:1,startPosY:1,scale:1,tStyle:{font:"18px roadTxt",align:"center"}}),t=(this._roadmapPanel.initRoadNew2A(e),{gameType:"3042",cellName:"Multiple_VnSicBo_Rm",gridRow:18,gridCol:30,gapX:10,gapY:10,startPosX:1,startPosY:1,scale:.7,tStyle:{font:"18px roadTxt",align:"center"}});this._roadmapPanel.initRoadLG(t),this._roadmapPanel.initAddListen(),this._roadmapPanel.setNowRoadmap("roadmapB"),this.addChild(this._roadmapPanel)},o.prototype.openVerPanel=function(t){var e=t.data.id-1,i=(this._numVeri=e,this.vModel.getPrePoker()[e]),n=i&&"X"!==i&&""!==i&&"back"!==i?this.vModel.getPreSeed(e):this.vModel.getSuf();this._verificationPanel.showPanel(i,t.data.id,this.vModel.getPreHash(e),n,!1)},o.prototype.setRoadmap=function(){var t=new SicBoVnLogicShare.SicBoVnTransRoadmap(this._roadMap).GetNewRoad();this._roadmapPanel.setData(t,this._roadMap)},o.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},o.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("STOP_SLOT",this._resultEvent)},o.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new d(IPL.DictManager.getDict("RESULT_HISTORY"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new d(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel(1),this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new _(100),this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new c,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},o.prototype.onPlstUpdate=function(t){-1==t.data.newFirId&&this.vModel.clearPreData()},o.prototype.onGetHash=function(t){this._blockChainPoker.setCard(String(this.vModel.getNewCardId())),this._shoePanel.updateAllData(this.vModel.getPrePoker()),1!=this.vModel.getRd()&&-1!=this.vModel.getNewCardId()||this._blockChainPoker.setCard("1"),this._blockChainPoker.visible=!0},o.prototype.onBlockChainUpdate=function(t){},o.prototype.setResult=function(){},o.prototype.showResult=function(){0==this._result?parseInt(this.vModel.getGameInfo().getResult()):this._result;var t=SicBoVnLogicShare.SicBoVnResultArea.getResultArea(this._result);this._betAreaPanel.showResult(t),this._numVeri+1==this.vModel.getRd()&&this.vModel.getSeed(this._numVeri)&&this._verificationPanel.updateData(this._numVeri+1,this.vModel.getAllPoker().allPoker[this._numVeri],this.vModel.getSeed(this._numVeri)),this._shoePanel.updateAllData(this.vModel.getPrePoker())},o.prototype.init=function(){this._isFir=!0,i.prototype.init.call(this),this._isFir=!1},o.prototype.setPoker=function(){""!=this._poker&&"X"!=this._poker&&"-"!=this._poker&&(this._blockChainPoker.setPoker(this._poker),this._isFir)&&this._blockChainPoker.showDiceNum()},o.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new SicLogicShare.LimitPanel,this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["ODDEVEN","SICVN_BIGSMALL","SIC_SINGLE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","MIN","MAX"]),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},o.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._blockChainPoker.runCountDown():"dealing"==this._status?",,"==this._poker&&this._blockChainPoker.runSlot():"ready"==this._status&&this._betAreaPanel&&this._betAreaPanel.reset()},o.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},o.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._blockChainPoker.resetAnimate(),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("STOP_SLOT",this._resultEvent)},o);function o(){var e=i.call(this)||this,t=(e._isFir=!0,e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoBG"));return e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new s,e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e._resultEvent=function(t){e.showResult()},Tools.Animate.setAnimateListener(),e}t.ViewModelVi=e;r=BlockChainSicShare.PokerPanel,__extends(h,r),h.prototype.initUI=function(){var i=this,t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotBG");this.addChild(t);for(var e=0;e<2;e++){var n=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SlotLine1",e);this.addChild(n)}this.sumPoint=new d("16",{fontFamily:"Arial",fontSize:"42px",fill:"#ffffff"}),this.addChild(this.sumPoint),this.sumPoint.x=234,this.sumPoint.y=216,this.sumPoint.anchor.set(.5),this._arrCardId=new d("0016",{fontFamily:"Arial",fontSize:"16px",fill:"#ffffff"}),this.addChild(this._arrCardId),this._arrCardId.x=316,this._arrCardId.y=215,this._arrCardId.anchor.set(1,0);for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoFrame"),a=(this.addChild(t),this._IBtn=new ShareUI.Button("Multiple_Blockchain_SicBoIBtn"),this._IBtn.position.set(320,218),this.addChild(this._IBtn),this._IBtn.setSensor(212,44,-93,-9),this._IBtn.on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data={pStr:String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2])=="000"?"back":String(i._pointArr[0])+String(i._pointArr[1])+String(i._pointArr[2]),id:Number(i._arrCardId.text)},i.event.dispatchEvent(t)}),new PIXI.Graphics),o=(a.beginFill(147,1),a.drawRect(0,0,250,85),a.endFill(),a.position.set(110,92),this.addChild(a),[]),e=0;e<6;e++)o[e]=PIXI.Texture.fromFrame("Multiple_Blockchain_SicBo000"+String(e));for(e=0;e<3;e++)this._slotCon[e]=new BlockChainSicShare.slotContainer(85,o),this.addChild(this._slotCon[e]),this._slotCon[e].x=154+82*e,this._slotCon[e].y=48,this._slotCon[e].mask=a;this._slotCon[2].event.addEventListener("STOP_SLOT",function(t){for(var e=0;e<3;e++)i._slotCon[e].runScale();i.showDiceNum()}),this.reset()},h.prototype.setCard=function(t){var e=Number(t),i="";e<10?i="00":e<100&&(i="0"),this._arrCardId.text=i+t};var r,s=h;function h(){return r.call(this)||this}l=BlockChainShare.VerificationPanel,__extends(p,l),p.prototype.initPoker=function(){this._poker=new v(!1),this._poker.x=94,this._poker.y=36,this._conContent.addChild(this._poker)},p.prototype.initRultUI=function(){for(var a=[206,338,338,338],o=[102,140,305,481],r=[IPL.DictManager.getDict("BC_RESULT_SN"),IPL.DictManager.getDict("BC_RESULT_POINT")+"\n"+IPL.DictManager.getDict("BC_RESULT_POINT_TXT")+"\n\n"+IPL.DictManager.getDict("BC_RANDOM_STRING")+"\n"+IPL.DictManager.getDict("BC_RANDOM_STRING_TXT2"),IPL.DictManager.getDict("BC_DRAW_VERIFY"),IPL.DictManager.getDict("BC_ARTICLE_NO_CHANGE")],s=this,t=0;t<4;t++)!function(t){var e=new ShareUI.Button("Multiple_Blockchain_TipBtn"),i=(e.x=a[t],e.y=o[t],s._conContent.addChild(e),new BlockChainShare.Panel),n=(i.initPanelUI(390,200),i.x=6,new d(r[t],{fontFamily:"微軟正黑體",fontSize:16,fill:16777215,wordWrap:!0,wordWrapWidth:345,breakWords:!0}));n.x=25,n.y=65,i.addChild(n),s.addChild(i),e.on("pointerdown",function(){i.openPanel(),i.setH(n.height+80),i.y=e.y})}(t)},p.prototype.initVerifiUI=function(){l.prototype.initVerifiUI.call(this),this._returnBtn.removeChildren();var t=new d(IPL.DictManager.getDict("RESULT_HISTORY"),{fontFamily:"微軟正黑體",fontSize:14,fill:16777215});t.style.fontSize=Tools.AdjustText.adjustFontSize(t,14,120),t.anchor.set(.5),t.x=61,t.y=11,this._returnBtn.addChild(t),this._returnBtn.y=100,this._pokerID.y=this._poker.y+this._poker.height+25},p.prototype.showPanel=function(t,e,i,n,a){void 0===a&&(a=!0),this.reset(),this._poker.setPoker(t="X"!=t&&t?t:"back"),"back"!==t?(this._btnVer.setStatus("up"),this._btnVer.setMouseStatus(!0),this._copyBtn.setStatus("up"),this._copyBtn.setMouseStatus(!0)):(this._btnVer.setStatus("down"),this._btnVer.setMouseStatus(!1),this._copyBtn.setStatus("down"),this._copyBtn.setMouseStatus(!1));a="";e<10?a="00":e<100&&(a="0"),this._pokerID.text=a+String(e),this._arrContext[0].text=i,this._arrContext[2].text=n,this.openPanel(!1)};var l,c=p;function p(){return l.call(this)||this}f=BlockChainShare.Panel,__extends(m,f),m.prototype.init=function(){this.setTitle(IPL.DictManager.getDict("RESULT_HISTORY"),15);this.shoePokerCon=new n,this.addChild(this.shoePokerCon),this.scrollBar=new ShareUI.QBar(this.shoePokerCon,12,65,{isHover:!1,barColor:8612677,bgAlpha:1,conBgColor:0,bgColor:0}),this.scrollBar.init(6,690,380),this.scrollBar.initWheel(1,.3),this.addChild(this.scrollBar)},m.prototype.initShoePokerUI=function(t){for(var i=this,n=new PIXI.Container,a=this,e=0;e<t;e++)!function(e){a._conCell[e]=new PIXI.Container,a._conCell[e].interactive=!0,a._conCell[e].buttonMode=!0;var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_HistoryBG"),t=(t.width9=360,t.height9=42,a._conCell[e].addChild(t),PIXI.Sprite.fromImage("Multiple_Blockchain_SicBoNumBtn0000")),t=(t.x=297,t.y=4,a._conCell[e].addChild(t),new d((e+1<100?e+1<10?"00":"0":"")+String(e+1),{fontFamily:"Arial",fontSize:15,fill:16777215}));t.x=320,t.y=13,t.anchor.x=.5,a._conCell[e].addChild(t),a._conCell[e].select=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_SicBoSelect"),a._conCell[e].select.width9=360,a._conCell[e].select.height9=42,a._conCell[e].addChild(a._conCell[e].select),a._conCell[e].select.visible=!1,a._conCell[e].y=50*e,a._conCell[e].x=6,n.addChild(a._conCell[e]),a._arrPokerUI[e]=new v,a._arrPokerUI[e].scale.set(.5),a._arrPokerUI[e].setPoker("back"),a._arrPokerUI[e].position.set(20,8),a._conCell[e].addChild(a._arrPokerUI[e]),a._conCell[e].on("mouseover",function(){i._conCell[e].select.visible=!0}),a._conCell[e].on("mouseout",function(){i._conCell[e].select.visible=!1}),a._conCell[e].data={pStr:"back",id:e+1},a._conCell[e].on("click",function(){var t=new H5Event.H5BaseEvent("openVerification");t.data=i._conCell[e].data,i.event.dispatchEvent(t)})}(e);this.scrollBar.updateScrollBar(n)},m.prototype.updateAllData=function(t){this.reset();for(var e=0;e<this._arrPokerUI.length;e++)e>=t.length?(this._arrPokerUI[e].setPoker("back"),this._conCell[e].data.pStr="back",this._conCell[e].alpha=.5,this._conCell[e].interactive=!1,this._conCell[e].select.visible=!1):""!==t[e]&&(this._arrPokerUI[e].setPoker(t[e]),this._conCell[e].data.pStr=t[e])},m.prototype.reset=function(){for(var t=0;t<this._arrPokerUI.length;t++)this._arrPokerUI[t].setPoker("back"),this._conCell[t].data.pStr="back",this._conCell[t].alpha=1,this._conCell[t].interactive=!0};var f,_=m;function m(t){var e=f.call(this)||this;return e._arrPokerUI=[],e._conCell=[],e.initPanelUI(),e.init(),e.initShoePokerUI(t),e}g=PIXI.Container,__extends(y,g),y.prototype.setPoker=function(t){var e=-1!=t.indexOf(",")?t.split(","):t.split("");if(""==e[0]||"back"==t||"X"==t){for(var i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_Blockchain_DiceBG0000");this.txtNum&&(this.txtNum.text="")}else{for(var n=0,i=0;i<3;i++)this.pokerSpr[i].texture=PIXI.Texture.from("Multiple_SicBo_Poker000"+(e[i]-1)),n+=Number(e[i]);this.txtNum&&(this.txtNum.text=String(n)),e[0]==e[1]&&e[1]==e[2]?this.txtNum&&(this.txtNum.style.fill=16765559):this.txtNum&&(this.txtNum.style.fill=16777215)}};var g,v=y;function y(t){void 0===t&&(t=!0);var e=g.call(this)||this;e.pokerSpr=[];for(var i=0;i<3;i++)e.pokerSpr[i]=new PIXI.Sprite(PIXI.Texture.from("Multiple_Blockchain_DiceBG0000")),e.addChild(e.pokerSpr[i]),e.pokerSpr[i].x=65*i,e.pokerSpr[i].height=50,e.pokerSpr[i].width=50;return t&&(e.txtNum=new d("",{fontFamily:"Arial",fontSize:46,fill:16777215}),e.txtNum.x=325,e.txtNum.anchor.x=.5,e.addChild(e.txtNum)),e}P=SharePanel.RoadmapSicbo,__extends(b,P),b.prototype.initRoadBg2=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1),this.roadmapUI2=new n,null!=t.background&&(this.roadmapBG=t.background,this.addChild(this.roadmapBG)),null!=e&&(this.roadmapUI2.x=t.posX,this.roadmapUI2.y=t.posY,this.roadmapUI2.addChild(e)),this.addChild(this.roadmapUI2),this.roadmapUI2.scale.set(i),this.roadmapUI2.visible=!0,this.roadmapUI.visible=!1},b.prototype.initRoadNew2A=function(t){this.gameType=t.gameType,this.roadmapNew2A=new B(t)},b.prototype.initRoadLG=function(t){this.roadmapLG=new T(t),this.roadmapUI2.addChild(this.roadmapLG)},b.prototype.addMc3=function(t){this.roadmapUI2.addChildAt(t,1)},b.prototype.removeMc2=function(t){t.parent==this.roadmapUI2&&this.roadmapUI2.removeChild(t)},b.prototype.initMouseMask=function(t,e){void 0===e&&(e=null),null!=t&&(this.changeRoadB=t.maskMc,this.changeRoadB.name="changeB",this.changeRoadB.x=t.posX,this.changeRoadB.y=t.posY,this.roadmapUI.addChild(this.changeRoadB),this.changeRoadB.alpha=0),null!=e&&(this.changeRoadD=e.maskMc,this.changeRoadD.name="changeD",this.changeRoadD.x=e.posX,this.changeRoadD.y=e.posY,this.roadmapUI2.addChild(this.changeRoadD),this.changeRoadD.alpha=0)},b.prototype.setData=function(t,e){P.prototype.setData.call(this,e=void 0===e?"":e),null!=t&&(this.roadmapNew2A.resetCells(),this.roadmapLG.resetCells(),""!=t)&&null!=this.roadmapNew2A&&(this.roadmapNew2A.setRoadmapData(t),this.roadmapLG.showResult(t))},b.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp&&(this.roadmapUI.visible=!1,this.roadmapUI2.visible=!0,this.addMc3(this.roadmapNew2A),this._nowRamp="roadmapLG")},b.prototype.onChangeRoadD=function(){"roadmapLG"==this._nowRamp?(this.roadmapBG=this.newBG,this.removeMc2(this.roadmapNew2A),this.addMc3(this.roadmapLG),this._nowRamp="roadmapB"):"roadmapB"==this._nowRamp&&(this.roadmapUI.visible=!0,this.roadmapUI2.visible=!1,this.removeMc2(this.roadmapLG),this._nowRamp="roadmap2A")};var P,S=b;function b(){return P.call(this)||this}t.Roadmap=S;I=ShareRoad.RoadmapNew2A,__extends(C,I),C.prototype.setRoadmapData=function(t){t=t.split(",");""==t[0]?this.record=[]:this.record=t,this.redraw()},C.prototype.arrangeCells=function(){for(var t=this.cellSetting.startPosX,e=this.cellSetting.startPosY,i=0;i<this.cellSetting.gridCol;i++)for(var n=t+this.cellSetting.gapX*i,a=0;a<this.cellSetting.gridRow;a++){var o=e+this.cellSetting.gapY*a,r=new ShareRoad.RoadmapNormalCell("Multiple_VnSicBo_Rm");r.x=n,r.y=o,null!=this.cellSetting.scale&&r.scale.set(this.cellSetting.scale),this.mcList.push(r)}},C.prototype.showResult=function(t){for(var e=0;e<t.length;e++){var i=this.mcList[e];if(null!=t[e]){var n,a=t[e],o=a.charAt(0),r=Number(o),s=("3042"==this.cellSetting.gameType&&r++,new d("",{fontFamily:"Arial",fontSize:"14px",fill:"#000000",fontWeight:"bolder"}));switch(s.y=1,"0"==o&&"1"!=a.charAt(1)||"2"==o&&"1"!=a.charAt(1)?(n=a.charAt(1),s.x=5.5):("1"==o||"0"==o&&"1"==a.charAt(1)||"2"==o&&"1"==a.charAt(1))&&(n=a.charAt(1)+a.charAt(2),s.x=2),s.text=n,i.addChild(s),r){case 1:i.setPoint(1),this.addChild(i);break;case 2:i.setPoint(2),this.addChild(i);break;case 3:i.setPoint(3),this.addChild(i)}}}},C.prototype.resetCells=function(){for(var t=0;t<this.mcList.length;t++){var e=this.mcList[t];this.removeChild(e),e.removeChildren()}};var I,B=C;function C(t){return I.call(this,t)||this}t.RoadmapNew2ASic=B;__extends(x,k=a),x.prototype.initBG=function(){var t=new u,t=(t.beginFill(3089459),t.drawRect(0,0,454,145),t.endFill(),this.addChild(t),new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_VnSicBo_roadmap0000")));this.addChild(t)},x.prototype.showResult=function(t){this.resetCells();for(var e,i=t.split(","),n=0;n<i.length;n++)null!=i[n]&&(e=new ShareRoad.RoadmapNormalCell(this.cellSetting.cellName),null!=this.cellSetting.scale&&e.scale.set(this.cellSetting.scale),this.mcList.push(e));for(var a=0,n=a=25<=i.length?i.length-25:a;n<i.length;n++)if(null!=i[n]){var o,r=this.mcList[n],s=(t=i[n]).charAt(0),h=Number(s),l=("3042"==this.cellSetting.gameType&&h++,new d("",{fontFamily:"Arial",fontSize:"15px",fill:"#000000",fontWeight:"bolder"}));switch(l.y=1,"0"==s&&"1"!=t.charAt(1)||"2"==s&&"1"!=t.charAt(1)?(o=t.charAt(1),l.x=5.5):("1"==s||"0"==s&&"1"==t.charAt(1)||"2"==s&&"1"==t.charAt(1))&&(o=t.charAt(1)+t.charAt(2),l.x=2),l.text=o,r.x=27+16.755*(n-a),r.y=18-7.9*Number(o)+128,r.addChild(l),h){case 1:r.setPoint(1),this.addChild(r);break;case 2:r.setPoint(2),this.addChild(r);break;case 3:r.setPoint(3),this.addChild(r)}}for(var c,n=a;n<this.mcList.length-1;n++)null!=i[n]&&0!=this.mcList[n].x&&0!=this.mcList[n+1].x&&((c=new u).lineStyle(1,16777215),c.moveTo(this.mcList[n].x+12,this.mcList[n].y+5),c.lineTo(this.mcList[n+1].x+2,this.mcList[n+1].y+5),c.endFill(),this.lineList.push(c),c=c,this.addChildAt(c,2))},x.prototype.resetCells=function(){for(var t=0;t<this.mcList.length;t++){var e=this.mcList[t];this.removeChild(e),e.removeChildren()}for(t=0;t<this.lineList.length;t++){var i=this.lineList[t];this.removeChild(i)}this.mcList=[],this.lineList=[]};var k,T=x;function x(t){var e=k.call(this)||this;return e.cellSetting=t,e.mcList=[],e.lineList=[],e.initBG(),e}t.RoadmapLG=T}(BlockchainSicBoMultiGames=BlockchainSicBoMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockchainSicBoMultiGames.ViewModelVi,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainSicBoMainVi=i}(MultiGames=MultiGames||{}),!function(t){function e(){}e.getResultArea=function(t){var e=[[]];return e[1]=[1],e[2]=[2],e[3]=[3],e[4]=[4],e[12]=[1,2],e[13]=[1,3],e[14]=[1,4],e[23]=[2,3],e[24]=[2,4],e[34]=[3,4],e[123]=[1,2,3],e[124]=[1,2,4],e[134]=[1,3,4],e[234]=[2,3,4],e[1234]=[1,2,3,4],e[999]=[],e[t]},t.Lucky5CardsResultArea=e}(Lucky5CardsLogicShare=Lucky5CardsLogicShare||{}),!function(t){function e(){this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},this.keyArr=["SPADES","HEARTS","DIAMONDS","CLUBS"],this.titleArr=[],this.limitNameArr=["roundBetMax","roundBetMax","roundBetMax","roundBetMax"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:1","1:1","1:1","1:1"],this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(Lucky5CardsLogicShare=Lucky5CardsLogicShare||{}),!function(t){var n,a=PIXI.Container,o=PIXI.Sprite,r=PIXI.Point,s=PIXI.Text,e=(n=ShareMultiGames.ViewModel,__extends(i,n),i.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this.initRoadInfo()},i.prototype.initShareUI=function(){n.prototype.initShareUI.call(this),this._pokerPanel=new l("SimplePoker"),this._pokerPanel.x=-20,this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},i.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Lucky5Cards_BetArea"),e=(this.addChild(t),[]),i=1;i<=4;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Lucky5Cards_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e)},i.prototype.initChipPosition=function(){n.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=4;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Lucky5Cards_ChipPos","mb"+String(t)),null==this._chipPos[t]&&(this._chipPos[t]=new r(0,-100));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.BlockChainLucky5(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},i.prototype.initRoadInfo=function(){this._roadmapPanel=new SharePanel.RoadmapLucky5,this._roadmapPanel.x=12,this._roadmapPanel.y=709;var t=new a,e=new o(PIXI.Texture.fromImage("Multiple_Lucky5Cards_roadmap0000")),e=(t.addChild(e),new s("B",{fontFamily:"微軟正黑體",fontSize:"18px",fill:"#FF0000"}));e.x=22,e.y=2,t.addChild(e),"tw"==IPL.UrlParameter.lang?(e.text="莊",e.x=20):"cn"==IPL.UrlParameter.lang&&(e.text="庄",e.x=20);for(var i=0;i<4;++i){var n=o.fromFrame("Multiple_Lucky5Cards_RMpokersuits000"+i);n.x=20,n.y=35+29*i,t.addChild(n)}e={posX:0,posY:0},e.background=t,this._roadmapPanel.initRoadBg(e),e={version:"mandy",titleX:55,originalX:76,originalY:14,gapX:32.5,gapY:28.7,scale:1,roundNum:12,winBack:"Multiple_Lucky5Cards_RMwin0000",winX:75,winY:13,sameStyle:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#00BD4B"},winStyle:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#00A5DC"},style:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#FFFFFF"},bankStyle:{fontFamily:"Arial",fontSize:"15px",fontWeight:"bold ",fill:"#DF2C19"}};this._roadmapPanel.initCell(e),this.addChild(this._roadmapPanel)},i.prototype.configureModelListener=function(){n.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},i.prototype.onStatusChanged=function(t){n.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"==this._status||"waiting"==this._status?this._pokerPanel.visible=!0:"rollDice"==this._status&&(this._messageTxt.onMessage(IPL.DictManager.getDict("WAIT_FOR_NEW_GAME"),!1),this._pokerPanel.visible=!0),this._roadmapPanel.setStatus(this._status)},i.prototype.setPoker=function(){",,,,,,,,,,,,,,,,,,,,"==this._poker?this._pokerPanel.reset():this._pokerPanel.setPoker(this._poker)},i.prototype.setRoadmap=function(){this._roadmapPanel.setData(this._roadMap)},i.prototype.setResult=function(){for(var t=Lucky5CardsLogicShare.Lucky5CardsResultArea.getResultArea(this._result),e=this._resultStr.split(","),t=[],i=0;i<e.length;i++)t.push(Number(e[i]));this._betAreaPanel.showResult(t)},i.prototype.onUserInfo=function(){var t,e=this.vModel.getLimiter(),i=(this._limitMin=e.getLimit("roundBetMin"),this._limitMax=e.getLimit("roundBetMax"),this._limitInfo=new Lucky5CardsLogicShare.LimitPanel,this._limitInfo.setData(e),{});for(t in i.list=this._limitInfo.getLimitInfo(),i.list)i.list[t].titleIcon="Multiple_Lucky5Cards_RMpokersuits000"+t,i.list[t].title=null;i.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(i),n.prototype.onUserInfo.call(this)},i.prototype.onAddBet=function(t){this._betType=t.betType,0==this._chipValue?Tools.AlertPanel.showAlert(IPL.DictManager.getDict("PLEASE_SELECT_CHIP"),3e3,"",!0,!1):((t=this.vModel.getGameDefine().getBetManager()).addBet(this._betType,this._chipValue),this.vModel.addBetSet(t))},i);function i(){return n.call(this)||this}t.ViewModel=e;h=BullShare.PokerPanel,__extends(c,h),c.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG");t.x+=20,this.addChild(t);for(var e=0;e<4;++e){var i=o.fromFrame("Multiple_Lucky5Cards_RMpokersuits000"+e);i.position=PIXILayoutTool.DisplayObject.createImage("Multiple_Lucky5Cards_RMpokersuits",e+8).position,this.addChild(i)}for(var n=[],e=1;e<=25;e++){var a=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Lucky5Cards_PokerBG","b"+String(e));this.addChild(a),n.push(a.position)}for(e=0;e<5;++e)this.bankerPoker[e].position=n[e+20],this.bankerPoker[e].scale=new r(.28,.28),this.addChild(this.bankerPoker[e]),this.player1Poker[e].position=n[e+5],this.player1Poker[e].scale=new r(.28,.28),this.addChild(this.player1Poker[e]),this.player2Poker[e].position=n[e+10],this.player2Poker[e].scale=new r(.28,.28),this.addChild(this.player2Poker[e]),this.player3Poker[e].position=n[e+15],this.player3Poker[e].scale=new r(.28,.28),this.addChild(this.player3Poker[e]);this.player1Win=new o,this.player2Win=new o,this.player3Win=new o,this.reset()};var h,l=c;function c(t){for(var t=h.call(this,t,!0)||this,e=0;e<5;++e);return t}t.Poker=l}(Lucky5CardsMultiGames=Lucky5CardsMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new Lucky5CardsMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.Lucky5CardsMain=i}(MultiGames=MultiGames||{}),!function(t){n=Composite.EventContainer,__extends(i,n),i.prototype.initUI=function(){},i.prototype.initAnimate=function(){},i.prototype.setPoker=function(t){for(var e=t.split(","),i=0;i<this.pokerMcArr.length;i++)""!=e[i]&&"X"!=e[i]&&this.pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&(this.showPokerAnimate(i,e[i]),this.pokerStrArr[i]=e[i],4!=i&&9!=i&&14!=i&&19!=i&&24!=i||this.setResult(i,e))},i.prototype.setResult=function(t,e){this._playerResult[(t+=1)/5-1].visible=!0;for(var i=0,n=t-5;n<t;n++){var a=Number(e[n].split(".")[1]);i+=a=10<a?10:a}if(this._playerType[t/5-1].text=i,25==t)for(n=0;n<4;n++)this.setWinLight(this.getLvWin(this._playerType[4].text,this._playerType[n].text),n)},i.prototype.getLvWin=function(t,e){return e<t?"win":t==e?"tie":"lose"},i.prototype.setWinLight=function(t,e){"win"==t?this._playerWin[e].visible=!0:"tie"==t&&(this._playerTie[e].visible=!0)},i.prototype.showPokerAnimate=function(t,e){this.arrPokerAnimate[t].data.pStr=e,this.arrPokerAnimate[t].restart()},i.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t))for(var e=0;e<6;e++){var i=t+e,n="";i<10?n="00":i<100&&(n="0"),this.arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i),4<=e&&(this.arrCardId[e].visible=!1)}else for(e=0;e<this.arrCardId.length;e++)this.arrCardId[e].text=""},i.prototype.reset=function(){this.newAnimate.pause();for(var t=0;t<this.pokerMcArr.length;t++){this.arrPokerAnimate[t].pause(),this.pokerMcArr[t].setPoker("back");var e=this.pokerMcArr[t].getChildAt(0);e.width=25,e.height=40,this.pokerMcArr[t].position=this.pokerPos[t],this.pokerMcArr[t].visible=!0,this.pokerMcArr[t].alpha=1,this.pokerStrArr[t]=""}for(t=0;t<this.titleBG.length;t++)this.titleBG[t].alpha=1,this._playerResult[t].visible=!1,this._playerType[t].text="",this._playerWin[t].visible=!1,this._playerTie[t].visible=!1};var n,e=i;function i(t,e){var i=n.call(this)||this;return i.initUI(),i.initAnimate(),i.reset(),i}t.PokerPanel=e}(Lucky5CardShare=Lucky5CardShare||{}),!function(t){var i,n=PIXI.Container,o=PIXI.Point,r=PIXI.Text,e=(i=Lucky5CardsMultiGames.ViewModel,__extends(a,i),a.prototype.initBlockChainUI=function(){var t=this,e=(this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new r(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new r(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.NoRedShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.ThrCardVerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._first=!0,this._checkani=!0,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},a.prototype.initBlockChainAnimate=function(){var t=this;this._readyAnimate=new TimelineMax({paused:!0}),this._readyAnimate.fromTo(this._blockChainPoker,.2,{alpha:1},{alpha:0,onStart:function(){t._blockChainPoker.visible=!0},onComplete:function(){t._blockChainPoker.visible=!1}}).fromTo(this._infoTxt,1,{alpha:0},{alpha:1})},a.prototype.openVerPanel=function(t){var e=t.data.id-1,i="new"===t.status?this.vModel.getHash(e):this.vModel.getPreHash(e),n="new"===t.status?this.vModel.getSeed(e):this.vModel.getPreSeed(e),e=""===this.vModel.getAllPoker().allPoker[e]?"back":this.vModel.getAllPoker().allPoker[e];this._verificationPanel.showPanel(e,t.data.id,i,n,t.status)},a.prototype.openShoePanel=function(t){this._verificationPanel.visible=!1,this._shoePanel.openPanel()},a.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},a.prototype.setPoker=function(){var t,e,i=this;",,,,,,,,,,,,,,,,,,,,,,,,"==this._poker&&1==this._first&&1==this._checkani?(this._blockChainPoker.reset(),this._readyAnimate.seek(.4),this._readyAnimate.reverse(),this._first=!1):",,,,,,,,,,,,,,,,,,,,,,,,"==this._poker&&1==this._first?(t=0,e=setInterval(function(){6==++t&&(i._blockChainPoker.reset(),i._readyAnimate.seek(.4),i._readyAnimate.reverse(),i._first=!1,clearInterval(e))},500)):",,,,,,,,,,,,,,,,,,,,,,,,"!=this._poker&&(this._first=!0,this._blockChainPoker.setPoker(this._poker))},a.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},a.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.addEventListener("showHead",this._headEvent)},a.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._readyAnimate.pause(),this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent),this._blockChainPoker.event.removeEventListener("showHead",this._headEvent)},a.prototype.onGetHash=function(t){"ready"!=this._status&&(this._infoTxt.alpha=0,this._blockChainPoker.visible=!0,this._blockChainPoker.alpha=1);var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid)},a.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"ready"===t.st?1===this._blockChainPoker.alpha&&1==this._checkani&&(this._checkani=!1,this._readyAnimate.restart()):"betting"===t.st&&(this._blockChainPoker.visible=!0,this._blockChainPoker.dealPoker(this._poker.split(",")[0]),this._checkani=!0);for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},a);function a(){var e=i.call(this)||this,t=(e.blockChainVideoPanel=new n,e.addChild(e.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),t=(e.blockChainVideoPanel.addChild(t),e._blockChainPoker=new h("SimplePoker"),e._blockChainPoker.interactive=!0,e.blockChainVideoPanel.addChild(e._blockChainPoker),e._blockChainPoker.visible=!1,e.initBlockChainUI(),new r(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}));return t.anchor.set(.5),t.x=235,t.y=185,e._infoTxt=new PIXI.Graphics,e._infoTxt.beginFill(0,.7),e._infoTxt.drawRect(t.x-t.width/2-20,t.y-t.height/2-5,t.width+40,t.height+10),e._infoTxt.endFill(),e._infoTxt.addChild(t),e.initBlockChainAnimate(),e.removeChild(e._pokerPanel),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},e.blockChainVideoPanel.addChild(e._infoTxt),Tools.Animate.setAnimateListener(),e}t.ViewModel=e;s=Lucky5CardShare.PokerPanel,__extends(l,s),l.prototype.initUI=function(){var i=this;this.pokerMcArr=[],this.pokerStrArr=[];for(var t=0;t<25;t++){this.pokerMcArr[t]=new ShareUI.bcPokerUI("SimplePoker","Multiple_Blockchain_IBtn"),this.pokerMcArr[t].setPokerSize(25,40),this.pokerMcArr[t].setIconSize(17,13),this.pokerMcArr[t].initListener(),this.pokerMcArr[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,i.event.dispatchEvent(e)}),this.addChild(this.pokerMcArr[t]),this.pokerStrArr[t]="";var e=this.pokerMcArr[t].getChildAt(0);e.x=.5*e.width,e.anchor.x=.5,e.y=.5*e.height,e.anchor.y=.5}for(t=0;t<5;t++)this.pokerMcArr[t].x=36+27*t,this.pokerMcArr[t].y=132,this.pokerMcArr[t+5].x=81+27*t,this.pokerMcArr[t+5].y=196,this.pokerMcArr[t+10].x=266+27*t,this.pokerMcArr[t+10].y=196,this.pokerMcArr[t+15].x=316+27*t,this.pokerMcArr[t+15].y=132,this.pokerMcArr[t+20].x=180+27*t,this.pokerMcArr[t+20].y=66;this.pokerPos=[];for(t=0;t<25;t++)this.pokerPos[t]=new o(this.pokerMcArr[t].x,this.pokerMcArr[t].y);this.titleBG=[],this._playerType=[],this._playerResult=[],this._playerWin=[];for(t=0;t<5;t++){this.titleBG[t]=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Lucky5Cards_TitleBG","b"+String(t+1),!1),this.addChild(this.titleBG[t]);var n=void 0;4!=t?((n=0==t?PIXI.Sprite.fromFrame("Multiple_Lucky5Cards_RMpokersuits0004"):3==t?PIXI.Sprite.fromFrame("Multiple_Lucky5Cards_RMpokersuits0005"):PIXI.Sprite.fromFrame("Multiple_Lucky5Cards_RMpokersuits000"+t)).y=5,n.scale.set(.8),this.titleBG[t].addChild(n)):4==t&&((n=new r("B",{fontFamily:"_sans",fontSize:"12px",fontWeight:"bolder",fill:"#FF0000"})).x=1,n.y=2,this.titleBG[t].addChild(n),"tw"==IPL.UrlParameter.lang?n.text="莊":"cn"==IPL.UrlParameter.lang&&(n.text="庄")),this._playerType[t]=new PIXI.Text("????",{fontFamily:"_sans",fontSize:"12px",fontWeight:"bolder",fill:"#FFFFFF"}),this._playerType[t].anchor.set(.5,0),this._playerType[t].x=68,this._playerResult[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BullLose"),this._playerResult[t].width9=134,this.addChild(this._playerResult[t]),this._playerResult[t].x=this.titleBG[t].x+18,this._playerResult[t].y=this.titleBG[t].y+25,this._playerWin[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BullWin"),this._playerWin[t].width9=134,this._playerWin[t].x=0,this._playerWin[t].y=0,this._playerResult[t].addChild(this._playerWin[t]),this._playerResult[t].addChild(this._playerType[t])}this.arrCardId=[];for(t=0;t<this.pokerMcArr.length;t++){var a=t+1;this.arrCardId[t]=new r(t<9?"0"+(t+1):String(t+1),{fill:16772830,fontSize:10}),this.arrCardId[t].anchor.x=.5,this.arrCardId[t].x=12.5,this.arrCardId[t].y=41,this.pokerMcArr[t].addChild(this.arrCardId[t]),this.pokerMcArr[t].setId(a)}},l.prototype.setResult=function(t,e){this._playerResult[(t+=1)/5-1].visible=!0;for(var i=0,n=t-5;n<t;n++){var a=Number(e[n].split(".")[1]);i+=a=10<a?10:a}if(this._playerType[t/5-1].text=String(i),25==t)for(n=0;n<4;n++)this.setWinLight(this.getLvWin(Number(this._playerType[4].text),Number(this._playerType[n].text)),n)},l.prototype.getLvWin=function(t,e){return e<t?"win":"lose"},l.prototype.setWinLight=function(t,e){"win"==t?this._playerWin[e].visible=!0:"tie"==t&&(this._playerTie[e].visible=!0)},l.prototype.initAnimate=function(){for(var i=this,t=(this.newAnimate=new TimelineMax({paused:!0}),this.newAnimate.data={pStr:"back"},TweenMax.fromTo(this.titleBG,.5,{alpha:0},{alpha:1})),n=(this.newAnimate.add(new TimelineMax({tweens:[t]}),"+=1").staggerTo(this.pokerMcArr,.5,{onStart:function(){this.target.visible=!0,this.target.alpha=1},cycle:{x:function(t){return i.pokerPos[t].x},y:function(t){return i.pokerPos[t].y}},onComplete:function(){for(var t=0;t<i.arrCardId.length;t++)i.arrCardId[t].visible=!0}},0),this.arrPokerAnimate=[],this),e=0;e<this.pokerMcArr.length;e++)!function(t){var e=n.pokerMcArr[t].getChildAt(0);n.arrPokerAnimate[t]=new TimelineMax({paused:!0}),n.arrPokerAnimate[t].data={pStr:"back"},n.arrPokerAnimate[t].fromTo(e,.2,{width:25,height:40},{width:0,height:50,onComplete:function(){i.pokerMcArr[t].setPoker(i.arrPokerAnimate[t].data.pStr)}}),n.arrPokerAnimate[t].fromTo(e,.2,{width:0,height:50},{width:25,height:40})}(e)},l.prototype.newGame=function(){for(var t=0;t<5;t++)this.titleBG[t].alpha=0;for(t=0;t<5;t++)this.pokerMcArr[t].position=this.pokerPos[0],this.pokerMcArr[t+5].position=this.pokerPos[5],this.pokerMcArr[t+10].position=this.pokerPos[10],this.pokerMcArr[t+15].position=this.pokerPos[15],this.pokerMcArr[t+20].position=this.pokerPos[20];for(t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].alpha=0,this.pokerMcArr[t].visible=!1,this.arrCardId[t].visible=!1},l.prototype.dealPoker=function(t){this.newGame(),this.newAnimate.data.pStr=t,this.newAnimate.restart()},l.prototype.reset=function(){this.newAnimate.pause();for(var t=0;t<this.pokerMcArr.length;t++){this.arrPokerAnimate[t].pause(),this.pokerMcArr[t].setPoker("back");var e=this.pokerMcArr[t].getChildAt(0);e.width=25,e.height=40,this.pokerMcArr[t].position=this.pokerPos[t],this.pokerMcArr[t].visible=!0,this.pokerMcArr[t].alpha=1,this.pokerStrArr[t]=""}for(t=0;t<this.titleBG.length;t++)this.titleBG[t].alpha=1,this._playerResult[t].visible=!1,this._playerType[t].text="",this._playerWin[t].visible=!1,this._playerResult[t].alpha=1};var s,h=l;function l(t,e){return s.call(this,t,e=void 0===e?"Multiple_Blockchain_IBtn":e)||this}}(BlockChainLucky5CardsMultiGames=BlockChainLucky5CardsMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockChainLucky5CardsMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChainLucky5CardsMain=i}(MultiGames=MultiGames||{}),!function(t){function e(){this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},this.keyArr=["GOAL","HIT","MISS","REDBLACK","HIGHLOW","ODDEVEN"],this.titleArr=["ACEYDEUCEY_GOAL","ACEYDEUCEY_HIT","ACEYDEUCEY_MISS","REDBLACK","HIGHLOW","ODDEVEN"],this.limitNameArr=["goalBetMax","hitBetMax","missBetMax","redblackMax","hightlowMax","oddeventMax"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:2.5","1:7.4","1:0.6","1:0.96","1:0.96","1:0.96"],this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t,e){void 0===e&&(e=!0);for(var i=0;i<this.keyArr.length;i++)this.infoObj[this.keyArr[i]].limit=String(t.getLimit(this.limitNameArr[i])),null!=this.limitMinArr[i]&&(this.infoObj[this.keyArr[i]].limitMin=String(t.getLimit(this.limitMinArr[i]))),null!=this.ratioArr[i]&&e&&(this.infoObj[this.keyArr[i]].ratio=this.ratioArr[i])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(AceyDeuceyLogicShare=AceyDeuceyLogicShare||{}),!function(t){var i,s=PIXI.Container,a=PIXI.Sprite,h=PIXI.Text,o=PIXI.Graphics,e=(i=ShareMultiGames.ViewModel,__extends(n,i),n.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this._statisticsPanel=new _,this.addChild(this._statisticsPanel),this.initRoadInfo()},n.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},n.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_RedTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_BlackTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_OddTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_EvenTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_LowTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_HighTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_MissTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_HitTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_GoalTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),i=1;i<=9;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_AceyD_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e)},n.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=64;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_AceyD_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.BlockChainAceyDeucey(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},n.prototype.initRoadInfo=function(){this._roadmapPanel=new d,this._roadmapPanel.x=56,this._roadmapPanel.y=709;var t="",t="tw"==IPL.UrlParameter.lang?"0":"cn"==IPL.UrlParameter.lang?"1":"2",e=(null==Tools.TextureStore.repository.Fram6x19&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:19,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x19"}),new a(Tools.TextureStore.repository.Fram6x19)),i={posX:-46,posY:0},e=(this._roadmapPanel.initRoadBg(i,e),null==Tools.TextureStore.repository.Fram3x17&&SharePanel.sameFrameLine.createTexture({gridRow:3,gridCol:17,gridW:22,gridH:46,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram3x17"}),new a(Tools.TextureStore.repository.Fram3x17)),i=(i.posX=0,i.posY=0,this._roadmapPanel.initRoadBg2(i,e),new o),e=(i.beginFill(13421772),i.drawRect(0,0,450,142),i.endFill(),new o),n=(e.beginFill(13421772),e.drawRect(0,0,450,142),e.endFill(),{}),i=(n.posX=0,n.posY=0,n.maskMc=i,{}),e=(i.posX=0,i.posY=0,i.maskMc=e,this._roadmapPanel.initMouseMask(n,i),{}),n=(e.gameType="3048",e.gridRow=3,e.gridCol=17,e.circleIcon="Multiple_cellBlue0000",e.originalX=11,e.originalY=22,e.gapX=24,e.gapY=48,e.roundNum=17,this._roadmapPanel.initRoadBall(e),{}),i=(n.gameType="3048",n.cellB="Multiple_AceyRoad_whiteBlackTxt000"+t,n.cellP="Multiple_AceyRoad_whiteRedTxt000"+t,n.gridRow=6,n.gridCol=19,n.gapX=24,n.gapY=24,n.originalX=1,n.originalY=1,this._roadmapPanel.initRoadColor(n),{}),e=(i.gameType="3048",i.cellB="Multiple_AceyRoad_whiteOverTxt000"+t,i.cellP="Multiple_AceyRoad_whiteUnderTxt000"+t,i.cellT="Multiple_AceyRoad_green7Txt0000",i.gridRow=6,i.gridCol=19,i.gapX=24,i.gapY=24,i.originalX=1,i.originalY=1,this._roadmapPanel.initRoadBS(i),{});e.gameType="3048",e.cellB="Multiple_AceyRoad_whiteOddTxt000"+t,e.cellP="Multiple_AceyRoad_whiteEvenTxt000"+t,e.cellT="Multiple_AceyRoad_green7Txt0000",e.gridRow=6,e.gridCol=19,e.gapX=24,e.gapY=24,e.originalX=1,e.originalY=1,this._roadmapPanel.initRoadOE(e),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel),this._roadmapPanel.addRoadmap(["mapBall"]),this._roadmapPanel.setNowRoadmap("mapColor"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},n.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},n.prototype.openVerPanel=function(t){var e=t.data.id-1,i="new"===t.status?this.vModel.getHash(e):this.vModel.getPreHash(e),e="new"===t.status?this.vModel.getSeed(e):this.vModel.getPreSeed(e);this._verificationPanel.showPanel(t.data.pStr,t.data.id,i,e,t.status)},n.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},n.prototype.setPoker=function(){this._poker,",,"!==this._poker&&this._blockChainPoker.setPoker(this._poker)},n.prototype.setRoadmap=function(){var t=new AceyDeuceyLogicShare.AceyDeuceyTransRoadmap,e=t.transRedBlack(this._roadMap),i=t.transOverUnder(this._roadMap),n=t.transOddEven(this._roadMap),e=t.getRoadmapNew2A(e,19),i=t.getRoadmapNew2A(i,19),t=t.getRoadmapNew2A(n,19);this._roadmapPanel.showResult(e,i,t),this._roadmapPanel.setData(this._roadMap)},n.prototype.configureCostumeListener=function(){var t=this;i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent),window.addEventListener("STATIC_OPEN",function(){t._statisticsPanel.visible=!0}),window.addEventListener("STATIC_CLOSE",function(){t._statisticsPanel.visible=!1})},n.prototype.initBlockChainUI=function(){var t=this,e=(this.blockChainVideoPanel=new s,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_AceyDBG")),e=(this.blockChainVideoPanel.addChild(e),new PIXI.Container),i=(this.blockChainVideoPanel.addChild(e),new PIXI.Graphics),i=(i.beginFill(16724787,0),i.drawRect(14,48,442,248),i.endFill(),this.blockChainVideoPanel.addChild(i),e.mask=i,this._blockChainPoker=new l("SimplePoker"),this._blockChainPoker.position.set(221,112),this._blockChainPoker.interactive=!0,e.addChild(this._blockChainPoker),this._blockChainPoker.setNewCard(1),this._blockChainPoker.visible=!1,this._shoeBtn=new ShareUI.Button("Multiple_AceyD_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._shoeBtn),this._shoeBtn.x=415,this._shoeBtn.y=255,new h(IPL.DictManager.getDict("BC_CHANGE_SHOE"),{fontFamily:"微軟正黑體",fill:16777215,fontSize:28}));i.anchor.set(.5),i.x=235,i.y=185,this._infoTxt=new PIXI.Graphics,this._infoTxt.beginFill(0,.7),this._infoTxt.drawRect(i.x-i.width/2-20,i.y-i.height/2-5,i.width+40,i.height+10),this._infoTxt.endFill(),this._infoTxt.addChild(i),this.blockChainVideoPanel.addChild(this._infoTxt),this._shoePanel=new BlockChainShare.NoRedShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.ThrCardVerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._verificationPanel.x=this._shoePanel.x=34,this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()})},n.prototype.onPlstUpdate=function(t){},n.prototype.onGetHash=function(t){"ready"!=this._status?(this._infoTxt.alpha=0,this._blockChainPoker.visible=!0,this._blockChainPoker.alpha=1):((this._infoTxt.alpha=1)===this._blockChainPoker.alpha&&!0===this._blockChainPoker.visible&&(this._blockChainPoker.readyCloseCard(),this._blockChainPoker.visible=!1),this._blockChainPoker.reset()),"betting"===this._status?(this._blockChainPoker.readyCloseCard(),this._blockChainPoker.animateStart()):"dealing"===this._status?this._blockChainPoker.animateStart():"waiting"===this._status&&this._blockChainPoker.statusWaiting();var e=this.vModel.getAllPoker();this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid)},n.prototype.setResult=function(){for(var t=[],e=this._resultStr.split(","),i=0;i<e.length;i++)t[i]=Number(e[i]);this._betAreaPanel.showResult(t)},n.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new AceyDeuceyLogicShare.LimitPanel,this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["GOAL","HIT","MISS","REDBLACK","HIGHLOW","ODDEVEN"]),t.list[3].title=IPL.DictManager.getDict("RED_STR")+"/"+IPL.DictManager.getDict("BLACK_STR"),t.list[4].title=IPL.DictManager.getDict("ACEYDEUCEY_OVER")+"/"+IPL.DictManager.getDict("ACEYDEUCEY_UNDER"),t.list[5].title=IPL.DictManager.getDict("EVEN_STR")+"/"+IPL.DictManager.getDict("ODD_STR"),t.gameType=this.vModel.getGameType(),this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},n.prototype.onBlockChainUpdate=function(t){var e=this,t=t.data,i=""!==t.pk?t.pk.split(","):[],n=""!==t.cards?t.cards.split(","):[],a=""!==t.seeds?t.seeds.split(","):[];"betting"===t.st?(this._blockChainPoker.visible=!0,this._blockChainPoker.animateStart(),TweenMax.fromTo(this._infoTxt,.3,{alpha:1},{alpha:0})):"dealing"!==t.st&&"waiting"!==t.st&&"ready"===t.st&&1===this._blockChainPoker.alpha&&!0===this._blockChainPoker.visible&&(this._blockChainPoker.closeCard(),TweenMax.delayedCall(.3,function(){TweenMax.fromTo(e._infoTxt,.3,{alpha:0},{alpha:1})}),TweenMax.delayedCall(.5,function(){e._blockChainPoker.visible=!1}));for(var o=0;o<n.length;o++)""!==n[o]&&(this._shoePanel.updateData(n[o],i[o]),this._verificationPanel.updateData(Number(n[o]),i[o],a[o]))},n.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},n.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},n.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},n);function n(){var e=i.call(this)||this;return e.initBlockChainUI(),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;r=Composite.EventContainer,__extends(c,r),c.prototype.initUI=function(){for(var i=this,t=0;t<3;t++)this.addChild(this.pokerMcArr[t]),this.pokerMcArr[t].y=5,this.pokerMcArr[t].x=100*t-112,1==t?this.pokerMcArr[t].x=88:2==t&&(this.pokerMcArr[t].x=-12);for(t=0;t<this.pokerMcArr.length;t++){this.pokerMcArr[t].setPokerSize(54,85);var e=this.pokerMcArr[t].getChildAt(0);e.x=.5*e.width,e.anchor.x=.5,e.y=.5*e.height,e.anchor.y=.5,this.pokerMcArr[t].initListener(),this.pokerMcArr[t].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");e.status="new",e.data=t,i.event.dispatchEvent(e)})}this._arrCardId=[];for(var n=0;n<3;n++)this._arrCardId[n]=new h("012",{fill:16772830,fontSize:16}),this._arrCardId[n].anchor.x=.5,this._arrCardId[n].x=100*n-85,1==n?this._arrCardId[n].x=115:2==n&&(this._arrCardId[n].x=15),this._arrCardId[n].y=96,this.addChild(this._arrCardId[n])},c.prototype.initAnimate=function(){for(var i=this,n=(this._arrPokerAnimate=[],this),t=0;t<this.pokerMcArr.length;t++)!function(t){var e=n.pokerMcArr[t].getChildAt(0);n._arrPokerAnimate[t]=new TimelineMax({paused:!0}),n._arrPokerAnimate[t].data={pStr:"back"},n._arrPokerAnimate[t].add(TweenMax.fromTo(e,.2,{width:54,height:85},{width:0,height:90,onComplete:function(){i.pokerMcArr[t].setPoker(i._arrPokerAnimate[t].data.pStr)}})),n._arrPokerAnimate[t].add(TweenMax.fromTo(e,.2,{width:0,height:90},{width:54,height:85}))}(t)},c.prototype.setPoker=function(t){for(var e,i=this,n=t.split(","),a=0;a<n.length;a++)""!=n[a]&&"X"!=n[a]&&(e=n[a],""===this._arrPokerPoint[a]?this.showPokerAnimate(a,e):this.pokerMcArr[a].setPoker(e),this._arrPokerPoint[a]=e);""==n[0]||""==n[1]?this.kick=!0:""!=n[2]&&1==this.kick&&(this.ballStop(),TweenMax.delayedCall(.5,function(){i.kickBall()}),this.kick=!1)},c.prototype.showPokerAnimate=function(t,e){this._arrPokerAnimate[t].data.pStr=e,this._arrPokerAnimate[t].restart()},c.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t))for(var e=0;e<this.pokerMcArr.length;e++){var i=t+e,n="";i<10?n="0":i<100&&(n=""),this._arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i)}else for(e=0;e<this._arrCardId.length;e++)this._arrCardId[e].text=""},c.prototype.reset=function(){for(var t=0;t<this.pokerMcArr.length;t++){this.pokerMcArr[t].setPoker("back");var e=this.pokerMcArr[t].getChildAt(0);e.width=54,e.height=85,this._arrPokerPoint[t]="",this.pokerMcArr[t].x=100*t-112,1==t?this.pokerMcArr[t].x=88:2==t&&(this.pokerMcArr[t].x=-12),this._arrCardId[t].x=100*t-85,1==t?this._arrCardId[t].x=115:2==t&&(this._arrCardId[t].x=15)}this.football.position.set(-186,153),this.ballSpeed.position.x=this.football.position.x-this.ballSpeed.width/2,this.ballSpeed.position.y=250,this.football.scale.set(1);for(var i=0;i<3;i++)this.ballHalo[i].position=this.football.position},c.prototype.init=function(){var t=this;this.football=PIXI.Sprite.fromImage("Multiple_AceyD_football0000"),this.football.position.set(-186,153),this.football.anchor.set(.5),this.ballHalo=[];for(var e=0;e<3;e++)this.ballHalo[e]=PIXI.Sprite.fromImage("Multiple_AceyD_halo"+(e+1)+"0000"),this.ballHalo[e].anchor.set(.5),this.ballHalo[e].position=this.football.position,this.ballHalo[e].visible=!1,this.addChild(this.ballHalo[e]);this.ballSpeed=PIXI.Sprite.fromImage("Multiple_AceyD_speed0000"),this.ballSpeed.anchor.set(.5),this.ballSpeed.rotation=155*Math.PI/180,this.ballSpeed.visible=!1,this.addChild(this.ballSpeed),this.ballShine=TweenMax.to(this.ballHalo[1],1,{yoyo:!0,alpha:0,repeat:-1,ease:Power0.easeInOut}),this.zoomIn=TweenMax.to(this.bg.scale,.5,{x:1,y:1}),this.zoomOut=TweenMax.to(this.bg.scale,.5,{x:.3333282470703125,y:.3333282470703125,onComplete:function(){t.reset()}}),this.zoomIn.pause(0),this.zoomOut.pause(0),this.ballShine.pause(0),this.ballRoll=new TweenMax(this.football,1.2,{x:this.bg.width-270,rotation:6*Math.PI,repeat:-1,yoyo:!0,ease:Power0.easeInOut}),this.addChild(this.football);new PIXI.TextStyle({dropShadowAlpha:.6,dropShadowAngle:-4.6,dropShadowBlur:2,dropShadowDistance:4,fill:["#ffae00","#e96a16"],fontSize:72,fontWeight:"bold",miterLimit:0,strokeThickness:3});this.reset()},c.prototype.ballStop=function(){this.ballRoll.pause(0)},c.prototype.kickBall=function(){var t,e=this,i=Number(this._arrPokerPoint[0].split(".")[1]),n=Number(this._arrPokerPoint[2].split(".")[1]),a=Number(this._arrPokerPoint[1].split(".")[1]),o=i<a?i:a,i=a<i?i:a;o<n&&n<i?t=new PIXI.Point(3.5*this.bg.x,2.3*this.bg.y):i<n||n<o?t=new PIXI.Point(13*this.bg.x,2*this.bg.y):n!=i&&n!=o||(t=new PIXI.Point(10*this.bg.x,.8*this.bg.y)),this.ballSpeed.visible=!0,TweenMax.to(this.football,.3,{x:t.x,y:t.y,onUpdate:function(){e.ballSpeed.position.x=e.football.position.x-e.ballSpeed.width/2,e.ballSpeed.position.y=e.football.position.y+e.ballSpeed.height,e.ballHalo[0].position=e.football.position},onComplete:function(){e.finalAnimate()}}),TweenMax.to(this.pokerMcArr[0],.5,{x:this.pokerMcArr[2].x-65}),TweenMax.to(this.pokerMcArr[1],.5,{x:this.pokerMcArr[2].x+65}),TweenMax.to(this._arrCardId[0],.5,{x:this._arrCardId[2].x-65}),TweenMax.to(this._arrCardId[1],.5,{x:this._arrCardId[2].x+65}),this.zoomIn.restart()},c.prototype.finalAnimate=function(){for(var t=0;t<3;t++)this.ballHalo[t].visible=!0,this.ballHalo[t].alpha=1,this.ballHalo[t].position=this.football.position;this.ballShine.restart(),this.ballSpeed.visible=!1},c.prototype.closeCard=function(){for(var e=this,t=0;t<3;t++)this.pokerMcArr[t].setPoker("back"),this._arrCardId[t].visible=!1;TweenMax.to(this.pokerMcArr,.5,{alpha:0}),TweenMax.to(this.pokerMcArr[0],.5,{x:this.pokerMcArr[2].x}),TweenMax.to(this.pokerMcArr[1],.5,{x:this.pokerMcArr[2].x});var i=new TimelineLite;TweenMax.to(this.football,.2,{yoyo:!0,repeat:1,rotation:-.5,ease:Power0.easeInOut}),i.to(this.football.scale,.2,{x:1.1,y:1.1,ease:Power0.easeInOut}),i.add(TweenMax.to(this.football.scale,.2,{x:0,y:0,onUpdate:function(){for(var t=0;t<3;t++)e.ballHalo[t].visible=!1}})),this.zoomOut.restart()},c.prototype.readyCloseCard=function(){for(var t=0;t<3;t++)this.pokerMcArr[t].setPoker("back"),this._arrCardId[t].visible=!1;this.bg.scale.set(.3333282470703125,.3333282470703125)},c.prototype.animateStart=function(){this.reset(),this.bg.scale.set(.3333282470703125,.3333282470703125),this.football.visible=!0,this.ballRoll.restart();for(var t=0;t<3;t++)this.pokerMcArr[t].alpha=1,this._arrCardId[t].visible=!0,this.ballHalo[t].visible=!1},c.prototype.statusWaiting=function(){this.ballRoll.pause(0);var t,e=Number(this._arrPokerPoint[0].split(".")[1]),i=Number(this._arrPokerPoint[2].split(".")[1]),n=Number(this._arrPokerPoint[1].split(".")[1]),a=e<n?e:n,e=n<e?e:n;a<i&&i<e?t=new PIXI.Point(3.5*this.bg.x,2.3*this.bg.y):e<i||i<a?t=new PIXI.Point(13*this.bg.x,2*this.bg.y):i!=e&&i!=a||(t=new PIXI.Point(10*this.bg.x,.8*this.bg.y)),this.pokerMcArr[0].x=this.pokerMcArr[2].x-65,this.pokerMcArr[1].x=this.pokerMcArr[2].x+65,this._arrCardId[0].x=this._arrCardId[2].x-65,this._arrCardId[1].x=this._arrCardId[2].x+65;for(var o=0;o<3;o++)this.pokerMcArr[o].alpha=1;this.bg.scale.set(1,1),this.football.position=t,this.waitingFinalAnimate()},c.prototype.waitingFinalAnimate=function(){for(var t=0;t<3;t++)this.ballHalo[t].visible=!0,this.ballHalo[t].alpha=1,this.ballHalo[t].position=this.football.position;this.ballShine.restart(),this.ballSpeed.visible=!1};var r,l=c;function c(t,e){void 0===e&&(e="Multiple_Blockchain_IBtn");var i=r.call(this)||this;i.kick=!1,i.pokerMcArr=[];for(var n=0;n<3;n++)i.pokerMcArr[n]=new ShareUI.bcPokerUI(t,e);return i.bg=PIXILayoutTool.DisplayObject.createImage("Multiple_AceyD_AceyDBG"),i.bg.anchor.set(.5,.45),i.addChild(i.bg),i._arrPokerPoint=["","",""],i.initUI(),i.init(),i.initAnimate(),i}u=SharePanel.RoadmapAceyDeucey,__extends(p,u),p.prototype.initRoadBg2=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1),this.roadmapUI2=new s,null!=t.background&&(this.roadmapBG=t.background,this.addChild(this.roadmapBG)),null!=e&&(this.roadmapUI2.x=t.posX,this.roadmapUI2.y=t.posY,this.roadmapUI2.addChild(e)),this.addChild(this.roadmapUI2),this.roadmapUI2.scale.set(i),this.roadmapUI2.visible=!0,this.roadmapUI.visible=!1;for(var n=0;n<3;n++){var a=new PIXI.Graphics;a.beginFill(0,.7),a.drawRect(-47,47.5*n,45,46),a.endFill(),this.roadmapUI2.addChild(a)}var t={fontFamily:"微軟正黑體",fontSize:"18px",fill:"#ffffff"},e=["射中","撞柱","不中"],i=["Goal","  Hit","Miss"],o=new h(e[0],t),r=(o.x=-44,o.y=13,this.roadmapUI2.addChild(o),new h(e[1],t)),e=(r.x=-44,r.y=61,this.roadmapUI2.addChild(r),new h(e[2],t));e.x=-44,e.y=109,this.roadmapUI2.addChild(e),"tw"!=IPL.UrlParameter.lang&&"cn"!=IPL.UrlParameter.lang&&(o.text=i[0],r.text=i[1],e.text=i[2])},p.prototype.initMouseMask=function(t,e){void 0===e&&(e=null),null!=t&&(this.changeRoadB=t.maskMc,this.changeRoadB.name="changeB",this.changeRoadB.x=t.posX,this.changeRoadB.y=t.posY,this.changeRoadB.interactive=!0,this.roadmapUI.addChild(this.changeRoadB),this.changeRoadB.alpha=0),null!=e&&(this.changeRoadD=e.maskMc,this.changeRoadD.name="changeD",this.changeRoadD.x=e.posX,this.changeRoadD.y=e.posY,this.changeRoadB.interactive=!0,this.roadmapUI2.addChild(this.changeRoadD),this.changeRoadD.alpha=0)},p.prototype.onChangeRoadB=function(){"mapBall"==this._nowRamp?(window.dispatchEvent(new window.Event("STATIC_OPEN")),this.roadmapUI.visible=!1,this.roadmapUI2.visible=!0,this.removeMc(this.roadmapOE),this.addMc3(this.roadmapBall),this._nowRamp="mapColor"):"mapColor"==this._nowRamp?(window.dispatchEvent(new window.Event("STATIC_CLOSE")),this.roadmapUI.visible=!0,this.roadmapUI2.visible=!1,this.removeMc2(this.roadmapBall),this.addMc2(this.roadmapColor),this._nowRamp="mapBS"):"mapBS"==this._nowRamp?(this.removeMc(this.roadmapColor),this.addMc2(this.roadmapBS),this._nowRamp="mapOE"):"mapOE"==this._nowRamp&&(this.removeMc(this.roadmapBS),this.addMc2(this.roadmapOE),this._nowRamp="mapBall")},p.prototype.onChangeRoadD=function(){"mapColor"==this._nowRamp&&(window.dispatchEvent(new window.Event("STATIC_CLOSE")),this.roadmapUI.visible=!0,this.roadmapUI2.visible=!1,this.removeMc2(this.roadmapBall),this.addMc2(this.roadmapColor),this._nowRamp="mapBS")},p.prototype.addRoadmap=function(t){"mapBall"==t[0]&&this.roadmapUI2.addChildAt(this.roadmapBall,1)},p.prototype.addMc3=function(t){this.roadmapUI2.addChildAt(t,1)},p.prototype.removeMc2=function(t){t.parent==this.roadmapUI2&&this.roadmapUI2.removeChild(t)};var u,d=p;function p(){return u.call(this)||this}t.Roadmap=d;__extends(m,f=s),m.prototype.setStatisticsInfo=function(t,e){};var f,_=m;function m(){return f.call(this)||this}t.StatisticsPanel=_}(AceyDeuceyMultiGames=AceyDeuceyMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new AceyDeuceyMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.AceyDeuceyMain=i}(MultiGames=MultiGames||{}),!function(t){function e(t){void 0===t&&(t="1"),this.keyArr=[],this.titleArr=[],this.limitNameArr=[],this.limitMinArr=[],this.ratioArr=[],this.infoObj={},"1"==t?(this.keyArr=["MIN","MAX","PAIR","WHITES","ZEROPOINT"],this.titleArr=["MIN_BET","DTF_MAX_BET","PAIRMAX","BAC28_WHITES","BAC28_ZEROPOINT"],this.limitNameArr=["roundBetMin","roundBetMax","pairMax","whitesMax","zeroPointMax"]):(this.keyArr=["BANKER","PLAYER","PAIR","BAC28_WHITES","ZEROPOINT"],this.titleArr=["BAC_BANKER","BAC_PLAYER","BAC_PAIR","BAC28_WHITES","BAC28_ZEROPOINT"],this.limitNameArr=["roundBetMax","roundBetMax","pairMax","whitesMax","zeroPointMax"],this.limitMinArr=["roundBetMin","roundBetMin","roundBetMin","roundBetMin","roundBetMin"],this.ratioArr=["1:0.93","1:1","1:7","1:30","1:6"]),this.initTxt()}e.prototype.initTxt=function(){for(var t=0;t<this.keyArr.length;t++)this.infoObj[this.keyArr[t]]={},this.infoObj[this.keyArr[t]].title=IPL.DictManager.getDict(this.titleArr[t])},e.prototype.setData=function(t){for(var e=0;e<this.keyArr.length;e++)this.infoObj[this.keyArr[e]].limit=String(t.getLimit(this.limitNameArr[e])),null!=this.limitMinArr[e]&&(this.infoObj[this.keyArr[e]].limitMin=String(t.getLimit(this.limitMinArr[e]))),null!=this.ratioArr[e]&&(this.infoObj[this.keyArr[e]].ratio=this.ratioArr[e])},e.prototype.getLimitInfo=function(t){var e=[];if(null==(t=void 0===t?null:t))for(var i=0;i<this.keyArr.length;i++)e.push(this.infoObj[this.keyArr[i]]);else for(i=0;i<t.length;i++)e.push(this.infoObj[t[i]]);return e},t.LimitPanel=e}(Bac28LogicShare=Bac28LogicShare||{}),!function(t){var i,o=PIXI.Container,n=PIXI.Graphics,a=PIXI.Sprite,h=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(r,i),r.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this._statisticsPanel=new f,this.addChild(this._statisticsPanel),this.initRoadInfo()},r.prototype.openVerPanel=function(t){var e=t.data.id-1;this._verificationPanel.showPanel(t.data.pStr,t.data.id,this.vModel.getHash(e),this.vModel.getSeed(e))},r.prototype.openShoePanel=function(t){this._shoePanel.openPanel(),this._verificationPanel.visible=!1},r.prototype.configureCostumeListener=function(){i.prototype.configureCostumeListener.call(this),this._shoePanel.event.addEventListener("openVerification",this._verEvent),this._blockChainPoker.event.addEventListener("openVerification",this._verEvent),this._burnCardPanel.event.addEventListener("openVerification",this._verEvent),this._verificationPanel.event.addEventListener("openShoe",this._shoeEvent)},r.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_28Bac_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_28Bac_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_28Bac_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_28Bac_BetBankerPTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_28Bac_BetPlayerPTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),i=1;i<=6;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_28Bac_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e),this._closeBetCon=new o,this.addChild(this._closeBetCon),this._closeBetCon.interactive=!0,this._closeBetCon.visible=!1;for(i=3;i<=4;i++){var a=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_28Bac_BetNO","b"+String(i+2));this._closeBetCon.addChild(a)}},r.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=6;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_28Bac_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.InsurBacBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},r.prototype.initRoadInfo=function(){this._roadmapPanel=new g,this._roadmapPanel.x=56,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x17&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x17"});var t=new a(Tools.TextureStore.repository.Fram6x17),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new n),t=(e.beginFill(13421772),e.drawRect(0,0,390,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3001",e.cellB="Multiple_cellRed0000",e.cellP="Multiple_cellBlue0000",e.cellT="Multiple_tieLine0000",e.gridRow=6,e.gridCol=17,e.gapX=24,e.gapY=24,e.startPosX=2,e.startPosY=2,e.scale=1,e.cellT1=-2,e.cellT2=2,e.cellT3=6,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.gameType="3001",t.cellB="Multiple_Bac28_Bbanker0000",t.cellP="Multiple_Bac28_Bplayer0000",t.cellT="Multiple_Bac28_Btie0000",t.cellBP="Multiple_Bac_BpairBanker0000",t.cellPP="Multiple_Bac_BpairPlayer0000",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=2,t.startPosY=2,t.scale=1,t.tStyle={fontFamily:"Arial",fontSize:"18px",fill:"#000000",fontWeight:"bold"},this._roadmapPanel.initRoadB(t),{}),t=(e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=34,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=17,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{});e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=17,e.gapX=12,e.gapY=12,e.startPosX=203,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),this._roadmapPanel.addRoadmap(["mapB"]),this._roadmapPanel.setNowRoadmap("roadmapB"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},r.prototype.initBlockChainUI=function(){var t=this,e=(this.blockChainVideoPanel=new o,this.addChild(this.blockChainVideoPanel),PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_BacBG")),e=(this.blockChainVideoPanel.addChild(e),this._blockChainPoker=new u("Multiple_BC_mahjong"),this._blockChainPoker.interactive=!0,this.blockChainVideoPanel.addChild(this._blockChainPoker),this._blockChainPoker.visible=!1,this._burnCardPanel=new BlockChainShare.Bac28BurnCardPanel("Multiple_BC_mahjong"),this.blockChainVideoPanel.addChild(this._burnCardPanel),this._burnCardPanel.visible=!1,this._burnCardPanel.removeChild(this._burnCardPanel._infoTxt),this.blockChainVideoPanel.addChild(this._burnCardPanel._infoTxt),this._burnCardPanel._infoTxt.visible=!1,this._shoeBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._shoeBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p0"),this.blockChainVideoPanel.addChild(this._shoeBtn),new h(IPL.DictManager.getDict("INTACT_SHOE"),{fontSize:19,fill:16772830})),e=(e.anchor.set(.5),e.x=this._shoeBtn.width/2,e.y=this._shoeBtn.height/2,this._shoeBtn.addChild(e),this._rulesBtn=new ShareUI.Button("Multiple_Blockchain_ShoeBtn"),this._rulesBtn.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_Blockchain_ShoeBtn","p1"),this.blockChainVideoPanel.addChild(this._rulesBtn),new h(IPL.DictManager.getDict("BC_RULES"),{fontSize:19,fill:16772830}));e.anchor.set(.5),e.x=this._rulesBtn.width/2,e.y=this._rulesBtn.height/2,this._rulesBtn.addChild(e),this._rulePanel=new BlockChainShare.RulePanel,this.blockChainVideoPanel.addChild(this._rulePanel),this._shoePanel=new BlockChainShare.Bac28ShoePanel,this.blockChainVideoPanel.addChild(this._shoePanel),this._verificationPanel=new BlockChainShare.Bac28VerificationPanel,this.blockChainVideoPanel.addChild(this._verificationPanel),this._rulePanel.x=this._verificationPanel.x=this._shoePanel.x=34,this._rulePanel.y=this._verificationPanel.y=this._shoePanel.y=54,this._shoeBtn.on("pointerdown",function(){t._shoePanel.openPanel()}),this._rulesBtn.on("pointerdown",function(){t._rulePanel.openPanel()})},r.prototype.onPlstUpdate=function(t){this._blockChainPoker.setNewCard(t.data.newFirId)},r.prototype.onGetHash=function(t){this._blockChainPoker.setNewCard(this.vModel.getNewCardId()),"burncard"!=this._status&&(this._blockChainPoker.visible=!0,this._burnCardPanel.visible=!1,this._burnCardPanel._infoTxt.visible=!1);var e=this.vModel.getAllPoker();this._checkpoker=0,this._shoePanel.updateAllData(e.allPoker,e.coverNum,e.pid),this._blockChainPoker.setRedNum(e.pid)},r.prototype.onRoundInfo=function(){i.prototype.onRoundInfo.call(this),20<=Number(this.vModel.getGameInfo().getCountdown())&&this._checkpoker<2&&(this._poker=",,,,,",this._blockChainPoker.reset(),this._checkpoker++)},r.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},r.prototype.onBlockChainUpdate=function(t){var t=t.data,e=""!==t.pk?t.pk.split(","):[],i=""!==t.cards?t.cards.split(","):[],n=""!==t.seeds?t.seeds.split(","):[];"burncard"===t.st?(this._blockChainPoker.visible=!1,",,,"===t.pk?(this._shoePanel.reset(),this._blockChainPoker.reset(),this._burnCardPanel.reset()):this._burnCardPanel.runAnimate(1,e[0],t.cNum),this._burnCardPanel.visible=!0):"betting"===t.st?(this._burnCardPanel.visible=!1,this._burnCardPanel.reset(),this._burnCardPanel._infoTxt.visible=!1,this._blockChainPoker.visible=!0,this._blockChainPoker.newGameAnimate()):"dealing"!==t.st&&t.st;for(var a=0;a<i.length;a++)""!==i[a]&&(this._shoePanel.updateData(i[a],e[a]),this._verificationPanel.updateData(Number(i[a]),e[a],n[a]))},r.prototype.setPoker=function(){"burncard"!==this._status&&"betting"!==this._status||(this._poker=",,,",this._blockChainPoker.reset()),",,,"!==this._poker&&(this._blockChainPoker.setPoker(this._poker),this._blockChainPoker.setStatus(""!=this._status?this._status:this.vModel.getGameInfo().getStatus()))},r.prototype.setRoadmap=function(){var t=Bac28LogicShare.Bac28TransRoadmap.Transinit(this._roadMap);this._roadmapPanel.setData(t,this._roadMap)},r.prototype.checkCloseBet=function(){for(var t=!1,e=5;e<=6;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(t=!0);if(20<Number(this._roundNum.split("-")[1])&&t&&this._betButton.setRebetUnlocked(!t),20<Number(this._roundNum.split("-")[1])?this._closeBetCon.visible=!0:this._closeBetCon.visible=!1,20<Number(this._roundNum.split("-")[1]))for(e=5;e<=6;e++)this._betAreaPanel.setSingleBetMouseStatus(e,!1)},r.prototype.reset=function(){i.prototype.reset.call(this),this._status=""},r.prototype.setResult=function(){for(var t=this._resultStr.split(","),e=[],i=0;i<t.length;i++)e[i]=Number(t[i]);this._betAreaPanel.showResult(e)},r.prototype.init=function(){this._blockChainPoker.reset(),this._blockChainPoker.visible=!1,i.prototype.init.call(this)},r.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},r.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new Bac28LogicShare.LimitPanel("2"),this._limitInfo.setData(t),this._limitInfo.getLimitInfo(["BAC28_WHITES"])),e={};e.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","PAIR","ZEROPOINT","BAC28_WHITES"]),e.gameType=this.vModel.getGameType(),e.list[4]={title:IPL.DictManager.getDict("BAC28_WHITES")+"\n\n"+IPL.DictManager.getDict("LIMITBTN"),limit:"\n\n"+t[0].limitMin+"-"+t[0].limit,ratio:"\n\n1:1\n1:2\n1:10\n1:30\n",title2:"\n\n\t\t\t\t\t"+IPL.DictManager.getDict("BAC28_NUMBER_OF_WHITES"),title2text:"\n\n\t\t\t\t\t1\n\t\t\t\t\t2\n\t\t\t\t\t3\n\t\t\t\t\t4\n"},this._toolBarPanel.changeLimitPanel(e),i.prototype.onUserInfo.call(this)},r.prototype.removeHandle=function(){i.prototype.removeHandle.call(this),this._shoePanel.visible=!1,this._rulePanel.visible=!1,this._verificationPanel.visible=!1,this._shoePanel.event.removeEventListener("openVerification",this._verEvent),this._blockChainPoker.event.removeEventListener("openVerification",this._verEvent),this._burnCardPanel.event.removeEventListener("openVerification",this._verEvent),this._verificationPanel.event.removeEventListener("openShoe",this._shoeEvent)},r);function r(){var e=i.call(this)||this;return e.initBlockChainUI(),e._verEvent=function(t){e.openVerPanel(t)},e._shoeEvent=function(t){e.openShoePanel(t)},Tools.Animate.setAnimateListener(),e}t.ViewModel=e;s=Composite.EventContainer,__extends(l,s),l.prototype.initUI=function(){},l.prototype.setPoker=function(t,e){void 0===e&&(e=!0);for(var i,n=["","","",""],a=t.split(","),o=a.length,r=0;r<o;r++)""!=a[r]&&"X"!=a[r]&&(i=a[r],n[r]=i);var e=Bac28LogicShare.Bac28Poker.getPokerType(n[0],n[2]),s=Bac28LogicShare.Bac28Poker.getPokerType(n[1],n[3]),h=Bac28LogicShare.Bac28Poker.getPokerLevel(n[0],n[2]),l=Bac28LogicShare.Bac28Poker.getPokerLevel(n[1],n[3]);this.playerPoint.text=e,this.bankerPoint.text=s,this.tmpPoker!=t?this.tmpPoker=t:""!=t&&(h<l?this.setWinLight("banker"):l<h?this.setWinLight("player"):l==h&&-1!=l&&this.setWinLight("banker"))},l.prototype.setStatus=function(t){null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1);var e=this.tmpPoker.split(","),i=Bac28LogicShare.Bac28Poker.getPokerLevel(e[0],e[2]),e=Bac28LogicShare.Bac28Poker.getPokerLevel(e[1],e[3]);"waiting"==t&&""!=this.tmpPoker&&(i<e?this.setWinLight("banker"):e<i?this.setWinLight("player"):e==i&&-1!=e&&this.setWinLight("banker"))},l.prototype.setWinLight=function(t){var e=this;TweenMax.delayedCall(.2,function(){"banker"==t&&null!=e.bankerWin?e.bankerWin.visible=!0:"player"==t&&null!=e.playerWin&&(e.playerWin.visible=!0)})},l.prototype.reset=function(){null!=this.bankerWin&&(this.bankerWin.visible=!1),null!=this.playerWin&&(this.playerWin.visible=!1),null!=this.playerPoint&&(this.playerPoint.text=""),null!=this.bankerPoint&&(this.bankerPoint.text="")};var s,e=l;function l(t,e){var i=s.call(this)||this;i.tmpPoker="",i.pokerMcArr=[];for(var n=0;n<4;n++)i.pokerMcArr[n]=new ShareUI.bcBac28UI(t,e);return i.initUI(),i}__extends(d,c=e),d.prototype.initUI=function(){for(var n=this,t=(this.bankerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacBWin0000")),this.bankerWin.x=234,this.addChild(this.bankerWin),this.playerWin=new PIXI.Sprite(PIXI.Texture.fromImage("Multiple_Blockchain_BacPWin0000")),this.bankerWin.width=this.playerWin.width=192,this.playerWin.x=44,this.bankerWin.y=this.playerWin.y=48,this.addChild(this.playerWin),this.bankerWin.visible=this.playerWin.visible=!1,PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(t.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBankerTxt_"+IPL.UrlParameter.lang,""),this.addChild(t),t.x-=10,PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang)),a=(e.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerPlayerTxt_"+IPL.UrlParameter.lang,""),this.addChild(e),e.x+=5,[70,277,139,345]),o=(this._pokerStrArr=[],this),i=0;i<4;i++)!function(i){o._pokerStrArr[i]="";var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Blockchain_PokerBG"),t=(t.position=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_BlockchainBac_PokerBG","p"+String(i+1)),o.pokerMcArr[i].position=t.position,o.pokerMcArr[i].x=t.x=a[i],o.addChild(t),o.addChild(o.pokerMcArr[i]),o.pokerMcArr[i].setPokerSize(54,85),o.pokerMcArr[i].initListener(),o.pokerMcArr[i].getChildAt(0));t.x=.5*t.width,t.anchor.x=.5,t.y=.5*t.height,t.anchor.y=.5,o.addChild(o.pokerMcArr[i]),o.pokerMcArr[i].mEvt.on("onTap",function(t){var e=new H5Event.H5BaseEvent("openVerification");t.pStr=n.pokerMcArr[i].pStr,e.data=t,n.event.dispatchEvent(e)})}(i);for(var r={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"},s=(this.bankerPoint=new h("",r),this.bankerPoint.x=t.position.x+t.texture.width+25,this.bankerPoint.y=84,this.addChild(this.bankerPoint),this.playerPoint=new h("",r),this.playerPoint.x=e.position.x+e.texture.width+15,this.playerPoint.y=84,this.addChild(this.playerPoint),this._arrCardId=[],[98,305,167,373]),i=0;i<4;i++)this._arrCardId[i]=new h("",{fill:16772830,fontSize:16}),this._arrCardId[i].anchor.x=.5,this._arrCardId[i].x=s[i],this._arrCardId[i].y=206,this.addChild(this._arrCardId[i]);this._redPanel=new BlockChainShare.RedPanel,this._redPanel.x=14,this._redPanel.y=48,this.addChild(this._redPanel),this._redPanel.alpha=0,this.reset()},d.prototype.setPoker=function(t){c.prototype.setPoker.call(this,t);for(var e=t.split(","),i=0;i<e.length;i++)""!=e[i]&&"X"!=e[i]&&this._pokerStrArr[i]!=e[i]&&this.pokerMcArr[i]&&(this.showPokerAnimate(this.pokerMcArr[i],e[i],4<=i?this._arrCardId[i]:""),this.pokerMcArr[i].pStr=e[i],5===i&&""===e[i-1]&&(this._arrCardId[i].text=this._arrCardId[i-1].text),this._numRed)&&Number(this._arrCardId[i].text)>=this._numRed&&(this._redPanel.show(),this._numRed=0);this._pokerStrArr=t.split(",")},d.prototype.showPokerAnimate=function(t,e,i){var n=t.getChildAt(0);i&&(t.visible=!0,t.interactive=!0,TweenMax.fromTo(t,.5,{alpha:0},{alpha:1})),TweenMax.fromTo(n,.2,{width:54,height:85},{width:0,height:130}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=0,n.height=90,t.setPoker(e),TweenMax.fromTo(n,.2,{width:0,height:90},{width:54,height:85}),TweenMax.delayedCall(.2,function(){TweenMax.killTweensOf(n),n.width=54,n.height=85,i&&(i.visible=!0)})})},d.prototype.setRedNum=function(t){this._numRed=t},d.prototype.setNewCard=function(t){if(-1!==(t=void 0===t?-1:t)){for(var e=0;e<4;e++){var i=t+e,n="";i<10?n="00":i<100&&(n="0"),this._arrCardId[e].text=n+String(i)+"",this.pokerMcArr[e].setId(i)}this._numRed&&t+3>=this._numRed&&(this._redPanel.show(),this._numRed=0)}else for(e=0;e<4;e++)this._arrCardId[e].text=""},d.prototype.newGameAnimate=function(){this.reset();for(var t=0;t<4;t++)TweenMax.fromTo(this.pokerMcArr[t],.5,{alpha:0},{alpha:1})},d.prototype.reset=function(){c.prototype.reset.call(this);for(var t=0;t<this.pokerMcArr.length;t++)this.pokerMcArr[t].setPoker("back"),this._pokerStrArr&&(this._pokerStrArr[t]=""),this.pokerMcArr[t].pStr="back",t<4?this.pokerMcArr[t].visible=!0:(this._arrCardId[t].visible=!1,this.pokerMcArr[t].alpha=0,this.pokerMcArr[t].interactive=!1)};var c,u=d;function d(t,e){t=c.call(this,t,e=void 0===e?"Multiple_Blockchain_IBtn":e)||this;return t._numRed=0,t}p=BacShare.StatisticsPanel,__extends(_,p),_.prototype.initUI=function(){var t=new n,t=(t.beginFill(0,1),t.drawRect(8,709,46,142),t.endFill(),t.cacheAsBitmap=!0,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BPTTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),t.texture=PIXI.Texture.fromFrame("Multiple_28Bac_BPTTxt_"+IPL.UrlParameter.lang+"0000"),t.y=730,{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"});this.bankerTxt=new h("",t),this.bankerTxt.y=765,this.bankerTxt.anchor.set(.5),this.addChild(this.bankerTxt),this.playerTxt=new h("",t),this.playerTxt.y=815,this.playerTxt.anchor.set(.5),this.addChild(this.playerTxt),this.tieTxt=new h("",t),this.tieTxt.y=838,this.tieTxt.anchor.set(.5),this.bankerTxt.x=this.playerTxt.x=this.tieTxt.x=28,this.init()};var p,f=_;function _(){var t=p.call(this)||this;return t.initUI(),t}t.StatisticsPanel=f;m=SharePanel.RoadmapBac,__extends(v,m),v.prototype.onChangeRoadB=function(){"roadmapB"==this._nowRamp?(this.removeMc(this.roadmapB),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A"):"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp&&(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmapB),this._nowRamp="roadmapB")};var m,g=v;function v(){return m.call(this)||this}t.Roadmap=g}(BlockChain28BacMultiGames=BlockChain28BacMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new BlockChain28BacMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.BlockChain28BacMain=i}(MultiGames=MultiGames||{}),!function(t){var i,o=PIXI.Container,n=PIXI.Graphics,a=PIXI.Sprite,r=PIXI.Point,s=PIXI.Text,e=(i=ShareMultiGames.ViewModel,__extends(h,i),h.prototype.initUI=function(){this.initBetArea(),this.initChipPosition(),this._statisticsPanel=new p,this.addChild(this._statisticsPanel),this.initRoadInfo()},h.prototype.initShareUI=function(){i.prototype.initShareUI.call(this),this._pokerPanel=new m("SimplePoker"),this._pokerPanel.interactive=!0,this.addChild(this._pokerPanel)},h.prototype.initBetArea=function(){for(var t=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BetArea"),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetBankerTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetPlayerTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetTieTxt_"+IPL.UrlParameter.lang,0,0,"Multiple_Bac_Classic_BetTieTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBigTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetSmallTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetBankerPTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_NewBac_BetPlayerPTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),[]),i=1;i<=7;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_NewBac_BetWin","b"+String(i));null!=n&&(e[i]=new ShareUI.betSprBlock(n),e[i].name="b"+String(i),this.addChild(e[i]))}this._betAreaPanel=new SharePanel.BlockBetSensorPanel(e),this._closeBetCon=new o,this.addChild(this._closeBetCon),this._closeBetCon.interactive=!0,this._closeBetCon.visible=!1;for(i=6;i<=7;i++){var a=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac_BetNO","b"+String(i));this._closeBetCon.addChild(a)}this._closePairBetCon=new o,this.addChild(this._closePairBetCon),this._closePairBetCon.interactive=!0,this._closePairBetCon.visible=!1;for(i=4;i<=5;i++){a=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac_BetNO","b"+String(i));this._closePairBetCon.addChild(a)}},h.prototype.initChipPosition=function(){i.prototype.initChipPosition.call(this),this._chipPos=[];for(var t=1;t<=7;t++)this._chipPos[t]=PIXILayoutTool.DisplayObject.getPositionTargetName("Multiple_NewBac_CDN_ChipPos","mb"+String(t));this._chipStackPanel=new ChipStack.ChipStackOne(this._stackSetObj,this._chipPos),this.addChild(this._chipStackPanel);var e=new VideoShare.BacBM(1);this._chipStackPanel.initGameDefine(e),this._chipStackPanel.resetTextSize(.6),this._chipStackPanel.resetChipSize(.7)},h.prototype.initRoadInfo=function(){this._roadmapPanel=new c,this._roadmapPanel.x=56,this._roadmapPanel.y=709,null==Tools.TextureStore.repository.Fram6x17&&SharePanel.sameFrameLine.createTexture({gridRow:6,gridCol:17,gridW:22,gridH:22,cellColor:0,cellAlpha:1,lineThickness:2,lineColor:10066329,lineAlpha:0,textureName:"Fram6x17"});var t=new a(Tools.TextureStore.repository.Fram6x17),e={posX:0,posY:0},e=(this._roadmapPanel.initRoadBg(e,t),new n),t=(e.beginFill(13421772),e.drawRect(0,0,390,137),e.endFill(),{}),e=(t.posX=0,t.posY=0,t.maskMc=e,this._roadmapPanel.initMouseMask(t),{}),t=(e.gameType="3001",e.cellB="Multiple_cellRed0000",e.cellP="Multiple_cellBlue0000",e.cellT="Multiple_tieLine0000",e.gridRow=6,e.gridCol=17,e.gapX=24,e.gapY=24,e.startPosX=2,e.startPosY=2,e.scale=1,e.cellT1=-2,e.cellT2=2,e.cellT3=6,e.tStyle={font:"18px roadTxt",align:"center"},this._roadmapPanel.initRoadNew2A(e),{}),e=(t.gameType="3001",t.cellB="Multiple_Bac_Bbanker0000",t.cellP="Multiple_Bac_Bplayer0000",t.cellT="Multiple_Bac_Btie0000",t.cellBP="Multiple_Bac_BpairBanker0000",t.cellPP="Multiple_Bac_BpairPlayer0000",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=2,t.startPosY=2,t.scale=1,t.tStyle={fontFamily:"Arial",fontSize:"18px",fill:"#000000",fontWeight:"bold"},this._roadmapPanel.initRoadB(t),{}),t=(e.cellB="Multiple_cell2BB0000",e.cellP="Multiple_cell2BP0000",e.gridRow=6,e.gridCol=34,e.gapX=12,e.gapY=12,e.startPosX=1,e.startPosY=1,e.scale=.5,this._roadmapPanel.initRoad2B(e),{}),e=(t.cellB="Multiple_cell2CB0000",t.cellP="Multiple_cell2CP0000",t.gridRow=6,t.gridCol=17,t.gapX=12,t.gapY=12,t.startPosX=1,t.startPosY=72,t.scale=.5,this._roadmapPanel.initRoad2C(t),{}),t=(e.cellB="Multiple_cell2DB0000",e.cellP="Multiple_cell2DP0000",e.gridRow=6,e.gridCol=17,e.gapX=12,e.gapY=12,e.startPosX=203,e.startPosY=72,e.scale=.5,this._roadmapPanel.initRoad2D(e),{});t.cellB="Multiple_Bac_BSCell0000",t.cellP="Multiple_Bac_BSCell0001",t.cellBE="Multiple_Bac_BSCell0002",t.cellPE="Multiple_Bac_BSCell0003",t.gridRow=6,t.gridCol=17,t.gapX=24,t.gapY=24,t.startPosX=3,t.startPosY=3,t.scale=1,this._roadmapPanel.initRoadD(t),this._roadmapPanel.addRoadmap(["map2A"]),this._roadmapPanel.setNowRoadmap("roadmap2A"),this._roadmapPanel.setAddchild(),this._roadmapPanel.initAddListen(),this.addChild(this._roadmapPanel)},h.prototype.configureModelListener=function(){i.prototype.configureModelListener.call(this),this._roadmapPanel.setGameKey(this.vModel.getGameType()+"-"+this._tmpGameCode)},h.prototype.onStatusChanged=function(t){i.prototype.onStatusChanged.call(this,t=void 0===t?null:t),"betting"==this._status?this._pokerPanel.visible=!1:"dealing"!=this._status&&"waiting"!=this._status||(this._pokerPanel.visible=!0)},h.prototype.checkCloseBet=function(){for(var t=!1,e=6;e<=7;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(t=!0);if(20<Number(this._roundNum.split("-")[1])&&t&&this._betButton.setRebetUnlocked(!t),20<Number(this._roundNum.split("-")[1])?this._closePairBetCon.visible=!0:this._closePairBetCon.visible=!1,20<Number(this._roundNum.split("-")[1]))for(e=6;e<=7;e++)this._betAreaPanel.setSingleBetMouseStatus(e,!1);for(var i=!1,e=4;e<=5;e++)0!=this.vModel.getLastCommitInfo().getAmount(e)&&(i=!0);if(55<Number(this._roundNum.split("-")[1])&&i&&this._betButton.setRebetUnlocked(!i),55<Number(this._roundNum.split("-")[1])?this._closeBetCon.visible=!0:this._closeBetCon.visible=!1,55<Number(this._roundNum.split("-")[1]))for(e=4;e<=5;e++)this._betAreaPanel.setSingleBetMouseStatus(e,!1)},h.prototype.setPoker=function(){",,,,,"==this._poker?this._pokerPanel.reset():(this._pokerPanel.setPoker(this._poker),this._pokerPanel.setStatus(this._status))},h.prototype.setRoadmap=function(){var t=new BacLogicShare.BacTransRoadmap(this._roadMap).GetNewRoad();this._roadmapPanel.setData(t,this._roadMap)},h.prototype.setResult=function(){var t=new BacLogicShare.BacResultArea,e=t.getResultArea(this._result);this._pokerPanel.checkBankerIsSix()||(e=t.notSuperSix(e)),this._betAreaPanel.showResult(e)},h.prototype.setToolBarBtnStatus=function(){this._toolBarPanel.setBtnStatus("videoSwitch",!1),this._toolBarPanel.setBtnStatus("tip",!1)},h.prototype.onUserInfo=function(){var t=this.vModel.getLimiter(),t=(this._limitMin=t.getLimit("roundBetMin"),this._limitMax=t.getLimit("roundBetMax"),this._limitInfo=new BacLogicShare.LimitPanel("2"),this._limitInfo.setData(t),{});t.list=this._limitInfo.getLimitInfo(["BANKER","PLAYER","TIE","PAIR","HIGHT","LOW"]),t.gameType=this.vModel.getGameType()+"GA",this._toolBarPanel.setLimitPanel(t),i.prototype.onUserInfo.call(this)},h);function h(){return i.call(this)||this}t.ViewModel=e;l=SharePanel.RoadmapBac,__extends(u,l),u.prototype.onChangeRoadB=function(){"roadmap2A"==this._nowRamp?(this.removeMc(this.roadmapNew2A),this.addMc(this.roadmapB),this._nowRamp="roadmapB"):"roadmapB"==this._nowRamp?(this.removeMc(this.roadmapB),this.addMc(this.roadmapD),this._nowRamp="roadmapD"):"roadmapD"==this._nowRamp?(this.removeMc(this.roadmapD),this.addMc(this.roadmap2B),this.addMc(this.roadmap2C),this.addMc(this.roadmap2D),this._nowRamp="roadmap2B"):"roadmap2B"==this._nowRamp&&(this.removeMc(this.roadmap2B),this.removeMc(this.roadmap2C),this.removeMc(this.roadmap2D),this.addMc(this.roadmapNew2A),this._nowRamp="roadmap2A")};var l,c=u;function u(){return l.call(this)||this}t.Roadmap=c;d=BacShare.StatisticsPanel,__extends(f,d),f.prototype.initUI=function(){var t=new n,t=(t.beginFill(0,1),t.drawRect(8,709,46,142),t.endFill(),t.cacheAsBitmap=!0,this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BPTTxt_"+IPL.UrlParameter.lang)),t=(this.addChild(t),{fontFamily:"Arial",fontSize:"18px",fill:"#ffffff"});this.bankerTxt=new s("",t),this.bankerTxt.y=742,this.bankerTxt.anchor.set(.5),this.addChild(this.bankerTxt),this.playerTxt=new s("",t),this.playerTxt.y=790,this.playerTxt.anchor.set(.5),this.addChild(this.playerTxt),this.tieTxt=new s("",t),this.tieTxt.y=838,this.tieTxt.anchor.set(.5),this.addChild(this.tieTxt),this.bankerTxt.x=this.playerTxt.x=this.tieTxt.x=28,this.init()};var d,p=f;function f(){var t=d.call(this)||this;return t.initUI(),t}t.StatisticsPanel=p;_=BacShare.PokerPanel,__extends(g,_),g.prototype.initUI=function(){var t=PIXILayoutTool.DisplayObject.createImage("Multiple_PokerBG"),t=(this.addChild(t),this.bankerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_BWin"),this.addChild(this.bankerWin),this.playerWin=PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PWin"),this.addChild(this.playerWin),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerBankerTxt_"+IPL.UrlParameter.lang)),e=(this.addChild(t),PIXILayoutTool.DisplayObject.createImage("Multiple_Bac_PokerPlayerTxt_"+IPL.UrlParameter.lang));this.addChild(e);for(var i=1;i<=6;i++){var n=PIXILayoutTool.DisplayObject.createImageTargetName("Multiple_Bac_PokerBG","b"+String(i));this.addChild(n)}this.addChild(this.poker1),this.addChild(this.poker2),this.addChild(this.poker3),this.addChild(this.poker4),this.addChild(this.poker5),this.poker5.rotation=Math.PI/180*-90,this.addChild(this.poker6),this.poker6.rotation=Math.PI/180*90,this.poker2.x=269,this.poker4.x=319,this.poker1.x=113,this.poker3.x=163,this.poker1.y=this.poker2.y=this.poker3.y=this.poker4.y=616,this.poker5.x=42,this.poker5.y=674,this.poker6.x=430,this.poker6.y=634,this.poker1.scale=this.poker2.scale=this.poker3.scale=this.poker4.scale=this.poker5.scale=this.poker6.scale=new r(.54,.53);var a={fontFamily:"Arial",fontSize:"20px",fill:"#ffffff"};this.bankerPoint=new s("",a),this.bankerPoint.x=t.position.x+t.texture.width+20,this.bankerPoint.y=580,this.addChild(this.bankerPoint),this.playerPoint=new s("",a),this.playerPoint.x=e.position.x+e.texture.width+20,this.playerPoint.y=580,this.addChild(this.playerPoint),this.reset()};var _,m=g;function g(t){return _.call(this,t)||this}t.Poker=m}(GoldArmMultiGames=GoldArmMultiGames||{}),!function(t){e=Composite.EventContainer,__extends(n,e),n.prototype.setType=function(t){this.viewObj[t]=new GoldArmMultiGames.ViewModel,this.assetComplete(t)},n.prototype.assetComplete=function(t){this._nowType!=t&&(this._nowType=t,this._nowView=this.viewObj[t],this.addChild(this._nowView))},n.prototype.setGameModel=function(t,e){this._nowView.setModel(t,e=void 0===e?null:e)},n.prototype.setToolBar=function(t){this._nowView.setToolBar(t)},n.prototype.setVideoPanel=function(t){this._nowView.setVideoPanel(t)},n.prototype.setCustomSelectPanel=function(t){this._nowView.setCustomSelectPanel(t)},n.prototype.removeHandle=function(){this._nowView.removeHandle()};var e,i=n;function n(){var t=e.call(this)||this;return t._nowType="",t.viewObj={},t}t.GoldArmMain=i}(MultiGames=MultiGames||{}),!function(t){n.emitLoadInfo=function(){document.createElement("canvas"),DeviceAndEnvironment.Device.isMobile()||DeviceAndEnvironment.Device.isTablet();var t={ClickB:e.gameArr+"-"+e.nowBetGame,UID:e.userID};IPL.UrlParameter.canUseWebGL||(window.onbeforeunload=this.onCloseBrowser),this.postInfo(t,this.postUrl+"/ipl/portal.php/game/livefrontend/multilive")},n.postInfo=function(t,e){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(this.encodeFormData(t))},n.encodeFormData=function(t){if(!t)return"";var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"function"!=typeof t[e]&&(i="",void 0!==t[e]&&"function"==typeof t[e].toString&&(i=t[e].toString()),e=encodeURIComponent(e.replace(" ","+")),i=encodeURIComponent(i.replace(" ","+")),n.push(e+"="+i));return n.join("&")},(e=n).postUrl=location.origin,n.gameArr="",n.nowBetGame="",n.userID="",n.onCloseBrowser=function(){var t={UID:e.userID};e.postInfo(t,e.postUrl+"/ipl/portal.php/game/livefrontend/multilive")};var e,i=n;function n(){}t.Jump=i}(Load=Load||{}),!function(t){function o(){}o.sendDeviceInfo=function(t){var e=document.createElement("canvas"),e=DeviceAndEnvironment.Device.getDeviceInfo(e),i="",n=navigator.userAgent.split("(")[1].split(")")[0].split(";"),a=n[n.length-1],n=(-1!=a.indexOf("wv")&&(a=n[n.length-2]),i=DeviceAndEnvironment.Device.isMobile()||DeviceAndEnvironment.Device.isTablet()?"Phone":"PC",{UID:o.encodedUserID=o.simpleEncode(t),HID:o.simpleEncode(IPL.UrlParameter.hallID),Browser:e.pf,Os:e.os,Portal:i,PMode:a,Vga:e.vga,UType:IPL.UrlParameter.uType,Lang:IPL.UrlParameter.lang,Wv:e.wv,Aio:String(e.aio),Wm:IPL.UrlParameter.canUseWasm,WG:String(IPL.UrlParameter.canUseWebGL),Currency:o.currency});IPL.UrlParameter.canUseWebGL||(window.onbeforeunload=this.onCloseBrowser),o.postInfo(n,o.postUrl+"/ipl/portal.php/game/livefrontend/platform")},o.setUserID=function(t){return o.encodedUserID=o.simpleEncode(t)},o.postInfo=function(t,e){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(o.encodeFormData(t))},o.encodeFormData=function(t){if(!t)return"";var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"function"!=typeof t[e]&&(i="",void 0!==t[e]&&"function"==typeof t[e].toString&&(i=t[e].toString()),e=encodeURIComponent(e.replace(" ","+")),i=encodeURIComponent(i.replace(" ","+")),n.push(e+"="+i));return n.join("&")},o.simpleEncode=function(t){for(var e=(t=String(t)).length.toString(16),i=Math.floor((new Date).getTime()/1e3).toString(16),n=0,n=0;n<t.length&&n<i.length;n++)e+=t.charAt(n)+i.charAt(n);return e+=t.slice(n,t.length).toString()+i.slice(n,i.length).toString()},o.postUrl=location.origin,o.currency="",o.withoutWebglStartTime=0,o.encodedUserID="",o.continuWithoutWebgl=function(){o.withoutWebglStartTime=(new Date).getTime()},o.onCloseBrowser=function(){var t=0,e=0==o.withoutWebglStartTime?"1":"0",e=(0!=o.withoutWebglStartTime&&(t=(new Date).getTime()-o.withoutWebglStartTime),{UID:o.encodedUserID,leave:e,Sticky:String(t)});o.postInfo(e,o.postUrl+"/ipl/portal.php/game/livefrontend/webgl")},t.DeviceAnalyze=o}(Core=Core||{}),!function(s){i=Composite.EventContainer,__extends(e,i),e.prototype.MultiGamesLang=function(){var t=["tw","cn","us","vi","th","es"].indexOf(IPL.UrlParameter.lang);return-1!=t?IPL.UrlParameter.lang:"us"},e.prototype.closeLoader=function(){PIXILayoutTool.Info.setData(JSON.parse(this._assetsLoader.getJsonData("MultiGamesPos"))),PIXILayoutTool.Info.setData(JSON.parse(this._assetsLoader.getJsonData("MultiGames1Pos"))),PIXILayoutTool.Info.setData(JSON.parse(this._assetsLoader.getJsonData("MultiGamesSharePos"))),this._assetsLoader.removeEventListener(VideoLoaderCore.LoadingProgressEvent.ASSETS_IS_READY,this.readyEvent),this._assetsLoader.close(),this.initUI()},e.prototype.initUI=function(){var e=this;s.Main.selectChip=new ChipMultiGamesStyle.SelectChipUI,s.Main.selectChip.setPosInfo(150,80),s.Main.selectChip.visible=!1,this._checkObj={},this._gameObj={},this._nowGameArr=[],this._gameArr=[],this._videoCloseBtnArr=[],this._maintainStatus=["0","0","0"];for(var t=0;t<3;t++)this._gameArr[t]=new ShareMultiGames.GamesMain,this._gameArr[t].name=String(t),this._gameArr[t].x=11+474*t,this._gameArr[t].y=4,this.addChild(this._gameArr[t]),this._videoCloseBtnArr[t]=PIXILayoutTool.DisplayObject.createImage("Multiple_VideoBtn"),this._videoCloseBtnArr[t].name="Btn"+String(t),this._videoCloseBtnArr[t].x=428+474*t,this._videoCloseBtnArr[t].interactive=!0,this._videoCloseBtnArr[t].buttonMode=!0,this._videoCloseBtnArr[t].visible=!1,this._videoCloseBtnArr[t].on("click",function(t){e.onVideoBtnCLK(t)}),this.addChild(this._videoCloseBtnArr[t]);window.addEventListener("VIDEO_BTN_VISIBLE",function(t){e.videoBtnEvent(t)}),this.addChild(s.Main.selectChip),this.event.dispatchEvent(new VideoShare.VideoGameEvent(VideoShare.VideoGameEvent.UI_READY))},e.prototype.onVideoBtnCLK=function(t){switch(t.target.name){case"Btn0":this._videoCloseBtnArr[0].name="Btn01",this._videoCloseBtnArr[0].texture=PIXI.Texture.fromFrame("Multiple_VideoBtn0001"),this._gameArr[0].setVideoPlay(!1);break;case"Btn01":this._videoCloseBtnArr[0].name="Btn0",this._videoCloseBtnArr[0].texture=PIXI.Texture.fromFrame("Multiple_VideoBtn0000"),this._gameArr[0].setVideoPlay(!0);break;case"Btn1":this._videoCloseBtnArr[1].name="Btn11",this._videoCloseBtnArr[1].texture=PIXI.Texture.fromFrame("Multiple_VideoBtn0001"),this._gameArr[1].setVideoPlay(!1);break;case"Btn11":this._videoCloseBtnArr[1].name="Btn1",this._videoCloseBtnArr[1].texture=PIXI.Texture.fromFrame("Multiple_VideoBtn0000"),this._gameArr[1].setVideoPlay(!0);break;case"Btn2":this._videoCloseBtnArr[2].name="Btn21",this._videoCloseBtnArr[2].texture=PIXI.Texture.fromFrame("Multiple_VideoBtn0001"),this._gameArr[2].setVideoPlay(!1);break;case"Btn21":this._videoCloseBtnArr[2].name="Btn2",this._videoCloseBtnArr[2].texture=PIXI.Texture.fromFrame("Multiple_VideoBtn0000"),this._gameArr[2].setVideoPlay(!0)}},e.prototype.initAddListen=function(){for(var t=0;t<this._gameArr.length;t++)this._gameArr[t].event.addEventListener(VideoShare.HallEvent.ON_SELECT_GAME,this.changeEvent),this._gameArr[t].event.addEventListener("VIDEO_PLAYIP",this.videoIPEvent),this._gameArr[t].event.addEventListener("PLAY_VIDEO_SWITCH",this.playVideoEvent),this._gameArr[t].event.addEventListener("MAINTAIN_VIDEOBTN_SWITCH",this.videoBtnEvent);this._toolBarPanel.event.addEventListener(VideoShare.ToolBarEvent.SELECT_VIDEO_IP,this.toolEvent),this._toolBarPanel.event.addEventListener(VideoShare.ToolBarEvent.SAVE_MONEY,this.toolEvent),this._toolBarPanel.event.addEventListener(VideoShare.ToolBarEvent.EXIT,this.toolEvent),s.Main.selectChip.event.addEventListener(VideoShare.VideoGameEvent.ON_SETING_CHIP,this.videoGEvent)},e.prototype.changeVideoIP=function(t){var e=new H5Event.H5BaseEvent("VIDEO_PLAYIP");e.gametype=t.gametype,e.gamecode=t.gamecode,e.video=t.video,e.defaultIp=t.defaultIp,this.event.dispatchEvent(e),""!=t.defaultIp&&(this._videoName=t.defaultIp)},e.prototype.playVideoSwitch=function(t){var e=new H5Event.H5BaseEvent("PLAY_VIDEO_SWITCH");e.gametype=t.gametype,e.gamecode=t.gamecode,e.video=t.video,e.defaultIp=t.defaultIp,this.event.dispatchEvent(e)},e.prototype.videoBtnSwitch=function(t){if(t.type)if("VIDEO_BTN_VISIBLE"==t.type&&t.data)for(var e=0;e<this._gameArr.length;e++)t.data.GameType==this._gameArr[e]._gameType&&t.data.GameCode==this._gameArr[e]._gameCode&&(this._videoCloseBtnArr[e].visible=t.data.Visible);else if("MAINTAIN_VIDEOBTN_SWITCH"==t.type)if("1"==t.maintain)for(e=0;e<this._gameArr.length;e++)t.gametype==this._gameArr[e]._gameType&&t.gamecode==this._gameArr[e]._gameCode&&(this._videoCloseBtnArr[e].visible=!1,this._maintainStatus[e]=t.maintain);else for(e=0;e<this._gameArr.length;e++)t.gametype==this._gameArr[e]._gameType&&t.gamecode==this._gameArr[e]._gameCode&&(this._maintainStatus[e]=t.maintain,-1==VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(t.gametype))&&(this._videoCloseBtnArr[e].visible=!0,"Btn01"!=this._videoCloseBtnArr[e].name&&"Btn11"!=this._videoCloseBtnArr[e].name&&"Btn21"!=this._videoCloseBtnArr[e].name||this._gameArr[e].setVideoPlay(!1))},e.prototype.setVideoIP=function(t){for(var e=0;e<this._gameArr.length;e++)t._currentTarget.currentGameType==this._gameArr[e]._gameType&&t._currentTarget.currentGameCode==this._gameArr[e]._gameCode&&this._gameArr[e].setVideo(t)},e.prototype.setFirVideoIP=function(t){this._videoName=t.data.routeName,this._selectIP=!0;for(var e=0;e<this._selectArr.length;e++){this._gameArr[e].setfirVideoName(this._videoName);var i,n=[],a=this._selectArr[e].split("-");-1==VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(a[0])&&(n="3001"==a[0]&&57<=Number(a[1])&&Number(a[1])<=61||!("3001"==a[0]&&62<=Number(a[1])&&Number(a[1])<=64||"3001"==a[0]&&65<=Number(a[1])&&Number(a[1])<=68||"3001"==a[0]&&99==Number(a[1])||!("3001"==a[0]&&69<=Number(a[1])&&Number(a[1])<=71)&&("3001"==a[0]&&72<=Number(a[1])&&Number(a[1])<=76||"3001"==a[0]&&77<=Number(a[1])&&Number(a[1])<=81||"3001"==a[0]&&88<=Number(a[1])&&Number(a[1])<=92||("3007"!=a[0]||"5"!=a[1])&&("3007"==a[0]&&"6"==a[1]||"3007"==a[0]&&"7"==a[1]||"3008"==a[0]&&"6"==a[1]||"3003"!=a[0]||"7"!=a[1])))?["videosd"]:["video0"],(i=new H5Event.H5BaseEvent("SET_FIRST_VIDEO")).gametype=a[0],i.gamecode=a[1],i.envName=n,i.routeName=this._videoName,this.event.dispatchEvent(i))}},e.prototype.handleChange=function(t){if(t.type===VideoShare.HallEvent.ON_SELECT_GAME){if(VideoAssetManager.Informantion.settingData.switch.chessCard&&("3024-1"==t.status||"3023-1"==t.status||"3041-1"==t.status||"3041-2"==t.status||"3041-3"==t.status))for(var e in this._selectArr)if("3023-1"==this._selectArr[e]||"3024-1"==this._selectArr[e]||"3041-1"==this._selectArr[e]||"3041-2"==this._selectArr[e]||"3041-3"==this._selectArr[e]){this._gameArr[e].removeHandle();var i={status:this._selectArr[e],data:{index:e}};this.exitTable(i),this._selectArr.splice(Number(e),1,"");for(var n=0;n<this._gameArr.length;n++)this._gameArr[n].setSelectList(this._selectArr);this._nowGameArr[e]}this.exitTable(t);var a=Number(t.data.index),t=t.status.split("-");this._checkObj[t[0]]++,this.setTypeCode(a,t[0],t[1])}},e.prototype.exitTable=function(t){var e,i=Number(t.data.index),n=t.status.split("-");null==this._selectArr[i]||"3023"!=(e=this._selectArr[i].split("-"))[0]&&"3024"!=e[0]&&"3041"!=e[0]||this._model.leaveGame(this._selectArr[i]),null!=this._nowGameArr[i]?(e=this._selectArr.splice(i,1,t.status)[0].split("-"),this._checkObj[e[0]]--,this._nowGameArr[i].index=-1):this._selectArr[i]=t.status;for(var a=0;a<this._gameArr.length;a++)this._gameArr[a].setSelectList(this._selectArr);null==this._checkObj[n[0]]&&(this._checkObj[n[0]]=0)},e.prototype.handleToolEvent=function(t){switch(t.type){case VideoShare.ToolBarEvent.SAVE_MONEY:IPL.UrlParameter.gotoBankerPage();break;case VideoShare.ToolBarEvent.SELECT_VIDEO_IP:this._selectIP=!0;for(var e=0;e<this._gameArr.length;e++)this._gameArr[e].setVideoIP(t.data);break;case VideoShare.ToolBarEvent.EXIT:this.onExit()}},e.prototype.handleVideoGameEvent=function(t){t.type===VideoShare.VideoGameEvent.ON_SETING_CHIP&&(this._chipList!=t.data.chipValue?(this._chipList=t.data.chipValue,this._model.setChip(t)):s.Main.selectChip.visible=!1)},e.prototype.setToolBarPanel=function(t){null==this._toolBarPanel&&(this._toolBarPanel=t),this.addChildAt(this._toolBarPanel,this.getChildIndex(s.Main.selectChip))},e.prototype.setModel=function(t){var e=this;if(null==this._model){this._model=t,this._model.addEventListener(VideoShare.LiveGameEvent.ON_ENDGAME,function(t){e.onUpDateCredit()}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_BET,function(t){e.onUpDateCredit(),e.onUpDateBetLog(t)}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_SEND_TIP,function(t){e.onUpDateCredit()}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_SETCHIP,function(t){e.onSetChip(t)}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_LIVESTREAM_CHANNELS,function(){});for(var i=0;i<this._gameArr.length;i++)this._gameArr[i].setGameKeyList(this._model.getKeyList());t=this._model.getUserInfo();this._toolBarPanel.setCreditIcon(t.getCurrency())}for(i=0;i<this._gameArr.length;i++)this._gameArr[i].setGameModel(this._model);this.onInfoReady()},e.prototype.reconnect=function(){this._videoLink=!0},e.prototype.setSelectList=function(t){this._selectArr=t;for(var e=0;e<this._gameArr.length;e++)this._gameArr[e].setSelectList(this._selectArr);this._videoLink?this.onVideoIP():this._selectIP=!0;for(e=0;e<this._selectArr.length;e++){if(null==this._selectArr[e])return;var i=this._selectArr[e].split("-");0==e&&this._videoLink&&(i[1],-1!=VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(this._selectArr[e])&&Number(i[1])%2==0&&String(Number(i[1])-1),this._videoLink=!1,this._model.liveStreamChannels({gametype:"",gamecode:"",streams:["video0"]})),null==this._checkObj[i[0]]&&(this._checkObj[i[0]]=0),this._checkObj[i[0]]++,this.setTypeCode(e,i[0],i[1])}},e.prototype.setTypeCode=function(t,e,i){var n,a=e,o=(-1!=VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(e+"-"+i)&&(a="3001GA"),null==this._gameObj[a]&&(this._gameObj[a]=[]),this._gameObj[a]);"3023"!=(IPL.UrlParameter.gameType=e)&&"3024"!=e&&"3041"!=e||this._model.startGame({inGame:e+"-"+i});for(var r=0;r<this._checkObj[e];r++){if(null==o[r]){o[r]={},"3001"==e?-1!=VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(e+"-"+i)?o[r].game=new s.GoldArmMain:o[r].game=new s.BacMain:"3003"==e?o[r].game=new s.DtfMain:"3005"==e?o[r].game=new s.TrifaceMain:"3006"==e?o[r].game=new s.PaiGowMain:"3007"==e?o[r].game=new s.RouMain:"3008"==e?o[r].game=new s.SicBoMain:"3010"!=e&&("3011"==e?o[r].game=new s.SeDieMain:"3012"==e?o[r].game=new s.BullMain:"3015"==e?o[r].game=new s.FanTanMain:"3016"==e?o[r].game=new s.FishSCMain:"3017"==e?o[r].game=new s.InsBacMain:"3018"==e?o[r].game=new s.ThreeCardMain:"3019"!=e&&"3020"!=e&&("3021"==e?o[r].game=new s.HiloMain:"3023"==e?o[r].game=new s.ChessBullMain:"3024"==e?o[r].game=new s.ChessTripleFaceMain:"3025"==e?o[r].game=new s.BlockChainBacMain:"3026"==e?o[r].game=new s.BlockChainDtfMain:"3027"==e?o[r].game=new s.BlockChainInsBacMain:"3028"==e?o[r].game=new s.BlockChainRouMain:"3029"==e?o[r].game=new s.BlockChainThreeCardMain:"3030"==e?o[r].game=new s.BlockChainTripleFaceMain:"3031"==e?o[r].game=new s.BlockChainBullMain:"3032"==e?o[r].game=new s.BlockChainSeDieMain:"3033"==e?o[r].game=new s.BlockChainSicBoMain:"3034"==e?o[r].game=new s.BlockChainFishSCMain:"3036"==e?o[r].game=new s.BlockChainHiloMain:"3037"==e?o[r].game=new s.BlockChainFanTanMain:"3038"==e?o[r].game=new s.BlockChainPaiGowMain:"3039"==e||"3040"==e?o[r].game=new s.BlockChainFishSCMain:"3041"==e?o[r].game=new s.BlockChainChessBullMain:"3042"==e?o[r].game=new s.BlockChainSicBoMainVi:"3043"==e?o[r].game=new s.BlockChain21PlusMain:"3044"==e?o[r].game=new s.FishSCTHMain:"3045"==e?o[r].game=new s.BlockChainFishSCTHMain:"3046"==e?o[r].game=new s.BlockChainLucky5CardsMain:"3047"==e?o[r].game=new s.Bac21PlusMain:"3048"==e?o[r].game=new s.AceyDeuceyMain:"3050"==e&&(o[r].game=new s.BlockChain28BacMain))),o[r].index=t,n=o[r];break}if(-1==o[r].index){o[r].index=t,n=o[r];break}}this._nowGameArr[t]=n;a=this._model.getModel(e,i);this._gameArr[t].setSubModel(a),this._gameArr[t].setNowGame(n.game,e,i),-1==VideoAssetManager.Informantion.settingData.switch.blockChain.indexOf(e)?("1"!=this._maintainStatus[t]&&(this._videoCloseBtnArr[t].visible=!0),"Btn01"!=this._videoCloseBtnArr[t].name&&"Btn11"!=this._videoCloseBtnArr[t].name&&"Btn21"!=this._videoCloseBtnArr[t].name||this._gameArr[t].setVideoPlay(!1)):this._videoCloseBtnArr[t].visible=!1,this._selectIP&&(0==this._firstInitTable[t]&&(this._gameArr[t].setfirVideoName(this._videoName),this._firstInitTable[t]=!0),this._gameArr[t].playVideo())},e.prototype.onInfoReady=function(){var t=this._model.getUserInfo();this._firstInit&&(this._firstInit=!1,this._toolBarPanel.setUserName("",this._model.getUserInfo().getUsername()),this._chipFilerClose||""==t.getChipFilter()||(s.Main.selectChip.setDisplayFiler(t.getChipFilter()),s.Main.selectChip.initChipCover(1440,900,-s.Main.selectChip.x,-s.Main.selectChip.y,3288872,.9),this._chipFilerClose=!0),this.initAddListen()),this._chipList=t.getChipList(),this.onUpDateCredit()},e.prototype.onVideoIP=function(){for(var t={},e=this._model.getLiveStreamList(),i=0;i<e.length;i++)t[e[i].name]=e[i].baseUrl.split("/")[0];this._toolBarPanel.setVideoList(t)},e.prototype.onUpDateCredit=function(){var t=this._model.getUserInfo(),t=(new ShareLogic.DigitalLogic).numtoFix2(t.getCredit());this._toolBarPanel.updateCredit(t)},e.prototype.onUpDateBetLog=function(t){if(null!=t&&"ON_BET"==t.type){Load.Jump.gameArr="",Load.Jump.nowBetGame="";for(var e=0;e<this._selectArr.length;e++){0!=e&&(Load.Jump.gameArr+=",");var i=this._selectArr[e].split("-");"3030"==i[0]?Load.Jump.gameArr+="30"+i[1]:(i=this._selectArr[e].split("30")[1].split("-"),Load.Jump.gameArr+=i[0]+i[1])}"3030"==t.data.gameType?Load.Jump.nowBetGame="30"+t.data.gameCode:(n=t.data.gameType.split("30"),Load.Jump.nowBetGame=n[1]+t.data.gameCode);var n=this._model.getUserInfo();Load.Jump.userID=Core.DeviceAnalyze.setUserID(n.getUserID()),Load.Jump.emitLoadInfo()}},e.prototype.onSetChip=function(t){this._chipList=t.data.chipList;for(var e=0;e<3;e++)this._gameArr[e].onSetChip(t)},e.prototype.onExit=function(){this._selectIP=!1;for(var t=0;t<this._gameArr.length;t++)this._gameArr[t].removeHandle(),this._videoCloseBtnArr[t].visible=!1;for(var e,t=0;t<this._nowGameArr.length;t++)null==this._nowGameArr[t]&&(this._nowGameArr[t]=[]),this._nowGameArr[t].index=-1;for(e in this._nowGameArr=[],this._checkObj)this._checkObj[e]=0;for(t=0;t<this._selectArr.length;t++)this._selectArr[t]||this._selectArr.splice(t,1);for(t=0;t<this._selectArr.length;t++)this._selectArr[t]||this._selectArr.splice(t,1);var i=new VideoShare.ToolBarEvent(VideoShare.ToolBarEvent.EXIT);i.data={selectArr:this._selectArr},this.event.dispatchEvent(i),this._toolBarPanel.reset(),s.Main.selectChip.visible=!1},e.prototype.removeHandle=function(){};var i,t=e;function e(){var e=i.call(this)||this,t=(e._chipFilerClose=!1,e._selectIP=!1,e._firstInit=!0,e._videoLink=!0,e._videoName="",e._firstInitTable=[!1,!1,!1],e._assetsLoader=new VideoLoaderCore.GameLoadingProgress(document.getElementById("MyRenderer")),[{url:IPL.UrlParameter.originDomain+"lib/Atlas/",fileName:"bankerAllWin.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Atlas/",fileName:"bankerAllLose.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Atlas/",fileName:"FightingBullBullLose.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Atlas/",fileName:"FightingBullBullWin.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/Games/",fileName:"MultiGames_element.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/Games/",fileName:"MultiGames_element.json",keep:!0,cutPic:!1},{url:IPL.UrlParameter.originDomain+"lib/Share/Games/",fileName:"MultiGames_"+e.MultiGamesLang()+".json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/Games1/",fileName:"MultiGames1_element.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/Games1/",fileName:"MultiGames1_element.json",keep:!0,cutPic:!1},{url:IPL.UrlParameter.originDomain+"lib/Share/Games1/",fileName:"MultiGames1_"+e.MultiGamesLang()+".json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/Games/",fileName:"MultiGamesPos.json",keep:!0,cutPic:!1},{url:IPL.UrlParameter.originDomain+"lib/Share/Games1/",fileName:"MultiGames1Pos.json",keep:!0,cutPic:!1},{url:IPL.UrlParameter.originDomain+"lib/Share/Games/",fileName:"MultiGamesBet.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/Games1/",fileName:"MultiGames1Bet.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"MultiGamesShare.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"MultiGamesSharePos.json",keep:!0,cutPic:!1}]);return e.readyEvent=function(){e.closeLoader()},e.toolEvent=function(t){e.handleToolEvent(t)},e.changeEvent=function(t){e.handleChange(t)},e.videoGEvent=function(t){e.handleVideoGameEvent(t)},e.videoIPEvent=function(t){e.changeVideoIP(t)},e.playVideoEvent=function(t){e.playVideoSwitch(t)},e.videoBtnEvent=function(t){e.videoBtnSwitch(t)},e._assetsLoader.addEventListener(VideoLoaderCore.LoadingProgressEvent.ASSETS_IS_READY,e.readyEvent),e._assetsLoader.setQueues(t),e._assetsLoader.startLoad(),e}s.Main=t}(MultiGames=MultiGames||{}),!function(e){var t,n=PIXI.Container,i=(t=Composite.EventContainer,__extends(a,t),a.prototype.getStreamUrl=function(t){this.tmpGameType=t.gametype,this.tmpGameCode=t.gamecode,this.streamFromServer.getStreamUrl(t.gametype,t.gamecode,t.envName,t.routeName)},a.prototype.changeVideoIP=function(t){this.streamFromServer.getStreamUrl(t.gametype,t.gamecode,[t.video],t.defaultIp)},a.prototype.initUI=function(){this._hallContainer=new n,this.addChild(this._hallContainer);for(var t=0;t<24;t++){var e=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_BG",t,32);this._hallContainer.addChild(e)}var i=PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_TopBG"),i=(this._hallContainer.addChild(i),PIXILayoutTool.DisplayObject.createImage("Multiple_Hall_MultiBetTxt_"+IPL.UrlParameter.lang));this._hallContainer.addChild(i),this._startGameBtn=new ShareUI.Button("Multiple_Hall_StartBtn",!1,"Multiple_Hall_StartTxt",IPL.UrlParameter.lang,24),this._startGameBtn.x=1131,this._startGameBtn.y=806,this._hallContainer.addChild(this._startGameBtn),this._toolBarPanel=new ShareMultiGames.MultiToolPanel,this.addChild(this._toolBarPanel),this._musicPanel=new ShareMultiGames.MusicPanel,this._toolBarPanel.setMusicSetting(this._musicPanel)},a.prototype.setActivityConnect=function(t){this._toolBarPanel.setActivityConnect(t)},a.prototype.reConnectStreamFromServer=function(){this.streamFromServer.reConnect(),this._mulitGames&&this._mulitGames.reconnect()},a.prototype.setModel=function(t){var e=this;null==this._model&&(this._model=t,this._model.addEventListener(VideoShare.LiveGameEvent.INFO_READY,function(){e.onInfoReady()}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_PREFERENCES,function(t){e.onGetPreferences(t)}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_ACTIVITY,function(t){e.onActivity(t)}),this._model.addEventListener("netConnectClose",function(){e.onCloseGame()}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_VIDEO_IP,function(){e._model.liveStreamList()}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_LIVESTREAM_LIST,function(t){e.streamFromServer.setLiveStreamList(t)}),this._model.addEventListener(VideoShare.LiveGameEvent.ON_LIVESTREAM_CHANNELS,function(t){e.streamFromServer.setLiveStreamChannels(t.data)}))},a.prototype.onInfoReady=function(){this._model.getUserInfo();this._firstInit&&(this._firstInit=!1,this._toolBarPanel.setUserName("",this._model.getUserInfo().getUsername()),this.initLobbyMenu(),this.initAddListen()),this._model.getPreferences()},a.prototype.onGetPreferences=function(t){this._toolBarPanel.setMusicSet(t.data.settings);t=new VideoShare.HallEvent(VideoShare.HallEvent.ON_LAYOUT_COMPLETE);this.event.dispatchEvent(t)},a.prototype.initLobbyMenu=function(){null==this._lobbyMenuPanel&&(this._lobbyMenuPanel=new ShareMultiGames.LobbyMenuPanel,this._lobbyMenuPanel.y=42,this._hallContainer.addChild(this._lobbyMenuPanel),this._lobbyMenuPanel.setModel(this._model),this._lobbyMenuPanel.initGameInfo(),VideoAssetManager.Informantion.settingData.switch.select?this._selectArr=VideoAssetManager.Informantion.settingData.switch.select:this._selectArr=this._lobbyMenuPanel.getSelect(),this.checkChess(),this.setSelectGames())},a.prototype.checkChess=function(){var e=this;if(VideoAssetManager.Informantion.settingData.switch.chessCard){this._lobbyMenuPanel.setChessOver("0",!1);var t=VideoAssetManager.Informantion.settingData.switch.chessCard,i=t.filter(function(t){return-1==e._selectArr.indexOf(t)});if(i.length!==t.length)for(var n=0;n<i.length;n++)this._lobbyMenuPanel.setChessOver(i[n],!0)}},a.prototype.initAddListen=function(){var e=this;DeviceAndEnvironment.Device.isMobile()||this._startGameBtn.on("click",this.startEvent),this._startGameBtn.on("tap",this.startEvent),this._lobbyMenuPanel.event.addEventListener(VideoShare.HallEvent.ON_SELECT_GAME,this.selectEvent),this._musicPanel.event.addEventListener(VideoShare.VideoGameEvent.SETTING_CLOSE,this.settingEvent),this._musicPanel.event.addEventListener(VideoShare.MusicEvent.BGM_CHANGE,this.musicEvent),this._musicPanel.event.addEventListener(VideoShare.MusicEvent.DUB_CHANGE,this.musicEvent),this._musicPanel.event.addEventListener(VideoShare.MusicEvent.EFFECT_CHANGE,this.musicEvent),this._musicPanel.event.addEventListener(VideoShare.MusicEvent.MUTE_CHANGE,this.musicEvent),this.streamFromServer.addEventListener(SharePanel.StreamUrlFromServerEvent.GET_LIVE_STREAM_CHANNELS,this.getLiveStreamChannels),this.streamFromServer.addEventListener(SharePanel.StreamUrlFromServerEvent.ON_STREAM_URL,this.onStreamUrl),this.streamFromServer.addEventListener(SharePanel.StreamUrlFromServerEvent.STREAMING_SPEED_DETECTED,function(t){e._toolBarPanel.setStreamingSpeedDetected(t.data)}),this.streamFromServer.addEventListener(SharePanel.StreamUrlFromServerEvent.ON_SELECTED_ROUTENAME,this.setLiveStreamChannels)},a.prototype.selectGame=function(t){var e=this;if(VideoAssetManager.Informantion.settingData.switch.chessCard){var i=VideoAssetManager.Informantion.settingData.switch.chessCard;if(t.data){for(var n=0,a=i;n<a.length;n++){var o=a[n];-1!=this._selectArr.indexOf(o)&&this._selectArr.splice(this._selectArr.indexOf(o),1)}this.selectPass(t)}else if(this._lobbyMenuPanel.setChessUI("0",!1),-1!=i.indexOf(t.status)){for(var r=!1,s="",h=0,l=i.filter(function(){return-1==e._selectArr.indexOf(t.status)});h<l.length;h++){o=l[h];-1!=this._selectArr.indexOf(o)&&(r=!0,s=o)}r?this._lobbyMenuPanel.setChessUI(t.status,!0,s):this.selectPass(t)}else this.selectPass(t)}else this.selectPass(t)},a.prototype.selectPass=function(t){for(var e=!1,i=0;i<this._selectArr.length;i++)if(this._selectArr[i]==t.status){e=!0;break}e?this._selectArr.splice(i,1):this._selectArr.push(t.status),4==this._selectArr.length&&this._selectArr.shift(),this.checkChess(),this.setSelectGames()},a.prototype.startGame=function(){var t=this;IframeController.setIframe(),VideoAssetManager.Informantion.settingData.switch.chessCard&&this._lobbyMenuPanel.setChessUI("0",!1),null==this._mulitGames?(this._mulitGames=new e.Main,this._mulitGames.event.addEventListener(VideoShare.VideoGameEvent.UI_READY,function(){t._toolBarPanel.setIsLobby(!1),t._mulitGames.setToolBarPanel(t._toolBarPanel),t._model.getUserInfo().getPayWay()||t._toolBarPanel.setSaveMoneyBet(!1),t._mulitGames.setModel(t._model),t._mulitGames.setSelectList(t._selectArr),t._mulitGames.visible=!0,t.addChildAt(t._mulitGames,t.getChildIndex(t._hallContainer)),t.removeChild(t._hallContainer),t._mulitGames.event.addEventListener(VideoShare.ToolBarEvent.EXIT,t.exitEvent)}),this._mulitGames.event.addEventListener("VIDEO_PLAYIP",this.videoIPEvent),this._mulitGames.event.addEventListener("PLAY_VIDEO_SWITCH",this.videoIPEvent),this._mulitGames.event.addEventListener("SET_FIRST_VIDEO",this.firvideoEvent)):(this._toolBarPanel.setIsLobby(!1),this._mulitGames.setModel(this._model),this._mulitGames.setSelectList(this._selectArr),this._mulitGames.visible=!0,this.addChildAt(this._mulitGames,this.getChildIndex(this._hallContainer)),this.removeChild(this._hallContainer))},a.prototype.setSettingInfo=function(t){t.type===VideoShare.VideoGameEvent.SETTING_CLOSE&&(this._model.setPreferences(this._setInfo),this._setInfo={})},a.prototype.onMusicSetting=function(t){var e;switch(null!=t.isMute&&(e=t.isMute?0:1),null==this._setInfo.sounds&&(this._setInfo.sounds={}),t.type){case VideoShare.MusicEvent.BGM_CHANGE:null!=t.isMute?this._setInfo.sounds.bgmEnabled=e:null!=t.value&&(this._setInfo.sounds.bgm=t.value);break;case VideoShare.MusicEvent.DUB_CHANGE:null!=t.isMute?this._setInfo.sounds.voiceEnabled=e:null!=t.value&&(this._setInfo.sounds.voice=t.value);break;case VideoShare.MusicEvent.EFFECT_CHANGE:null!=t.isMute?this._setInfo.sounds.soundEnabled=e:null!=t.value&&(this._setInfo.sounds.sound=t.value);break;case VideoShare.MusicEvent.MUTE_CHANGE:null!=t.isMute&&(this._setInfo.sounds.bgmEnabled=e,this._setInfo.sounds.voiceEnabled=e,this._setInfo.sounds.soundEnabled=e,this._model.setPreferences(this._setInfo),this._setInfo={})}},a.prototype.onExitEvent=function(t){IframeController.setIframe(),this._toolBarPanel.setIsLobby(!0),this._mulitGames.visible=!1,this.removeChild(this._mulitGames),this.addChild(this._toolBarPanel),this.addChildAt(this._hallContainer,this.getChildIndex(this._toolBarPanel)),this._selectArr=t.data.selectArr,this.checkChess(),this.setSelectGames()},a.prototype.setSelectGames=function(){0==this._selectArr.length?(this._startGameBtn.alpha=.5,this._startGameBtn.autoMouseStatus=!1,this._startGameBtn.setMouseStatus(!1)):(this._startGameBtn.alpha=1,this._startGameBtn.autoMouseStatus=!0,this._startGameBtn.setMouseStatus(!0)),this._lobbyMenuPanel.setSelectGames(this._selectArr)},a.prototype.onActivity=function(t){"IDLE_5M"!=t.data.runEor||this._hallContainer.visible?"IDLE_10M"==t.data.runEor&&(null!=this._mulitGames&&this._mulitGames.visible&&this._mulitGames.onExit(),Tools.FloatToolTip.container&&(Tools.FloatToolTip.container.visible=!1),this.removeHandle()):Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.data.runEor),3e3,"",!0,!1)},a.prototype.onCloseGame=function(){null!=this._mulitGames&&this._mulitGames.visible&&(this._mulitGames.onExit(),Tools.FloatToolTip.container)&&(Tools.FloatToolTip.container.visible=!1),this.removeHandle()},a.prototype.removeHandle=function(){var e=this;this._firstInit=!0,DeviceAndEnvironment.Device.isMobile()||this._startGameBtn.off("click",this.startEvent),this._startGameBtn.off("tap",this.startEvent),null!=this._lobbyMenuPanel&&this._lobbyMenuPanel.event.removeEventListener(VideoShare.HallEvent.ON_SELECT_GAME,this.selectEvent),this._musicPanel.event.removeEventListener(VideoShare.VideoGameEvent.SETTING_CLOSE,this.settingEvent),this._musicPanel.event.removeEventListener(VideoShare.MusicEvent.BGM_CHANGE,this.musicEvent),this._musicPanel.event.removeEventListener(VideoShare.MusicEvent.DUB_CHANGE,this.musicEvent),this._musicPanel.event.removeEventListener(VideoShare.MusicEvent.EFFECT_CHANGE,this.musicEvent),this._musicPanel.event.removeEventListener(VideoShare.MusicEvent.MUTE_CHANGE,this.musicEvent),this.streamFromServer.removeEventListener(SharePanel.StreamUrlFromServerEvent.GET_LIVE_STREAM_CHANNELS,this.getLiveStreamChannels),this.streamFromServer.removeEventListener(SharePanel.StreamUrlFromServerEvent.ON_STREAM_URL,this.onStreamUrl),this.streamFromServer.removeEventListener(SharePanel.StreamUrlFromServerEvent.STREAMING_SPEED_DETECTED,function(t){e._toolBarPanel.setStreamingSpeedDetected(t.data)}),this.streamFromServer.removeEventListener(SharePanel.StreamUrlFromServerEvent.ON_SELECTED_ROUTENAME,this.setLiveStreamChannels)},a);function a(){var i=t.call(this)||this;return i._firstInit=!0,i._setInfo={},i.onStreamUrl=function(t){i._mulitGames.setVideoIP(t)},i.getLiveStreamChannels=function(t){var e=t.data.gameType+"-"+t.data.gameCode;-1!=VideoAssetManager.Informantion.settingData.switch.goldarm.indexOf(e)&&Number(t.data.gameCode)%2==0&&(t.data.gameCode=String(Number(t.data.gameCode)-1)),i._model.liveStreamChannels(t.data)},i.setLiveStreamChannels=function(t){i._mulitGames.setFirVideoIP(t),i._toolBarPanel.firSetVideoLink(t.data.routeName)},i.selectEvent=function(t){i.selectGame(t)},i.startEvent=function(){i.startGame()},i.settingEvent=function(t){i.setSettingInfo(t)},i.musicEvent=function(t){i.onMusicSetting(t)},i.exitEvent=function(t){i.onExitEvent(t)},i.videoIPEvent=function(t){i.changeVideoIP(t)},i.firvideoEvent=function(t){i.getStreamUrl(t)},i.streamFromServer=new SharePanel.StreamFromServer,i.initUI(),i}e.HallMultiGames=i}(MultiGames=MultiGames||{}),!function(i){var e,n=PIXI.Graphics,t=(e=Composite.EventContainer,__extends(a,e),a.prototype.initUI=function(){var e=this,t=new n;t.beginFill(1251612),t.drawRect(0,0,1440,900),t.endFill(),this.addChild(t),this.normalHall=new i.HallMultiGames,this.addChild(this.normalHall),this.normalHall.event.addEventListener(VideoShare.HallEvent.ON_LAYOUT_COMPLETE,function(t){e.event.dispatchEvent(t.clone())})},a.prototype.init=function(){var e=this,t=(this.model=new Model.GameModel,this.model.addEventListener("netConnect",function(){e.hallLogin()}),this.model.addEventListener("hallConnect",function(){e.login()}),this.model.addEventListener("hallConnectTimeOut",function(){e.onTimeOut()}),this.model.addEventListener("loginConnectTimeOut",function(){e.onTimeOut()}),this.model.addEventListener("netConnectClose",function(){e.onCloseGame()}),this.model.addEventListener(VideoShare.LiveGameEvent.ON_ACTIVITY,function(t){e.onActivity(t)}),this.model.addEventListener(VideoShare.LiveGameEvent.ON_LOGIN,function(t){e.onLogin(t)}),this.model.addEventListener(VideoShare.LiveGameEvent.INFO_READY,function(){e.onInfoReady()}),this.model.addEventListener("netConnectBlockChain",function(){e.blockChainLogin()}),this.sendEvent=function(){e.onPing()},this.model.addEventListener(VideoShare.LiveGameEvent.ON_PING,this.sendEvent),null==this._alertPanel&&(this._alertPanel=new Tools.AlertPanel),this.normalHall.setModel(this.model),new Date),t=(this.startTime=t.getTime(),this.connect(),this.setAlert(),this.addChild(this._alertPanel),this._reConnectBtn=new ShareUI.Button("Multiple_ReconnectBtn",!1,"Multiple_ReconnectTxt",IPL.UrlParameter.lang),{btn:this._reConnectBtn,posX:218,posY:205}),t=(Tools.AlertPanel.setReConnectBtn(t),this._reConnectBtn.visible=!1,this.reConnectEvent=function(){e.reConnect()},DeviceAndEnvironment.Device.isMobile()||this._reConnectBtn.on("click",this.reConnectEvent),this._reConnectBtn.on("tap",this.reConnectEvent),this._txtWebGL=new PIXI.Text(IPL.DictManager.getDict("MORE_INFO")+">",{fontFamily:"微軟正黑體",fontSize:"20px",fill:"#FFFFFF",align:"right"}),this._txtWebGL.interactive=!0,this._txtWebGL.buttonMode=!0,this._txtWebGL.on("click",function(){return IPL.UrlParameter.gotoRD1WebglDetect()}),{btn:this._txtWebGL,posX:450,posY:205});Tools.AlertPanel.setReConnectBtn(t),Tools.AlertPanel.event.addEventListener(Tools.AlertEvent.ALERT_VISIBLE,function(){e._txtWebGL.visible=!1})},a.prototype.hallLogin=function(){PlayerLoadInfo.PLI.ws=(new Date).getTime();var t=new Date,t=(this.hallTime=t.getTime(),{});t.lang=IPL.UrlParameter.noChangeLang,IPL.UrlParameter.isSecure,t.vType="wss",t.site=1,this.model.hallLogin(t)},a.prototype.login=function(){var t=new Date,t=(this.loginTime=t.getTime(),{});t.dev=DeviceAndEnvironment.Device.getDeviceInfo(document.getElementById("MyRenderer")),t.dev.ui=Number(IPL.UrlParameter.uType),t.lang=IPL.UrlParameter.noChangeLang,IPL.UrlParameter.isSecure,t.vType="wss",t.vtMode=!0,t.subscription=["shit"],t.action="login",this.model.login(t)},a.prototype.onInfoReady=function(){PlayerLoadInfo.PLI.login=(new Date).getTime(),PlayerLoadInfo.PLI.userID=Number(this.model.getUserInfo().getUserID()),this._isReConnect&&(Tools.AlertPanel.close(),this._isReConnect=!1);var t=new Date;this.infoTime=t.getTime(),2==this.pingNum&&this.onSendLog("info"),PIXI.utils.isWebGLSupported()||(Tools.AlertPanel.showAlert(IPL.DictManager.getDict("WORK_NOT_GOOD"),0,"",!0,!0),this._txtWebGL.visible=!0)},a.prototype.onPing=function(){this.pingNum++,2==this.pingNum&&(this.model.removeEventListener(VideoShare.LiveGameEvent.ON_PING,this.sendEvent),null!=this.infoTime)&&this.onSendLog("ping")},a.prototype.onSendLog=function(t){this._firstInit&&(this._firstInit=!1,IPL.UrlParameter.isLocal?this.logModel.connect("43.251.76.219"):this.logModel.connect(IPL.UrlParameter.serverIP))},a.prototype.onActivity=function(t){"IDLE_5M"==t.data.runEor?Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.data.runEor),3e3,"",!0,!1):"IDLE_10M"==t.data.runEor&&(Tools.AlertPanel.showAlert(IPL.DictManager.getDict(t.data.runEor),0,"",!1,!0),IframeController.setIframe(),this.setOtherConnect(!1),this._reConnectBtn.visible=!0)},a.prototype.onTimeOut=function(){var t=new VideoShare.HallEvent(VideoShare.HallEvent.ON_LAYOUT_COMPLETE);this.event.dispatchEvent(t),Tools.AlertPanel.showAlert(IPL.DictManager.getDict("CODE_13610016")+" 13610016",0,"",!1,!0)},a.prototype.onCloseGame=function(){var t=new VideoShare.HallEvent(VideoShare.HallEvent.ON_LAYOUT_COMPLETE);this.event.dispatchEvent(t),this.setOtherConnect(!1),this.sidInvalid||(Tools.AlertPanel.showAlert(IPL.DictManager.getDict("DISCONNECT"),0,"",!1,!0),this._reConnectBtn.visible=!0)},a.prototype.connect=function(){PlayerLoadInfo.PLI.loader=(new Date).getTime(),this.model.connect(this._connect),this.setOtherConnect(!0)},a.prototype.reConnect=function(){this._isReConnect=!0,this.model.connect(this._connect),this.setOtherConnect(!0),this._reConnectBtn.visible=!1},a.prototype.setOtherConnect=function(t){this.normalHall.reConnectStreamFromServer(),VideoAssetManager.Informantion.settingData.switch.activity&&this.normalHall.setActivityConnect(t),VideoAssetManager.Informantion.settingData.switch.blockChain&&(t?this.model.blockChainConnect("seeds"):this.model.closeBlockChain())},a.prototype.onLogin=function(t){var e=new VideoShare.HallEvent(VideoShare.HallEvent.ON_LAYOUT_COMPLETE),e=(this.event.dispatchEvent(e),t.data.runEor);Tools.AlertPanel.showAlert(IPL.DictManager.getDict(e),0,"",!1,!0),"API_EC_ACC_SID_INVALID"==e&&(this.sidInvalid=!0)},a.prototype.setAlert=function(){this._alertPanel.setSize(CheckSize.GameStyle.GAME_WIDTH,CheckSize.GameStyle.GAME_HEIGHT);this._alertPanel.setStyle({fontFamily:"微軟正黑體",fontSize:"14px",fill:"#FFFFFF"},{fontFamily:"微軟正黑體",fontSize:"20px",fill:"#FFFFFF",align:"center",wordWrap:!0,breakWords:!0,wordWrapWidth:345},{strBG:"Multiple_AlertBG",scale9:!0,strIcon:"Multiple_Alert0000",iconX:79,iconY:108,ty:30,cx:150,cy:132,cya:.5},{strBtnUp:"Multiple_CloseBtn0000",strBtnOver:"Multiple_CloseBtn0001",strBtnDown:"Multiple_CloseBtn0002",posX:571,posY:27})},a.prototype.blockChainLogin=function(){var t=new Object;t.action="login",t.sid=IPL.UrlParameter.sid,this.model.blockChainLogin(t)},a);function a(){var t=e.call(this)||this;return t._isReConnect=!1,t._firstInit=!0,t.pingNum=0,t.sidInvalid=!1,t.logModel=new Model.LogModel,t._connect=VideoAssetManager.Informantion.settingData.connect,t.initUI(),t}i.HallMain=t}(MultiGames=MultiGames||{}),!1),MultiGames;function isSupportedWASM(){var t=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]);return window.WebAssembly?WebAssembly.compile(t).then(function(t){t=0==new WebAssembly.Instance(t,{}).exports.test(4);return!t}).catch(function(t){return!1}):Promise.resolve(!1)}DEBUG_MODE_ON||(console=console||{},console.log=function(){}),!function(m){function t(){this.defaultScaleRate=1/devicePixelRatio,this.bettingStarted="BettingStarted",this.bettingStopped="BettingStopped",this.num=0;var t=new Date,t=(this._startTime=t.getTime(),parent.window.outerWidth-parent.window.innerWidth),e=parent.window.outerHeight-parent.window.innerHeight;parent.window.resizeTo(1440+t,900+e),parent.window.focus(),this.initSelectPanel()}t.prototype.initSelectPanel=function(){var t=this;this.check=new CheckSize.GameStyle,this.isIE()&&PIXI.utils.isWebGLSupported()?this.renderOption={antialias:!1,resolution:window.devicePixelRatio,transparent:!0,backgroundColor:1447446,legacy:!0}:this.renderOption={antialias:!1,resolution:window.devicePixelRatio,transparent:!0},this.app=new PIXI.Application(1440,900,this.renderOption),document.body.appendChild(this.app.renderer.view),this.app.view.id="MyRenderer",CheckSize.GameStyle.stage=this.app.stage,CheckSize.GameStyle.setSize(1440,900),CheckSize.GameStyle.setStyle("normal"),document.body.appendChild(this.app.view),this.app.renderer.view.style.position="fixed",CheckSize.GameStyle.renderer=this.app.renderer,this.app.renderer.view.style.zIndex="0",this.app.stage.scale.set(this.defaultScaleRate),this.app.renderer.resize(Math.floor(CheckSize.GameStyle.GAME_WIDTH*this.defaultScaleRate),Math.floor(CheckSize.GameStyle.GAME_HEIGHT*this.defaultScaleRate)),this.resize(),parent.window.addEventListener("resize",function(){t.resize()}),this._ipl=new IPL.UrlParameter,this._ipl.addEventListener(IPL.IPLEvent.ON_PARAMETER,function(){t.assetComplete()})},t.prototype.isIE=function(){var t=window.navigator.userAgent.toLowerCase(),e=-1!=t.indexOf("msie");if(!e&&"Netscape"==window.navigator.appName&&null!=new RegExp("trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t))return!0;return!1},t.prototype.onSelectClick=function(t){var e=this;switch(t.currentTarget.name){case"flash":for(var i=window.location.href.split("?")[1].split("&"),n="",a=0;a<i.length;a++){var o=i[a].split("="),r=o[0].substring(0,o[0].length);"sid"!=r&&"HTML5"!=r&&"Client"!=r&&(n+=r+"="+o[1]+"&")}var s=n+"&Client=1",h=window.location.href.split("ipl")[0]+"/game/multilive?";h+=s,window.open(h,"_self");break;case"h5":this.assetComplete(),this._ipl.addEventListener(IPL.IPLEvent.ON_PARAMETER,function(){e.assetComplete()})}},t.prototype.start=function(){var t=this,e=new Date,e=(this._iplTime=e.getTime(),m.MultiMain.iplTime=this._iplTime-this._startTime,!1);if(DeviceAndEnvironment.Device.isSafari()&&!DeviceAndEnvironment.Device.isMobile()){for(var i="",n=void 0,n=navigator.userAgent.split(" "),a=0;a<n.length;a++){var o=n[a].split("/");if("Version"==o[0]){i=o[1];break}}var r=i.split(".");Number(r[0])<11&&(e=!0)}if(this._ipl.isIE()){for(var s=window.location.href.split("?")[1].split("&"),h="",l=0;l<s.length;l++){var c=s[l].split("="),u=c[0].substring(0,c[0].length);"sid"!=u&&"HTML5"!=u&&"Client"!=u&&(h+=u+"="+c[1]+"&")}var r=h+"&Client=1",d=window.location.href.split("ipl")[0]+"/game/multilive?";d+=r,window.open(d,"_self")}else if(e)window.alert(IPL.DictManager.getDict("SAFARI_TO_OLD")),parent.window.close();else{this._videoSet=new VideoAssetManager.Informantion,VideoAssetManager.Informantion.initJSON(window.location.href.split("index")[0],"videoSetting.json?v="+VersionTool.VersionControl.VERSION);r=window.location.href.split("/"),d="";if(-1!=r[2].indexOf("127.0.0.1")||-1!=r[2].indexOf("localhost")||-1!=r[2].indexOf("192.168")||-1!=window.location.href.indexOf("file"))d=window.location.href.split("index")[0];else{for(var p=window.location.search.split("&"),f="",_=0;_<p.length;_++)-1!=p[_].indexOf("Vfx")&&(f=p[_].split("=")[1]);d="1"==f?r[0]+"//"+r[2]+"//ipl/app/flash/pig/game/videoH5/VShare/EsballVfx/":!window.parent.HallID||"32"!=String(window.parent.HallID)&&"3820474"!=String(window.parent.HallID)?r[0]+"//"+r[2]+"//ipl/app/flash/pig/game/videoH5/VShare/Esball/":r[0]+"//"+r[2]+"//ipl/app/flash/pig/game/videoH5/VShare/SealingTest/"}VideoAssetManager.Informantion.initJSON(d,"VShareSetting.json?v="+VersionTool.VersionControl.VERSION),VideoAssetManager.Informantion.loadFile(),VideoAssetManager.Informantion.event.addEventListener(VideoShare.AssetManagerEvent.LOAD_COMPLETE,function(){t.init()})}},t.prototype.assetComplete=function(){var e=this;CDN.CDNCheck.event.addEventListener(CDN.CDNEvent.ADDRESS,function(t){PTI.PT.Zone0=Date.now()-PTI.PT.Zone0,IPL.UrlParameter.originDomain=t.address,PTI.PT.setCDomain(t.address),e.start()}),CDN.CDNCheck.checkExist()},t.prototype.init=function(){for(var t=this,e=(PlayerLoadInfo.PLI.entrance=(new Date).getTime(),PlayerLoadInfo.PLI.gameType="0",PlayerLoadInfo.PLI.version=16,this.app.stage.removeChildren(),this._assetsLoader=new VideoLoaderCore.GameLoadingProgress(document.getElementById("MyRenderer")),this._assetsLoader.soundsManager=SoundsManager.VideoSoundsManager.getInstance(),this._assetsLoader.setLayoutToProgress=!0,IPL.UrlParameter.originDomain+"image/loading.jpg?v="+VersionTool.VersionControl.VERSION),e=(this._assetsLoader.loadingImgPath=e,IPL.UrlParameter.originDomain+"music/"),i=-1!=IPL.UrlParameter.domain.indexOf("localhost")?e:window.location.href.split("flash")[0]+"flash/publicbmw/common/sfx/",n=[{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"MultiGamesHall.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"MultiGamesHD.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"MultiGamesHallPos.json",keep:!0,cutPic:!1},{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"MultiBet_activity.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"Multiple_Currency.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/Share/",fileName:"MultipleHall_RobotBaccaratIcon.json",keep:!1,cutPic:!0},{url:IPL.UrlParameter.originDomain+"lib/",fileName:"roadTxt.fnt",keep:!1,cutPic:!0},{s:"betSucceed",loop:!1,auto:!1,groupName:"",path:IPL.UrlParameter.originDomain+"music/"}],a=0;a<VideoAssetManager.Informantion.bgMusicList.length;a++){var o={s:VideoAssetManager.Informantion.bgMusicList[a],loop:!1,auto:!1,groupName:SoundsManager.VideoSoundsManager.BGList,path:i};n.push(o)}this._readyEvent=function(){t.onDictLoaded()},this._assetsLoader.addEventListener(VideoLoaderCore.LoadingProgressEvent.ASSETS_IS_READY,this._readyEvent),this._assetsLoader.setQueues(n),this._assetsLoader.soundsManager.setPlaylist(VideoAssetManager.Informantion.bgMusicList,SoundsManager.VideoSoundsManager.BGList),this._assetsLoader.startLoad(),IframeController.iframeContainerSetting={width:CheckSize.GameStyle.GAME_WIDTH,height:CheckSize.GameStyle.GAME_HEIGHT},IframeController.iframeViewSetting={x:(CheckSize.GameStyle.GAME_WIDTH-450)/2,y:(CheckSize.GameStyle.GAME_HEIGHT-800)/2,width:450,height:800},IframeController.ifcBackBtnViewSetting={x:(CheckSize.GameStyle.GAME_WIDTH-450)/2+450-50-10,y:(CheckSize.GameStyle.GAME_HEIGHT-800)/2+10,width:50,height:50},IframeController.setIframe(),IframeController.resizeIframe(),this.resize()},t.prototype.creatElement=function(){this.divElement=document.createElement("div"),this.divElement.id="videoContainer",this.divElement.style.position="fixed",this.divElement.style.background="#7A6230",this.divElement.style.zIndex="-1",document.body.appendChild(this.divElement)},t.prototype.getSoundsName=function(){return"tw"==IPL.UrlParameter.lang||"cn"==IPL.UrlParameter.lang?"CN":"id"==IPL.UrlParameter.lang?"ID":"ja"==IPL.UrlParameter.lang?"JP":"kr"==IPL.UrlParameter.lang?"KR":"th"==IPL.UrlParameter.lang?"TH":"vi"==IPL.UrlParameter.lang?"VN":"es"==IPL.UrlParameter.lang?"ES":"EN"},t.prototype.cal=function(t){if(0<t.children.length)for(var e=0;e<t.children.length;e++)this.num++,this.cal(t.children[e])},t.prototype.onDictLoaded=function(t){var e,i,n=this,t=(void 0===t&&(t=null),PTI.PT.gdomain=IPL.UrlParameter.serverIP,PTI.PT.sid=IPL.UrlParameter.sid,PIXILayoutTool.Info.setData(JSON.parse(this._assetsLoader.getJsonData("MultiGamesHallPos"))),this.gamemain=new m.HallMain,this.app.stage.addChild(this.gamemain),this.gamemain.event.addEventListener(VideoShare.HallEvent.ON_LAYOUT_COMPLETE,function(){n.closeLoader()}),new Date);m.MultiMain.loadTime=t.getTime()-this._iplTime,this.gamemain.init(),m.MultiMain._fpsIcon=new Tools.FpsMeasure,m.MultiMain._fpsIcon.changeStyle(),m.MultiMain._fpsIcon.x=1382,m.MultiMain._fpsIcon.y=850,m.MultiMain._fpsIcon.visible=!1,this.app.stage.addChild(m.MultiMain._fpsIcon),document.getElementById("MyRenderer").addEventListener("mousedown",function(t){2===t.button&&(e=(new Date).getTime(),i=setInterval(function(){1e3<(new Date).getTime()-e&&(clearInterval(i),m.MultiMain._fpsIcon.visible=!m.MultiMain._fpsIcon.visible)},100))}),document.getElementById("MyRenderer").addEventListener("mouseup",function(t){2===t.button&&clearInterval(i)}),document.getElementById("MyRenderer").addEventListener("touchstart",function(t){e=(new Date).getTime(),i=setInterval(function(){1e3<(new Date).getTime()-e&&(clearInterval(i),m.MultiMain._fpsIcon.visible=!m.MultiMain._fpsIcon.visible)},100)}),document.getElementById("MyRenderer").addEventListener("touchend",function(t){clearInterval(i)}),this.animate()},t.prototype.closeLoader=function(){var e;null!=this._assetsLoader&&this._assetsLoader.hasEventListener(VideoLoaderCore.LoadingProgressEvent.ASSETS_IS_READY)&&(this._assetsLoader.hasEventListener(VideoLoaderCore.LoadingProgressEvent.ASSETS_IS_READY)&&this._assetsLoader.removeEventListener(VideoLoaderCore.LoadingProgressEvent.ASSETS_IS_READY,this._readyEvent),this._assetsLoader.close(),this._assetsLoader.soundsManager.loadReadyAutoPlay(),(e=new Tools.FloatToolTip).setGameSize(CheckSize.GameStyle.GAME_WIDTH,CheckSize.GameStyle.GAME_HEIGHT),this.app.stage.addChild(Tools.FloatToolTip.container),e.render("Tooltip",!1),this.gamemain.interactive=!0,document.getElementById("MyRenderer").addEventListener("mousemove",function(t){e.update(t.offsetX,t.offsetY)}),PlayerLoadInfo.PLI.complete=(new Date).getTime(),PlayerLoadInfo.PLI.postInfo())},t.prototype.resize=function(){var t=parent.window.innerWidth,e=parent.window.innerHeight;this.ratio=Math.min(t/CheckSize.GameStyle.GAME_WIDTH,e/CheckSize.GameStyle.GAME_HEIGHT),this.app.view.style.webkitTransform="scale("+this.ratio/this.defaultScaleRate/window.devicePixelRatio+")",this.app.view.style.transform="scale("+this.ratio/this.defaultScaleRate/window.devicePixelRatio+")",this.app.view.style.left=Math.ceil((t-this.app.view.width)/2)+"px",this.app.view.style.top=Math.ceil((e-this.app.view.height)/2)+"px",IframeController.resizeIframe()},t.prototype.animate=function(){var t=this;this.app.renderer.render(this.app.stage),requestAnimationFrame(function(){t.animate()}),m.MultiMain._fpsIcon.measureFps()},m.MultiMain=t}(MultiGames=MultiGames||{}),PTI.PT.gtype="3001",PTI.PT.utype="16",PTI.PT.getIPD(),window.parent.memberDomain&&(PTI.PT.hdomain=window.parent.memberDomain);var ttt=performance.now();isSupportedWASM().then(function(t){window.isSupportedWASM=t}),new MultiGames.MultiMain;